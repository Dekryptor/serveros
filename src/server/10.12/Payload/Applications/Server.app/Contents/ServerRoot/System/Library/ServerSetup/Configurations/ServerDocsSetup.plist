<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
	<key>description</key>
	<string>ServerDocs Service</string>
	<key>minimumSystemVersion</key>
	<string>10.11</string>
    <key>environment</key>
    <dict>
        <key>_serverdocs_dir</key>
        <string>${serverLibrary}/ServerDocs</string>
        <key>_serverdocs_data_dir</key>
        <string>${serverLibrary}/ServerDocs/Data</string>
    </dict>
    <key>dependencies</key>
    <array>
        <string>PostgreSQL</string>
        <string>servermgr_web_promotion</string>
    </array>
	<key>setup</key>
	<dict>
		<key>services</key>
		<dict>
			<key>com.apple.serverdocs.stats</key>
			<dict>
				<key>description</key>
				<string>ServerDocs nightly stats job</string>
				<key>state</key>
				<string>enabled</string>
			</dict>
		</dict>
		<key>accounts</key>
		<array>
			<dict>
				<key>name</key>
				<string>_xserverdocs</string>
				<key>fullName</key>
				<string>ServerDocs Service</string>
				<key>uid</key>
				<integer>251</integer>
				<key>gid</key>
				<integer>251</integer>
				<key>guid</key>
				<string>FFFFEEEE-DDDD-CCCC-BBBB-AAAA000000FB</string>
				<key>type</key>
				<string>user</string>
			</dict>
			<dict>
				<key>name</key>
				<string>_xserverdocs</string>
				<key>fullName</key>
				<string>ServerDocs Service</string>
				<key>gid</key>
				<integer>251</integer>
				<key>guid</key>
				<string>ABCDEFAB-CDEF-ABCD-EFAB-CDEF000000FB</string>
				<key>type</key>
				<string>group</string>
			</dict>
		</array>
        <key>files</key>
        <array>
            <dict>
                <key>description</key>
                <string>Install ServerDocs asl.conf file</string>
                <key>path</key>
                <string>/etc/asl/com.apple.serverdocs</string>
                <key>owner</key>
                <string>root</string>
                <key>mode</key>
                <string>0644</string>
                <key>source</key>
                <string>${serverRoot}/System/Library/PrivateFrameworks/ServerDocsServerCommon.framework/Resources/com.apple.serverdocs</string>
            </dict>
        </array>
		<key>directories</key>
		<array>
			<dict>
				<key>path</key>
				<string>${serverLibrary}</string>
				<key>owner</key>
				<string>root</string>
				<key>group</key>
				<string>wheel</string>
				<key>mode</key>
				<string>0755</string>
			</dict>
			<dict>
				<key>path</key>
				<string>${serverLibrary}/ServerDocs</string>
				<key>owner</key>
				<string>_xserverdocs</string>
				<key>group</key>
				<string>_xserverdocs</string>
				<key>mode</key>
				<string>0775</string>
			</dict>
			<dict>
				<key>path</key>
				<string>${serverLibrary}/ServerDocs/Config</string>
				<key>owner</key>
				<string>_xserverdocs</string>
				<key>group</key>
				<string>_xserverdocs</string>
				<key>mode</key>
				<string>0775</string>
			</dict>
			<dict>
				<key>path</key>
				<string>${serverLibrary}/ServerDocs/Data</string>
				<key>owner</key>
				<string>_xserverdocs</string>
				<key>group</key>
				<string>_xserverdocs</string>
				<key>mode</key>
				<string>0775</string>
			</dict>
			<dict>
				<key>path</key>
				<string>${serverLibrary}/ServerDocs/Database.xpg</string>
				<key>owner</key>
				<string>_xserverdocs</string>
				<key>group</key>
				<string>_xserverdocs</string>
				<key>mode</key>
				<string>0775</string>
			</dict>
			<dict>
				<key>path</key>
				<string>${serverLibrary}/ServerDocs/Database.xpg/sockets</string>
				<key>owner</key>
				<string>_xserverdocs</string>
				<key>group</key>
				<string>_xserverdocs</string>
				<key>mode</key>
				<string>0775</string>
			</dict>
			<dict>
				<key>path</key>
				<string>${serverLibrary}/Logs/ServerDocsPostgreSQL</string>
				<key>owner</key>
				<string>_xserverdocs</string>
				<key>group</key>
				<string>_xserverdocs</string>
				<key>mode</key>
				<string>0775</string>
			</dict>
		</array>
		<key>scripts</key>
		<array>
			<dict>
				<key>path</key>
				<string>${serverRoot}/usr/libexec/serverdocsPromotion.sh</string>
			</dict>
			<dict>
				<key>path</key>
				<string>${serverRoot}/usr/sbin/serveradmin</string>
				<key>arguments</key>
				<array>
					<string>command</string>
					<string>documents:command</string>
					<string>=</string>
					<string>initializeService</string>
				</array>
			</dict>
		</array>
	</dict>
</dict>
</plist>
