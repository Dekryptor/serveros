/* >>>>>>>>>> BEGIN javascript.js */
/* >>>>>>>>>> BEGIN source/jquery.js */
/*!
 * jQuery JavaScript Library v1.7.2
 * http://jquery.com/
 *
 * Copyright 2011, John Resig
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 * Copyright 2011, The Dojo Foundation
 * Released under the MIT, BSD, and GPL Licenses.
 *
 * Date: Wed Mar 21 12:46:34 2012 -0700
 */
function findClassNames(){if(SC._object_foundObjectClassNames)return;SC._object_foundObjectClassNames=!0;var e=[],t=!1,n=function(r,i,s){var o,u,a;s--;if(e.indexOf(i)>=0)return;e.push(i);for(var f in i){if(f=="__scope__")continue;if(f=="superclass")continue;f=="__SC__"&&(f="SC");if(!f.match(/^[A-Z0-9]/))continue;if(f=="SC"){if(t)continue;t=!0}o=r?[r,f].join("."):f,u=i[f];try{a=SC.typeOf(u)}catch(l){break}switch(a){case SC.T_CLASS:u._object_className||(u._object_className=o),s>=0&&n(o,u,s);break;case SC.T_OBJECT:s>=0&&n(o,u,s);break;case SC.T_HASH:(r||o==="SC")&&s>=0&&n(o,u,s);break;default:}}};window.__SC__=SC,n(null,window,2)}function main(){Admin.main()}(function(e,t){function u(e){var t=o[e]={},n,r;e=e.split(/\s+/);for(n=0,r=e.length;n<r;n++)t[e[n]]=!0;return t}function c(e,n,r){if(r===t&&e.nodeType===1){var i="data-"+n.replace(l,"-$1").toLowerCase();r=e.getAttribute(i);if(typeof r=="string"){try{r=r==="true"?!0:r==="false"?!1:r==="null"?null:s.isNumeric(r)?+r:f.test(r)?s.parseJSON(r):r}catch(o){}s.data(e,n,r)}else r=t}return r}function h(e){for(var t in e){if(t==="data"&&s.isEmptyObject(e[t]))continue;if(t!=="toJSON")return!1}return!0}
function p(e,t,n){var r=t+"defer",i=t+"queue",o=t+"mark",u=s._data(e,r);u&&(n==="queue"||!s._data(e,i))&&(n==="mark"||!s._data(e,o))&&setTimeout(function(){!s._data(e,i)&&!s._data(e,o)&&(s.removeData(e,r,!0),u.fire())},0)}function H(){return!1}function B(){return!0}function W(e){return!e||!e.parentNode||e.parentNode.nodeType===11}function X(e,t,n){t=t||0;if(s.isFunction(t))return s.grep(e,function(e,r){var i=!!t.call(e,r,e);return i===n});if(t.nodeType)return s.grep(e,function(e,r){return e===t===n});if(typeof t=="string"){var r=s.grep(e,function(e){return e.nodeType===1});if(q.test(t))return s.filter(t,r,!n);t=s.filter(t,r)}return s.grep(e,function(e,r){return s.inArray(e,t)>=0===n})}function V(e){var t=$.split("|"),n=e.createDocumentFragment();if(n.createElement)while(t.length)n.createElement(t.pop());return n}function at(e,t){return s.nodeName(e,"table")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function ft(e,t){if(t.nodeType!==1||!s.hasData(e))return;var n,r,i,o=s._data(e),u=s._data(t,o),a=o.events;if(a){delete u.handle,u.events={};for(n in a)for(r=0,i=a[n].length;r<i;r++)s.event.add(t,n,a[n][r])}u.data&&(u.data=s.extend({},u.data))}function lt(e,t){var n;if(t.nodeType!==1)return;t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(e),n=t.nodeName.toLowerCase(),n==="object"?t.outerHTML=e.outerHTML:n!=="input"||e.type!=="checkbox"&&e.type!=="radio"?n==="option"?t.selected=e.defaultSelected:n==="input"||n==="textarea"?t.defaultValue=e.defaultValue:n==="script"&&t.text!==e.text&&(t.text=e.text):(e.checked&&
(t.defaultChecked=t.checked=e.checked),t.value!==e.value&&(t.value=e.value)),t.removeAttribute(s.expando),t.removeAttribute("_submit_attached"),t.removeAttribute("_change_attached")}function ct(e){return typeof e.getElementsByTagName!="undefined"?e.getElementsByTagName("*"):typeof e.querySelectorAll!="undefined"?e.querySelectorAll("*"):[]}function ht(e){if(e.type==="checkbox"||e.type==="radio")e.defaultChecked=e.checked}function pt(e){var t=(e.nodeName||"").toLowerCase();t==="input"?ht(e):t!=="script"&&typeof e.getElementsByTagName!="undefined"&&s.grep(e.getElementsByTagName("input"),ht)}function dt(e){var t=n.createElement("div");return ut.appendChild(t),t.innerHTML=e.outerHTML,t.firstChild}function kt(e,t,n){var r=t==="width"?e.offsetWidth:e.offsetHeight,i=t==="width"?1:0,o=4;if(r>0){if(n!=="border")for(;i<o;i+=2)n||(r-=parseFloat(s.css(e,"padding"+xt[i]))||0),n==="margin"?r+=parseFloat(s.css(e,n+xt[i]))||0:r-=parseFloat(s.css(e,"border"+xt[i]+"Width"))||0;return r+"px"}r=Tt(e,t);if(r<0||r==null)r=e.style[t];if(bt.test(r))return r;r=parseFloat(r)||0;if(n)for(;i<o;i+=2)r+=parseFloat(s.css(e,"padding"+xt[i]))||0,n!=="padding"&&(r+=parseFloat(s.css(e,"border"+xt[i]+"Width"))||0),n==="margin"&&(r+=parseFloat(s.css(e,n+xt[i]))||0);return r+"px"}function Bt(){return setTimeout(jt,0),Ht=s.now()}function jt(){Ht=t}function Ft(e,t){var n={};return s.each(Pt.concat.apply([],Pt.slice(0,t)),function(){n[this]=e}),n}function It(e){if(!Lt[e]){var t=n.body,r=s("<"+e+">").appendTo(t),i=r.css("display");r.remove();if(i==="none"||i===""){At||(At=n.createElement("iframe"),At.frameBorder=At.width=
At.height=0),t.appendChild(At);if(!Ot||!At.createElement)Ot=(At.contentWindow||At.contentDocument).document,Ot.write((s.support.boxModel?"<!doctype html>":"")+"<html><body>"),Ot.close();r=Ot.createElement(e),Ot.body.appendChild(r),i=s.css(r,"display"),t.removeChild(At)}Lt[e]=i}return Lt[e]}function zt(e){return s.isWindow(e)?e:e.nodeType===9?e.defaultView||e.parentWindow:!1}var n=e.document,r=e.navigator,i=e.location,s=function(){function H(){if(i.isReady)return;try{n.documentElement.doScroll("left")}catch(e){setTimeout(H,1);return}i.ready()}var i=function(e,t){return new i.fn.init(e,t,u)},s=e.jQuery,o=e.$,u,a=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,f=/\S/,l=/^\s+/,c=/\s+$/,h=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,p=/^[\],:{}\s]*$/,d=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,v=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,m=/(?:^|:|,)(?:\s*\[)+/g,g=/(webkit)[ \/]([\w.]+)/,y=/(opera)(?:.*version)?[ \/]([\w.]+)/,b=/(msie) ([\w.]+)/,w=/(mozilla)(?:.*? rv:([\w.]+))?/,E=/-([a-z]|[0-9])/ig,S=/^-ms-/,x=function(e,t){return(t+"").toUpperCase()},T=r.userAgent,N,C,k,L=Object.prototype.toString,A=Object.prototype.hasOwnProperty,O=Array.prototype.push,M=Array.prototype.slice,_=String.prototype.trim,D=Array.prototype.indexOf,P={};return i.fn=i.prototype={constructor:i,init:function(e,r,s){var o,u,f,l;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if(e==="body"&&!r&&n.body)return this.context=n,this[0]=n.body,this.selector=e,this.length=1,this;if(typeof e=="string"){e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3?o=[null,e,null]:o=a.exec
(e);if(o&&(o[1]||!r)){if(o[1])return r=r instanceof i?r[0]:r,l=r?r.ownerDocument||r:n,f=h.exec(e),f?i.isPlainObject(r)?(e=[n.createElement(f[1])],i.fn.attr.call(e,r,!0)):e=[l.createElement(f[1])]:(f=i.buildFragment([o[1]],[l]),e=(f.cacheable?i.clone(f.fragment):f.fragment).childNodes),i.merge(this,e);u=n.getElementById(o[2]);if(u&&u.parentNode){if(u.id!==o[2])return s.find(e);this.length=1,this[0]=u}return this.context=n,this.selector=e,this}return!r||r.jquery?(r||s).find(e):this.constructor(r).find(e)}return i.isFunction(e)?s.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),i.makeArray(e,this))},selector:"",jquery:"1.7.2",length:0,size:function(){return this.length},toArray:function(){return M.call(this,0)},get:function(e){return e==null?this.toArray():e<0?this[this.length+e]:this[e]},pushStack:function(e,t,n){var r=this.constructor();return i.isArray(e)?O.apply(r,e):i.merge(r,e),r.prevObject=this,r.context=this.context,t==="find"?r.selector=this.selector+(this.selector?" ":"")+n:t&&(r.selector=this.selector+"."+t+"("+n+")"),r},each:function(e,t){return i.each(this,e,t)},ready:function(e){return i.bindReady(),C.add(e),this},eq:function(e){return e=+e,e===-1?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(M.apply(this,arguments),"slice",M.call(arguments).join(","))},map:function(e){return this.pushStack(i.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:O,sort:[].sort,splice:[].splice},i.
fn.init.prototype=i.fn,i.extend=i.fn.extend=function(){var e,n,r,s,o,u,a=arguments[0]||{},f=1,l=arguments.length,c=!1;typeof a=="boolean"&&(c=a,a=arguments[1]||{},f=2),typeof a!="object"&&!i.isFunction(a)&&(a={}),l===f&&(a=this,--f);for(;f<l;f++)if((e=arguments[f])!=null)for(n in e){r=a[n],s=e[n];if(a===s)continue;c&&s&&(i.isPlainObject(s)||(o=i.isArray(s)))?(o?(o=!1,u=r&&i.isArray(r)?r:[]):u=r&&i.isPlainObject(r)?r:{},a[n]=i.extend(c,u,s)):s!==t&&(a[n]=s)}return a},i.extend({noConflict:function(t){return e.$===i&&(e.$=o),t&&e.jQuery===i&&(e.jQuery=s),i},isReady:!1,readyWait:1,holdReady:function(e){e?i.readyWait++:i.ready(!0)},ready:function(e){if(e===!0&&!--i.readyWait||e!==!0&&!i.isReady){if(!n.body)return setTimeout(i.ready,1);i.isReady=!0;if(e!==!0&&--i.readyWait>0)return;C.fireWith(n,[i]),i.fn.trigger&&i(n).trigger("ready").off("ready")}},bindReady:function(){if(C)return;C=i.Callbacks("once memory");if(n.readyState==="complete")return setTimeout(i.ready,1);if(n.addEventListener)n.addEventListener("DOMContentLoaded",k,!1),e.addEventListener("load",i.ready,!1);else if(n.attachEvent){n.attachEvent("onreadystatechange",k),e.attachEvent("onload",i.ready);var t=!1;try{t=e.frameElement==null}catch(r){}n.documentElement.doScroll&&t&&H()}},isFunction:function(e){return i.type(e)==="function"},isArray:Array.isArray||function(e){return i.type(e)==="array"},isWindow:function(e){return e!=null&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return e==null?String(e):P[L.call(e)]||"object"},isPlainObject:function(e){if(!e||i.type(e)!=="object"||
e.nodeType||i.isWindow(e))return!1;try{if(e.constructor&&!A.call(e,"constructor")&&!A.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var r;for(r in e);return r===t||A.call(e,r)},isEmptyObject:function(e){for(var t in e)return!1;return!0},error:function(e){throw new Error(e)},parseJSON:function(t){if(typeof t!="string"||!t)return null;t=i.trim(t);if(e.JSON&&e.JSON.parse)return e.JSON.parse(t);if(p.test(t.replace(d,"@").replace(v,"]").replace(m,"")))return(new Function("return "+t))();i.error("Invalid JSON: "+t)},parseXML:function(n){if(typeof n!="string"||!n)return null;var r,s;try{e.DOMParser?(s=new DOMParser,r=s.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(o){r=t}return(!r||!r.documentElement||r.getElementsByTagName("parsererror").length)&&i.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(t){t&&f.test(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(S,"ms-").replace(E,x)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toUpperCase()===t.toUpperCase()},each:function(e,n,r){var s,o=0,u=e.length,a=u===t||i.isFunction(e);if(r){if(a){for(s in e)if(n.apply(e[s],r)===!1)break}else for(;o<u;)if(n.apply(e[o++],r)===!1)break}else if(a){for(s in e)if(n.call(e[s],s,e[s])===!1)break}else for(;o<u;)if(n.call(e[o],o,e[o++])===!1)break;return e},trim:_?function(e){return e==null?"":_.call(e)}:function(e){return e==null?"":e.toString().replace(l,"").replace(c,"")},makeArray:function(e,t){var n=t||[];if(e!=null){var r=i.type(e);e.length==
null||r==="string"||r==="function"||r==="regexp"||i.isWindow(e)?O.call(n,e):i.merge(n,e)}return n},inArray:function(e,t,n){var r;if(t){if(D)return D.call(t,e,n);r=t.length,n=n?n<0?Math.max(0,r+n):n:0;for(;n<r;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var r=e.length,i=0;if(typeof n.length=="number")for(var s=n.length;i<s;i++)e[r++]=n[i];else while(n[i]!==t)e[r++]=n[i++];return e.length=r,e},grep:function(e,t,n){var r=[],i;n=!!n;for(var s=0,o=e.length;s<o;s++)i=!!t(e[s],s),n!==i&&r.push(e[s]);return r},map:function(e,n,r){var s,o,u=[],a=0,f=e.length,l=e instanceof i||f!==t&&typeof f=="number"&&(f>0&&e[0]&&e[f-1]||f===0||i.isArray(e));if(l)for(;a<f;a++)s=n(e[a],a,r),s!=null&&(u[u.length]=s);else for(o in e)s=n(e[o],o,r),s!=null&&(u[u.length]=s);return u.concat.apply([],u)},guid:1,proxy:function(e,n){if(typeof n=="string"){var r=e[n];n=e,e=r}if(!i.isFunction(e))return t;var s=M.call(arguments,2),o=function(){return e.apply(n,s.concat(M.call(arguments)))};return o.guid=e.guid=e.guid||o.guid||i.guid++,o},access:function(e,n,r,s,o,u,a){var f,l=r==null,c=0,h=e.length;if(r&&typeof r=="object"){for(c in r)i.access(e,n,c,r[c],1,u,s);o=1}else if(s!==t){f=a===t&&i.isFunction(s),l&&(f?(f=n,n=function(e,t,n){return f.call(i(e),n)}):(n.call(e,s),n=null));if(n)for(;c<h;c++)n(e[c],r,f?s.call(e[c],c,n(e[c],r)):s,a);o=1}return o?e:l?n.call(e):h?n(e[0],r):u},now:function(){return(new Date).getTime()},uaMatch:function(e){e=e.toLowerCase();var t=g.exec(e)||y.exec(e)||b.exec(e)||e.indexOf("compatible")<0&&w.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},sub:function(){
function e(t,n){return new e.fn.init(t,n)}i.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function(r,s){return s&&s instanceof i&&!(s instanceof e)&&(s=e(s)),i.fn.init.call(this,r,s,t)},e.fn.init.prototype=e.fn;var t=e(n);return e},browser:{}}),i.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,t){P["[object "+t+"]"]=t.toLowerCase()}),N=i.uaMatch(T),N.browser&&(i.browser[N.browser]=!0,i.browser.version=N.version),i.browser.webkit&&(i.browser.safari=!0),f.test(" ")&&(l=/^[\s\xA0]+/,c=/[\s\xA0]+$/),u=i(n),n.addEventListener?k=function(){n.removeEventListener("DOMContentLoaded",k,!1),i.ready()}:n.attachEvent&&(k=function(){n.readyState==="complete"&&(n.detachEvent("onreadystatechange",k),i.ready())}),i}(),o={};s.Callbacks=function(e){e=e?o[e]||u(e):{};var n=[],r=[],i,a,f,l,c,h,p=function(t){var r,i,o,u,a;for(r=0,i=t.length;r<i;r++)o=t[r],u=s.type(o),u==="array"?p(o):u==="function"&&(!e.unique||!v.has(o))&&n.push(o)},d=function(t,s){s=s||[],i=!e.memory||[t,s],a=!0,f=!0,h=l||0,l=0,c=n.length;for(;n&&h<c;h++)if(n[h].apply(t,s)===!1&&e.stopOnFalse){i=!0;break}f=!1,n&&(e.once?i===!0?v.disable():n=[]:r&&r.length&&(i=r.shift(),v.fireWith(i[0],i[1])))},v={add:function(){if(n){var e=n.length;p(arguments),f?c=n.length:i&&i!==!0&&(l=e,d(i[0],i[1]))}return this},remove:function(){if(n){var t=arguments,r=0,i=t.length;for(;r<i;r++)for(var s=0;s<n.length;s++)if(t[r]===n[s]){f&&s<=c&&(c--,s<=h&&h--),n.splice(s--,1);if(e.unique)break}}return this},has:function(e){if(n){var t=0,r=n.length;for(;t<r;t++)if(
e===n[t])return!0}return!1},empty:function(){return n=[],this},disable:function(){return n=r=i=t,this},disabled:function(){return!n},lock:function(){return r=t,(!i||i===!0)&&v.disable(),this},locked:function(){return!r},fireWith:function(t,n){return r&&(f?e.once||r.push([t,n]):(!e.once||!i)&&d(t,n)),this},fire:function(){return v.fireWith(this,arguments),this},fired:function(){return!!a}};return v};var a=[].slice;s.extend({Deferred:function(e){var t=s.Callbacks("once memory"),n=s.Callbacks("once memory"),r=s.Callbacks("memory"),i="pending",o={resolve:t,reject:n,notify:r},u={done:t.add,fail:n.add,progress:r.add,state:function(){return i},isResolved:t.fired,isRejected:n.fired,then:function(e,t,n){return a.done(e).fail(t).progress(n),this},always:function(){return a.done.apply(a,arguments).fail.apply(a,arguments),this},pipe:function(e,t,n){return s.Deferred(function(r){s.each({done:[e,"resolve"],fail:[t,"reject"],progress:[n,"notify"]},function(e,t){var n=t[0],i=t[1],o;s.isFunction(n)?a[e](function(){o=n.apply(this,arguments),o&&s.isFunction(o.promise)?o.promise().then(r.resolve,r.reject,r.notify):r[i+"With"](this===a?r:this,[o])}):a[e](r[i])})}).promise()},promise:function(e){if(e==null)e=u;else for(var t in u)e[t]=u[t];return e}},a=u.promise({}),f;for(f in o)a[f]=o[f].fire,a[f+"With"]=o[f].fireWith;return a.done(function(){i="resolved"},n.disable,r.lock).fail(function(){i="rejected"},t.disable,r.lock),e&&e.call(a,a),a},when:function(e){function c(e){return function(n){t[e]=arguments.length>1?a.call(arguments,0):n,--o||f.resolveWith(f,t)}}function h(e){return function(t){i[e]=
arguments.length>1?a.call(arguments,0):t,f.notifyWith(l,i)}}var t=a.call(arguments,0),n=0,r=t.length,i=new Array(r),o=r,u=r,f=r<=1&&e&&s.isFunction(e.promise)?e:s.Deferred(),l=f.promise();if(r>1){for(;n<r;n++)t[n]&&t[n].promise&&s.isFunction(t[n].promise)?t[n].promise().then(c(n),f.reject,h(n)):--o;o||f.resolveWith(f,t)}else f!==e&&f.resolveWith(f,r?[e]:[]);return l}}),s.support=function(){var t,r,i,o,u,a,f,l,c,h,p,d,v=n.createElement("div"),m=n.documentElement;v.setAttribute("className","t"),v.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>",r=v.getElementsByTagName("*"),i=v.getElementsByTagName("a")[0];if(!r||!r.length||!i)return{};o=n.createElement("select"),u=o.appendChild(n.createElement("option")),a=v.getElementsByTagName("input")[0],t={leadingWhitespace:v.firstChild.nodeType===3,tbody:!v.getElementsByTagName("tbody").length,htmlSerialize:!!v.getElementsByTagName("link").length,style:/top/.test(i.getAttribute("style")),hrefNormalized:i.getAttribute("href")==="/a",opacity:/^0.55/.test(i.style.opacity),cssFloat:!!i.style.cssFloat,checkOn:a.value==="on",optSelected:u.selected,getSetAttribute:v.className!=="t",enctype:!!n.createElement("form").enctype,html5Clone:n.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,pixelMargin:!0},s.boxModel=t.boxModel=n.compatMode==="CSS1Compat",a.checked=!0,t.noCloneChecked=a.cloneNode(!0).checked,o.disabled=!0
,t.optDisabled=!u.disabled;try{delete v.test}catch(g){t.deleteExpando=!1}!v.addEventListener&&v.attachEvent&&v.fireEvent&&(v.attachEvent("onclick",function(){t.noCloneEvent=!1}),v.cloneNode(!0).fireEvent("onclick")),a=n.createElement("input"),a.value="t",a.setAttribute("type","radio"),t.radioValue=a.value==="t",a.setAttribute("checked","checked"),a.setAttribute("name","t"),v.appendChild(a),f=n.createDocumentFragment(),f.appendChild(v.lastChild),t.checkClone=f.cloneNode(!0).cloneNode(!0).lastChild.checked,t.appendChecked=a.checked,f.removeChild(a),f.appendChild(v);if(v.attachEvent)for(p in{submit:1,change:1,focusin:1})h="on"+p,d=h in v,d||(v.setAttribute(h,"return;"),d=typeof v[h]=="function"),t[p+"Bubbles"]=d;return f.removeChild(v),f=o=u=v=a=null,s(function(){var r,i,o,u,a,f,c,h,p,m,g,y,b,w=n.getElementsByTagName("body")[0];if(!w)return;h=1,b="padding:0;margin:0;border:",g="position:absolute;top:0;left:0;width:1px;height:1px;",y=b+"0;visibility:hidden;",p="style='"+g+b+"5px solid #000;",m="<div "+p+"display:block;'><div style='"+b+"0;display:block;overflow:hidden;'></div></div>"+"<table "+p+"' cellpadding='0' cellspacing='0'>"+"<tr><td></td></tr></table>",r=n.createElement("div"),r.style.cssText=y+"width:0;height:0;position:static;top:0;margin-top:"+h+"px",w.insertBefore(r,w.firstChild),v=n.createElement("div"),r.appendChild(v),v.innerHTML="<table><tr><td style='"+b+"0;display:none'></td><td>t</td></tr></table>",l=v.getElementsByTagName("td"),d=l[0].offsetHeight===0,l[0].style.display="",l[1].style.display="none",t.reliableHiddenOffsets=d&&l[0].offsetHeight===0,e.getComputedStyle&&
(v.innerHTML="",c=n.createElement("div"),c.style.width="0",c.style.marginRight="0",v.style.width="2px",v.appendChild(c),t.reliableMarginRight=(parseInt((e.getComputedStyle(c,null)||{marginRight:0}).marginRight,10)||0)===0),typeof v.style.zoom!="undefined"&&(v.innerHTML="",v.style.width=v.style.padding="1px",v.style.border=0,v.style.overflow="hidden",v.style.display="inline",v.style.zoom=1,t.inlineBlockNeedsLayout=v.offsetWidth===3,v.style.display="block",v.style.overflow="visible",v.innerHTML="<div style='width:5px;'></div>",t.shrinkWrapBlocks=v.offsetWidth!==3),v.style.cssText=g+y,v.innerHTML=m,i=v.firstChild,o=i.firstChild,a=i.nextSibling.firstChild.firstChild,f={doesNotAddBorder:o.offsetTop!==5,doesAddBorderForTableAndCells:a.offsetTop===5},o.style.position="fixed",o.style.top="20px",f.fixedPosition=o.offsetTop===20||o.offsetTop===15,o.style.position=o.style.top="",i.style.overflow="hidden",i.style.position="relative",f.subtractsBorderForOverflowNotVisible=o.offsetTop===-5,f.doesNotIncludeMarginInBodyOffset=w.offsetTop!==h,e.getComputedStyle&&(v.style.marginTop="1%",t.pixelMargin=(e.getComputedStyle(v,null)||{marginTop:0}).marginTop!=="1%"),typeof r.style.zoom!="undefined"&&(r.style.zoom=1),w.removeChild(r),c=v=r=null,s.extend(t,f)}),t}();var f=/^(?:\{.*\}|\[.*\])$/,l=/([A-Z])/g;s.extend({cache:{},uuid:0,expando:"jQuery"+(s.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?s.cache[e[s.expando]]:e[s.expando],!!e&&!h(e)},data:function(e,n,r,i){if(!s.acceptData(e)
)return;var o,u,a,f=s.expando,l=typeof n=="string",c=e.nodeType,h=c?s.cache:e,p=c?e[f]:e[f]&&f,d=n==="events";if((!p||!h[p]||!d&&!i&&!h[p].data)&&l&&r===t)return;p||(c?e[f]=p=++s.uuid:p=f),h[p]||(h[p]={},c||(h[p].toJSON=s.noop));if(typeof n=="object"||typeof n=="function")i?h[p]=s.extend(h[p],n):h[p].data=s.extend(h[p].data,n);return o=u=h[p],i||(u.data||(u.data={}),u=u.data),r!==t&&(u[s.camelCase(n)]=r),d&&!u[n]?o.events:(l?(a=u[n],a==null&&(a=u[s.camelCase(n)])):a=u,a)},removeData:function(e,t,n){if(!s.acceptData(e))return;var r,i,o,u=s.expando,a=e.nodeType,f=a?s.cache:e,l=a?e[u]:u;if(!f[l])return;if(t){r=n?f[l]:f[l].data;if(r){s.isArray(t)||(t in r?t=[t]:(t=s.camelCase(t),t in r?t=[t]:t=t.split(" ")));for(i=0,o=t.length;i<o;i++)delete r[t[i]];if(!(n?h:s.isEmptyObject)(r))return}}if(!n){delete f[l].data;if(!h(f[l]))return}s.support.deleteExpando||!f.setInterval?delete f[l]:f[l]=null,a&&(s.support.deleteExpando?delete e[u]:e.removeAttribute?e.removeAttribute(u):e[u]=null)},_data:function(e,t,n){return s.data(e,t,n,!0)},acceptData:function(e){if(e.nodeName){var t=s.noData[e.nodeName.toLowerCase()];if(t)return t!==!0&&e.getAttribute("classid")===t}return!0}}),s.fn.extend({data:function(e,n){var r,i,o,u,a,f=this[0],l=0,h=null;if(e===t){if(this.length){h=s.data(f);if(f.nodeType===1&&!s._data(f,"parsedAttrs")){o=f.attributes;for(a=o.length;l<a;l++)u=o[l].name,u.indexOf("data-")===0&&(u=s.camelCase(u.substring(5)),c(f,u,h[u]));s._data(f,"parsedAttrs",!0)}}return h}return typeof e=="object"?this.each(function(){s.data(this,e)}):(r=e.split(".",2),r[1]=r[1]?"."+r[1]:"",i=r[1]+"!",s.
access(this,function(n){if(n===t)return h=this.triggerHandler("getData"+i,[r[0]]),h===t&&f&&(h=s.data(f,e),h=c(f,e,h)),h===t&&r[1]?this.data(r[0]):h;r[1]=n,this.each(function(){var t=s(this);t.triggerHandler("setData"+i,r),s.data(this,e,n),t.triggerHandler("changeData"+i,r)})},null,n,arguments.length>1,null,!1))},removeData:function(e){return this.each(function(){s.removeData(this,e)})}}),s.extend({_mark:function(e,t){e&&(t=(t||"fx")+"mark",s._data(e,t,(s._data(e,t)||0)+1))},_unmark:function(e,t,n){e!==!0&&(n=t,t=e,e=!1);if(t){n=n||"fx";var r=n+"mark",i=e?0:(s._data(t,r)||1)-1;i?s._data(t,r,i):(s.removeData(t,r,!0),p(t,n,"mark"))}},queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=s._data(e,t),n&&(!r||s.isArray(n)?r=s._data(e,t,s.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=s.queue(e,t),r=n.shift(),i={};r==="inprogress"&&(r=n.shift()),r&&(t==="fx"&&n.unshift("inprogress"),s._data(e,t+".run",i),r.call(e,function(){s.dequeue(e,t)},i)),n.length||(s.removeData(e,t+"queue "+t+".run",!0),p(e,t,"queue"))}}),s.fn.extend({queue:function(e,n){var r=2;return typeof e!="string"&&(n=e,e="fx",r--),arguments.length<r?s.queue(this[0],e):n===t?this:this.each(function(){var t=s.queue(this,e,n);e==="fx"&&t[0]!=="inprogress"&&s.dequeue(this,e)})},dequeue:function(e){return this.each(function(){s.dequeue(this,e)})},delay:function(e,t){return e=s.fx?s.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){function h(){--u||r.resolveWith
(i,[i])}typeof e!="string"&&(n=e,e=t),e=e||"fx";var r=s.Deferred(),i=this,o=i.length,u=1,a=e+"defer",f=e+"queue",l=e+"mark",c;while(o--)if(c=s.data(i[o],a,t,!0)||(s.data(i[o],f,t,!0)||s.data(i[o],l,t,!0))&&s.data(i[o],a,s.Callbacks("once memory"),!0))u++,c.add(h);return h(),r.promise(n)}});var d=/[\n\t\r]/g,v=/\s+/,m=/\r/g,g=/^(?:button|input)$/i,y=/^(?:button|input|object|select|textarea)$/i,b=/^a(?:rea)?$/i,w=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,E=s.support.getSetAttribute,S,x,T;s.fn.extend({attr:function(e,t){return s.access(this,s.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){s.removeAttr(this,e)})},prop:function(e,t){return s.access(this,s.prop,e,t,arguments.length>1)},removeProp:function(e){return e=s.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,i,o,u,a;if(s.isFunction(e))return this.each(function(t){s(this).addClass(e.call(this,t,this.className))});if(e&&typeof e=="string"){t=e.split(v);for(n=0,r=this.length;n<r;n++){i=this[n];if(i.nodeType===1)if(!i.className&&t.length===1)i.className=e;else{o=" "+i.className+" ";for(u=0,a=t.length;u<a;u++)~o.indexOf(" "+t[u]+" ")||(o+=t[u]+" ");i.className=s.trim(o)}}}return this},removeClass:function(e){var n,r,i,o,u,a,f;if(s.isFunction(e))return this.each(function(t){s(this).removeClass(e.call(this,t,this.className))});if(e&&typeof e=="string"||e===t){n=(e||"").split(v);for(r=0,i=this.length;r<i;r++){o=this[r];if(o.nodeType===1&&o.className)if(e)
{u=(" "+o.className+" ").replace(d," ");for(a=0,f=n.length;a<f;a++)u=u.replace(" "+n[a]+" "," ");o.className=s.trim(u)}else o.className=""}}return this},toggleClass:function(e,t){var n=typeof e,r=typeof t=="boolean";return s.isFunction(e)?this.each(function(n){s(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if(n==="string"){var i,o=0,u=s(this),a=t,f=e.split(v);while(i=f[o++])a=r?a:!u.hasClass(i),u[a?"addClass":"removeClass"](i)}else if(n==="undefined"||n==="boolean")this.className&&s._data(this,"__className__",this.className),this.className=this.className||e===!1?"":s._data(this,"__className__")||""})},hasClass:function(e){var t=" "+e+" ",n=0,r=this.length;for(;n<r;n++)if(this[n].nodeType===1&&(" "+this[n].className+" ").replace(d," ").indexOf(t)>-1)return!0;return!1},val:function(e){var n,r,i,o=this[0];if(!arguments.length){if(o)return n=s.valHooks[o.type]||s.valHooks[o.nodeName.toLowerCase()],n&&"get"in n&&(r=n.get(o,"value"))!==t?r:(r=o.value,typeof r=="string"?r.replace(m,""):r==null?"":r);return}return i=s.isFunction(e),this.each(function(r){var o=s(this),u;if(this.nodeType!==1)return;i?u=e.call(this,r,o.val()):u=e,u==null?u="":typeof u=="number"?u+="":s.isArray(u)&&(u=s.map(u,function(e){return e==null?"":e+""})),n=s.valHooks[this.type]||s.valHooks[this.nodeName.toLowerCase()];if(!n||!("set"in n)||n.set(this,u,"value")===t)this.value=u})}}),s.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){var t,n,r,i,o=e.selectedIndex,u=[],a=e.options,f=e.type==="select-one"
;if(o<0)return null;n=f?o:0,r=f?o+1:a.length;for(;n<r;n++){i=a[n];if(i.selected&&(s.support.optDisabled?!i.disabled:i.getAttribute("disabled")===null)&&(!i.parentNode.disabled||!s.nodeName(i.parentNode,"optgroup"))){t=s(i).val();if(f)return t;u.push(t)}}return f&&!u.length&&a.length?s(a[o]).val():u},set:function(e,t){var n=s.makeArray(t);return s(e).find("option").each(function(){this.selected=s.inArray(s(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(e,n,r,i){var o,u,a,f=e.nodeType;if(!e||f===3||f===8||f===2)return;if(i&&n in s.attrFn)return s(e)[n](r);if(typeof e.getAttribute=="undefined")return s.prop(e,n,r);a=f!==1||!s.isXMLDoc(e),a&&(n=n.toLowerCase(),u=s.attrHooks[n]||(w.test(n)?x:S));if(r!==t){if(r===null){s.removeAttr(e,n);return}return u&&"set"in u&&a&&(o=u.set(e,r,n))!==t?o:(e.setAttribute(n,""+r),r)}return u&&"get"in u&&a&&(o=u.get(e,n))!==null?o:(o=e.getAttribute(n),o===null?t:o)},removeAttr:function(e,t){var n,r,i,o,u,a=0;if(t&&e.nodeType===1){r=t.toLowerCase().split(v),o=r.length;for(;a<o;a++)i=r[a],i&&(n=s.propFix[i]||i,u=w.test(i),u||s.attr(e,i,""),e.removeAttribute(E?i:n),u&&n in e&&(e[n]=!1))}},attrHooks:{type:{set:function(e,t){if(g.test(e.nodeName)&&e.parentNode)s.error("type property can't be changed");else if(!s.support.radioValue&&t==="radio"&&s.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}},value:{get:function(e,t){return S&&s.nodeName(e,"button")?S.get(e,t):t in e?e.value:null},set:function(e,t,n){if(S&&s.nodeName
(e,"button"))return S.set(e,t,n);e.value=t}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,r){var i,o,u,a=e.nodeType;if(!e||a===3||a===8||a===2)return;return u=a!==1||!s.isXMLDoc(e),u&&(n=s.propFix[n]||n,o=s.propHooks[n]),r!==t?o&&"set"in o&&(i=o.set(e,r,n))!==t?i:e[n]=r:o&&"get"in o&&(i=o.get(e,n))!==null?i:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):y.test(e.nodeName)||b.test(e.nodeName)&&e.href?0:t}}}}),s.attrHooks.tabindex=s.propHooks.tabIndex,x={get:function(e,n){var r,i=s.prop(e,n);return i===!0||typeof i!="boolean"&&(r=e.getAttributeNode(n))&&r.nodeValue!==!1?n.toLowerCase():t},set:function(e,t,n){var r;return t===!1?s.removeAttr(e,n):(r=s.propFix[n]||n,r in e&&(e[r]=!0),e.setAttribute(n,n.toLowerCase())),n}},E||(T={name:!0,id:!0,coords:!0},S=s.valHooks.button={get:function(e,n){var r;return r=e.getAttributeNode(n),r&&(T[n]?r.nodeValue!=="":r.specified)?r.nodeValue:t},set:function(e,t,r){var i=e.getAttributeNode(r);return i||(i=n.createAttribute(r),e.setAttributeNode(i)),i.nodeValue=t+""}},s.attrHooks.tabindex.set=S.set,s.each(["width","height"],function(e,t){s.attrHooks[t]=s.extend(s.attrHooks[t],{set:function(e,n){if(n==="")return e.setAttribute(t,"auto"),n}})}),s.attrHooks.contenteditable={get:S.get,set:function(e,t,n){t===""&&(t="false"),S.set(e,
t,n)}}),s.support.hrefNormalized||s.each(["href","src","width","height"],function(e,n){s.attrHooks[n]=s.extend(s.attrHooks[n],{get:function(e){var r=e.getAttribute(n,2);return r===null?t:r}})}),s.support.style||(s.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||t},set:function(e,t){return e.style.cssText=""+t}}),s.support.optSelected||(s.propHooks.selected=s.extend(s.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),s.support.enctype||(s.propFix.enctype="encoding"),s.support.checkOn||s.each(["radio","checkbox"],function(){s.valHooks[this]={get:function(e){return e.getAttribute("value")===null?"on":e.value}}}),s.each(["radio","checkbox"],function(){s.valHooks[this]=s.extend(s.valHooks[this],{set:function(e,t){if(s.isArray(t))return e.checked=s.inArray(s(e).val(),t)>=0}})});var N=/^(?:textarea|input|select)$/i,C=/^([^\.]*)?(?:\.(.+))?$/,k=/(?:^|\s)hover(\.\S+)?\b/,L=/^key/,A=/^(?:mouse|contextmenu)|click/,O=/^(?:focusinfocus|focusoutblur)$/,M=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,_=function(e){var t=M.exec(e);return t&&(t[1]=(t[1]||"").toLowerCase(),t[3]=t[3]&&new RegExp("(?:^|\\s)"+t[3]+"(?:\\s|$)")),t},D=function(e,t){var n=e.attributes||{};return(!t[1]||e.nodeName.toLowerCase()===t[1])&&(!t[2]||(n.id||{}).value===t[2])&&(!t[3]||t[3].test((n["class"]||{}).value))},P=function(e){return s.event.special.hover?e:e.replace(k,"mouseenter$1 mouseleave$1")};s.event={add:function(e,n,r,i,o){var u,a,f,l,c,h,p,d,v,m,g,y;if(e.nodeType===3||e.nodeType===8||!n||!r||!(u=s._data(e)))
return;r.handler&&(v=r,r=v.handler,o=v.selector),r.guid||(r.guid=s.guid++),f=u.events,f||(u.events=f={}),a=u.handle,a||(u.handle=a=function(e){return typeof s=="undefined"||!!e&&s.event.triggered===e.type?t:s.event.dispatch.apply(a.elem,arguments)},a.elem=e),n=s.trim(P(n)).split(" ");for(l=0;l<n.length;l++){c=C.exec(n[l])||[],h=c[1],p=(c[2]||"").split(".").sort(),y=s.event.special[h]||{},h=(o?y.delegateType:y.bindType)||h,y=s.event.special[h]||{},d=s.extend({type:h,origType:c[1],data:i,handler:r,guid:r.guid,selector:o,quick:o&&_(o),namespace:p.join(".")},v),g=f[h];if(!g){g=f[h]=[],g.delegateCount=0;if(!y.setup||y.setup.call(e,i,p,a)===!1)e.addEventListener?e.addEventListener(h,a,!1):e.attachEvent&&e.attachEvent("on"+h,a)}y.add&&(y.add.call(e,d),d.handler.guid||(d.handler.guid=r.guid)),o?g.splice(g.delegateCount++,0,d):g.push(d),s.event.global[h]=!0}e=null},global:{},remove:function(e,t,n,r,i){var o=s.hasData(e)&&s._data(e),u,a,f,l,c,h,p,d,v,m,g,y;if(!o||!(d=o.events))return;t=s.trim(P(t||"")).split(" ");for(u=0;u<t.length;u++){a=C.exec(t[u])||[],f=l=a[1],c=a[2];if(!f){for(f in d)s.event.remove(e,f+t[u],n,r,!0);continue}v=s.event.special[f]||{},f=(r?v.delegateType:v.bindType)||f,g=d[f]||[],h=g.length,c=c?new RegExp("(^|\\.)"+c.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null;for(p=0;p<g.length;p++)y=g[p],(i||l===y.origType)&&(!n||n.guid===y.guid)&&(!c||c.test(y.namespace))&&(!r||r===y.selector||r==="**"&&y.selector)&&(g.splice(p--,1),y.selector&&g.delegateCount--,v.remove&&v.remove.call(e,y));g.length===0&&h!==g.length&&((!v.teardown||v.teardown.call(e,c)===!1)&&s.removeEvent
(e,f,o.handle),delete d[f])}s.isEmptyObject(d)&&(m=o.handle,m&&(m.elem=null),s.removeData(e,["events","handle"],!0))},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(n,r,i,o){if(!i||i.nodeType!==3&&i.nodeType!==8){var u=n.type||n,a=[],f,l,c,h,p,d,v,m,g,y;if(O.test(u+s.event.triggered))return;u.indexOf("!")>=0&&(u=u.slice(0,-1),l=!0),u.indexOf(".")>=0&&(a=u.split("."),u=a.shift(),a.sort());if((!i||s.event.customEvent[u])&&!s.event.global[u])return;n=typeof n=="object"?n[s.expando]?n:new s.Event(u,n):new s.Event(u),n.type=u,n.isTrigger=!0,n.exclusive=l,n.namespace=a.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+a.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,d=u.indexOf(":")<0?"on"+u:"";if(!i){f=s.cache;for(c in f)f[c].events&&f[c].events[u]&&s.event.trigger(n,r,f[c].handle.elem,!0);return}n.result=t,n.target||(n.target=i),r=r!=null?s.makeArray(r):[],r.unshift(n),v=s.event.special[u]||{};if(v.trigger&&v.trigger.apply(i,r)===!1)return;g=[[i,v.bindType||u]];if(!o&&!v.noBubble&&!s.isWindow(i)){y=v.delegateType||u,h=O.test(y+u)?i:i.parentNode,p=null;for(;h;h=h.parentNode)g.push([h,y]),p=h;p&&p===i.ownerDocument&&g.push([p.defaultView||p.parentWindow||e,y])}for(c=0;c<g.length&&!n.isPropagationStopped();c++)h=g[c][0],n.type=g[c][1],m=(s._data(h,"events")||{})[n.type]&&s._data(h,"handle"),m&&m.apply(h,r),m=d&&h[d],m&&s.acceptData(h)&&m.apply(h,r)===!1&&n.preventDefault();return n.type=u,!o&&!n.isDefaultPrevented()&&(!v._default||v._default.apply(i.ownerDocument,r)===!1)&&(u!=="click"||!s.nodeName(i,"a"))&&s.acceptData(i)&&d&&i[u]&&(u!=="focus"&&u!=="blur"||n.target
.offsetWidth!==0)&&!s.isWindow(i)&&(p=i[d],p&&(i[d]=null),s.event.triggered=u,i[u](),s.event.triggered=t,p&&(i[d]=p)),n.result}return},dispatch:function(n){n=s.event.fix(n||e.event);var r=(s._data(this,"events")||{})[n.type]||[],i=r.delegateCount,o=[].slice.call(arguments,0),u=!n.exclusive&&!n.namespace,a=s.event.special[n.type]||{},f=[],l,c,h,p,d,v,m,g,y,b,w;o[0]=n,n.delegateTarget=this;if(a.preDispatch&&a.preDispatch.call(this,n)===!1)return;if(i&&(!n.button||n.type!=="click")){p=s(this),p.context=this.ownerDocument||this;for(h=n.target;h!=this;h=h.parentNode||this)if(h.disabled!==!0){v={},g=[],p[0]=h;for(l=0;l<i;l++)y=r[l],b=y.selector,v[b]===t&&(v[b]=y.quick?D(h,y.quick):p.is(b)),v[b]&&g.push(y);g.length&&f.push({elem:h,matches:g})}}r.length>i&&f.push({elem:this,matches:r.slice(i)});for(l=0;l<f.length&&!n.isPropagationStopped();l++){m=f[l],n.currentTarget=m.elem;for(c=0;c<m.matches.length&&!n.isImmediatePropagationStopped();c++){y=m.matches[c];if(u||!n.namespace&&!y.namespace||n.namespace_re&&n.namespace_re.test(y.namespace))n.data=y.data,n.handleObj=y,d=((s.event.special[y.origType]||{}).handle||y.handler).apply(m.elem,o),d!==t&&(n.result=d,d===!1&&(n.preventDefault(),n.stopPropagation()))}}return a.postDispatch&&a.postDispatch.call(this,n),n.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return e.which==null&&(e.which=t.charCode!=null?t.charCode
:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,r){var i,s,o,u=r.button,a=r.fromElement;return e.pageX==null&&r.clientX!=null&&(i=e.target.ownerDocument||n,s=i.documentElement,o=i.body,e.pageX=r.clientX+(s&&s.scrollLeft||o&&o.scrollLeft||0)-(s&&s.clientLeft||o&&o.clientLeft||0),e.pageY=r.clientY+(s&&s.scrollTop||o&&o.scrollTop||0)-(s&&s.clientTop||o&&o.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?r.toElement:a),!e.which&&u!==t&&(e.which=u&1?1:u&2?3:u&4?2:0),e}},fix:function(e){if(e[s.expando])return e;var r,i,o=e,u=s.event.fixHooks[e.type]||{},a=u.props?this.props.concat(u.props):this.props;e=s.Event(o);for(r=a.length;r;)i=a[--r],e[i]=o[i];return e.target||(e.target=o.srcElement||n),e.target.nodeType===3&&(e.target=e.target.parentNode),e.metaKey===t&&(e.metaKey=e.ctrlKey),u.filter?u.filter(e,o):e},special:{ready:{setup:s.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(e,t,n){s.isWindow(this)&&(this.onbeforeunload=n)},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}},simulate:function(e,t,n,r){var i=s.extend(new s.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?s.event.trigger(i,null,t):s.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},s.event.handle=s.event.dispatch,s.removeEvent=n.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){e.detachEvent&&e.detachEvent("on"+
t,n)},s.Event=function(e,t){if(!(this instanceof s.Event))return new s.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?B:H):this.type=e,t&&s.extend(this,t),this.timeStamp=e&&e.timeStamp||s.now(),this[s.expando]=!0},s.Event.prototype={preventDefault:function(){this.isDefaultPrevented=B;var e=this.originalEvent;if(!e)return;e.preventDefault?e.preventDefault():e.returnValue=!1},stopPropagation:function(){this.isPropagationStopped=B;var e=this.originalEvent;if(!e)return;e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=B,this.stopPropagation()},isDefaultPrevented:H,isPropagationStopped:H,isImmediatePropagationStopped:H},s.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){s.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n=this,r=e.relatedTarget,i=e.handleObj,o=i.selector,u;if(!r||r!==n&&!s.contains(n,r))e.type=i.origType,u=i.handler.apply(this,arguments),e.type=t;return u}}}),s.support.submitBubbles||(s.event.special.submit={setup:function(){if(s.nodeName(this,"form"))return!1;s.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=s.nodeName(n,"input")||s.nodeName(n,"button")?n.form:t;r&&!r._submit_attached&&(s.event.add(r,"submit._submit",function(e){e._submit_bubble=!0}),r._submit_attached=!0)})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&s.event.simulate("submit",this.
parentNode,e,!0))},teardown:function(){if(s.nodeName(this,"form"))return!1;s.event.remove(this,"._submit")}}),s.support.changeBubbles||(s.event.special.change={setup:function(){if(N.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio")s.event.add(this,"propertychange._change",function(e){e.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),s.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1,s.event.simulate("change",this,e,!0))});return!1}s.event.add(this,"beforeactivate._change",function(e){var t=e.target;N.test(t.nodeName)&&!t._change_attached&&(s.event.add(t,"change._change",function(e){this.parentNode&&!e.isSimulated&&!e.isTrigger&&s.event.simulate("change",this.parentNode,e,!0)}),t._change_attached=!0)})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||t.type!=="radio"&&t.type!=="checkbox")return e.handleObj.handler.apply(this,arguments)},teardown:function(){return s.event.remove(this,"._change"),N.test(this.nodeName)}}),s.support.focusinBubbles||s.each({focus:"focusin",blur:"focusout"},function(e,t){var r=0,i=function(e){s.event.simulate(t,e.target,s.event.fix(e),!0)};s.event.special[t]={setup:function(){r++===0&&n.addEventListener(e,i,!0)},teardown:function(){--r===0&&n.removeEventListener(e,i,!0)}}}),s.fn.extend({on:function(e,n,r,i,o){var u,a;if(typeof e=="object"){typeof n!="string"&&(r=r||n,n=t);for(a in e)this.on(a,n,r,e[a],o);return this}r==null&&i==null?(i=n,r=n=t):i==null&&(typeof n=="string"?(i=r,r=t):(i=r,r=n,n=t));if(i===!1)i=H;else if(!i)return this;return o===1&&
(u=i,i=function(e){return s().off(e),u.apply(this,arguments)},i.guid=u.guid||(u.guid=s.guid++)),this.each(function(){s.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){if(e&&e.preventDefault&&e.handleObj){var i=e.handleObj;return s(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this}if(typeof e=="object"){for(var o in e)this.off(o,n,e[o]);return this}if(n===!1||typeof n=="function")r=n,n=t;return r===!1&&(r=H),this.each(function(){s.event.remove(this,e,r,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},live:function(e,t,n){return s(this.context).on(e,this.selector,t,n),this},die:function(e,t){return s(this.context).off(e,this.selector||"**",t),this},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return arguments.length==1?this.off(e,"**"):this.off(t,e,n)},trigger:function(e,t){return this.each(function(){s.event.trigger(e,t,this)})},triggerHandler:function(e,t){if(this[0])return s.event.trigger(e,t,this[0],!0)},toggle:function(e){var t=arguments,n=e.guid||s.guid++,r=0,i=function(n){var i=(s._data(this,"lastToggle"+e.guid)||0)%r;return s._data(this,"lastToggle"+e.guid,i+1),n.preventDefault(),t[i].apply(this,arguments)||!1};i.guid=n;while(r<t.length)t[r++].guid=n;return this.click(i)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),s.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu"
.split(" "),function(e,t){s.fn[t]=function(e,n){return n==null&&(n=e,e=null),arguments.length>0?this.on(t,null,e,n):this.trigger(t)},s.attrFn&&(s.attrFn[t]=!0),L.test(t)&&(s.event.fixHooks[t]=s.event.keyHooks),A.test(t)&&(s.event.fixHooks[t]=s.event.mouseHooks)}),function(){function S(e,t,n,i,s,o){for(var u=0,a=i.length;u<a;u++){var f=i[u];if(f){var l=!1;f=f[e];while(f){if(f[r]===n){l=i[f.sizset];break}f.nodeType===1&&!o&&(f[r]=n,f.sizset=u);if(f.nodeName.toLowerCase()===t){l=f;break}f=f[e]}i[u]=l}}}function x(e,t,n,i,s,o){for(var u=0,a=i.length;u<a;u++){var f=i[u];if(f){var l=!1;f=f[e];while(f){if(f[r]===n){l=i[f.sizset];break}if(f.nodeType===1){o||(f[r]=n,f.sizset=u);if(typeof t!="string"){if(f===t){l=!0;break}}else if(h.filter(t,[f]).length>0){l=f;break}}f=f[e]}i[u]=l}}}var e=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,r="sizcache"+(Math.random()+"").replace(".",""),i=0,o=Object.prototype.toString,u=!1,a=!0,f=/\\/g,l=/\r\n/g,c=/\W/;[0,0].sort(function(){return a=!1,0});var h=function(t,r,i,s){i=i||[],r=r||n;var u=r;if(r.nodeType!==1&&r.nodeType!==9)return[];if(!t||typeof t!="string")return i;var a,f,l,c,p,m,g,b,w=!0,E=h.isXML(r),S=[],x=t;do{e.exec(""),a=e.exec(x);if(a){x=a[3],S.push(a[1]);if(a[2]){c=a[3];break}}}while(a);if(S.length>1&&v.exec(t))if(S.length===2&&d.relative[S[0]])f=T(S[0]+S[1],r,s);else{f=d.relative[S[0]]?[r]:h(S.shift(),r);while(S.length)t=S.shift(),d.relative[t]&&(t+=S.shift()),f=T(t,f,s)}else{!s&&S.length>1&&r.nodeType===9&&!E&&d.match.ID.test(S[0])&&!d.match.ID.test
(S[S.length-1])&&(p=h.find(S.shift(),r,E),r=p.expr?h.filter(p.expr,p.set)[0]:p.set[0]);if(r){p=s?{expr:S.pop(),set:y(s)}:h.find(S.pop(),S.length!==1||S[0]!=="~"&&S[0]!=="+"||!r.parentNode?r:r.parentNode,E),f=p.expr?h.filter(p.expr,p.set):p.set,S.length>0?l=y(f):w=!1;while(S.length)m=S.pop(),g=m,d.relative[m]?g=S.pop():m="",g==null&&(g=r),d.relative[m](l,g,E)}else l=S=[]}l||(l=f),l||h.error(m||t);if(o.call(l)==="[object Array]")if(!w)i.push.apply(i,l);else if(r&&r.nodeType===1)for(b=0;l[b]!=null;b++)l[b]&&(l[b]===!0||l[b].nodeType===1&&h.contains(r,l[b]))&&i.push(f[b]);else for(b=0;l[b]!=null;b++)l[b]&&l[b].nodeType===1&&i.push(f[b]);else y(l,i);return c&&(h(c,u,i,s),h.uniqueSort(i)),i};h.uniqueSort=function(e){if(w){u=a,e.sort(w);if(u)for(var t=1;t<e.length;t++)e[t]===e[t-1]&&e.splice(t--,1)}return e},h.matches=function(e,t){return h(e,null,null,t)},h.matchesSelector=function(e,t){return h(t,null,null,[e]).length>0},h.find=function(e,t,n){var r,i,s,o,u,a;if(!e)return[];for(i=0,s=d.order.length;i<s;i++){u=d.order[i];if(o=d.leftMatch[u].exec(e)){a=o[1],o.splice(1,1);if(a.substr(a.length-1)!=="\\"){o[1]=(o[1]||"").replace(f,""),r=d.find[u](o,t,n);if(r!=null){e=e.replace(d.match[u],"");break}}}}return r||(r=typeof t.getElementsByTagName!="undefined"?t.getElementsByTagName("*"):[]),{set:r,expr:e}},h.filter=function(e,n,r,i){var s,o,u,a,f,l,c,p,v,m=e,g=[],y=n,b=n&&n[0]&&h.isXML(n[0]);while(e&&n.length){for(u in d.filter)if((s=d.leftMatch[u].exec(e))!=null&&s[2]){l=d.filter[u],c=s[1],o=!1,s.splice(1,1);if(c.substr(c.length-1)==="\\")continue;y===g&&(g=[]);if(d.preFilter[u]){s=d.preFilter
[u](s,y,r,g,i,b);if(!s)o=a=!0;else if(s===!0)continue}if(s)for(p=0;(f=y[p])!=null;p++)f&&(a=l(f,s,p,y),v=i^a,r&&a!=null?v?o=!0:y[p]=!1:v&&(g.push(f),o=!0));if(a!==t){r||(y=g),e=e.replace(d.match[u],"");if(!o)return[];break}}if(e===m){if(o!=null)break;h.error(e)}m=e}return y},h.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)};var p=h.getText=function(e){var t,n,r=e.nodeType,i="";if(r){if(r===1||r===9||r===11){if(typeof e.textContent=="string")return e.textContent;if(typeof e.innerText=="string")return e.innerText.replace(l,"");for(e=e.firstChild;e;e=e.nextSibling)i+=p(e)}else if(r===3||r===4)return e.nodeValue}else for(t=0;n=e[t];t++)n.nodeType!==8&&(i+=p(n));return i},d=h.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(e){return e.getAttribute("href")},type:function(e){return e.getAttribute("type")}},relative:{"+":function(e,t){var n=typeof t=="string",r=n&&!c.test(t),i=n&&!r;r&&(t=t.toLowerCase());for(var s=0,o=e.length
,u;s<o;s++)if(u=e[s]){while((u=u.previousSibling)&&u.nodeType!==1);e[s]=i||u&&u.nodeName.toLowerCase()===t?u||!1:u===t}i&&h.filter(t,e,!0)},">":function(e,t){var n,r=typeof t=="string",i=0,s=e.length;if(r&&!c.test(t)){t=t.toLowerCase();for(;i<s;i++){n=e[i];if(n){var o=n.parentNode;e[i]=o.nodeName.toLowerCase()===t?o:!1}}}else{for(;i<s;i++)n=e[i],n&&(e[i]=r?n.parentNode:n.parentNode===t);r&&h.filter(t,e,!0)}},"":function(e,t,n){var r,s=i++,o=x;typeof t=="string"&&!c.test(t)&&(t=t.toLowerCase(),r=t,o=S),o("parentNode",t,s,e,r,n)},"~":function(e,t,n){var r,s=i++,o=x;typeof t=="string"&&!c.test(t)&&(t=t.toLowerCase(),r=t,o=S),o("previousSibling",t,s,e,r,n)}},find:{ID:function(e,t,n){if(typeof t.getElementById!="undefined"&&!n){var r=t.getElementById(e[1]);return r&&r.parentNode?[r]:[]}},NAME:function(e,t){if(typeof t.getElementsByName!="undefined"){var n=[],r=t.getElementsByName(e[1]);for(var i=0,s=r.length;i<s;i++)r[i].getAttribute("name")===e[1]&&n.push(r[i]);return n.length===0?null:n}},TAG:function(e,t){if(typeof t.getElementsByTagName!="undefined")return t.getElementsByTagName(e[1])}},preFilter:{CLASS:function(e,t,n,r,i,s){e=" "+e[1].replace(f,"")+" ";if(s)return e;for(var o=0,u;(u=t[o])!=null;o++)u&&(i^(u.className&&(" "+u.className+" ").replace(/[\t\n\r]/g," ").indexOf(e)>=0)?n||r.push(u):n&&(t[o]=!1));return!1},ID:function(e){return e[1].replace(f,"")},TAG:function(e,t){return e[1].replace(f,"").toLowerCase()},CHILD:function(e){if(e[1]==="nth"){e[2]||h.error(e[0]),e[2]=e[2].replace(/^\+|\s*/g,"");var t=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(e[2]==="even"&&"2n"||e[2]==="odd"&&"2n+1"||!/\D/
.test(e[2])&&"0n+"+e[2]||e[2]);e[2]=t[1]+(t[2]||1)-0,e[3]=t[3]-0}else e[2]&&h.error(e[0]);return e[0]=i++,e},ATTR:function(e,t,n,r,i,s){var o=e[1]=e[1].replace(f,"");return!s&&d.attrMap[o]&&(e[1]=d.attrMap[o]),e[4]=(e[4]||e[5]||"").replace(f,""),e[2]==="~="&&(e[4]=" "+e[4]+" "),e},PSEUDO:function(t,n,r,i,s){if(t[1]==="not"){if(!((e.exec(t[3])||"").length>1||/^\w/.test(t[3]))){var o=h.filter(t[3],n,r,!0^s);return r||i.push.apply(i,o),!1}t[3]=h(t[3],null,null,n)}else if(d.match.POS.test(t[0])||d.match.CHILD.test(t[0]))return!0;return t},POS:function(e){return e.unshift(!0),e}},filters:{enabled:function(e){return e.disabled===!1&&e.type!=="hidden"},disabled:function(e){return e.disabled===!0},checked:function(e){return e.checked===!0},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},parent:function(e){return!!e.firstChild},empty:function(e){return!e.firstChild},has:function(e,t,n){return!!h(n[3],e).length},header:function(e){return/h\d/i.test(e.nodeName)},text:function(e){var t=e.getAttribute("type"),n=e.type;return e.nodeName.toLowerCase()==="input"&&"text"===n&&(t===n||t===null)},radio:function(e){return e.nodeName.toLowerCase()==="input"&&"radio"===e.type},checkbox:function(e){return e.nodeName.toLowerCase()==="input"&&"checkbox"===e.type},file:function(e){return e.nodeName.toLowerCase()==="input"&&"file"===e.type},password:function(e){return e.nodeName.toLowerCase()==="input"&&"password"===e.type},submit:function(e){var t=e.nodeName.toLowerCase();return(t==="input"||t==="button")&&"submit"===e.type},image:function(e){return e.nodeName.toLowerCase
()==="input"&&"image"===e.type},reset:function(e){var t=e.nodeName.toLowerCase();return(t==="input"||t==="button")&&"reset"===e.type},button:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&"button"===e.type||t==="button"},input:function(e){return/input|select|textarea|button/i.test(e.nodeName)},focus:function(e){return e===e.ownerDocument.activeElement}},setFilters:{first:function(e,t){return t===0},last:function(e,t,n,r){return t===r.length-1},even:function(e,t){return t%2===0},odd:function(e,t){return t%2===1},lt:function(e,t,n){return t<n[3]-0},gt:function(e,t,n){return t>n[3]-0},nth:function(e,t,n){return n[3]-0===t},eq:function(e,t,n){return n[3]-0===t}},filter:{PSEUDO:function(e,t,n,r){var i=t[1],s=d.filters[i];if(s)return s(e,n,t,r);if(i==="contains")return(e.textContent||e.innerText||p([e])||"").indexOf(t[3])>=0;if(i==="not"){var o=t[3];for(var u=0,a=o.length;u<a;u++)if(o[u]===e)return!1;return!0}h.error(i)},CHILD:function(e,t){var n,i,s,o,u,a,f,l=t[1],c=e;switch(l){case"only":case"first":while(c=c.previousSibling)if(c.nodeType===1)return!1;if(l==="first")return!0;c=e;case"last":while(c=c.nextSibling)if(c.nodeType===1)return!1;return!0;case"nth":n=t[2],i=t[3];if(n===1&&i===0)return!0;s=t[0],o=e.parentNode;if(o&&(o[r]!==s||!e.nodeIndex)){a=0;for(c=o.firstChild;c;c=c.nextSibling)c.nodeType===1&&(c.nodeIndex=++a);o[r]=s}return f=e.nodeIndex-i,n===0?f===0:f%n===0&&f/n>=0}},ID:function(e,t){return e.nodeType===1&&e.getAttribute("id")===t},TAG:function(e,t){return t==="*"&&e.nodeType===1||!!e.nodeName&&e.nodeName.toLowerCase()===t},CLASS:function(e,t){return(" "+
(e.className||e.getAttribute("class"))+" ").indexOf(t)>-1},ATTR:function(e,t){var n=t[1],r=h.attr?h.attr(e,n):d.attrHandle[n]?d.attrHandle[n](e):e[n]!=null?e[n]:e.getAttribute(n),i=r+"",s=t[2],o=t[4];return r==null?s==="!=":!s&&h.attr?r!=null:s==="="?i===o:s==="*="?i.indexOf(o)>=0:s==="~="?(" "+i+" ").indexOf(o)>=0:o?s==="!="?i!==o:s==="^="?i.indexOf(o)===0:s==="$="?i.substr(i.length-o.length)===o:s==="|="?i===o||i.substr(0,o.length+1)===o+"-":!1:i&&r!==!1},POS:function(e,t,n,r){var i=t[2],s=d.setFilters[i];if(s)return s(e,n,t,r)}}},v=d.match.POS,m=function(e,t){return"\\"+(t-0+1)};for(var g in d.match)d.match[g]=new RegExp(d.match[g].source+/(?![^\[]*\])(?![^\(]*\))/.source),d.leftMatch[g]=new RegExp(/(^(?:.|\r|\n)*?)/.source+d.match[g].source.replace(/\\(\d+)/g,m));d.match.globalPOS=v;var y=function(e,t){return e=Array.prototype.slice.call(e,0),t?(t.push.apply(t,e),t):e};try{Array.prototype.slice.call(n.documentElement.childNodes,0)[0].nodeType}catch(b){y=function(e,t){var n=0,r=t||[];if(o.call(e)==="[object Array]")Array.prototype.push.apply(r,e);else if(typeof e.length=="number")for(var i=e.length;n<i;n++)r.push(e[n]);else for(;e[n];n++)r.push(e[n]);return r}}var w,E;n.documentElement.compareDocumentPosition?w=function(e,t){return e===t?(u=!0,0):!e.compareDocumentPosition||!t.compareDocumentPosition?e.compareDocumentPosition?-1:1:e.compareDocumentPosition(t)&4?-1:1}:(w=function(e,t){if(e===t)return u=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var n,r,i=[],s=[],o=e.parentNode,a=t.parentNode,f=o;if(o===a)return E(e,t);if(!o)return-1;if(!a)return 1
;while(f)i.unshift(f),f=f.parentNode;f=a;while(f)s.unshift(f),f=f.parentNode;n=i.length,r=s.length;for(var l=0;l<n&&l<r;l++)if(i[l]!==s[l])return E(i[l],s[l]);return l===n?E(e,s[l],-1):E(i[l],t,1)},E=function(e,t,n){if(e===t)return n;var r=e.nextSibling;while(r){if(r===t)return-1;r=r.nextSibling}return 1}),function(){var e=n.createElement("div"),r="script"+(new Date).getTime(),i=n.documentElement;e.innerHTML="<a name='"+r+"'/>",i.insertBefore(e,i.firstChild),n.getElementById(r)&&(d.find.ID=function(e,n,r){if(typeof n.getElementById!="undefined"&&!r){var i=n.getElementById(e[1]);return i?i.id===e[1]||typeof i.getAttributeNode!="undefined"&&i.getAttributeNode("id").nodeValue===e[1]?[i]:t:[]}},d.filter.ID=function(e,t){var n=typeof e.getAttributeNode!="undefined"&&e.getAttributeNode("id");return e.nodeType===1&&n&&n.nodeValue===t}),i.removeChild(e),i=e=null}(),function(){var e=n.createElement("div");e.appendChild(n.createComment("")),e.getElementsByTagName("*").length>0&&(d.find.TAG=function(e,t){var n=t.getElementsByTagName(e[1]);if(e[1]==="*"){var r=[];for(var i=0;n[i];i++)n[i].nodeType===1&&r.push(n[i]);n=r}return n}),e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!="undefined"&&e.firstChild.getAttribute("href")!=="#"&&(d.attrHandle.href=function(e){return e.getAttribute("href",2)}),e=null}(),n.querySelectorAll&&function(){var e=h,t=n.createElement("div"),r="__sizzle__";t.innerHTML="<p class='TEST'></p>";if(t.querySelectorAll&&t.querySelectorAll(".TEST").length===0)return;h=function(t,i,s,o){i=i||n;if(!o&&!h.isXML(i)){var u=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/
.exec(t);if(u&&(i.nodeType===1||i.nodeType===9)){if(u[1])return y(i.getElementsByTagName(t),s);if(u[2]&&d.find.CLASS&&i.getElementsByClassName)return y(i.getElementsByClassName(u[2]),s)}if(i.nodeType===9){if(t==="body"&&i.body)return y([i.body],s);if(u&&u[3]){var a=i.getElementById(u[3]);if(!a||!a.parentNode)return y([],s);if(a.id===u[3])return y([a],s)}try{return y(i.querySelectorAll(t),s)}catch(f){}}else if(i.nodeType===1&&i.nodeName.toLowerCase()!=="object"){var l=i,c=i.getAttribute("id"),p=c||r,v=i.parentNode,m=/^\s*[+~]/.test(t);c?p=p.replace(/'/g,"\\$&"):i.setAttribute("id",p),m&&v&&(i=i.parentNode);try{if(!m||v)return y(i.querySelectorAll("[id='"+p+"'] "+t),s)}catch(g){}finally{c||l.removeAttribute("id")}}}return e(t,i,s,o)};for(var i in e)h[i]=e[i];t=null}(),function(){var e=n.documentElement,t=e.matchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.msMatchesSelector;if(t){var r=!t.call(n.createElement("div"),"div"),i=!1;try{t.call(n.documentElement,"[test!='']:sizzle")}catch(s){i=!0}h.matchesSelector=function(e,n){n=n.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!h.isXML(e))try{if(i||!d.match.PSEUDO.test(n)&&!/!=/.test(n)){var s=t.call(e,n);if(s||!r||e.document&&e.document.nodeType!==11)return s}}catch(o){}return h(n,null,null,[e]).length>0}}}(),function(){var e=n.createElement("div");e.innerHTML="<div class='test e'></div><div class='test'></div>";if(!e.getElementsByClassName||e.getElementsByClassName("e").length===0)return;e.lastChild.className="e";if(e.getElementsByClassName("e").length===1)return;d.order.splice(1,0,"CLASS"),d.find.CLASS=function(e,t,
n){if(typeof t.getElementsByClassName!="undefined"&&!n)return t.getElementsByClassName(e[1])},e=null}(),n.documentElement.contains?h.contains=function(e,t){return e!==t&&(e.contains?e.contains(t):!0)}:n.documentElement.compareDocumentPosition?h.contains=function(e,t){return!!(e.compareDocumentPosition(t)&16)}:h.contains=function(){return!1},h.isXML=function(e){var t=(e?e.ownerDocument||e:0).documentElement;return t?t.nodeName!=="HTML":!1};var T=function(e,t,n){var r,i=[],s="",o=t.nodeType?[t]:t;while(r=d.match.PSEUDO.exec(e))s+=r[0],e=e.replace(d.match.PSEUDO,"");e=d.relative[e]?e+"*":e;for(var u=0,a=o.length;u<a;u++)h(e,o[u],i,n);return h.filter(s,i)};h.attr=s.attr,h.selectors.attrMap={},s.find=h,s.expr=h.selectors,s.expr[":"]=s.expr.filters,s.unique=h.uniqueSort,s.text=h.getText,s.isXMLDoc=h.isXML,s.contains=h.contains}();var j=/Until$/,F=/^(?:parents|prevUntil|prevAll)/,I=/,/,q=/^.[^:#\[\.,]*$/,R=Array.prototype.slice,U=s.expr.match.globalPOS,z={children:!0,contents:!0,next:!0,prev:!0};s.fn.extend({find:function(e){var t=this,n,r;if(typeof e!="string")return s(e).filter(function(){for(n=0,r=t.length;n<r;n++)if(s.contains(t[n],this))return!0});var i=this.pushStack("","find",e),o,u,a;for(n=0,r=this.length;n<r;n++){o=i.length,s.find(e,this[n],i);if(n>0)for(u=o;u<i.length;u++)for(a=0;a<o;a++)if(i[a]===i[u]){i.splice(u--,1);break}}return i},has:function(e){var t=s(e);return this.filter(function(){for(var e=0,n=t.length;e<n;e++)if(s.contains(this,t[e]))return!0})},not:function(e){return this.pushStack(X(this,e,!1),"not",e)},filter:function(e){return this.pushStack(X(this,e,!0),"filter"
,e)},is:function(e){return!!e&&(typeof e=="string"?U.test(e)?s(e,this.context).index(this[0])>=0:s.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){var n=[],r,i,o=this[0];if(s.isArray(e)){var u=1;while(o&&o.ownerDocument&&o!==t){for(r=0;r<e.length;r++)s(o).is(e[r])&&n.push({selector:e[r],elem:o,level:u});o=o.parentNode,u++}return n}var a=U.test(e)||typeof e!="string"?s(e,t||this.context):0;for(r=0,i=this.length;r<i;r++){o=this[r];while(o){if(a?a.index(o)>-1:s.find.matchesSelector(o,e)){n.push(o);break}o=o.parentNode;if(!o||!o.ownerDocument||o===t||o.nodeType===11)break}}return n=n.length>1?s.unique(n):n,this.pushStack(n,"closest",e)},index:function(e){return e?typeof e=="string"?s.inArray(this[0],s(e)):s.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(e,t){var n=typeof e=="string"?s(e,t):s.makeArray(e&&e.nodeType?[e]:e),r=s.merge(this.get(),n);return this.pushStack(W(n[0])||W(r[0])?r:s.unique(r))},andSelf:function(){return this.add(this.prevObject)}}),s.each({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return s.dir(e,"parentNode")},parentsUntil:function(e,t,n){return s.dir(e,"parentNode",n)},next:function(e){return s.nth(e,2,"nextSibling")},prev:function(e){return s.nth(e,2,"previousSibling")},nextAll:function(e){return s.dir(e,"nextSibling")},prevAll:function(e){return s.dir(e,"previousSibling")},nextUntil:function(e,t,n){return s.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return s.dir(e,"previousSibling",n)},siblings:function(e){return s.sibling((e
.parentNode||{}).firstChild,e)},children:function(e){return s.sibling(e.firstChild)},contents:function(e){return s.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:s.makeArray(e.childNodes)}},function(e,t){s.fn[e]=function(n,r){var i=s.map(this,t,n);return j.test(e)||(r=n),r&&typeof r=="string"&&(i=s.filter(r,i)),i=this.length>1&&!z[e]?s.unique(i):i,(this.length>1||I.test(r))&&F.test(e)&&(i=i.reverse()),this.pushStack(i,e,R.call(arguments).join(","))}}),s.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),t.length===1?s.find.matchesSelector(t[0],e)?[t[0]]:[]:s.find.matches(e,t)},dir:function(e,n,r){var i=[],o=e[n];while(o&&o.nodeType!==9&&(r===t||o.nodeType!==1||!s(o).is(r)))o.nodeType===1&&i.push(o),o=o[n];return i},nth:function(e,t,n,r){t=t||1;var i=0;for(;e;e=e[n])if(e.nodeType===1&&++i===t)break;return e},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling)e.nodeType===1&&e!==t&&n.push(e);return n}});var $="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",J=/ jQuery\d+="(?:\d+|null)"/g,K=/^\s+/,Q=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,G=/<([\w:]+)/,Y=/<tbody/i,Z=/<|&#?\w+;/,et=/<(?:script|style)/i,tt=/<(?:script|object|embed|option|style)/i,nt=new RegExp("<(?:"+$+")[\\s/>]","i"),rt=/checked\s*(?:[^=]|=\s*.checked.)/i,it=/\/(java|ecma)script/i,st=/^\s*<!(?:\[CDATA\[|\-\-)/,ot={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>"
,"</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},ut=V(n);ot.optgroup=ot.option,ot.tbody=ot.tfoot=ot.colgroup=ot.caption=ot.thead,ot.th=ot.td,s.support.htmlSerialize||(ot._default=[1,"div<div>","</div>"]),s.fn.extend({text:function(e){return s.access(this,function(e){return e===t?s.text(this):this.empty().append((this[0]&&this[0].ownerDocument||n).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(s.isFunction(e))return this.each(function(t){s(this).wrapAll(e.call(this,t))});if(this[0]){var t=s(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstChild&&e.firstChild.nodeType===1)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return s.isFunction(e)?this.each(function(t){s(this).wrapInner(e.call(this,t))}):this.each(function(){var t=s(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=s.isFunction(e);return this.each(function(n){s(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){s.nodeName(this,"body")||s(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){this.nodeType===1&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){this.nodeType===1&&this.insertBefore(e,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(
e){this.parentNode.insertBefore(e,this)});if(arguments.length){var e=s.clean(arguments);return e.push.apply(e,this.toArray()),this.pushStack(e,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)});if(arguments.length){var e=this.pushStack(this,"after",arguments);return e.push.apply(e,s.clean(arguments)),e}},remove:function(e,t){for(var n=0,r;(r=this[n])!=null;n++)if(!e||s.filter(e,[r]).length)!t&&r.nodeType===1&&(s.cleanData(r.getElementsByTagName("*")),s.cleanData([r])),r.parentNode&&r.parentNode.removeChild(r);return this},empty:function(){for(var e=0,t;(t=this[e])!=null;e++){t.nodeType===1&&s.cleanData(t.getElementsByTagName("*"));while(t.firstChild)t.removeChild(t.firstChild)}return this},clone:function(e,t){return e=e==null?!1:e,t=t==null?e:t,this.map(function(){return s.clone(this,e,t)})},html:function(e){return s.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t)return n.nodeType===1?n.innerHTML.replace(J,""):null;if(typeof e=="string"&&!et.test(e)&&(s.support.leadingWhitespace||!K.test(e))&&!ot[(G.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Q,"<$1></$2>");try{for(;r<i;r++)n=this[r]||{},n.nodeType===1&&(s.cleanData(n.getElementsByTagName("*")),n.innerHTML=e);n=0}catch(o){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){return this[0]&&this[0].parentNode?s.isFunction(e)?this.each(function(t){var n=s(this),r=n.html();n.replaceWith(e.call(this,t,r))}):(typeof e!="string"&&(e=s(e).detach()),this.each(function(
){var t=this.nextSibling,n=this.parentNode;s(this).remove(),t?s(t).before(e):s(n).append(e)})):this.length?this.pushStack(s(s.isFunction(e)?e():e),"replaceWith",e):this},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,r){var i,o,u,a,f=e[0],l=[];if(!s.support.checkClone&&arguments.length===3&&typeof f=="string"&&rt.test(f))return this.each(function(){s(this).domManip(e,n,r,!0)});if(s.isFunction(f))return this.each(function(i){var o=s(this);e[0]=f.call(this,i,n?o.html():t),o.domManip(e,n,r)});if(this[0]){a=f&&f.parentNode,s.support.parentNode&&a&&a.nodeType===11&&a.childNodes.length===this.length?i={fragment:a}:i=s.buildFragment(e,this,l),u=i.fragment,u.childNodes.length===1?o=u=u.firstChild:o=u.firstChild;if(o){n=n&&s.nodeName(o,"tr");for(var c=0,h=this.length,p=h-1;c<h;c++)r.call(n?at(this[c],o):this[c],i.cacheable||h>1&&c<p?s.clone(u,!0,!0):u)}l.length&&s.each(l,function(e,t){t.src?s.ajax({type:"GET",global:!1,url:t.src,async:!1,dataType:"script"}):s.globalEval((t.text||t.textContent||t.innerHTML||"").replace(st,"/*$0*/")),t.parentNode&&t.parentNode.removeChild(t)})}return this}}),s.buildFragment=function(e,t,r){var i,o,u,a,f=e[0];return t&&t[0]&&(a=t[0].ownerDocument||t[0]),a.createDocumentFragment||(a=n),e.length===1&&typeof f=="string"&&f.length<512&&a===n&&f.charAt(0)==="<"&&!tt.test(f)&&(s.support.checkClone||!rt.test(f))&&(s.support.html5Clone||!nt.test(f))&&(o=!0,u=s.fragments[f],u&&u!==1&&(i=u)),i||(i=a.createDocumentFragment(),s.clean(e,a,i,r)),o&&(s.fragments[f]=u?i:1),{fragment:i,cacheable:o}},s.fragments={},s.each({appendTo:"append",prependTo:"prepend"
,insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){s.fn[e]=function(n){var r=[],i=s(n),o=this.length===1&&this[0].parentNode;if(o&&o.nodeType===11&&o.childNodes.length===1&&i.length===1)return i[t](this[0]),this;for(var u=0,a=i.length;u<a;u++){var f=(u>0?this.clone(!0):this).get();s(i[u])[t](f),r=r.concat(f)}return this.pushStack(r,e,i.selector)}}),s.extend({clone:function(e,t,n){var r,i,o,u=s.support.html5Clone||s.isXMLDoc(e)||!nt.test("<"+e.nodeName+">")?e.cloneNode(!0):dt(e);if((!s.support.noCloneEvent||!s.support.noCloneChecked)&&(e.nodeType===1||e.nodeType===11)&&!s.isXMLDoc(e)){lt(e,u),r=ct(e),i=ct(u);for(o=0;r[o];++o)i[o]&&lt(r[o],i[o])}if(t){ft(e,u);if(n){r=ct(e),i=ct(u);for(o=0;r[o];++o)ft(r[o],i[o])}}return r=i=null,u},clean:function(e,t,r,i){var o,u,a,f=[];t=t||n,typeof t.createElement=="undefined"&&(t=t.ownerDocument||t[0]&&t[0].ownerDocument||n);for(var l=0,c;(c=e[l])!=null;l++){typeof c=="number"&&(c+="");if(!c)continue;if(typeof c=="string")if(!Z.test(c))c=t.createTextNode(c);else{c=c.replace(Q,"<$1></$2>");var h=(G.exec(c)||["",""])[1].toLowerCase(),p=ot[h]||ot._default,d=p[0],v=t.createElement("div"),m=ut.childNodes,g;t===n?ut.appendChild(v):V(t).appendChild(v),v.innerHTML=p[1]+c+p[2];while(d--)v=v.lastChild;if(!s.support.tbody){var y=Y.test(c),b=h==="table"&&!y?v.firstChild&&v.firstChild.childNodes:p[1]==="<table>"&&!y?v.childNodes:[];for(a=b.length-1;a>=0;--a)s.nodeName(b[a],"tbody")&&!b[a].childNodes.length&&b[a].parentNode.removeChild(b[a])}!s.support.leadingWhitespace&&K.test(c)&&v.insertBefore(t.createTextNode(K.exec(c)[0
]),v.firstChild),c=v.childNodes,v&&(v.parentNode.removeChild(v),m.length>0&&(g=m[m.length-1],g&&g.parentNode&&g.parentNode.removeChild(g)))}var w;if(!s.support.appendChecked)if(c[0]&&typeof (w=c.length)=="number")for(a=0;a<w;a++)pt(c[a]);else pt(c);c.nodeType?f.push(c):f=s.merge(f,c)}if(r){o=function(e){return!e.type||it.test(e.type)};for(l=0;f[l];l++){u=f[l];if(i&&s.nodeName(u,"script")&&(!u.type||it.test(u.type)))i.push(u.parentNode?u.parentNode.removeChild(u):u);else{if(u.nodeType===1){var E=s.grep(u.getElementsByTagName("script"),o);f.splice.apply(f,[l+1,0].concat(E))}r.appendChild(u)}}}return f},cleanData:function(e){var t,n,r=s.cache,i=s.event.special,o=s.support.deleteExpando;for(var u=0,a;(a=e[u])!=null;u++){if(a.nodeName&&s.noData[a.nodeName.toLowerCase()])continue;n=a[s.expando];if(n){t=r[n];if(t&&t.events){for(var f in t.events)i[f]?s.event.remove(a,f):s.removeEvent(a,f,t.handle);t.handle&&(t.handle.elem=null)}o?delete a[s.expando]:a.removeAttribute&&a.removeAttribute(s.expando),delete r[n]}}}});var vt=/alpha\([^)]*\)/i,mt=/opacity=([^)]*)/,gt=/([A-Z]|^ms)/g,yt=/^[\-+]?(?:\d*\.)?\d+$/i,bt=/^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i,wt=/^([\-+])=([\-+.\de]+)/,Et=/^margin/,St={position:"absolute",visibility:"hidden",display:"block"},xt=["Top","Right","Bottom","Left"],Tt,Nt,Ct;s.fn.css=function(e,n){return s.access(this,function(e,n,r){return r!==t?s.style(e,n,r):s.css(e,n)},e,n,arguments.length>1)},s.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Tt(e,"opacity");return n===""?"1":n}return e.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity
:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":s.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(!e||e.nodeType===3||e.nodeType===8||!e.style)return;var o,u,a=s.camelCase(n),f=e.style,l=s.cssHooks[a];n=s.cssProps[a]||a;if(r===t)return l&&"get"in l&&(o=l.get(e,!1,i))!==t?o:f[n];u=typeof r,u==="string"&&(o=wt.exec(r))&&(r=+(o[1]+1)*+o[2]+parseFloat(s.css(e,n)),u="number");if(r==null||u==="number"&&isNaN(r))return;u==="number"&&!s.cssNumber[a]&&(r+="px");if(!l||!("set"in l)||(r=l.set(e,r))!==t)try{f[n]=r}catch(c){}},css:function(e,n,r){var i,o;n=s.camelCase(n),o=s.cssHooks[n],n=s.cssProps[n]||n,n==="cssFloat"&&(n="float");if(o&&"get"in o&&(i=o.get(e,!0,r))!==t)return i;if(Tt)return Tt(e,n)},swap:function(e,t,n){var r={},i,s;for(s in t)r[s]=e.style[s],e.style[s]=t[s];i=n.call(e);for(s in t)e.style[s]=r[s];return i}}),s.curCSS=s.css,n.defaultView&&n.defaultView.getComputedStyle&&(Nt=function(e,t){var n,r,i,o,u=e.style;return t=t.replace(gt,"-$1").toLowerCase(),(r=e.ownerDocument.defaultView)&&(i=r.getComputedStyle(e,null))&&(n=i.getPropertyValue(t),n===""&&!s.contains(e.ownerDocument.documentElement,e)&&(n=s.style(e,t))),!s.support.pixelMargin&&i&&Et.test(t)&&bt.test(n)&&(o=u.width,u.width=n,n=i.width,u.width=o),n}),n.documentElement.currentStyle&&(Ct=function(e,t){var n,r,i,s=e.currentStyle&&e.currentStyle[t],o=e.style;return s==null&&o&&(i=o[t])&&(s=i),bt.test(s)&&(n=o.left,r=e.runtimeStyle&&e.runtimeStyle.left,r&&(e.runtimeStyle.left=e.currentStyle.left),o.left=t==="fontSize"?"1em":s,s=o.pixelLeft+"px",o.left=n,r&&(e.runtimeStyle.left=r)),s===""?"auto"
:s}),Tt=Nt||Ct,s.each(["height","width"],function(e,t){s.cssHooks[t]={get:function(e,n,r){if(n)return e.offsetWidth!==0?kt(e,t,r):s.swap(e,St,function(){return kt(e,t,r)})},set:function(e,t){return yt.test(t)?t+"px":t}}}),s.support.opacity||(s.cssHooks.opacity={get:function(e,t){return mt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?parseFloat(RegExp.$1)/100+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=s.isNumeric(t)?"alpha(opacity="+t*100+")":"",o=r&&r.filter||n.filter||"";n.zoom=1;if(t>=1&&s.trim(o.replace(vt,""))===""){n.removeAttribute("filter");if(r&&!r.filter)return}n.filter=vt.test(o)?o.replace(vt,i):o+" "+i}}),s(function(){s.support.reliableMarginRight||(s.cssHooks.marginRight={get:function(e,t){return s.swap(e,{display:"inline-block"},function(){return t?Tt(e,"margin-right"):e.style.marginRight})}})}),s.expr&&s.expr.filters&&(s.expr.filters.hidden=function(e){var t=e.offsetWidth,n=e.offsetHeight;return t===0&&n===0||!s.support.reliableHiddenOffsets&&(e.style&&e.style.display||s.css(e,"display"))==="none"},s.expr.filters.visible=function(e){return!s.expr.filters.hidden(e)}),s.each({margin:"",padding:"",border:"Width"},function(e,t){s.cssHooks[e+t]={expand:function(n){var r,i=typeof n=="string"?n.split(" "):[n],s={};for(r=0;r<4;r++)s[e+xt[r]+t]=i[r]||i[r-2]||i[0];return s}}});var Lt={},At,Ot,Mt=/^(?:toggle|show|hide)$/,_t=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,Dt,Pt=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],Ht;s.fn.extend({show:
function(e,t,n){var r,i;if(e||e===0)return this.animate(Ft("show",3),e,t,n);for(var o=0,u=this.length;o<u;o++)r=this[o],r.style&&(i=r.style.display,!s._data(r,"olddisplay")&&i==="none"&&(i=r.style.display=""),(i===""&&s.css(r,"display")==="none"||!s.contains(r.ownerDocument.documentElement,r))&&s._data(r,"olddisplay",It(r.nodeName)));for(o=0;o<u;o++){r=this[o];if(r.style){i=r.style.display;if(i===""||i==="none")r.style.display=s._data(r,"olddisplay")||""}}return this},hide:function(e,t,n){if(e||e===0)return this.animate(Ft("hide",3),e,t,n);var r,i,o=0,u=this.length;for(;o<u;o++)r=this[o],r.style&&(i=s.css(r,"display"),i!=="none"&&!s._data(r,"olddisplay")&&s._data(r,"olddisplay",i));for(o=0;o<u;o++)this[o].style&&(this[o].style.display="none");return this},_toggle:s.fn.toggle,toggle:function(e,t,n){var r=typeof e=="boolean";return s.isFunction(e)&&s.isFunction(t)?this._toggle.apply(this,arguments):e==null||r?this.each(function(){var t=r?e:s(this).is(":hidden");s(this)[t?"show":"hide"]()}):this.animate(Ft("toggle",3),e,t,n),this},fadeTo:function(e,t,n,r){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){function o(){i.queue===!1&&s._mark(this);var t=s.extend({},i),n=this.nodeType===1,r=n&&s(this).is(":hidden"),o,u,a,f,l,c,h,p,d,v,m;t.animatedProperties={};for(a in e){o=s.camelCase(a),a!==o&&(e[o]=e[a],delete e[a]);if((l=s.cssHooks[o])&&"expand"in l){c=l.expand(e[o]),delete e[o];for(a in c)a in e||(e[a]=c[a])}}for(o in e){u=e[o],s.isArray(u)?(t.animatedProperties[o]=u[1],u=e[o]=u[0]):t.animatedProperties[o]=t.specialEasing&&
t.specialEasing[o]||t.easing||"swing";if(u==="hide"&&r||u==="show"&&!r)return t.complete.call(this);n&&(o==="height"||o==="width")&&(t.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],s.css(this,"display")==="inline"&&s.css(this,"float")==="none"&&(!s.support.inlineBlockNeedsLayout||It(this.nodeName)==="inline"?this.style.display="inline-block":this.style.zoom=1))}t.overflow!=null&&(this.style.overflow="hidden");for(a in e)f=new s.fx(this,t,a),u=e[a],Mt.test(u)?(m=s._data(this,"toggle"+a)||(u==="toggle"?r?"show":"hide":0),m?(s._data(this,"toggle"+a,m==="show"?"hide":"show"),f[m]()):f[u]()):(h=_t.exec(u),p=f.cur(),h?(d=parseFloat(h[2]),v=h[3]||(s.cssNumber[a]?"":"px"),v!=="px"&&(s.style(this,a,(d||1)+v),p=(d||1)/f.cur()*p,s.style(this,a,p+v)),h[1]&&(d=(h[1]==="-="?-1:1)*d+p),f.custom(p,d,v)):f.custom(p,u,""));return!0}var i=s.speed(t,n,r);return s.isEmptyObject(e)?this.each(i.complete,[!1]):(e=s.extend({},e),i.queue===!1?this.each(o):this.queue(i.queue,o))},stop:function(e,n,r){return typeof e!="string"&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){function u(e,t,n){var i=t[n];s.removeData(e,n,!0),i.stop(r)}var t,n=!1,i=s.timers,o=s._data(this);r||s._unmark(!0,this);if(e==null)for(t in o)o[t]&&o[t].stop&&t.indexOf(".run")===t.length-4&&u(this,o,t);else o[t=e+".run"]&&o[t].stop&&u(this,o,t);for(t=i.length;t--;)i[t].elem===this&&(e==null||i[t].queue===e)&&(r?i[t](!0):i[t].saveState(),n=!0,i.splice(t,1));(!r||!n)&&s.dequeue(this,e)})}}),s.each({slideDown:Ft("show",1),slideUp:Ft("hide",1),slideToggle:Ft("toggle",1),fadeIn:{opacity:"show"
},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){s.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),s.extend({speed:function(e,t,n){var r=e&&typeof e=="object"?s.extend({},e):{complete:n||!n&&t||s.isFunction(e)&&e,duration:e,easing:n&&t||t&&!s.isFunction(t)&&t};r.duration=s.fx.off?0:typeof r.duration=="number"?r.duration:r.duration in s.fx.speeds?s.fx.speeds[r.duration]:s.fx.speeds._default;if(r.queue==null||r.queue===!0)r.queue="fx";return r.old=r.complete,r.complete=function(e){s.isFunction(r.old)&&r.old.call(this),r.queue?s.dequeue(this,r.queue):e!==!1&&s._unmark(this)},r},easing:{linear:function(e){return e},swing:function(e){return-Math.cos(e*Math.PI)/2+.5}},timers:[],fx:function(e,t,n){this.options=t,this.elem=e,this.prop=n,t.orig=t.orig||{}}}),s.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(s.fx.step[this.prop]||s.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]==null||!!this.elem.style&&this.elem.style[this.prop]!=null){var e,t=s.css(this.elem,this.prop);return isNaN(e=parseFloat(t))?!t||t==="auto"?0:t:e}return this.elem[this.prop]},custom:function(e,n,r){function u(e){return i.step(e)}var i=this,o=s.fx;this.startTime=Ht||Bt(),this.end=n,this.now=this.start=e,this.pos=this.state=0,this.unit=r||this.unit||(s.cssNumber[this.prop]?"":"px"),u.queue=this.options.queue,u.elem=this.elem,u.saveState=function(){s._data(i.elem,"fxshow"+i.prop)===t&&(i.options.hide?s._data(i.elem,"fxshow"+i.prop,i.start):i.options.show&&s._data(i.elem,"fxshow"+i.prop,i.end))},u()&&s.timers.push(u)&&!
Dt&&(Dt=setInterval(o.tick,o.interval))},show:function(){var e=s._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=e||s.style(this.elem,this.prop),this.options.show=!0,e!==t?this.custom(this.cur(),e):this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur()),s(this.elem).show()},hide:function(){this.options.orig[this.prop]=s._data(this.elem,"fxshow"+this.prop)||s.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(e){var t,n,r,i=Ht||Bt(),o=!0,u=this.elem,a=this.options;if(e||i>=a.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),a.animatedProperties[this.prop]=!0;for(t in a.animatedProperties)a.animatedProperties[t]!==!0&&(o=!1);if(o){a.overflow!=null&&!s.support.shrinkWrapBlocks&&s.each(["","X","Y"],function(e,t){u.style["overflow"+t]=a.overflow[e]}),a.hide&&s(u).hide();if(a.hide||a.show)for(t in a.animatedProperties)s.style(u,t,a.orig[t]),s.removeData(u,"fxshow"+t,!0),s.removeData(u,"toggle"+t,!0);r=a.complete,r&&(a.complete=!1,r.call(u))}return!1}return a.duration==Infinity?this.now=i:(n=i-this.startTime,this.state=n/a.duration,this.pos=s.easing[a.animatedProperties[this.prop]](this.state,n,0,1,a.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update(),!0}},s.extend(s.fx,{tick:function(){var e,t=s.timers,n=0;for(;n<t.length;n++)e=t[n],!e()&&t[n]===e&&t.splice(n--,1);t.length||s.fx.stop()},interval:13,stop:function(){clearInterval(Dt),Dt=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(e){s.style(e.elem,"opacity",e.now)},_default:function(e){e.
elem.style&&e.elem.style[e.prop]!=null?e.elem.style[e.prop]=e.now+e.unit:e.elem[e.prop]=e.now}}}),s.each(Pt.concat.apply([],Pt),function(e,t){t.indexOf("margin")&&(s.fx.step[t]=function(e){s.style(e.elem,t,Math.max(0,e.now)+e.unit)})}),s.expr&&s.expr.filters&&(s.expr.filters.animated=function(e){return s.grep(s.timers,function(t){return e===t.elem}).length});var qt,Rt=/^t(?:able|d|h)$/i,Ut=/^(?:body|html)$/i;"getBoundingClientRect"in n.documentElement?qt=function(e,t,n,r){try{r=e.getBoundingClientRect()}catch(i){}if(!r||!s.contains(n,e))return r?{top:r.top,left:r.left}:{top:0,left:0};var o=t.body,u=zt(t),a=n.clientTop||o.clientTop||0,f=n.clientLeft||o.clientLeft||0,l=u.pageYOffset||s.support.boxModel&&n.scrollTop||o.scrollTop,c=u.pageXOffset||s.support.boxModel&&n.scrollLeft||o.scrollLeft,h=r.top+l-a,p=r.left+c-f;return{top:h,left:p}}:qt=function(e,t,n){var r,i=e.offsetParent,o=e,u=t.body,a=t.defaultView,f=a?a.getComputedStyle(e,null):e.currentStyle,l=e.offsetTop,c=e.offsetLeft;while((e=e.parentNode)&&e!==u&&e!==n){if(s.support.fixedPosition&&f.position==="fixed")break;r=a?a.getComputedStyle(e,null):e.currentStyle,l-=e.scrollTop,c-=e.scrollLeft,e===i&&(l+=e.offsetTop,c+=e.offsetLeft,s.support.doesNotAddBorder&&(!s.support.doesAddBorderForTableAndCells||!Rt.test(e.nodeName))&&(l+=parseFloat(r.borderTopWidth)||0,c+=parseFloat(r.borderLeftWidth)||0),o=i,i=e.offsetParent),s.support.subtractsBorderForOverflowNotVisible&&r.overflow!=="visible"&&(l+=parseFloat(r.borderTopWidth)||0,c+=parseFloat(r.borderLeftWidth)||0),f=r}if(f.position==="relative"||f.position==="static")l+=u.offsetTop
,c+=u.offsetLeft;return s.support.fixedPosition&&f.position==="fixed"&&(l+=Math.max(n.scrollTop,u.scrollTop),c+=Math.max(n.scrollLeft,u.scrollLeft)),{top:l,left:c}},s.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){s.offset.setOffset(this,e,t)});var n=this[0],r=n&&n.ownerDocument;return r?n===r.body?s.offset.bodyOffset(n):qt(n,r,r.documentElement):null},s.offset={bodyOffset:function(e){var t=e.offsetTop,n=e.offsetLeft;return s.support.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(s.css(e,"marginTop"))||0,n+=parseFloat(s.css(e,"marginLeft"))||0),{top:t,left:n}},setOffset:function(e,t,n){var r=s.css(e,"position");r==="static"&&(e.style.position="relative");var i=s(e),o=i.offset(),u=s.css(e,"top"),a=s.css(e,"left"),f=(r==="absolute"||r==="fixed")&&s.inArray("auto",[u,a])>-1,l={},c={},h,p;f?(c=i.position(),h=c.top,p=c.left):(h=parseFloat(u)||0,p=parseFloat(a)||0),s.isFunction(t)&&(t=t.call(e,n,o)),t.top!=null&&(l.top=t.top-o.top+h),t.left!=null&&(l.left=t.left-o.left+p),"using"in t?t.using.call(e,l):i.css(l)}},s.fn.extend({position:function(){if(!this[0])return null;var e=this[0],t=this.offsetParent(),n=this.offset(),r=Ut.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(s.css(e,"marginTop"))||0,n.left-=parseFloat(s.css(e,"marginLeft"))||0,r.top+=parseFloat(s.css(t[0],"borderTopWidth"))||0,r.left+=parseFloat(s.css(t[0],"borderLeftWidth"))||0,{top:n.top-r.top,left:n.left-r.left}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||n.body;while(e&&!Ut.test(e.nodeName)&&s.css(e,"position")==="static")
e=e.offsetParent;return e})}}),s.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r=/Y/.test(n);s.fn[e]=function(i){return s.access(this,function(e,i,o){var u=zt(e);if(o===t)return u?n in u?u[n]:s.support.boxModel&&u.document.documentElement[i]||u.document.body[i]:e[i];u?u.scrollTo(r?s(u).scrollLeft():o,r?o:s(u).scrollTop()):e[i]=o},e,i,arguments.length,null)}}),s.each({Height:"height",Width:"width"},function(e,n){var r="client"+e,i="scroll"+e,o="offset"+e;s.fn["inner"+e]=function(){var e=this[0];return e?e.style?parseFloat(s.css(e,n,"padding")):this[n]():null},s.fn["outer"+e]=function(e){var t=this[0];return t?t.style?parseFloat(s.css(t,n,e?"margin":"border")):this[n]():null},s.fn[n]=function(e){return s.access(this,function(e,n,u){var a,f,l,c;if(s.isWindow(e))return a=e.document,f=a.documentElement[r],s.support.boxModel&&f||a.body&&a.body[r]||f;if(e.nodeType===9)return a=e.documentElement,a[r]>=a[i]?a[r]:Math.max(e.body[i],a[i],e.body[o],a[o]);if(u===t)return l=s.css(e,n),c=parseFloat(l),s.isNumeric(c)?c:l;s(e).css(n,u)},n,e,arguments.length,null)}}),e.jQuery=e.$=s,typeof define=="function"&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return s})})(window),jQuery.Buffer=function(){function t(e){for(var t in e)typeof e[t]=="function"&&(e[t].displayName=t)}var e=function(e){e&&this.assign(e),this._bufferedCommandList=[],this._bufferedCommands={}};return e._buffers=[],e._pool=[],e.bufferForElement=function(e){return e._jquery_buffer?e._jquery_buffer:this.bufferFromPool().assign(e)},e.bufferFromPool=function(){var t=null;return this._pool
.length===0?t=new e:t=this._pool.pop(),e._buffers.push(t),this.flushingScheduled||this.scheduleFlushing(),t},e.returnToPool=function(e){e.unassign(),this._pool.push(e)},e.scheduleFlushing=function(){this.flushingScheduled=!0},e.flush=function(){var e=this._buffers,t,n=e.length;for(t=0;t<n;t++)e[t].flush(),this.returnToPool(e[t]);this._buffers=[],this.flushingScheduled=!1},e.prototype.assign=function(e){return this._el&&this.unassign(),this._el=e,this._el._jquery_buffer=this,this},e.prototype.unassign=function(){if(!this._el)return;return this._el._jquery_buffer=undefined,this._el=undefined,this},e.prototype.flush=function(){var e=this._bufferedCommandList,t=e.length,n,r;for(n=0;n<t;n++)r=e[n],this[r](this._bufferedCommands[r]),delete this._bufferedCommands[r];this._bufferedCommandList.length=0,this.unassign()},e.prototype.$=function(e,t){t||(t=this._el);if(e===""||e===undefined)e=t,t=undefined;return jQuery(e,t)},e.prototype.bufferedCommand=function(e){return this._bufferedCommands[e]||(this._bufferedCommands[e]={},this._bufferedCommandList.push(e)),this._bufferedCommands[e]},e.prototype.hasBufferedCommand=function(e){return!!this._bufferedCommands[e]},e.prototype.html=function(e){var t=this.bufferedCommand("flushContent");if(e===undefined)return t.text||t.html||this.$().html();t.text=undefined,t.html=e},e.prototype.text=function(e){var t=this.bufferedCommand("flushContent");if(e===undefined)return t.text||t.html||this.$().text();t.text=e,t.html=undefined},e.prototype.flushContent=function(e){e.text!==undefined?this.$().text(e.text):e.html!==undefined&&this.$().html(e.html)}
,e.prototype.attr=function(e,t){if(typeof e=="object"){for(var n in e)this.attr(n,e[n]);return}if(e==="class"){if(t===undefined)return this.setClass().join(" ");if(typeof t=="string"||jQuery.isArray(t)){var r=this.bufferedCommand("flushClassNames");r.classNames=this._hashFromClassNames(t);return}return this.setClass(t)}if(e==="html")return this.html(t);if(e==="text")return this.text(t);if(e==="style")return this.resetStyles(t);var i=this.bufferedCommand("flushAttributes");i.attr||(i.attr={}),i.attr[e]=t},e.prototype.flushAttributes=function(e){var t=e.attr,n=this.$(),r;for(var i in t){if(!t.hasOwnProperty(i))continue;r=t[i],r!==null?n.attr(i,r):n.removeAttr(i)}},e.prototype._STYLE_REGEX=/-?\s*([^:\s]+)\s*:\s*([^;]+)\s*;?/g,e.prototype._camelizeStyleName=function(e){var t=e.match(/^-(webkit|moz|o)-/),n=e.camelize();return t?n.substr(0,1).toUpperCase()+n.substr(1):n},e.prototype._dasherizeStyleName=function(e){var t=SC.String.dasherize(e);return t.match(/^(webkit|moz|ms|o)-/)&&(t="-"+t),t},e.prototype._loadStyles=function(e){e||(e=this.$().attr("style"));if(e&&(e=e.toString()).length>0){SC.browser.msie&&(e=e.toLowerCase());var t={},n=this._STYLE_REGEX,r;n.lastIndex=0;while(r=n.exec(e))t[this._camelizeStyleName(r[1])]=r[2];return t}return{}},e.prototype.resetStyles=function(e){var t=this.bufferedCommand("flushStyles");t._styles=this._loadStyles(e||" ")},e.prototype.styles=function(){var e=this.bufferedCommand("flushStyles");return e._styles||(e._styles=this._loadStyles()),e._styles},e.prototype.css=function(e,t){if(typeof e=="object"){for(var n in e)this.css(n,e[n]);return}var r=
this.bufferedCommand("flushStyles");r._styles||(r._styles=this._loadStyles()),r._styles[e]=t},e.prototype.flushStyles=function(e){var t=e._styles,n="",r,i,s=[],o=0;for(r in t){if(!t.hasOwnProperty(r))continue;i=t[r];if(i===null)continue;typeof i=="number"&&r!=="zIndex"&&r!=="fontWeight"&&r!=="opacity"&&(i+="px"),s[o++]=this._dasherizeStyleName(r)+": "+i}this.$().attr("style",s.join("; "))},e.prototype._hashFromClassNames=function(e){typeof e=="string"&&(e=e.split(" "));var t,n=e.length,r={};for(t=0;t<n;t++)r[e[t]]=!0;return r},e.prototype.setClass=function(e,t){var n=this.bufferedCommand("flushClassNames"),r;if(e===undefined){n.classNames||(n.classNames=this._hashFromClassNames(this._el.className));var i=n.classNames,s=[];for(r in i)r&&i[r]&&s.push(r);return s}if(typeof e=="object"){n.classNames||(n.classNames=this._hashFromClassNames(this._el.className));for(r in e)n.classNames[r]=e[r];return}n.classNames||(n.classNames=this._hashFromClassNames(this._el.className)),n.classNames[e]=t||!1},e.prototype.hasClass=function(e){var t=this.bufferedCommand("flushClassNames");return t.classNames||(t.classNames=this._hashFromClassNames(this._el.className)),!!t.classNames[e]},e.prototype.addClass=function(e){if(!e)return;var t=this.bufferedCommand("flushClassNames");t.classNames||(t.classNames=this._hashFromClassNames(this._el.className)),typeof e=="string"&&(e=e.split(" "));var n,r=e.length;for(n=0;n<r;n++)t.classNames[jQuery.trim(e[n])]=!0},e.prototype.removeClass=function(e){var t=this.bufferedCommand("flushClassNames");t.classNames||(t.classNames=this._hashFromClassNames(this._el.className
)),t.classNames[e]=!1},e.prototype.resetClassNames=function(e){var t=this.bufferedCommand("flushClassNames");t.classNames={}},e.prototype.flushClassNames=function(e){var t=[];if(e.classNames){var n=e.classNames,r;for(r in n)n[r]&&t.push(r)}this.$().attr("class",t.join(" "))},t(e),t(e.prototype),e}(),function(){jQuery.buffer=jQuery.bufferedJQuery=jQuery.sub(),jQuery.bufferedJQuery.fn.extend({html:function(e){if(e===undefined)return this.length<1?undefined:jQuery.Buffer.bufferForElement(this[0]).html();var t=this.length,n,r;for(n=0;n<t;n++)r=jQuery.Buffer.bufferForElement(this[n]),r.html(e);return this},text:function(e){if(e===undefined)return this.length<1?undefined:jQuery.Buffer.bufferForElement(this[0]).text();var t=this.length,n,r;for(n=0;n<t;n++)r=jQuery.Buffer.bufferForElement(this[n]),r.text(e);return this},attr:function(e,t){var n;if(typeof t=="undefined"&&typeof e=="string")return this.length<1?!1:(n=jQuery.Buffer.bufferForElement(this[0]),n.attr(e));var r=this.length,i;for(i=0;i<r;i++)n=jQuery.Buffer.bufferForElement(this[i]),n.attr(e,t);return this},hasClass:function(e){return this.length<1?!1:jQuery.Buffer.bufferForElement(this[0]).hasClass(e)},setClass:function(e,t){var n=this.length,r,i;for(r=0;r<n;r++)i=jQuery.Buffer.bufferForElement(this[r]),i.setClass(e,t);return this},addClass:function(e){var t=this.length,n,r;for(n=0;n<t;n++)r=jQuery.Buffer.bufferForElement(this[n]),r.addClass(e);return this},removeClass:function(e){var t=this.length,n,r;for(n=0;n<t;n++)r=jQuery.Buffer.bufferForElement(this[n]),r.removeClass(e);return this},resetClassNames:function(){var e=this
.length,t,n;for(t=0;t<e;t++)n=jQuery.Buffer.bufferForElement(this[t]),n.resetClassNames();return this},css:function(e,t){var n=this.length,r,i;for(r=0;r<n;r++)i=jQuery.Buffer.bufferForElement(this[r]),i.css(e,t);return this},styles:function(){return this.length<1?null:jQuery.Buffer.bufferForElement(this[0]).styles()},resetStyles:function(){return this.length<1?null:(jQuery.Buffer.bufferForElement(this[0]).resetStyles(),this)}})}(),jQuery.Buffer._flush=function(){jQuery.Buffer.flush()},jQuery.Buffer.scheduleFlushing=function(){SC.RunLoop.currentRunLoop.invokeOnce(jQuery.Buffer._flush),this.flushingScheduled=!0},window.require||(window.require=function(){}),window.sc_require||(window.sc_require=require),window.sc_resource||(window.sc_resource=function(){}),window.YES=!0,window.NO=!1,typeof console=="undefined"&&(window.console={},console.log=console.info=console.warn=console.error=function(){}),window.SC=window.SC||{},window.SproutCore=window.SproutCore||SC,SC=window.SC,SC.VERSION="1.6.0",SC._baseMixin=function(e){var t=Array.prototype.slice.call(arguments,1),n,r=t[0]||{},i=1,s=t.length,o,u,a;s===1&&(r=this||{},i=0);for(;i<s;i++){if(!(o=t[i]))continue;for(a in o){if(!o.hasOwnProperty(a))continue;u=o[a];if(r===u)continue;u!==undefined&&(e||r[a]===undefined)&&(r[a]=u)}o.hasOwnProperty("toString")&&(r.toString=o.toString)}return r},SC.mixin=function(){var e=Array.prototype.slice.call(arguments);return e.unshift(!0),SC._baseMixin.apply(this,e)},SC.supplement=function(){var e=Array.prototype.slice.call(arguments);return e.unshift(!1),SC._baseMixin.apply(this,e)},SC.extend=SC.mixin,
SC.mixin({T_ERROR:"error",T_OBJECT:"object",T_NULL:"null",T_CLASS:"class",T_HASH:"hash",T_FUNCTION:"function",T_UNDEFINED:"undefined",T_NUMBER:"number",T_BOOL:"boolean",T_ARRAY:"array",T_STRING:"string",T_DATE:"date",T_REGEXP:"regexp",typeOf:function(e){if(e===undefined)return SC.T_UNDEFINED;if(e===null)return SC.T_NULL;var t=jQuery.type(e);return t==="function"?e.isClass?SC.T_CLASS:SC.T_FUNCTION:t==="object"?SC.Error&&e instanceof SC.Error?SC.T_ERROR:e instanceof SC.Object?SC.T_OBJECT:SC.T_HASH:t},none:function(e){return e==null},empty:function(e){return e===null||e===undefined||e===""},isArray:function(e){return!e||e.setInterval?!1:Array.isArray&&Array.isArray(e)?!0:e.objectAt?!0:e.length!==undefined&&jQuery.type(e)==="object"?!0:!1},makeArray:function(e){return SC.isArray(e)?e:SC.A(e)},A:function(e){if(e===null||e===undefined)return[];if(e.slice instanceof Function)return typeof e=="string"?[e]:e.slice();if(e.toArray)return e.toArray();if(!SC.isArray(e))return[e];var t=[],n=e.length;while(--n>=0)t[n]=e[n];return t},guidKey:"SproutCore"+(SC.VERSION+Math.random()).replace(/\D/g,""),_guidPrefixes:{number:"nu",string:"st"},_guidCaches:{number:{},string:{}},_numberGuids:[],_stringGuids:{},_keyCache:{},guidFor:function(e){var t,n,r=typeof e;if(e===null)return"(null)";if(r===SC.T_STRING||r===SC.T_NUMBER)return t=this._guidCaches[r],n=t[e],n||(n="st"+jQuery.uuid++,t[e]=n),n;if(e===undefined)return"(undefined)";if(r===SC.T_BOOL)return e?"(true)":"(false)";var i=this.guidKey,s=e[i];return s?s:e===Object?"(Object)":e===Array?"(Array)":SC.generateGuid(e,"sc")},keyFor:function(e,t){var n
,r=this._keyCache[e];return r||(r=this._keyCache[e]={}),n=r[t],n||(n=r[t]=e+"_"+t),n},generateGuid:function(e,t){var n=t+jQuery.uuid++;return e&&(e[this.guidKey]=n),n},hashFor:function(){var e=arguments.length,t="",n,r,i;for(i=0;i<e;++i)n=arguments[i],t+=n&&(r=n.hash)&&typeof r===SC.T_FUNCTION?r.call(n):this.guidFor(n);return t===""?null:t},isEqual:function(e,t){return this.hashFor(e)===this.hashFor(t)},compare:function(e,t){if(e===t)return 0;var n=SC.typeOf(e),r=SC.typeOf(t),i=SC.ORDER_DEFINITION_MAPPING;if(!i){var s=SC.ORDER_DEFINITION;i=SC.ORDER_DEFINITION_MAPPING={};var o,u;for(o=0,u=s.length;o<u;++o)i[s[o]]=o;delete SC.ORDER_DEFINITION}var a=i[n],f=i[r];if(a<f)return-1;if(a>f)return 1;switch(n){case SC.T_BOOL:case SC.T_NUMBER:if(e<t)return-1;if(e>t)return 1;return 0;case SC.T_STRING:var l=e.localeCompare(t);if(l<0)return-1;if(l>0)return 1;return 0;case SC.T_ARRAY:var c=e.length,h=t.length,p=Math.min(c,h),d=0,v=0,m=arguments.callee;while(d===0&&v<p)d=m(e[v],t[v]),v++;if(d!==0)return d;if(c<h)return-1;if(c>h)return 1;return 0;case SC.T_OBJECT:if(e.constructor.isComparable===YES)return e.constructor.compare(e,t);return 0;default:return 0}},K:function(){return this},EMPTY_ARRAY:[],EMPTY_HASH:{},EMPTY_RANGE:{start:0,length:0},beget:function(e){if(e===null||e===undefined)return null;var t=SC.K;t.prototype=e;var n=new t;return t.prototype=null,typeof e.didBeget=="function"&&(n=e.didBeget(n)),n[this.guidKey]=null,n},copy:function(e,t){var n=e,r;if(e){if(e.isCopyable)return e.copy(t);if(e.clone)return e.clone()}switch(jQuery.type(e)){case"array":n=e.slice();if(t){r=n.length;while(
r--)n[r]=SC.copy(n[r],!0)}break;case"object":n={};for(var i in e)n[i]=t?SC.copy(e[i],!0):e[i]}return n},merge:function(){var e={},t=arguments.length,n;for(n=0;n<t;n++)SC.mixin(e,arguments[n]);return e},keys:function(e){var t=[];for(var n in e)t.push(n);return t},inspect:function(e){var t,n=[];for(var r in e){t=e[r];if(t==="toString")continue;SC.typeOf(t)===SC.T_FUNCTION&&(t="function() { ... }"),n.push(r+": "+t)}return"{"+n.join(" , ")+"}"},tupleForPropertyPath:function(e,t){if(typeof e=="object"&&e instanceof Array)return e;var n,r=e.indexOf("*");r<0&&(r=e.lastIndexOf(".")),n=r>=0?e.slice(r+1):e;var i=this.objectForPropertyPath(e,t,r);return i&&n?[i,n]:null},objectForPropertyPath:function(e,t,n){var r,i,s,o;t||(t=window);if(typeof e=="string"){n===undefined&&(n=e.length),r=0;while(t&&r<n){i=e.indexOf(".",r);if(i<0||i>n)i=n;s=e.slice(r,i),t=t.get?t.get(s):t[s],r=i+1}r<n&&(t=undefined)}else{r=0,o=e.length,s=null;while(r<o&&t)s=e[r++],s&&(t=t.get?t.get(s):t[s]);r<o&&(t=undefined)}return t},requiredObjectForPropertyPath:function(e,t,n){var r=SC.objectForPropertyPath(e,t,n);if(!r)throw e+" could not be found";return r}}),SC.clone=SC.copy,SC.$A=SC.A,SC.didLoad=SC.K,SC.ORDER_DEFINITION=[SC.T_ERROR,SC.T_UNDEFINED,SC.T_NULL,SC.T_BOOL,SC.T_NUMBER,SC.T_STRING,SC.T_ARRAY,SC.T_HASH,SC.T_OBJECT,SC.T_FUNCTION,SC.T_CLASS],SC.Function={property:function(e,t){e.dependentKeys=SC.$A(t);var n=SC.guidFor(e);return e.cacheKey="__cache__"+n,e.lastSetValueKey="__lastValue__"+n,e.isProperty=!0,e},cacheable:function(e,t){return e.isProperty=!0,e.dependentKeys||(e.dependentKeys=[]),e.isCacheable=t===undefined?!0
:t,e},idempotent:function(e,t){return e.isProperty=!0,e.dependentKeys||(this.dependentKeys=[]),e.isVolatile=t===undefined?!0:t,e},enhance:function(e){return e.isEnhancement=!0,e},observes:function(e,t){var n=t.length,r=null,i=null;while(--n>=0){var s=t[n];s.indexOf(".")<0&&s.indexOf("*")<0?(r||(r=e.localPropertyPaths=[]),r.push(s)):(i||(i=e.propertyPaths=[]),i.push(s))}return e}},SC.mixin(Function.prototype,{property:function(){return SC.Function.property(this,arguments)},cacheable:function(e){return SC.Function.cacheable(this,e)},idempotent:function(e){return SC.Function.idempotent(this,e)},enhance:function(){return SC.Function.enhance(this)},observes:function(e){return SC.Function.observes(this,arguments)}}),SC.ObserverSet={add:function(e,t,n){var r=SC.guidFor(e),i=SC.guidFor(t),s=this._members,o=this.members,u=s[r],a,f;u||(u=s[r]={}),a=u[i],a===undefined&&(u[i]=o.length,f=[e,t,n],o.push(f))},remove:function(e,t){var n=SC.guidFor(e),r=SC.guidFor(t),i=this._members[n],s=this.members;if(!i)return!1;var o=i[r];if(o===undefined)return!1;if(o!==s.length-1){var u=s[o]=s[s.length-1];this._members[SC.guidFor(u[0])][SC.guidFor(u[1])]=o}return s.pop(),delete this._members[n][r],!0},invokeMethods:function(){var e=this.members,t;for(var n=0,r=e.length;n<r;n++)t=e[n],t[1].call(t[0])},clone:function(){var e=SC.ObserverSet.create(),t=this.members;e._members=SC.clone(this._members);var n=e.members;for(var r=0,i=t.length;r<i;r++)n[r]=SC.clone(t[r]),n[r].length=3;return e},create:function(){return new SC.ObserverSet.constructor},getMembers:function(){return this.members.slice(0)},constructor
:function(){this._members={},this.members=[]}},SC.ObserverSet.constructor.prototype=SC.ObserverSet,SC.ObserverSet.slice=SC.ObserverSet.clone,SC.ObserverSet.copy=SC.ObserverSet.clone,SC._ChainObserver=function(e,t){this.property=e,this.root=t||this},SC._ChainObserver.createChain=function(e,t,n,r,i){var s=t.split("."),o=new SC._ChainObserver(s[0]),u=o;for(var a=1,f=s.length;a<f;a++)u=u.next=new SC._ChainObserver(s[a],o);var l=o.tails=[u];return o.objectDidChange(e),l.forEach(function(e){e.target=n,e.method=r,e.context=i}),o.tails=null,o},SC._ChainObserver.prototype={isChainObserver:!0,object:null,property:null,next:null,root:null,target:null,method:null,tail:function(){if(this._tail)return this._tail;var e=this;while(e.next)e=e.next;return this._tail=e,e},objectDidChange:function(e){if(e===this.object)return;this.object&&(this.property==="@each"&&this.object._removeContentObserver?this.object._removeContentObserver(this):this.object.removeObserver&&this.object.removeObserver(this.property,this,this.propertyDidChange)),this.object=e,this.property==="@each"&&this.next?this.object&&this.object._addContentObserver&&this.object._addContentObserver(this):(this.object&&this.object.addObserver&&this.object.addObserver(this.property,this,this.propertyDidChange),this.propertyDidChange())},propertyDidChange:function(){var e=this.object,t=this.property,n=e&&e.get?e.get(t):null;this.next&&this.next.objectDidChange(n);var r=this.target,i=this.method,s=this.context;if(r&&i){var o=e?e.propertyRevision:null;s?i.call(r,e,t,n,s,o):i.call(r,e,t,n,o)}},destroyChain:function(){var e=this.object;return e&&
e.removeObserver&&e.removeObserver(this.property,this,this.propertyDidChange),this.next&&this.next.destroyChain(),this.next=this.target=this.method=this.object=this.context=null,null}},SC.LOG_OBSERVERS=NO,SC.OBSERVES_HANDLER_ADD=0,SC.OBSERVES_HANDLER_REMOVE=1,SC.Observable={isObservable:YES,automaticallyNotifiesObserversFor:function(e){return YES},get:function(e){var t=this[e],n;return t===undefined?this.unknownProperty(e):t&&t.isProperty?t.isCacheable?(n=this._kvo_cache,n||(n=this._kvo_cache={}),n[t.cacheKey]!==undefined?n[t.cacheKey]:n[t.cacheKey]=t.call(this,e)):t.call(this,e):t},set:function(e,t){var n=this[e],r=this.automaticallyNotifiesObserversFor(e),i=t,s,o,u,a;if(t===undefined&&SC.typeOf(e)===SC.T_HASH){var f=e;for(e in f){if(!f.hasOwnProperty(e))continue;this.set(e,f[e])}return this}if(!r&&this._kvo_cacheable&&(o=this._kvo_cache)){s=this._kvo_cachedep;if(!s||(s=s[e])===undefined)s=this._kvo_computeCachedDependentsFor(e);if(s){u=s.length;while(--u>=0)a=s[u],o[a.cacheKey]=o[a.lastSetValueKey]=undefined}}if(n&&n.isProperty){o=this._kvo_cache;if(n.isVolatile||!o||o[n.lastSetValueKey]!==t)o||(o=this._kvo_cache={}),o[n.lastSetValueKey]=t,r&&this.propertyWillChange(e,i),i=n.call(this,e,t),n.isCacheable&&(o[n.cacheKey]=i),r&&this.propertyDidChange(e,i,YES)}else n===undefined?(r&&this.propertyWillChange(e,i),this.unknownProperty(e,t),r&&this.propertyDidChange(e,i)):this[e]!==t&&(r&&this.propertyWillChange(e,i),i=this[e]=t,r&&this.propertyDidChange(e,i));return this},unknownProperty:function(e,t){return t!==undefined&&(this[e]=t),t},beginPropertyChanges:function(){return this
._kvo_changeLevel=(this._kvo_changeLevel||0)+1,this},endPropertyChanges:function(){this._kvo_changeLevel=(this._kvo_changeLevel||1)-1;var e=this._kvo_changeLevel,t=this._kvo_changes;return e<=0&&t&&t.length>0&&!SC.Observers.isObservingSuspended&&this._notifyPropertyObservers(),this},propertyWillChange:function(e,t){return this},propertyDidChange:function(e,t,n){this._kvo_revision=(this._kvo_revision||0)+1;var r=this._kvo_changeLevel||0,i,s,o,u,a=SC.LOG_OBSERVERS&&this.LOG_OBSERVING!==NO,f=this._kvo_property_chains;if(f){var l=f[e];l&&(this.beginPropertyChanges(),l=SC.clone(l),l.forEach(function(e){e.notifyPropertyDidChange()}),this.endPropertyChanges())}var c=this._kvo_cache;if(c){n||(u=this[e],u&&u.isProperty&&(c[u.cacheKey]=c[u.lastSetValueKey]=undefined));if(this._kvo_cacheable){i=this._kvo_cachedep;if(!i||(i=i[e])===undefined)i=this._kvo_computeCachedDependentsFor(e);if(i){s=i.length;while(--s>=0)o=i[s],c[o.cacheKey]=c[o.lastSetValueKey]=undefined}}}var h=SC.Observers.isObservingSuspended;if(r>0||h){var p=this._kvo_changes;p||(p=this._kvo_changes=SC.CoreSet.create()),p.add(e),h&&(a&&SC.Logger.log("%@%@: will not notify observers because observing is suspended".fmt(SC.KVO_SPACES,this)),SC.Observers.objectHasPendingChanges(this))}else this._notifyPropertyObservers(e);return this},registerDependentKey:function(e,t){var n=this._kvo_dependents,r=this._kvo_chain_dependents,i=this[e],s,o,u,a,f;typeof t=="object"&&t instanceof Array?(s=t,u=0):(s=arguments,u=1),o=s.length,n||(this._kvo_dependents=n={});while(--o>=u)a=s[o],a.indexOf(".")>=0?SC._PropertyChain.createChain(a,this,e).
activate():(f=n[a],f||(f=n[a]=[]),f.push(e))},registerDependentKeyWithChain:function(e,t){var n=this._chainsFor(e),r;n.add(t)},removeDependentKeyWithChain:function(e,t){var n=this._chainsFor(e),r;n.remove(t),n.get("length")===0&&delete this._kvo_property_chains[e]},_chainsFor:function(e){this._kvo_property_chains=this._kvo_property_chains||{};var t=this._kvo_property_chains[e]||SC.CoreSet.create();return this._kvo_property_chains[e]=t,t},_kvo_addCachedDependents:function(e,t,n){var r=t.length,i,s,o;while(--r>=0)s=t[r],i=this[s],i&&i instanceof Function&&i.isProperty&&(i.isCacheable&&e.push(i),(o=n[s])&&o.length>0&&this._kvo_addCachedDependents(e,o,n))},_kvo_computeCachedDependentsFor:function(e){var t=this._kvo_cachedep,n=this._kvo_dependents,r=n?n[e]:null,i;return t||(t=this._kvo_cachedep={}),!r||r.length===0?t[e]=null:(i=t[e]=[],this._kvo_addCachedDependents(i,r,n),i.length===0&&(i=t[e]=null),i)},_kvo_for:function(e,t){var n=this[e];return this._kvo_cloned||(this._kvo_cloned={}),n?this._kvo_cloned[e]||(n=this[e]=n.copy(),this._kvo_cloned[e]=YES):(n=this[e]=t===undefined?[]:t.create(),this._kvo_cloned[e]=YES),n},addObserver:function(e,t,n,r){var i,s,o,u;n===undefined&&(n=t,t=this),t||(t=this),typeof n=="string"&&(n=t[n]);if(!n)throw"You must pass a method to addObserver()";return e=e.toString(),e.indexOf(".")>=0?(s=SC._ChainObserver.createChain(this,e,t,n,r),s.masterTarget=t,s.masterMethod=n,this._kvo_for(SC.keyFor("_kvo_chains",e)).push(s)):(this[e]===undefined&&e.indexOf("@")===0&&this.get(e),t===this&&(t=null),i=SC.keyFor("_kvo_observers",e),this._kvo_for(i,SC.ObserverSet
).add(t,n,r),this._kvo_for("_kvo_observed_keys",SC.CoreSet).add(e)),this.didAddObserver&&this.didAddObserver(e,t,n),this},removeObserver:function(e,t,n){var r,i,s,o,u;n===undefined&&(n=t,t=this),t||(t=this),typeof n=="string"&&(n=t[n]);if(!n)throw"You must pass a method to removeObserver()";e=e.toString();if(e.indexOf(".")>=0){r=SC.keyFor("_kvo_chains",e);if(i=this[r]){i=this._kvo_for(r),u=i.length;while(--u>=0)s=i[u],s&&s.masterTarget===t&&s.masterMethod===n&&(i[u]=s.destroyChain())}}else{t===this&&(t=null),r=SC.keyFor("_kvo_observers",e);if(o=this[r])o=this._kvo_for(r),o.remove(t,n),o.getMembers().length===0&&this._kvo_for("_kvo_observed_keys",SC.CoreSet).remove(e)}return this.didRemoveObserver&&this.didRemoveObserver(e,t,n),this},hasObserverFor:function(e){SC.Observers.flush(this);var t=this[SC.keyFor("_kvo_observers",e)],n=this[SC.keyFor("_kvo_local",e)],r;return n&&n.length>0?YES:t&&t.getMembers().length>0?YES:NO},initObservable:function(){if(this._observableInited)return;this._observableInited=YES;var e,t,n,r,i,s,o,u,a,f,l,c,h,p;if(t=this._observers){u=t.length;for(e=0;e<u;e++){n=t[e],i=this[n],s=i.propertyPaths,o=s?s.length:0;for(a=0;a<o;a++)f=s[a],this.addObservesHandler(i,f)}}this.bindings=[];if(t=this._bindings)for(e=0,p=t.length;e<p;e++)n=t[e],r=this[n],h=n.slice(0,-7),this[n]=this.bind(h,r);if(t=this._properties)for(e=0,p=t.length;e<p;e++){n=t[e];if(r=this[n])r.isCacheable&&(this._kvo_cacheable=YES),r.dependentKeys&&r.dependentKeys.length>0&&this.registerDependentKey(n,r.dependentKeys)}},addObservesHandler:function(e,t){return this._configureObservesHandler(SC.OBSERVES_HANDLER_ADD
,e,t),this},removeObservesHandler:function(e,t){return this._configureObservesHandler(SC.OBSERVES_HANDLER_REMOVE,e,t),this},_configureObservesHandler:function(e,t,n){var r,i;switch(e){case SC.OBSERVES_HANDLER_ADD:e="addObserver";break;case SC.OBSERVES_HANDLER_REMOVE:e="removeObserver";break;default:throw"invalid action provided: "+e}r=n.indexOf("."),r<0?this[e](n,this,t):n.indexOf("*")===0?this[e](n.slice(1),this,t):(i=null,r===0?(i=this,n=n.slice(1)):r===4&&n.slice(0,5)==="this."?(i=this,n=n.slice(5)):r<0&&n.length===4&&n==="this"?(i=this,n=""):r>0&&n[0]===n.charAt(0).toLowerCase()&&(i=this),SC.Observers[e](n,this,t,i))},observersForKey:function(e){SC.Observers.flush(this);var t=this[SC.keyFor("_kvo_observers",e)];return t?t.getMembers():[]},_notifyPropertyObservers:function(e){this._observableInited||this.initObservable(),SC.Observers.flush(this);var t=SC.LOG_OBSERVERS&&this.LOG_OBSERVING!==NO,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b;t&&(y=SC.KVO_SPACES=(SC.KVO_SPACES||"")+"  ",SC.Logger.log('%@%@: notifying observers after change to key "%@"'.fmt(y,this,e))),s=this["_kvo_observers_*"],this._kvo_changeLevel=(this._kvo_changeLevel||0)+1;while((r=this._kvo_changes)&&r.length>0||e){a=++this.propertyRevision,r||(r=SC.CoreSet.create()),this._kvo_changes=null,e==="*"?(r.add("*"),r.addEach(this._kvo_for("_kvo_observed_keys",SC.CoreSet))):e&&r.add(e);if(i=this._kvo_dependents)for(o=0;o<r.length;o++){e=r[o],u=i[e];if(u&&(v=u.length)){t&&SC.Logger.log("%@...including dependent keys for %@: %@".fmt(y,e,u)),b=this._kvo_cache,b||(b=this._kvo_cache={});while(--v>=0){r.add(e=u[v]);if(m=this[e
])this[m.cacheKey]=undefined,b[m.cacheKey]=b[m.lastSetValueKey]=undefined}}}while(r.length>0){e=r.pop(),n=this[SC.keyFor("_kvo_observers",e)];if(n){f=SC.clone(n.getMembers()),l=f.length;for(h=0;h<l;h++){c=f[h];if(c[3]===a)continue;c[1]||SC.Logger.log(c),p=c[0]||this,d=c[1],g=c[2],c[3]=a,t&&SC.Logger.log('%@...firing observer on %@ for key "%@"'.fmt(y,p,e)),g!==undefined?d.call(p,this,e,null,g,a):d.call(p,this,e,null,a)}}f=this[SC.keyFor("_kvo_local",e)];if(f){l=f.length;for(h=0;h<l;h++)c=f[h],d=this[c],d&&(t&&SC.Logger.log('%@...firing local observer %@.%@ for key "%@"'.fmt(y,this,c,e)),d.call(this,this,e,null,a))}if(s&&e!=="*"){f=SC.clone(s.getMembers()),l=f.length;for(h=0;h<l;h++)c=f[h],p=c[0]||this,d=c[1],g=c[2],t&&SC.Logger.log('%@...firing * observer on %@ for key "%@"'.fmt(y,p,e)),g!==undefined?d.call(p,this,e,null,g,a):d.call(p,this,e,null,a)}this.propertyObserver&&(t&&SC.Logger.log('%@...firing %@.propertyObserver for key "%@"'.fmt(y,this,e)),this.propertyObserver(this,e,null,a))}r&&r.destroy(),e=null}return this._kvo_changeLevel=(this._kvo_changeLevel||1)-1,t&&(SC.KVO_SPACES=y.slice(0,-2)),YES},bind:function(e,t,n){var r,i;return n!==undefined&&(t=[t,n]),i=typeof t,i==="string"||i==="object"&&t instanceof Array?(r=this[e+"BindingDefault"]||SC.Binding,r=r.beget().from(t)):r=t.beget(),r=r.to(e,this).connect(),this.bindings.push(r),r},didChangeFor:function(e){var t,n,r,i,s,o,u,a,f;e=SC.hashFor(e),t=this._kvo_didChange_valueCache,t||(t=this._kvo_didChange_valueCache={}),n=this._kvo_didChange_revisionCache,n||(n=this._kvo_didChange_revisionCache={}),r=t[e]||{},i=n[e]||{}
,s=!1,o=this._kvo_revision||0,u=arguments.length;while(--u>=1)a=arguments[u],i[a]!=o&&(f=this.get(a),r[a]!==f&&(s=!0,r[a]=f)),i[a]=o;return t[e]=r,n[e]=i,s},setIfChanged:function(e,t){if(t===undefined&&SC.typeOf(e)===SC.T_HASH){var n=e;for(e in n){if(!n.hasOwnProperty(e))continue;this.setIfChanged(e,n[e])}return this}return this.get(e)!==t?this.set(e,t):this},getPath:function(e){var t=SC.tupleForPropertyPath(e,this);return t===null||t[0]===null?undefined:SC.get(t[0],t[1])},setPath:function(e,t){if(e.indexOf(".")>=0){var n=SC.tupleForPropertyPath(e,this);if(!n||!n[0])return null;n[0].set(n[1],t)}else this.set(e,t);return this},setPathIfChanged:function(e,t){if(e.indexOf(".")>=0){var n=SC.tupleForPropertyPath(e,this);if(!n||!n[0])return null;n[0].get(n[1])!==t&&n[0].set(n[1],t)}else this.setIfChanged(e,t);return this},getEach:function(){var e=SC.A(arguments),t=[],n,r;for(n=0,r=e.length;n<r;n++)t[t.length]=this.getPath(e[n]);return t},incrementProperty:function(e,t){return t||(t=1),this.set(e,(this.get(e)||0)+t),this.get(e)},decrementProperty:function(e,t){return t||(t=1),this.set(e,(this.get(e)||0)-t),this.get(e)},toggleProperty:function(e,t,n){return t===undefined&&(t=!0),n===undefined&&(n=!1),t=this.get(e)==t?n:t,this.set(e,t),this.get(e)},notifyPropertyChange:function(e,t){return this.propertyWillChange(e,t),this.propertyDidChange(e,t),this},allPropertiesDidChange:function(){return this._kvo_cache=null,this._notifyPropertyObservers("*"),this},addProbe:function(e){this.addObserver(e,SC.logChange)},removeProbe:function(e){this.removeObserver(e,SC.logChange)},logProperty:function(
){var e=SC.$A(arguments),t,n,r;for(r=0,n=e.length;r<n;r++)t=e[r],SC.Logger.log("%@:%@: ".fmt(SC.guidFor(this),t),this.get(t))},propertyRevision:1},SC.logChange=function(t,n,r){SC.Logger.log("CHANGE: %@[%@] => %@".fmt(t,n,t.get(n)))},SC.mixin(SC,{get:function(e,t){return e?t===undefined?this[e]:e.get?e.get(t):e[t]:undefined},getPath:function(e,t){return t===undefined&&(t=e,e=window),SC.objectForPropertyPath(t,e)}}),SC.mixin(Array.prototype,SC.Observable),SC.Enumerator=function(e){return this.enumerable=e,this.reset(),this},SC.Enumerator.prototype={nextObject:function(){var e=this._index,t=this._length;if(e>=t)return undefined;var n=this.enumerable.nextObject(e,this._previousObject,this._context);return this._previousObject=n,this._index=e+1,e>=t&&(this._context=SC.Enumerator._pushContext(this._context)),n},reset:function(){var e=this.enumerable;if(!e)throw SC.$error("Enumerator has been destroyed");this._length=e.get?e.get("length"):e.length;var t=this._length;this._index=0,this._previousObject=null,this._context=t>0?SC.Enumerator._popContext():null},destroy:function(){this.enumerable=this._length=this._index=this._previousObject=this._context=null}},SC.Enumerator.create=function(e){return new SC.Enumerator(e)},SC.Enumerator._popContext=function(){var e=this._contextCache?this._contextCache.pop():null;return e||{}},SC.Enumerator._pushContext=function(e){this._contextCache=this._contextCache||[];var t=this._contextCache;return t.push(e),null},SC.Enumerable={isEnumerable:YES,nextObject:function(e,t,n){return this.objectAt?this.objectAt(e):this[e]},firstObject:function(){if(this
.get("length")===0)return undefined;if(this.objectAt)return this.objectAt(0);var e=SC.Enumerator._popContext(),t;return t=this.nextObject(0,null,e),e=SC.Enumerator._pushContext(e),t}.property(),lastObject:function(){var e=this.get("length");if(e===0)return undefined;if(this.objectAt)return this.objectAt(e-1)}.property(),enumerator:function(){return SC.Enumerator.create(this)},forEach:function(e,t){if(typeof e!="function")throw new TypeError;var n=this.get?this.get("length"):this.length;t===undefined&&(t=null);var r=null,i=SC.Enumerator._popContext();for(var s=0;s<n;s++){var o=this.nextObject(s,r,i);e.call(t,o,s,this),r=o}return r=null,i=SC.Enumerator._pushContext(i),this},getEach:function(e){return this.map(function(t){return t?t.get?t.get(e):t[e]:null},this)},setEach:function(e,t){return this.forEach(function(n){n&&(n.set?n.set(e,t):n[e]=t)},this),this},map:function(e,t){if(typeof e!="function")throw new TypeError;t===undefined&&(t=null);var n=this.get?this.get("length"):this.length,r=[],i=null,s=SC.Enumerator._popContext(),o,u;for(o=0;o<n;o++)u=this.nextObject(o,i,s),r[o]=e.call(t,u,o,this),i=u;return i=null,s=SC.Enumerator._pushContext(s),r},mapProperty:function(e){return this.map(function(t){return t?t.get?t.get(e):t[e]:null})},filter:function(e,t){if(typeof e!="function")throw new TypeError;var n=this.get?this.get("length"):this.length;t===undefined&&(t=null);var r=[],i=null,s=SC.Enumerator._popContext();for(var o=0;o<n;o++){var u=this.nextObject(o,i,s);e.call(t,u,o,this)&&r.push(u),i=u}return i=null,s=SC.Enumerator._pushContext(s),r},sortProperty:function(e){var t=typeof 
e===SC.T_STRING?arguments:e,n=t.length,r;return this instanceof Array?r=this:(r=[],this.forEach(function(e){r.push(e)})),r?r.sort(function(e,r){var i,s,o,u,a=0;for(i=0;a===0&&i<n;i++)s=t[i],o=e?e.get?e.get(s):e[s]:null,u=r?r.get?r.get(s):r[s]:null,a=SC.compare(o,u);return a}):[]},filterProperty:function(e,t){var n=this.get?this.get("length"):this.length,r=[],i=null,s=SC.Enumerator._popContext();for(var o=0;o<n;o++){var u=this.nextObject(o,i,s),a=u?u.get?u.get(e):u[e]:null,f=t===undefined?!!a:SC.isEqual(a,t);f&&r.push(u),i=u}return i=null,s=SC.Enumerator._pushContext(s),r},find:function(e,t){var n=this.get?this.get("length"):this.length;t===undefined&&(t=null);var r=null,i,s=NO,o=null,u=SC.Enumerator._popContext();for(var a=0;a<n&&!s;a++){i=this.nextObject(a,r,u);if(s=e.call(t,i,a,this))o=i;r=i}return i=r=null,u=SC.Enumerator._pushContext(u),o},findProperty:function(e,t){var n=this.get?this.get("length"):this.length,r=NO,i=null,s=null,o,u,a=SC.Enumerator._popContext();for(var f=0;f<n&&!r;f++)o=this.nextObject(f,s,a),u=o?o.get?o.get(e):o[e]:null,r=t===undefined?!!u:SC.isEqual(u,t),r&&(i=o),s=o;return s=o=null,a=SC.Enumerator._pushContext(a),i},every:function(e,t){if(typeof e!="function")throw new TypeError;var n=this.get?this.get("length"):this.length;t===undefined&&(t=null);var r=YES,i=null,s=SC.Enumerator._popContext();for(var o=0;r&&o<n;o++){var u=this.nextObject(o,i,s);e.call(t,u,o,this)||(r=NO),i=u}return i=null,s=SC.Enumerator._pushContext(s),r},everyProperty:function(e,t){var n=this.get?this.get("length"):this.length,r=YES,i=null,s=SC.Enumerator._popContext();for(var o=0
;r&&o<n;o++){var u=this.nextObject(o,i,s),a=u?u.get?u.get(e):u[e]:null;r=t===undefined?!!a:SC.isEqual(a,t),i=u}return i=null,s=SC.Enumerator._pushContext(s),r},some:function(e,t){if(typeof e!="function")throw new TypeError;var n=this.get?this.get("length"):this.length;t===undefined&&(t=null);var r=NO,i=null,s=SC.Enumerator._popContext();for(var o=0;!r&&o<n;o++){var u=this.nextObject(o,i,s);e.call(t,u,o,this)&&(r=YES),i=u}return i=null,s=SC.Enumerator._pushContext(s),r},someProperty:function(e,t){var n=this.get?this.get("length"):this.length,r=NO,i=null,s=SC.Enumerator._popContext();for(var o=0;!r&&o<n;o++){var u=this.nextObject(o,i,s),a=u?u.get?u.get(e):u[e]:null;r=t===undefined?!!a:SC.isEqual(a,t),i=u}return i=null,s=SC.Enumerator._pushContext(s),r},reduce:function(e,t,n){if(typeof e!="function")throw new TypeError;var r=this.get?this.get("length"):this.length;if(r===0&&t===undefined)throw new TypeError;var i=t,s=null,o=SC.Enumerator._popContext();for(var u=0;u<r;u++){var a=this.nextObject(u,s,o);a!==null&&(i===undefined?i=a:i=e.call(null,i,a,u,this,n)),s=a}s=null,o=SC.Enumerator._pushContext(o);if(i===undefined)throw new TypeError;return i},invoke:function(e){var t=this.get?this.get("length"):this.length;if(t<=0)return[];var n,r=[],i=arguments.length;if(i>1)for(n=1;n<i;n++)r.push(arguments[n]);var s=[],o=null,u=SC.Enumerator._popContext();for(n=0;n<t;n++){var a=this.nextObject(n,o,u),f=a?a[e]:null;f&&(s[n]=f.apply(a,r)),o=a}return o=null,u=SC.Enumerator._pushContext(u),s},invokeWhile:function(e,t){var n=this.get?this.get("length"):this.length;if(n<=0)return null;var r,i=[]
,s=arguments.length;if(s>2)for(r=2;r<s;r++)i.push(arguments[r]);var o=e,u=null,a=SC.Enumerator._popContext();for(r=0;o===e&&r<n;r++){var f=this.nextObject(r,u,a),l=f?f[t]:null;l&&(o=l.apply(f,i)),u=f}return u=null,a=SC.Enumerator._pushContext(a),o},toArray:function(){var e=[];return this.forEach(function(t){e.push(t)},this),e},groupBy:function(e){var t=this.get?this.get("length"):this.length,n=[],r=null,i=SC.Enumerator._popContext(),s=[],o=[],u,a,f;for(u=0;u<t;u++)a=this.nextObject(u,r,i),f=a?a.get?a.get(e):a[e]:null,SC.none(s[f])&&(s[f]=[],o.push(f)),s[f].push(a),r=a;r=null,i=SC.Enumerator._pushContext(i);for(u=0,t=o.length;u<t;u++)n.push(s[o[u]]);return n}},SC._buildReducerFor=function(e,t){return function(n,r){var i=this[e];if(SC.typeOf(i)!==SC.T_FUNCTION)return this.unknownProperty?this.unknownProperty(n,r):null;var s=SC.Enumerable.reduce.call(this,i,null,t);return s}.property("[]")},SC.Reducers={"[]":function(e,t){return this}.property(),enumerableContentDidChange:function(e,t,n){this.notifyPropertyChange("[]")},reducedProperty:function(e,t,n){if(!e||typeof e!==SC.T_STRING||e.charAt(0)!=="@")return undefined;var r=e.match(/^@([^(]*)(\(([^)]*)\))?$/);if(!r||r.length<2)return undefined;var i=r[1],s=r[3];i="reduce"+i.slice(0,1).toUpperCase()+i.slice(1);var o=this[i];if(SC.typeOf(o)!==SC.T_FUNCTION)return undefined;if(n===NO)return SC.Enumerable.reduce.call(this,o,null,s);var u=SC._buildReducerFor(i,s),a=this.constructor.prototype;if(a){a[e]=u;var f=a._properties||[];f.push(e),a._properties=f,this.registerDependentKey(e,"[]")}return SC.Enumerable.reduce.call(this,o,null,s)}
,reduceMax:function(e,t,n,r,i){return i&&t&&(t=t.get?t.get(i):t[i]),e===null?t:t>e?t:e},reduceMaxObject:function(e,t,n,r,i){var s=e,o=t;return i&&(t&&(o=t.get?t.get(i):t[i]),e&&(s=e.get?e.get(i):e[i])),s===null?t:o>s?t:e},reduceMin:function(e,t,n,r,i){return i&&t&&(t=t.get?t.get(i):t[i]),e===null?t:t<e?t:e},reduceMinObject:function(e,t,n,r,i){var s=e,o=t;return i&&(t&&(o=t.get?t.get(i):t[i]),e&&(s=e.get?e.get(i):e[i])),s===null?t:o<s?t:e},reduceAverage:function(e,t,n,r,i){i&&t&&(t=t.get?t.get(i):t[i]);var s=(e||0)+t,o=r.get?r.get("length"):r.length;return n>=o-1&&(s/=o),s},reduceSum:function(e,t,n,r,i){return i&&t&&(t=t.get?t.get(i):t[i]),e===null?t:e+t}},SC.mixin(SC.Enumerable,SC.Reducers),SC.mixin(Array.prototype,SC.Reducers),Array.prototype.isEnumerable=YES,function(){var e={nextObject:SC.Enumerable.nextObject,enumerator:SC.Enumerable.enumerator,firstObject:SC.Enumerable.firstObject,lastObject:SC.Enumerable.lastObject,sortProperty:SC.Enumerable.sortProperty,mapProperty:function(e){var t=this.length,n=[];for(var r=0;r<t;r++){var i=this[r];n[r]=i?i.get?i.get(e):i[e]:null}return n},filterProperty:function(e,t){var n=this.length,r=[];for(var i=0;i<n;i++){var s=this[i],o=s?s.get?s.get(e):s[e]:null,u=t===undefined?!!o:SC.isEqual(o,t);u&&r.push(s)}return r},groupBy:function(e){var t=this.length,n=[],r=[],i=[],s,o,u;for(s=0;s<t;s++)o=this[s],u=o?o.get?o.get(e):o[e]:null,SC.none(r[u])&&(r[u]=[],i.push(u)),r[u].push(o);for(s=0,t=i.length;s<t;s++)n.push(r[i[s]]);return n},find:function(e,t){if(typeof e!="function")throw new TypeError;var n=this.length;t===undefined&&(t=null);var r,i=
null,s=NO;for(var o=0;o<n&&!s;o++){r=this[o];if(s=e.call(t,r,o,this))i=r}return r=null,i},findProperty:function(e,t){var n=this.length,r,i,s=NO,o=null;for(var u=0;u<n&&!s;u++)i=(r=this[u])?r.get?r.get(e):r[e]:null,s=t===undefined?!!i:SC.isEqual(i,t),s&&(o=r);return r=null,o},everyProperty:function(e,t){var n=this.length,r=YES;for(var i=0;r&&i<n;i++){var s=this[i],o=s?s.get?s.get(e):s[e]:null;r=t===undefined?!!o:SC.isEqual(o,t)}return r},someProperty:function(e,t){var n=this.length,r=NO;for(var i=0;!r&&i<n;i++){var s=this[i],o=s?s.get?s.get(e):s[e]:null;r=t===undefined?!!o:SC.isEqual(o,t)}return r},invoke:function(e){var t=this.length;if(t<=0)return[];var n,r=[],i=arguments.length;if(i>1)for(n=1;n<i;n++)r.push(arguments[n]);var s=[];for(n=0;n<t;n++){var o=this[n],u=o?o[e]:null;u&&(s[n]=u.apply(o,r))}return s},invokeWhile:function(e,t){var n=this.length;if(n<=0)return null;var r,i=[],s=arguments.length;if(s>2)for(r=2;r<s;r++)i.push(arguments[r]);var o=e;for(r=0;o===e&&r<n;r++){var u=this[r],a=u?u[t]:null;a&&(o=a.apply(u,i))}return o},toArray:function(){var e=this.length;if(e<=0)return[];var t=[];for(var n=0;n<e;n++){var r=this[n];t.push(r)}return t},getEach:function(e){var t=[],n=this.length;for(var r=0;r<n;r++){var i=this[r];t[r]=i?i.get?i.get(e):i[e]:null}return t},setEach:function(e,t){var n=this.length;for(var r=0;r<n;r++){var i=this[r];i&&(i.set?i.set(e,t):i[e]=t)}return this}},t={forEach:function(e,t){if(typeof e!="function")throw new TypeError;t===undefined&&(t=null);for(var n=0,r=this.length;n<r;n++){var i=this[n];e.call(t,i,n,this)}return this},map:function(e,t){if(typeof 
e!="function")throw new TypeError;t===undefined&&(t=null);var n=[];for(var r=0,i=this.length;r<i;r++){var s=this[r];n[r]=e.call(t,s,r,this)}return n},filter:function(e,t){if(typeof e!="function")throw new TypeError;t===undefined&&(t=null);var n=[];for(var r=0,i=this.length;r<i;r++){var s=this[r];e.call(t,s,r,this)&&n.push(s)}return n},every:function(e,t){if(typeof e!="function")throw new TypeError;var n=this.length;t===undefined&&(t=null);var r=YES;for(var i=0;r&&i<n;i++){var s=this[i];e.call(t,s,i,this)||(r=NO)}return r},some:function(e,t){if(typeof e!="function")throw new TypeError;var n=this.length;t===undefined&&(t=null);var r=NO;for(var i=0;!r&&i<n;i++){var s=this[i];e.call(t,s,i,this)&&(r=YES)}return r},reduce:function(e,t,n){if(typeof e!="function")throw new TypeError;var r=this.length;if(r===0&&t===undefined)throw new TypeError;var i=t;for(var s=0;s<r;s++){var o=this[s];o!==null&&(i===undefined?i=o:i=e.call(null,i,o,s,this,n))}if(i===undefined)throw new TypeError;return i}};for(var n in t){if(!t.hasOwnProperty(n))continue;if(!Array.prototype[n]||typeof Prototype=="object"&&Prototype.Version.match(/^1\.6/))Array.prototype[n]=t[n]}SC.mixin(Array.prototype,e)}(),SC.RangeObserver={isRangeObserver:YES,toString:function(){var e=this.indexes?this.indexes.toString():"SC.IndexSet<..>";return e.replace("IndexSet","RangeObserver(%@)".fmt(SC.guidFor(this)))},create:function(e,t,n,r,i,s){var o=SC.beget(this);return o.source=e,o.indexes=t?t.frozenCopy():null,o.target=n,o.method=typeof r=="string"?n[r]:r,o.context=i,o.isDeep=s||!1,o.beginObserving(),o},extend:function(e){var t=SC.beget
(this),n=arguments;for(var r=0,i=n.length;r<i;r++)SC.mixin(t,n[r]);return t},destroy:function(e){return this.endObserving(),this},update:function(e,t){return this.indexes&&this.indexes.isEqual(t)?this:(this.indexes=t?t.frozenCopy():null,this.endObserving().beginObserving(),this)},beginObserving:function(){if(!this.isDeep)return this;var e=this.observing=this.observing||SC.CoreSet.create(),t=this._beginObservingForEach,n=this.source;return t||(t=this._beginObservingForEach=function(t){var r=n.objectAt(t);r&&r.addObserver&&(e.push(r),r._kvo_needsRangeObserver=!0)}),this.indexes.forEach(t),this.isObserving=!1,SC.Observers.addPendingRangeObserver(this),this},setupPending:function(e){var t=this.observing;if(this.isObserving||!t||t.get("length")===0)return!0;if(t.contains(e)){this.isObserving=!0;var n=this._setupPendingForEach;if(!n){var r=this.source,i=this.objectPropertyDidChange,s=this;n=this._setupPendingForEach=function(e){var n=r.objectAt(e),o=SC.guidFor(n),u;n&&n.addObserver&&(t.push(n),n.addObserver("*",s,i),u=s[o],u==null?s[o]=e:u.isIndexSet?u.add(e):s[o]=SC.IndexSet.create(u).add(e))}}return this.indexes.forEach(n),!0}return!1},endObserving:function(){if(!this.isDeep)return this;var e=this.observing;if(this.isObserving){var t=this.objectPropertyDidChange,n=this.source,r,i,s;if(e){i=e.length;for(r=0;r<i;r++)s=e[r],s.removeObserver("*",this,t),this[SC.guidFor(s)]=null;e.length=0}this.isObserving=!1}return e&&e.clear(),this},rangeDidChange:function(e){var t=this.indexes;if(!e||!t||t.intersects(e))this.endObserving(),this.method.call(this.target,this.source,null,"[]",e,this.
context),this.beginObserving();return this},objectPropertyDidChange:function(e,t,n,r){var i=this.context,s=this.method,o=SC.guidFor(e),u=this[o];u&&!u.isIndexSet&&(u=this[o]=SC.IndexSet.create(u).freeze()),s.call(this.target,this.source,e,t,u,i||r,r)}},SC.OUT_OF_RANGE_EXCEPTION="Index out of range",SC.CoreArray={isSCArray:YES,replace:function(e,t,n){throw"replace() must be implemented to support SC.Array"},indexOf:function(e,t){var n,r=this.get("length");t===undefined?t=0:t=t<0?Math.ceil(t):Math.floor(t),t<0&&(t+=r);for(n=t;n<r;n++)if(this.objectAt(n,YES)===e)return n;return-1},lastIndexOf:function(e,t){var n,r=this.get("length");t===undefined?t=r-1:t=t<0?Math.ceil(t):Math.floor(t),t<0&&(t+=r);for(n=t;n>=0;n--)if(this.objectAt(n)===e)return n;return-1},objectAt:function(e){return e<0?undefined:e>=this.get("length")?undefined:this.get(e)},"[]":function(e,t){return t!==undefined&&this.replace(0,this.get("length"),t),this}.property(),insertAt:function(e,t){if(e>this.get("length"))throw SC.OUT_OF_RANGE_EXCEPTION;return this.replace(e,0,[t]),this},removeAt:function(e,t){var n=0,r=[];if(typeof e===SC.T_NUMBER){if(e<0||e>=this.get("length"))throw SC.OUT_OF_RANGE_EXCEPTION;if(t===undefined)return this.replace(e,1,r),this;e=SC.IndexSet.create(e,t)}return this.beginPropertyChanges(),e.forEachRange(function(e,t){e-=n,n+=t,this.replace(e,t,r)},this),this.endPropertyChanges(),this},removeObject:function(e){var t=this.get("length")||0;while(--t>=0){var n=this.objectAt(t);n==e&&this.removeAt(t)}return this},removeObjects:function(e){return this.beginPropertyChanges(),e.forEach(function(e){
this.removeObject(e)},this),this.endPropertyChanges(),this},slice:function(e,t){var n=[],r=this.get("length");SC.none(e)&&(e=0);if(SC.none(t)||t>r)t=r;while(e<t)n[n.length]=this.objectAt(e++);return n},pushObject:function(e){return this.insertAt(this.get("length"),e),e},pushObjects:function(e){return this.beginPropertyChanges(),e.forEach(function(e){this.pushObject(e)},this),this.endPropertyChanges(),this},popObject:function(){var e=this.get("length");if(e===0)return null;var t=this.objectAt(e-1);return this.removeAt(e-1),t},shiftObject:function(){if(this.get("length")===0)return null;var e=this.objectAt(0);return this.removeAt(0),e},unshiftObject:function(e){return this.insertAt(0,e),e},unshiftObjects:function(e){return this.beginPropertyChanges(),e.forEach(function(e){this.unshiftObject(e)},this),this.endPropertyChanges(),this},isEqual:function(e){if(!e)return!1;if(e==this)return!0;var t=e.get("length");if(t!=this.get("length"))return!1;while(--t>=0)if(!SC.isEqual(e.objectAt(t),this.objectAt(t)))return!1;return!0},compact:function(){return this.without(null)},without:function(e){if(this.indexOf(e)<0)return this;var t=[];return this.forEach(function(n){n!==e&&(t[t.length]=n)}),t},uniq:function(){var e=[];return this.forEach(function(t){e.indexOf(t)<0&&(e[e.length]=t)}),e},flatten:function(){var e=[];return this.forEach(function(t){t&&t.isEnumerable?e=e.pushObjects(t.flatten()):e.pushObject(t)}),e},max:function(){return Math.max.apply(Math,this)},min:function(){return Math.min.apply(Math,this)},rangeObserverClass:SC.RangeObserver,contains:function(e){return this.indexOf(e)>=0
},addRangeObserver:function(e,t,n,r){var i=this._array_rangeObservers;i||(i=this._array_rangeObservers=SC.CoreSet.create()),this._array_oldLength===undefined&&(this._array_oldLength=this.get("length"));var s=this.rangeObserverClass,o=NO,u=s.create(this,e,t,n,r,o);return i.add(u),this._array_isNotifyingRangeObservers||(this._array_isNotifyingRangeObservers=YES,this.addObserver("[]",this,this._array_notifyRangeObservers)),u},updateRangeObserver:function(e,t){return e.update(this,t)},removeRangeObserver:function(e){var t=e.destroy(this),n=this._array_rangeObservers;return n&&n.remove(e),t},addArrayObservers:function(e){this._modifyObserverSet("add",e)},removeArrayObservers:function(e){this._modifyObserverSet("remove",e)},_modifyObserverSet:function(e,t){var n,r,i=t.target||this,s=t.willChange||"arrayWillChange",o=t.didChange||"arrayDidChange",u=t.context;typeof s=="string"&&(s=i[s]),typeof o=="string"&&(o=i[o]),n=this._kvo_for("_kvo_array_will_change",SC.ObserverSet),r=this._kvo_for("_kvo_array_did_change",SC.ObserverSet),n[e](i,s,u),r[e](i,o,u)},arrayContentWillChange:function(e,t,n){this._teardownContentObservers(e,t);var r,i,s,o,u,a,f=this._kvo_array_will_change;if(f){i=f.members,s=i.length;for(o=0;o<s;o++)r=i[o],u=r[0],a=r[1],a.call(u,e,t,n,this)}},arrayContentDidChange:function(e,t,n){var r=this._array_rangeObservers,i,s,o;this.beginPropertyChanges(),this.notifyPropertyChange("length"),r&&r.length>0&&(o=this._array_rangeChanges,o||(o=this._array_rangeChanges=SC.IndexSet.create()),t===n?s=t:(s=this.get("length")-e,t>n&&(s+=t-n)),o.add(e,s)),this._setupContentObservers(e,n);
var u,a,f,l,c,h,p=this._kvo_array_did_change;if(p){e===undefined&&(e=0,t=this.get("length"),n=0),a=p.members,f=a.length;for(l=0;l<f;l++)u=a[l],c=u[0],h=u[1],h.call(c,e,t,n,this)}return this.notifyPropertyChange("[]"),this.endPropertyChanges(),this},_setupContentObservers:function(e,t){var n=this._kvo_for("_kvo_content_observed_keys",SC.CoreSet),r,i;if(n.get("length")>0){r=this.slice(e,e+t);var s=this;n.forEach(function(e){i=SC.keyFor("_kvo_content_observers",e),s._kvo_for(i).forEach(function(e){r.forEach(function(t){s._resumeChainObservingForItemWithChainObserver(t,e)})})})}},_teardownContentObservers:function(e,t){var n=this._kvo_for("_kvo_content_observed_keys",SC.CoreSet),r,i;n.get("length")>0&&(r=this.slice(e,e+t),n.forEach(function(e){i=SC.keyFor("_kvo_content_observers",e),r.forEach(function(e){e._kvo_for(i).forEach(function(e){e.destroyChain()})})}))},teardownEnumerablePropertyChains:function(e){var t=this._kvo_enumerable_property_chains;return t&&t.forEach(function(t){var n,r=e.get("length"),i=SC.guidFor(t),s,o,u="_kvo_enumerable_property_clones";t.notifyPropertyDidChange();for(n=0;n<r;n++)o=e.objectAt(n),s=o[u][i],s.deactivate(),delete o[u][i]},this),this},setupEnumerablePropertyChains:function(e){var t=this._kvo_enumerable_property_chains;return t&&t.forEach(function(t){var n,r=e.get("length");t.notifyPropertyDidChange(),r=e.get("length");for(n=0;n<r;n++)this._clonePropertyChainToItem(t,e.objectAt(n))},this),this},registerDependentKeyWithChain:function(e,t){var n="_kvo_enumerable_property_chains",r,i,s,o;r=this._kvo_for(n,SC.CoreSet),r.add(t),this.forEach(function(
e){this._clonePropertyChainToItem(t,e)},this)},_clonePropertyChainToItem:function(e,t){var n=SC.clone(e),r="_kvo_enumerable_property_clones",i;n.object=t,i=t[r]=t[r]||{},i[SC.guidFor(e)]=n,n.activate(t)},removeDependentKeyWithChain:function(e,t){var n="_kvo_enumerable_property_chains",r="_kvo_enumerable_property_clones",i,s,o,u;this.forEach(function(n){n.removeDependentKeyWithChain(e,t),u=n[r],o=u[SC.guidFor(t)],o.deactivate(n)},this)},_resumeChainObservingForItemWithChainObserver:function(e,t){var n=SC.clone(t.next),r=n.property;n.object=e,e.addObserver(r,n,n.propertyDidChange),t.root.tails&&t.root.tails.pushObject(n.tail()),n.propertyDidChange(),e._kvo_for(SC.keyFor("_kvo_content_observers",r)).push(n)},_addContentObserver:function(e){var t=e.next.property;this._kvo_for("_kvo_content_observed_keys",SC.CoreSet).push(t);var n=SC.keyFor("_kvo_content_observers",t);this._kvo_for(n).push(e),this._setupContentObservers(0,e.object.get("length"))},_removeContentObserver:function(e){var t,n,r=this._kvo_content_observed_keys,i=e.next.property;r.contains(i)&&(n=SC.keyFor("_kvo_content_observers",i),t=this._kvo_for(n),t.removeObject(e),this._teardownContentObservers(0,e.object.get("length")),t.length===0&&this._kvo_for("_kvo_content_observed_keys").remove(i))},_array_notifyRangeObservers:function(){var e=this._array_rangeObservers,t=this._array_rangeChanges,n=e?e.length:0,r,i;if(n>0&&t&&t.length>0){for(r=0;r<n;r++)e[r].rangeDidChange(t);t.clear()}}},SC.Array=SC.mixin({},SC.Enumerable,SC.CoreArray),SC.supplement(Array.prototype,SC.CoreArray),SC.mixin(Array.prototype,{replace:function(e
,t,n){if(this.isFrozen)throw SC.FROZEN_ERROR;var r,i=n?n.get?n.get("length"):n.length:0;return this.arrayContentWillChange(e,t,i),i===0?this.splice(e,t):(r=[e,t].concat(n),this.splice.apply(this,r)),this.arrayContentDidChange(e,t,i),this.enumerableContentDidChange(e,t,i-t),this},unknownProperty:function(e,t){var n=this.reducedProperty(e,t);return t!==undefined&&n===undefined&&(n=this[e]=t),n}}),Array.prototype.indexOf===SC.CoreArray.indexOf&&(Array.prototype.indexOf=function(e,t){var n,r=this.length;t===undefined?t=0:t=t<0?Math.ceil(t):Math.floor(t),t<0&&(t+=r);for(n=t;n<r;n++)if(this[n]===e)return n;return-1}),Array.prototype.lastIndexOf===SC.CoreArray.lastIndexOf&&(Array.prototype.lastIndexOf=function(e,t){var n,r=this.length;t===undefined?t=r-1:t=t<0?Math.ceil(t):Math.floor(t),t<0&&(t+=r);for(n=t;n>=0;n--)if(this[n]===e)return n;return-1}),Date.now||(Date.now=function(){return(new Date).getTime()}),function(){var e=0,t=["ms","moz","webkit","o"],n;for(var r=0,i=t.length;r<i&&!window.requestAnimationFrame;++r)n=t[r],window.requestAnimationFrame=window[n+"RequestAnimationFrame"],window.cancelAnimationFrame=window[n+"CancelAnimationFrame"]||window[n+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,n){var r=(new Date).getTime(),i=Math.max(0,16-(r-e)),s=window.setTimeout(function(){t(r+i)},i);return e=r+i,s}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}(),SC.String={_scs_valueForKey:function(e,t,n){var r,i,s,o=e.indexOf(":");o>-1&&(r=e.substr(o+1),e=e.substr(0,o)),i=t[e],s=t[e+"Formatter"
];if(s)i=s(i,r);else if(r)throw"String.fmt was given a formatting string, but key `"+e+"` has no formatter! String: "+n;return i},fmt:function(e,t){var n=0,r=undefined,i;return t&&(r=t[0]),e.replace(/%\{(.*?)\}/g,function(t,n){i=YES;if(!r)throw"Cannot use named parameters with `fmt` without a data hash. String: '"+e+"'";return SC.String._scs_valueForKey(n,r,e)}).replace(/%@([0-9]+)?/g,function(r,s){if(i)throw"Invalid attempt to use both named parameters and indexed parameters. String: '"+e+"'";return s=s?parseInt(s,10)-1:n++,t[s]})},w:function(e){var t=[],n=e.split(" "),r=n.length,i,s=0;for(s=0;s<r;++s)i=n[s],i.length!==0&&t.push(i);return t}},SC.mixin(String.prototype,{fmt:function(){return SC.String.fmt(this,arguments)},w:function(){return SC.String.w(this)}}),SC.Comparable={isComparable:YES,compare:function(e,t){throw"%@.compare() is not implemented".fmt(this.toString())}},SC.Copyable={isCopyable:YES,copy:function(e){var t=SC._object_className(this.constructor);throw"%@.copy() is not implemented".fmt(t)},frozenCopy:function(){var e=this.get?this.get("isFrozen"):this.isFrozen;if(e===YES)return this;if(e===undefined)throw"%@ does not support freezing".fmt(this);return this.copy().freeze()}},SC.mixin(Array.prototype,SC.Copyable),Array.prototype.copy=function(e){var t=this.slice(),n;if(e){n=t.length;while(n--)t[n]=SC.copy(t[n],!0)}return t},SC.FROZEN_ERROR=new Error("Cannot modify a frozen object"),SC.Freezable={isFreezable:YES,isFrozen:NO,freeze:function(){return this.set?this.set("isFrozen",YES):this.isFrozen=YES,this}},SC.mixin(Array.prototype,SC.Freezable),SC.Set=SC.mixin
({},SC.Enumerable,SC.Observable,SC.Freezable,{create:function(e){var t,n,r=SC.Set._pool,i=this.isObservable,s;if(!i&&e===undefined&&r.length>0)return r.pop();t=SC.beget(this),i&&t.initObservable();if(e&&e.isEnumerable&&e.get("length")>0){t.isObservable=NO;if(e.isSCArray){s=e.get("length");for(n=0;n<s;n++)t.add(e.objectAt(n))}else if(e.isSet){s=e.length;for(n=0;n<s;n++)t.add(e[n])}else e.forEach(function(e){t.add(e)},this);t.isObservable=i}return t},isSet:YES,length:0,firstObject:function(){return this.length>0?this[0]:undefined}.property(),clear:function(){if(this.isFrozen)throw SC.FROZEN_ERROR;return this.length=0,this},contains:function(e){if(e===null)return NO;var t=this[SC.hashFor(e)];return!SC.none(t)&&t<this.length&&this[t]===e},isEqual:function(e){if(!e||!e.isSet||e.get("length")!==this.get("length"))return NO;var t=this.get("length");while(--t>=0)if(!e.contains(this[t]))return NO;return YES},addSetObserver:function(e){this.setObservers||(this.setObservers=SC.CoreSet.create()),this.setObservers.add(e)},removeSetObserver:function(e){if(!this.setObservers)return;this.setObservers.remove(e)},add:function(e){if(this.isFrozen)throw SC.FROZEN_ERROR;if(SC.none(e))return this;var t,n=(t=e.hash)&&typeof t=="function"?t.call(e):SC.guidFor(e),r=this[n],i=this.length;if(r>=i||this[r]!==e)this[i]=e,this[n]=i,this.length=i+1,this.setObservers&&this.didAddItem(e);return this.isObservable&&this.enumerableContentDidChange(),this},addEach:function(e){if(this.isFrozen)throw SC.FROZEN_ERROR;if(!e||!e.isEnumerable)throw"%@.addEach must pass enumerable".fmt(this);var t,n=this.isObservable;
n&&this.beginPropertyChanges();if(e.isSCArray){t=e.get("length");while(--t>=0)this.add(e.objectAt(t))}else if(e.isSet){t=e.length;while(--t>=0)this.add(e[t])}else e.forEach(function(e){this.add(e)},this);return n&&this.endPropertyChanges(),this},remove:function(e){if(this.isFrozen)throw SC.FROZEN_ERROR;if(e===null||e===undefined)return this;var t,n=e&&(t=e.hash)&&typeof t===SC.T_FUNCTION?t.call(e):SC.guidFor(e),r=this[n],i=this.length,s;return r===null||r===undefined||r>=i||this[r]!==e?this:(delete this[n],r<i-1&&(s=this[r]=this[i-1],n=s&&(t=s.hash)&&typeof t===SC.T_FUNCTION?t.call(s):SC.guidFor(s),this[n]=r),delete this[i-1],this.length=i-1,this.isObservable&&this.enumerableContentDidChange(),this.setObservers&&this.didRemoveItem(e),this)},pop:function(){if(this.isFrozen)throw SC.FROZEN_ERROR;var e=this.length,t=e>0?this[e-1]:null;return this.remove(t),t},removeEach:function(e){if(this.isFrozen)throw SC.FROZEN_ERROR;if(!e||!e.isEnumerable)throw"%@.addEach must pass enumerable".fmt(this);var t,n=this.isObservable;n&&this.beginPropertyChanges();if(e.isSCArray){t=e.get("length");while(--t>=0)this.remove(e.objectAt(t))}else if(e.isSet){t=e.length;while(--t>=0)this.remove(e[t])}else e.forEach(function(e){this.remove(e)},this);return n&&this.endPropertyChanges(),this},copy:function(){return this.constructor.create(this)},destroy:function(){return this.isFrozen=NO,this.isObservable||SC.Set._pool.push(this.clear()),this},forEach:function(e,t){var n=this.length;t||(t=this);for(var r=0;r<n;r++)e.call(t,this[r],r,this);return this},toString:function(){var e=this.length,t,n=[];for(t=0;
t<e;t++)n[t]=this[t];return"SC.Set<%@>".fmt(n.join(","))},didAddItem:function(e){var t=this.setObservers;if(!t)return;var n=t.length,r;for(r=0;r<n;r++)t[r].didAddItem(this,e)},didRemoveItem:function(e){var t=this.setObservers;if(!t)return;var n=t.length,r;for(r=0;r<n;r++)t[r].didRemoveItem(this,e)},_pool:[],isObservable:YES}),SC.Set.constructor=SC.Set,SC.Set.clone=SC.Set.copy,SC.Set.push=SC.Set.unshift=SC.Set.add,SC.Set.shift=SC.Set.pop,SC.Set.addObject=SC.Set.add,SC.Set.removeObject=SC.Set.remove,SC.Set._pool=[],SC.CoreSet=SC.beget(SC.Set),SC.CoreSet.isObservable=NO,SC.CoreSet.constructor=SC.CoreSet,SC.Observers={queue:[],addObserver:function(e,t,n,r){var i;typeof e=="string"?i=SC.tupleForPropertyPath(e,r):i=e,i&&i[0].addObserver?i[0].addObserver(i[1],t,n):this.queue.push([e,t,n,r])},removeObserver:function(e,t,n,r){var i,s,o,u;o=SC.tupleForPropertyPath(e,r),o&&o[0].removeObserver(o[1],t,n),i=this.queue.length,s=this.queue,newQueue=undefined;while(--i>=0){u=s[i];if(u[0]!==e||u[1]!==t||u[2]!==n||u[3]!==r)newQueue||(newQueue=[]),newQueue.push(u)}this.queue=newQueue||this.queue},addPendingRangeObserver:function(e){var t=this.rangeObservers;return t||(t=this.rangeObservers=SC.CoreSet.create()),t.add(e),this},_TMP_OUT:[],flush:function(e){var t=this.queue,n,r=t.length;if(t&&r>0){var i=this.queue=[];for(n=0;n<r;n++){var s=t[n];if(!s)continue;var o=SC.tupleForPropertyPath(s[0],s[3]);o&&o[0].addObserver?o[0].addObserver(o[1],s[1],s[2]):i.push(s)}}if(e._kvo_needsRangeObserver){var u=this.rangeObservers,a=u?u.get("length"):0,f=this._TMP_OUT,l;for(n=0;n<a;n++)l=u[n],l.setupPending(e)&&
f.push(l);f.length>0&&u.removeEach(f),f.length=0,e._kvo_needsRangeObserver=!1}},isObservingSuspended:0,_pending:SC.CoreSet.create(),objectHasPendingChanges:function(e){this._pending.add(e)},suspendPropertyObserving:function(){this.isObservingSuspended++},resumePropertyObserving:function(){var e;if(--this.isObservingSuspended<=0){e=this._pending,this._pending=SC.CoreSet.create();var t,n=e.length;for(t=0;t<n;t++)e[t]._notifyPropertyObservers();e.clear(),e=null}}},SC.BENCHMARK_OBJECTS=NO,SC._detect_base=function(t,n,r){return function(){var i=n[r],s;if(!i)throw new Error("No '"+r+"' method was found on the superclass");return t.isEnhancement?s=Array.prototype.slice.call(arguments,1):s=arguments,i.apply(this,s)}},SC._object_extend=function(t,n,r){if(!n)throw"SC.Object.extend expects a non-null value.  Did you forget to 'sc_require' something?  Or were you passing a Protocol to extend() as if it were a mixin?";t._kvo_cloned=null;var i,s,o,u,a=t.concatenatedProperties,f=SC.K,l,c;s=a?a.length:0;var h=s>0?{}:null;while(--s>=0)i=a[s],l=t[i],c=n[i],l?(l instanceof Array||(l=SC.$A(l)),h[i]=c?l.concat(c):c):(c instanceof Array||(c=SC.$A(c)),h[i]=c);var p=t._bindings,d=NO,v=t._observers,m=NO,g=t._properties,y=NO,b,w,E,S,x=t.outlets,T=NO;n.outlets&&(x=(x||SC.EMPTY_ARRAY).concat(n.outlets),T=YES);for(i in n){if(i==="_kvo_cloned")continue;if(!n.hasOwnProperty(i))continue;S=(h.hasOwnProperty(i)?h[i]:null)||n[i];if(i.length>7&&i.slice(-7)==="Binding")d||(p=(p||SC.EMPTY_ARRAY).slice(),d=YES),p===null&&(p=(t._bindings||SC.EMPTY_ARRAY).slice()),p[p.length]=i;else if(S&&S instanceof Function){!S.
superclass&&S!==(u=t[i])&&(S.superclass=u||f,S.base=r?SC._detect_base(S,r,i):u||f),S.propertyPaths&&(m||(v=(v||SC.EMPTY_ARRAY).slice(),m=YES),v[v.length]=i);if(b=S.localPropertyPaths){w=b.length;while(--w>=0)E=t._kvo_for(SC.keyFor("_kvo_local",b[w]),SC.CoreSet),E.add(i),t._kvo_for("_kvo_observed_keys",SC.CoreSet).add(b[w])}S.dependentKeys&&(y||(g=(g||SC.EMPTY_ARRAY).slice(),y=YES),g[g.length]=i),S.autoconfiguredOutlet&&(T||(x=(x||SC.EMPTY_ARRAY).slice(),T=YES),x[x.length]=i),S.isEnhancement&&(S=SC._enhance(t[i]||f,S))}t[i]=S}return n.hasOwnProperty("toString")&&(i="toString",S=(h.hasOwnProperty(i)?h[i]:null)||n[i],!S.superclass&&S!==(u=t[i])&&(S.superclass=S.base=u||f),t[i]=S),t._bindings=p||[],t._observers=v||[],t._properties=g||[],t.outlets=x||[],t},SC._enhance=function(e,t){return function(){var n=Array.prototype.slice.call(arguments,0),r=this;return n.unshift(function(){return e.apply(r,arguments)}),t.apply(this,n)}},SC.Object=function(e){return this.__sc_super__=SC.Object.prototype,this._object_init(e)},SC.mixin(SC.Object,{mixin:function(e){var t=arguments.length,n;for(n=0;n<t;n++)SC.mixin(this,arguments[n]);return this},superclass:null,extend:function(e){var t=SC.BENCHMARK_OBJECTS;t&&SC.Benchmark.start("SC.Object.extend");var n,r=function(e){return this.__sc_super__=r.prototype,this._object_init(e)};for(n in this){if(!this.hasOwnProperty(n))continue;r[n]=this[n]}this.hasOwnProperty("toString")&&(r.toString=this.toString),r.superclass=this,r.__sc_super__=this.prototype,SC.generateGuid(r,"sc"),r.subclasses=SC.Set.create(),this.subclasses.add(r);var i=r.prototype=SC.beget
(this.prototype),s,o=arguments.length;for(s=0;s<o;s++)SC._object_extend(i,arguments[s],r.__sc_super__);return i.constructor=r,t&&SC.Benchmark.end("SC.Object.extend"),r},reopen:function(e){return SC._object_extend(this.prototype,e,this.__sc_super__)},create:function(){var e=this,t=new e(arguments);return t},isClass:YES,subclasses:SC.Set.create(),toString:function(){return SC._object_className(this)},subclassOf:function(e){if(this===e)return NO;var t=this;while(t=t.superclass)if(t===e)return YES;return NO},hasSubclass:function(e){return e&&e.subclassOf?e.subclassOf(this):NO},kindOf:function(e){return this===e||this.subclassOf(e)},design:function(){if(this.isDesign)return this;var e=this.extend.apply(this,arguments);return e.isDesign=YES,e}}),SC.Object.prototype={_kvo_enabled:YES,_object_init:function(e){var t,n=e?e.length:0;for(t=0;t<n;t++)SC._object_extend(this,e[t],this.__sc_super__);SC.generateGuid(this,"sc"),this.init();var r=this.initMixin;n=r?r.length:0;for(t=0;t<n;t++)r[t].call(this);return this},mixin:function(){var e,t=arguments.length,n;for(e=0;e<t;e++)SC.mixin(this,arguments[e]);for(e=0;e<t;e++)n=arguments[e].initMixin,n&&n.call(this);return this},init:function(){return this.initObservable(),this},isDestroyed:NO,destroy:function(){if(this.get("isDestroyed"))return this;this.set("isDestroyed",YES);var e,t=this.destroyMixin,n=t?t.length:0;for(e=0;e<n;e++)t[e].call(this);return this.bindings.invoke("disconnect"),this.bindings=null,this},isObject:!0,respondsTo:function(e){return this[e]instanceof Function},tryToPerform:function(e,t,n){return this.respondsTo(e)&&this[e](
t,n)!==NO},superclass:function(e){var t=arguments.callee.caller;if(!t)throw"superclass cannot determine the caller method";return t.superclass?t.superclass.apply(this,arguments):null},instanceOf:function(e){return this.constructor===e},kindOf:function(e){return this.constructor.kindOf(e)},toString:function(){if(!this._object_toString){var e=SC._object_className(this.constructor),t=e+":"+SC.guidFor(this);if(!e)return t;this._object_toString=t}return this._object_toString},awake:function(){var e=this.outlets,t,n,r;for(t=0,n=e.length;t<n;++t)r=e[t],this.get(r);this.bindings.invoke("sync")},invokeOnce:function(e){return SC.RunLoop.currentRunLoop.invokeOnce(this,e),this},invokeLast:function(e){return SC.RunLoop.currentRunLoop.invokeLast(this,e),this},concatenatedProperties:["concatenatedProperties","initMixin","destroyMixin"]},SC.Object.prototype.constructor=SC.Object,SC.mixin(SC.Object.prototype,SC.Observable),SC.instanceOf=function(e,t){return!!e&&e.constructor===t},SC.kindOf=function(e,t){return e&&!e.isClass&&(e=e.constructor),!!(e&&e.kindOf&&e.kindOf(t))},SC._object_className=function(e){if(SC.isReady===NO)return"";e._object_className||findClassNames();if(e._object_className)return e._object_className;var t=e;while(t&&!t._object_className)t=t.superclass;return t&&t._object_className?t._object_className:"Anonymous"},SC._PropertyChain=SC.Object.extend({object:null,property:null,target:null,toInvalidate:null,nextProperty:null,activate:function(e){var t=this.get("object"),n=this.get("property"),r;return e||(e=this.get("target")),t&&t!==e&&this.deactivate(),this.set("object",e),e&&
n!=="@each"&&e.registerDependentKeyWithChain(n,this),this.next&&(r=e?e.get(n):undefined,this.next.activate(r)),this},deactivate:function(){var e=this.get("object"),t=this.get("property");return e&&e.removeDependentKeyWithChain(t,this),this.next&&this.next.deactivate(),this},notifyPropertyDidChange:function(){var e=this.get("target"),t=this.get("toInvalidate"),n,r;e.propertyDidChange(t),this.next&&(n=this.get("object"),r=n.get(this.get("property")),this.next.activate(r))}}),SC._PropertyChain.createChain=function(e,t,n){var r=e.split("."),i=r.length,s=1,o=SC._PropertyChain.create({property:r[0],target:t,toInvalidate:n,nextProperty:r[1]});o.set("length",i);var u=o;while(--i>=1)u=u.next=SC._PropertyChain.create({property:r[s],target:t,toInvalidate:n,nextProperty:r[++s]}),u.set("length",i);return o},SC.LOG_BINDINGS=NO,SC.BENCHMARK_BINDING_NOTIFICATIONS=NO,SC.BENCHMARK_BINDING_SETUP=NO,SC.MULTIPLE_PLACEHOLDER="@@MULT@@",SC.NULL_PLACEHOLDER="@@NULL@@",SC.EMPTY_PLACEHOLDER="@@EMPTY@@",SC.Binding={beget:function(e){var t=SC.beget(this);return t.parentBinding=this,e!==undefined&&(t=t.from(e)),t},builder:function(){var e=this,t=function(t){return e.beget().from(t)};return t.beget=function(){return e.beget()},t},from:function(e,t){if(!e)return this;var n=this===SC.Binding?this.beget():this;return n._fromPropertyPath=e,n._fromRoot=t,n._fromTuple=null,n},to:function(e,t){var n=this===SC.Binding?this.beget():this;return n._toPropertyPath=e,n._toRoot=t,n._toTuple=null,n},connect:function(){return this.isConnected?this:(this.isConnected=YES,this._connectionPending=YES,this._syncOnConnect=YES
,SC.Binding._connectQueue.add(this),SC.RunLoop.isRunLoopInProgress()||this._scheduleSync(),this)},_connect:function(){if(!this._connectionPending)return;this._connectionPending=NO;var e,t,n=SC.BENCHMARK_BINDING_SETUP;e=this._fromPropertyPath,t=this._fromRoot,typeof e=="string"&&(e.indexOf(".")===0?(e=e.slice(1),t||(t=this._toRoot)):e.indexOf("*")===0&&(e=[this._fromRoot||this._toRoot,e.slice(1)],t=null)),this._fromObserverData=[e,this,this.fromPropertyDidChange,t],SC.Observers.addObserver.apply(SC.Observers,this._fromObserverData),this._oneWay||(e=this._toPropertyPath,t=this._toRoot,this._toObserverData=[e,this,this.toPropertyDidChange,t],SC.Observers.addObserver.apply(SC.Observers,this._toObserverData)),this._syncOnConnect&&(this._syncOnConnect=NO,this.sync())},disconnect:function(){return this.isConnected?(this._connectionPending?this._connectionPending=NO:(SC.Observers.removeObserver.apply(SC.Observers,this._fromObserverData),this._oneWay||SC.Observers.removeObserver.apply(SC.Observers,this._toObserverData)),this.isConnected=NO,this):this},fromPropertyDidChange:function(e,t){var n=e?e.get(t):null;if(n!==this._bindingValue||t==="[]")this._setBindingValue(e,t),this._changePending=YES,SC.Binding._changeQueue.add(this),this._scheduleSync()},toPropertyDidChange:function(e,t){if(this._oneWay)return;var n=e.get(t);n!==this._transformedBindingValue&&(this._setBindingValue(e,t),this._changePending=YES,SC.Binding._changeQueue.add(this),this._scheduleSync())},_scheduleSync:function(){if(SC.RunLoop.isRunLoopInProgress()||SC.Binding._syncScheduled)return;SC.Binding._syncScheduled=YES,
setTimeout(function(){SC.run(),SC.Binding._syncScheduled=NO},1)},_setBindingValue:function(e,t){this._bindingSource=e,this._bindingKey=t},_computeBindingValue:function(){var e=this._bindingSource,t=this._bindingKey,n,r;this._bindingValue=n=e?e.getPath(t):null;var i=this._transforms;if(i){var s=i.length,o;for(r=0;r<s;r++)o=i[r],n=o(n,this)}this._noError&&SC.typeOf(n)===SC.T_ERROR&&(n=null),this._transformedBindingValue=n},_connectQueue:SC.CoreSet.create(),_alternateConnectQueue:SC.CoreSet.create(),_changeQueue:SC.CoreSet.create(),_alternateChangeQueue:SC.CoreSet.create(),_changePending:NO,flushPendingChanges:function(){if(this._isFlushing)return NO;this._isFlushing=YES,SC.Observers.suspendPropertyObserving();var e=NO,t=SC.LOG_BINDINGS,n,r;while((n=this._connectQueue).length>0){this._connectQueue=this._alternateConnectQueue,this._alternateConnectQueue=n;while(r=n.pop())r._connect()}while((n=this._changeQueue).length>0){e=YES,this._changeQueue=this._alternateChangeQueue,this._alternateChangeQueue=n;while(r=n.pop())r.applyBindingValue()}return this._isFlushing=NO,SC.Observers.resumePropertyObserving(),e},applyBindingValue:function(){this._changePending=NO,this._computeBindingTargets(),this._computeBindingValue();var e=this._bindingValue,t=this._transformedBindingValue,n=SC.BENCHMARK_BINDING_NOTIFICATIONS,r=SC.LOG_BINDINGS;!this._oneWay&&this._fromTarget&&this._fromTarget.setPathIfChanged(this._fromPropertyKey,e),this._toTarget&&this._toTarget.setPathIfChanged(this._toPropertyKey,t)},sync:function(){if(!this.isConnected)return this;if(this._connectionPending)this._syncOnConnect=YES
;else{this._computeBindingTargets();var e=this._fromTarget,t=this._fromPropertyKey;if(!e||!t)return this;if(!e.isObservable)return SC.Logger.warn("Cannot bind '%@' to property '%@' on non-observable '%@'".fmt(this._toPropertyPath,t,e)),this;var n=e.getPath(t);if(n!==this._bindingValue||t==="[]")this._setBindingValue(e,t),this._changePending=YES,SC.Binding._changeQueue.add(this)}return this},_syncOnConnect:NO,_computeBindingTargets:function(){if(!this._fromTarget){var e,t,n;e=this._fromPropertyPath,t=this._fromRoot,typeof e=="string"&&(e.indexOf(".")===0?(e=e.slice(1),t||(t=this._toRoot)):e.indexOf("*")===0&&(e=[t||this._toRoot,e.slice(1)],t=null)),n=SC.tupleForPropertyPath(e,t),n&&(this._fromTarget=n[0],this._fromPropertyKey=n[1])}this._toTarget||(e=this._toPropertyPath,t=this._toRoot,n=SC.tupleForPropertyPath(e,t),n&&(this._toTarget=n[0],this._toPropertyKey=n[1]))},oneWay:function(e,t){t===undefined&&SC.typeOf(e)===SC.T_BOOL&&(t=e,e=null);var n=this.from(e);return n===SC.Binding&&(n=n.beget()),n._oneWay=t===undefined?YES:t,n},transform:function(e){var t=this===SC.Binding?this.beget():this,n=t._transforms;return n&&n===t.parentBinding._transforms&&(n=t._transforms=n.slice()),n||(n=t._transforms=[]),n.push(e),t},resetTransforms:function(){var e=this===SC.Binding?this.beget():this;return e._transforms=null,e},noError:function(e,t){t===undefined&&SC.typeOf(e)===SC.T_BOOL&&(t=e,e=null);var n=this.from(e);return n===SC.Binding&&(n=n.beget()),n._noError=t===undefined?YES:t,n},single:function(e,t){return t===undefined&&(t=SC.MULTIPLE_PLACEHOLDER),this.from(e).transform(function(e,n
){if(e&&e.isEnumerable){var r=e.get("length");e=r>1?t:r<=0?null:e.firstObject()}return e})},notEmpty:function(e,t){return t===undefined&&(t=SC.EMPTY_PLACEHOLDER),this.from(e).transform(function(e,n){if(SC.none(e)||e===""||SC.isArray(e)&&e.length===0)e=t;return e})},notNull:function(e,t){return t===undefined&&(t=SC.EMPTY_PLACEHOLDER),this.from(e).transform(function(e,n){return SC.none(e)&&(e=t),e})},multiple:function(e){return this.from(e).transform(function(e){return SC.isArray(e)||(e=e==null?[]:[e]),e})},bool:function(e){return this.from(e).transform(function(e){var t=SC.typeOf(e);return t===SC.T_ERROR?e:t==SC.T_ARRAY?e.length>0:e===""?NO:!!e})},and:function(e,t){var n=SC.Object.create({valueABinding:e,valueBBinding:t,and:function(){return this.get("valueA")&&this.get("valueB")}.property("valueA","valueB").cacheable()});return this.from("and",n).oneWay()},or:function(e,t){var n=SC.Object.create({valueABinding:e,valueBBinding:t,or:function(){return this.get("valueA")||this.get("valueB")}.property("valueA","valueB").cacheable()});return this.from("or",n).oneWay()},not:function(e){return this.from(e).transform(function(e){var t=SC.typeOf(e);return t===SC.T_ERROR?e:!(t==SC.T_ARRAY?e.length>0:e===""?NO:!!e)})},isNull:function(e){return this.from(e).transform(function(e){var t=SC.typeOf(e);return t===SC.T_ERROR?e:SC.none(e)})},toString:function(){var e=this._fromRoot?"<%@>:%@".fmt(this._fromRoot,this._fromPropertyPath):this._fromPropertyPath,t=this._toRoot?"<%@>:%@".fmt(this._toRoot,this._toPropertyPath):this._toPropertyPath,n=this._oneWay?"[oneWay]":"";return"SC.Binding%@(%@ -> %@)%@"
.fmt(SC.guidFor(this),e,t,n)}},SC.binding=function(e,t){return SC.Binding.from(e,t)},SC.Error=SC.Object.extend({code:-1,message:"",errorValue:null,errorObject:function(){return this}.property().cacheable(),label:null,toString:function(){return"SC.Error:%@:%@ (%@)".fmt(SC.guidFor(this),this.get("message"),this.get("code"))},isError:YES}),SC.Error.desc=function(e,t,n,r){var i={message:e};return t!==undefined&&(i.label=t),r!==undefined&&(i.code=r),n!==undefined&&(i.errorValue=n),this.create(i)},SC.$error=function(e,t,n,r){return SC.Error.desc(e,t,n,r)},SC.ok=function(e){return e!==!1&&(!e||!e.isError)},SC.$ok=SC.ok,SC.val=function(e){return e&&e.isError?e.get?e.get("errorValue"):null:e},SC.$val=SC.val,SC.Error.HAS_MULTIPLE_VALUES=-100,SC.IndexSet=SC.mixin({},SC.Enumerable,SC.Observable,SC.Freezable,SC.Copyable,{_sc_sliceContent:function(e){if(e.length<1e3)return e.slice();var t=0,n=[],r=e[0];while(r!==0)n[t]=r,t=r<0?0-r:r,r=e[t];return n[t]=0,this._hint(0,t,n),n},create:function(e,t){var n=SC.beget(this);return n.initObservable(),n.registerDependentKey("min","[]"),e&&e.isIndexSet?(n._content=this._sc_sliceContent(e._content),n.max=e.max,n.length=e.length,n.source=e.source):(n._content=[0],e!==undefined&&n.add(e,t)),n},isIndexSet:YES,HINT_SIZE:256,length:0,max:0,min:function(){var e=this._content,t=e[0];return t===0?-1:t>0?0:Math.abs(t)}.property("[]").cacheable(),firstObject:function(){return this.get("length")>0?this.get("min"):undefined}.property(),rangeStartForIndex:function(e){var t=this._content,n=this.get("max"),r,i,s;if(e>=n)return n;if(Math.abs(t[e])>e)return e;s=e-e%SC
.IndexSet.HINT_SIZE,r=t[s];if(r<0||r>e)r=s;i=Math.abs(t[r]);while(i<e)r=i,i=Math.abs(t[r]);return r},isEqual:function(e){if(e===this)return YES;if(!e||!e.isIndexSet||e.max!==this.max||e.length!==this.length)return NO;var t=this._content,n=e._content,r=0,i=t[r];do{if(n[r]!==i)return NO;r=Math.abs(i),i=t[r]}while(r!==0);return YES},indexBefore:function(e){if(e===0)return-1;e--;var t=this._content,n=this.get("max"),r=this.rangeStartForIndex(e);if(!t)return null;while(r===n||t[r]<0){if(r===0)return-1;e=r-1,r=this.rangeStartForIndex(e)}return e},indexAfter:function(e){var t=this._content,n=this.get("max"),r,i;if(!t||e>=n)return-1;e++,r=this.rangeStartForIndex(e),i=t[r];while(i<0){if(i===0)return-1;e=r=Math.abs(i),i=t[r]}return e},contains:function(e,t){var n,r,i,s,o;if(t===undefined){if(e===null||e===undefined)return NO;if(typeof e===SC.T_NUMBER)t=1;else{if(e&&e.isIndexSet){if(e===this)return YES;n=e._content,r=0,i=n[r];while(i!==0){if(i>0&&!this.contains(r,i-r))return NO;r=Math.abs(i),i=n[r]}return YES}t=e.length,e=e.start}}return s=this.rangeStartForIndex(e),o=this._content[s],o>0&&s<=e&&o>=e+t},intersects:function(e,t){var n,r,i,s;if(t===undefined)if(typeof e===SC.T_NUMBER)t=1;else{if(e&&e.isIndexSet){if(e===this)return YES;n=e._content,r=0,i=n[r];while(i!==0){if(i>0&&this.intersects(r,i-r))return YES;r=Math.abs(i),i=n[r]}return NO}t=e.length,e=e.start}r=this.rangeStartForIndex(e),n=this._content,i=n[r],s=e+t;while(r<s){if(i===0)return NO;if(i>0&&i>e)return YES;r=Math.abs(i),i=n[r]}return NO},without:function(e,t){return e===this?SC.IndexSet.create():this.clone().remove(e,t)},
replace:function(e,t){if(t===undefined)if(typeof e===SC.T_NUMBER)t=1;else{if(e&&e.isIndexSet)return this._content=this._sc_sliceContent(e._content),this.beginPropertyChanges().set("max",e.max).set("length",e.length).set("source",e.source).enumerableContentDidChange(),this.endPropertyChanges(),this;t=e.length,e=e.start}var n=this.length;return this._content.length=1,this._content[0]=0,this.length=this.max=0,this.add(e,t)},add:function(e,t){if(this.isFrozen)throw SC.FROZEN_ERROR;var n,r,i;if(e&&e.isIndexSet){n=e._content;if(!n)return this;r=0,i=n[0];while(i!==0)i>0&&this.add(r,i-r),r=i<0?0-i:i,i=n[r];return this}if(t===undefined){if(e===null||e===undefined)return this;typeof e===SC.T_NUMBER?t=1:(t=e.length,e=e.start)}else t===null&&(t=1);if(t<=0)return this;var s=this.get("max"),o=s,u,a;n=this._content;if(e===s)e>0?(r=this.rangeStartForIndex(e-1),i=n[r],i>0?(delete n[s],n[r]=s=e+t,e=r):n[s]=s=e+t):n[e]=s=t,n[s]=0,this.set("max",s),this.set("length",this.length+t),t=s-e;else if(e>s)n[s]=0-e,n[e]=e+t,n[e+t]=0,this.set("max",e+t),this.set("length",this.length+t),t=e+t-s,e=s;else{r=this.rangeStartForIndex(e),i=n[r],s=e+t,u=0,e>0&&r===e&&i<=0&&(r=this.rangeStartForIndex(e-1),i=n[r]),i<0?(n[r]=0-e,Math.abs(i)>s?(n[e]=0-s,n[s]=i):n[e]=i):(e=r,i>s&&(s=i)),r=e;while(r<s)a=n[r],a===0?(n[s]=0,i=s,u+=s-r):(i=Math.abs(a),i>s&&(n[s]=a,i=s),a<0&&(u+=i-r)),delete n[r],r=i;(r=n[s])>0&&(delete n[s],s=r),n[e]=s,s>o&&this.set("max",s),this.set("length",this.get("length")+u),t=s-e}return this._hint(e,t),u!==0&&this.enumerableContentDidChange(),this},remove:function(e,t){if(this.isFrozen)throw SC.FROZEN_ERROR
;if(t===undefined){if(e===null||e===undefined)return this;if(typeof e===SC.T_NUMBER)t=1;else{if(e.isIndexSet)return e.forEachRange(this.remove,this),this;t=e.length,e=e.start}}if(t<=0)return this;var n=this.get("max"),r=n,i=this._content,s,o,u,a,f;if(e>=n)return this;s=this.rangeStartForIndex(e),o=i[s],f=e+t,u=0;var l=this.HINT_SIZE,c=e-e%l+l;Math.abs(i[c])===e&&(i[c]=0),e>0&&s===e&&o>0&&(s=this.rangeStartForIndex(e-1),o=i[s]),o>0?(i[s]=e,o>f?(i[e]=f,i[f]=o):i[e]=o):(e=s,o=Math.abs(o),o>f&&(f=o)),s=e;while(s<f)a=i[s],a===0?(i[f]=0,o=f):(o=Math.abs(a),o>f&&(i[f]=a,o=f),a>0&&(u+=o-s)),delete i[s],s=o;return(s=i[f])<0&&(delete i[f],f=Math.abs(s)),i[f]===0?(delete i[f],i[e]=0,this.set("max",e)):i[e]=0-f,this.set("length",this.get("length")-u),t=f-e,this._hint(e,t),u!==0&&this.enumerableContentDidChange(),this},_hint:function(e,t,n){n===undefined&&(n=this._content);var r=SC.IndexSet.HINT_SIZE,i=Math.abs(n[e]),s=e-e%r+r,o=e+t;while(s<o){while(i!==0&&i<=s)e=i,i=Math.abs(n[e]);i===0?delete n[s]:s!==e&&(n[s]=-e),s+=r}},clear:function(){if(this.isFrozen)throw SC.FROZEN_ERROR;var e=this.length;this._content.length=1,this._content[0]=0,this.set("length",0).set("max",0),e>0&&this.enumerableContentDidChange()},addEach:function(e){if(this.isFrozen)throw SC.FROZEN_ERROR;this.beginPropertyChanges();var t=e.get("length");if(e.isSCArray)while(--t>=0)this.add(e.objectAt(t));else e.isEnumerable&&e.forEach(function(e){this.add(e)},this);return this.endPropertyChanges(),this},removeEach:function(e){if(this.isFrozen)throw SC.FROZEN_ERROR;this.beginPropertyChanges();var t=e.get("length");if(e.isSCArray
)while(--t>=0)this.remove(e.objectAt(t));else e.isEnumerable&&e.forEach(function(e){this.remove(e)},this);return this.endPropertyChanges(),this},clone:function(){return SC.IndexSet.create(this)},inspect:function(){var e=this._content,t=e.length,n=0,r=[],i;for(n=0;n<t;n++)i=e[n],i!==undefined&&r.push("%@:%@".fmt(n,i));return"SC.IndexSet<%@>".fmt(r.join(" , "))},forEachRange:function(e,t){var n=this._content,r=0,i=n[r],s=this.source;t===undefined&&(t=null);while(i!==0)i>0&&e.call(t,r,i-r,this,s),r=Math.abs(i),i=n[r];return this},forEachIn:function(e,t,n,r){var i=this._content,s=0,o=0,u=e+t,a=this.source,f=i[s];r===undefined&&(r=null);while(f!==0){s<e&&(s=e);while(s<f&&s<u)n.call(r,s++,o++,this,a);s>=u?s=f=0:(s=Math.abs(f),f=i[s])}return this},lengthIn:function(e,t){var n=0;if(t===undefined){if(e===null||e===undefined)return 0;if(typeof e===SC.T_NUMBER)t=1;else{if(e.isIndexSet)return e.forEachRange(function(e,t){n+=this.lengthIn(e,t)},this),n;t=e.length,e=e.start}}if(this.get("length")===0)return 0;var r=this._content,i=0,s=r[i],o=e+t;while(i<o&&s!==0)s>0&&(n+=s>o?o-i:s-i),i=Math.abs(s),s=r[i];return n},source:null,indexOf:function(e,t){var n=this.source;if(!n)throw"%@.indexOf() requires source".fmt(this);var r=n.get("length"),i=this._content,s=i[0]<0?Math.abs(i[0]):0,o;while(s>=0&&s<r){o=n.indexOf(e,s);if(o<0)return-1;if(this.contains(o))return o;s=o+1}return-1},lastIndexOf:function(e,t){var n=this.source;if(!n)throw"%@.lastIndexOf() requires source".fmt(this);var r=n.get("length"),i=this.max-1,s;i>=r&&(i=r-1);while(i>=0){s=n.lastIndexOf(e,i);if(s<0)return-1;if(this.contains(s
))return s;i=s+1}return-1},forEachObject:function(e,t){var n=this.source;if(!n)throw"%@.forEachObject() requires source".fmt(this);var r=this._content,i=0,s=0,o=r[i];t===undefined&&(t=null);while(o!==0){while(i<o)e.call(t,n.objectAt(i),i,n,this),i++;i=Math.abs(o),o=r[i]}return this},addObject:function(e,t){var n=this.source;if(!n)throw"%@.addObject() requires source".fmt(this);var r=n.get("length"),i=0,s;while(i>=0&&i<r){s=n.indexOf(e,i);if(!(s>=0))return this;this.add(s);if(t)return this;i=s++}return this},addObjects:function(e,t){return e.forEach(function(e){this.addObject(e,t)},this),this},removeObject:function(e,t){var n=this.source;if(!n)throw"%@.removeObject() requires source".fmt(this);var r=n.get("length"),i=0,s;while(i>=0&&i<r){s=n.indexOf(e,i);if(!(s>=0))return this;this.remove(s);if(t)return this;i=s+1}return this},removeObjects:function(e,t){return e.forEach(function(e){this.removeObject(e,t)},this),this},LOG_OBSERVING:NO,forEach:function(e,t){var n=this._content,r=0,i=0,s=this.source,o=n[r];t===undefined&&(t=null);while(o!==0){while(r<o)e.call(t,r++,i++,this,s);r=Math.abs(o),o=n[r]}return this},nextObject:function(e,t,n){var r=this._content,i=n.next,s=this.get("max");if(t===null)t=i=0;else{if(t>=s)return delete n.next,null;t++}if(t===i){do t=Math.abs(i),i=r[t];while(i<0);n.next=i}return t<i?t:null},toString:function(){var e=[];return this.forEachRange(function(t,n){e.push(n===1?t:"%@..%@".fmt(t,t+n-1))},this),"SC.IndexSet<%@>".fmt(e.join(","))}}),SC.IndexSet.slice=SC.IndexSet.copy=SC.IndexSet.clone,SC.IndexSet.EMPTY=SC.IndexSet.create().freeze(),SC.json={encode:
function(e){return JSON.stringify(e)},decode:function(e){return JSON.parse(e)}},this.JSON||(this.JSON={}),function(){function f(e){return e<10?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return typeof t=="string"?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,r,i,s,o=gap,u,a=t[e];a&&typeof a=="object"&&typeof a.toJSON=="function"&&(a=a.toJSON(e)),typeof rep=="function"&&(a=rep.call(t,e,a));switch(typeof a){case"string":return quote(a);case"number":return isFinite(a)?String(a):"null";case"boolean":case"null":return String(a);case"object":if(!a)return"null";gap+=indent,u=[];if(Object.prototype.toString.apply(a)==="[object Array]"){s=a.length;for(n=0;n<s;n+=1)u[n]=str(n,a)||"null";return i=u.length===0?"[]":gap?"[\n"+gap+u.join(",\n"+gap)+"\n"+o+"]":"["+u.join(",")+"]",gap=o,i}if(rep&&typeof rep=="object"){s=rep.length;for(n=0;n<s;n+=1)r=rep[n],typeof r=="string"&&(i=str(r,a),i&&u.push(quote(r)+(gap?": ":":")+i))}else for(r in a)Object.hasOwnProperty.call(a,r)&&(i=str(r,a),i&&u.push(quote(r)+(gap?": ":":")+i));return i=u.length===0?"{}":gap?"{\n"+gap+u.join(",\n"+gap)+"\n"+o+"}":"{"+u.join(",")+"}",gap=o,i}}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(e){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(
e){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;typeof JSON.stringify!="function"&&(JSON.stringify=function(e,t,n){var r;gap="",indent="";if(typeof n=="number")for(r=0;r<n;r+=1)indent+=" ";else typeof n=="string"&&(indent=n);rep=t;if(!t||typeof t=="function"||typeof t=="object"&&typeof t.length=="number")return str("",{"":e});throw new Error("JSON.stringify")}),typeof JSON.parse!="function"&&(JSON.parse=function(text,reviver){function walk(e,t){var n,r,i=e[t];if(i&&typeof i=="object")for(n in i)Object.hasOwnProperty.call(i,n)&&(r=walk(i,n),r!==undefined?i[n]=r:delete i[n]);return reviver.call(e,t,i)}var j;text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),typeof reviver=="function"?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),SC.LOGGER_LOG_DELIMITER=", ",SC.LOGGER_LOG_ERROR="ERROR: ",SC.LOGGER_LOG_INFO="INFO:  ",SC.LOGGER_LOG_WARN="WARN:  ",SC.LOGGER_LOG_DEBUG="DEBUG: ",SC.LOGGER_LOG_GROUP_HEADER="** %@",SC.LOGGER_LOG_GROUP_INDENTATION="    "
,SC.LOGGER_RECORDED_LOG_TIMESTAMP_PREFIX="%@:  ",SC.LOGGER_LEVEL_DEBUG="debug",SC.LOGGER_LEVEL_INFO="info",SC.LOGGER_LEVEL_WARN="warn",SC.LOGGER_LEVEL_ERROR="error",SC.LOGGER_LEVEL_NONE="none",SC.Logger=SC.Object.create({messagePrefix:null,outputMessagePrefix:null,recordedMessagePrefix:null,logOutputLevel:null,logRecordingLevel:SC.LOGGER_LEVEL_NONE,recordedLogMessages:null,recordedLogMessagesMaximumLength:500,recordedLogMessagesPruningMinimumLength:100,debugEnabled:NO,exists:function(){return!SC.none(this.get("reporter"))}.property("reporter").cacheable(),fallBackOnAlert:NO,reporter:console,debug:function(e,t){SC.Logger._handleMessage(SC.LOGGER_LEVEL_DEBUG,YES,e,arguments)},debugWithoutFmt:function(){this._handleMessage(SC.LOGGER_LEVEL_DEBUG,NO,null,arguments)},debugGroup:function(e,t){SC.Logger._handleGroup(SC.LOGGER_LEVEL_DEBUG,e,arguments)},debugGroupEnd:function(){SC.Logger._handleGroupEnd(SC.LOGGER_LEVEL_DEBUG)},info:function(e,t){SC.Logger._handleMessage(SC.LOGGER_LEVEL_INFO,YES,e,arguments)},infoWithoutFmt:function(){this._handleMessage(SC.LOGGER_LEVEL_INFO,NO,null,arguments)},infoGroup:function(e,t){SC.Logger._handleGroup(SC.LOGGER_LEVEL_INFO,e,arguments)},infoGroupEnd:function(){SC.Logger._handleGroupEnd(SC.LOGGER_LEVEL_INFO)},warn:function(e,t){SC.Logger._handleMessage(SC.LOGGER_LEVEL_WARN,YES,e,arguments)},warnWithoutFmt:function(){this._handleMessage(SC.LOGGER_LEVEL_WARN,NO,null,arguments)},warnGroup:function(e,t){SC.Logger._handleGroup(SC.LOGGER_LEVEL_WARN,e,arguments)},warnGroupEnd:function(){SC.Logger._handleGroupEnd(SC.LOGGER_LEVEL_WARN)},error:function(e,t){
SC.Logger._handleMessage(SC.LOGGER_LEVEL_ERROR,YES,e,arguments)},errorWithoutFmt:function(){this._handleMessage(SC.LOGGER_LEVEL_ERROR,NO,null,arguments)},errorGroup:function(e,t){SC.Logger._handleGroup(SC.LOGGER_LEVEL_ERROR,e,arguments)},errorGroupEnd:function(){SC.Logger._handleGroupEnd(SC.LOGGER_LEVEL_ERROR)},outputRecordedLogMessages:function(e){if(!this.get("exists"))return;var t=this.get("reporter"),n=this.get("recordedLogMessages"),r=0,i=SC.LOGGER_RECORDED_LOG_TIMESTAMP_PREFIX,s,o,u,a,f,l,c,h,p,d,v,m,g;if(n)for(s=0,o=n.length;s<o;++s){u=n[s],a=u.type,e&&(f=i.fmt(u.timestamp.toUTCString())),l=u.message;if(l)c=u.originalArguments,this._outputMessage(a,f,r,l,c);else{d=u.indentation,p=u.title,v=d-r;if(t.group){if(Math.abs(v)>1)for(m=0,g=v-1;m<g;++m)v>0?t.group():t.groupEnd();v>0?(h=f?f:"",h+=p,t.group(h)):t.groupEnd()}else v>0&&this._outputGroup(a,f,d-1,p);r=d}}},stringifyRecordedLogMessages:function(){var e="",t=this.get("recordedLogMessages"),n=0,r=SC.LOGGER_RECORDED_LOG_TIMESTAMP_PREFIX,i=this._LOG_FALLBACK_PREFIX_MAPPING,s=SC.LOGGER_LOG_GROUP_HEADER,o,u,a,f,l,c,h,p,d,v,m;if(t)for(o=0,u=t.length;o<u;++o)a=t[o],f=a.type,h=r.fmt(a.timestamp.toUTCString()),h+=i[f]||"",l=a.message,l?(c=a.originalArguments,p=h+this._indentation(n),p+=c?this._argumentsToString(c):l):(v=a.indentation,d=a.title,m=v-n,m>0&&(p=h+this._indentation(n)+s.fmt(d)),n=v),e+=p+"\n";return e},log:function(){var e=this.get("reporter"),t=arguments[0],n=this.get("messagePrefix"),r=this.get("outputMessagePrefix"),i=NO;return t&&SC.typeOf(t)===SC.T_STRING&&(n||r)&&(n&&(t=n+t),r&&(t=r+t),arguments[0]=t),this.get
("exists")&&(typeof e.log=="function"?(e.log.apply(e,arguments),i=YES):e.log&&(e.log(this._argumentsToArray(arguments)),i=YES)),!i&&this.get("fallBackOnAlert")&&(this.get("exists")&&typeof e.alert=="function"?(e.alert(arguments),i=YES):(alert(arguments),i=YES)),i},group:function(e){var t=this.get("reporter");this.get("exists")&&typeof t.group=="function"&&t.group(e)},groupEnd:function(){var e=this.get("reporter");this.get("exists")&&typeof e.groupEnd=="function"&&e.groupEnd()},dir:function(){var e=this.get("reporter");this.get("exists")&&typeof e.dir=="function"?e.dir.apply(e,arguments):this.log.apply(this,arguments)},dirxml:function(){var e=this.get("reporter");this.get("exists")&&typeof e.dirxml=="function"?e.dirxml.apply(e,arguments):this.log.apply(this,arguments)},profile:function(e){var t=this.get("reporter");return this.get("exists")&&typeof t.profile=="function"?(t.profile(e),YES):NO},profileEnd:function(e){var t=this.get("reporter");return this.get("exists")&&typeof t.profileEnd=="function"?(t.profileEnd(e),YES):NO},time:function(e){var t=this.get("reporter");return this.get("exists")&&typeof t.time=="function"?(t.time(e),YES):NO},timeEnd:function(e){var t=this.get("reporter");return this.get("exists")&&typeof t.timeEnd=="function"?(t.timeEnd(e),YES):NO},trace:function(){var e=this.get("reporter");return this.get("exists")&&typeof e.trace=="function"?(e.trace(),YES):NO},init:function(){arguments.callee.base.apply(this,arguments),this.get("logOutputLevel")||(SC.buildMode==="debug"?this.set("logOutputLevel",SC.LOGGER_LEVEL_DEBUG):this.set("logOutputLevel",SC.LOGGER_LEVEL_INFO
)),this.debugEnabledDidChange()},debugEnabledDidChange:function(){this.get("debugEnabled")&&this.set("logOutputLevel",SC.LOGGER_LEVEL_DEBUG)}.observes("debugEnabled"),_handleMessage:function(e,t,n,r){var i=this._shouldOutputType(e),s=this._shouldRecordType(e),o,u,a,f,l,c,h,p,d;if(!i&&!s)return;o=r&&r.length>1,t&&(SC.none(n)||typeof n!="string")&&(t=NO);if(t&&o){f=[];for(u=1,a=r.length;u<a;++u)f.push(r[u]);n=n.fmt.apply(n,f)}h=this.get("messagePrefix"),h&&(n=h+n),i&&(p=this.get("outputMessagePrefix"),f=t?null:r,this._outputMessage(e,null,this._outputIndentationLevel,p?p+n:n,f)),s&&(d=this.get("recordedMessagePrefix"),c={type:e,message:n?d?d+n:n:YES,timestamp:new Date},!t&&o&&(c.originalArguments=r),this._addRecordedMessageEntry(c))},_handleGroup:function(e,t,n){var r=this._shouldOutputType(e),i=this._shouldRecordType(e),s,o,u,a,f,l,c,h,p,d,v;if(!r&&!i)return;s=n&&n.length>1;if(t&&s){a=[];for(o=1,u=n.length;o<u;++o)a.push(n[o]);t=t.fmt.apply(t,a)}r&&(this._outputGroup(e,null,this._outputIndentationLevel,t),this._outputIndentationLevel++),i&&(d=++this._recordingIndentationLevel,v={type:e,indentation:d,beginGroup:YES,title:t,timestamp:new Date},this._addRecordedMessageEntry(v))},_handleGroupEnd:function(e){var t=this._shouldOutputType(e),n=this._shouldRecordType(e),r,i,s,o;if(!t&&!n)return;t&&(this._outputIndentationLevel--,this.get("exists")&&(r=this.get("reporter"),i=r.groupEnd,i&&i.call(r))),n&&(s=--this._recordingIndentationLevel,o={type:e,indentation:s,timestamp:new Date},this._addRecordedMessageEntry(o))},_shouldOutputType:function(e){var t=this._LOG_LEVEL_MAPPING,n=t[e]||0
,r=t[this.get("logOutputLevel")]||0;return n<=r},_shouldRecordType:function(e){var t=this._LOG_LEVEL_MAPPING,n=t[e]||0,r=t[this.get("logRecordingLevel")]||0;return n<=r},_outputMessage:function(e,t,n,r,i){if(!this.get("exists"))return;var s=this.get("reporter"),o,u,a,f,l,c;u=!s.group,a=s[e],a?i?(l=this._argumentsToArray(i),f="",t&&(f=t),u&&(f+=this._indentation(n)),f&&l.splice(0,0,f),a.apply?a.apply(s,l):s[e](l)):(o=t?t:"",u&&(o+=this._indentation(n)),o+=r,s[e](o)):s.log&&(f="",t&&(f=t),f+=this._LOG_FALLBACK_PREFIX_MAPPING[e]||"",u&&(f+=this._indentation(n)),i?(l=this._argumentsToArray(i),f&&l.splice(0,0,f),s.log(l)):s.log(f+r))},_outputGroup:function(e,t,n,r){if(!this.get("exists"))return;var i=this.get("reporter"),s=i.group,o;s?(o=t?t:"",o+=r,s.call(i,o)):i.log&&(o="",t&&(o=t),o+=this._LOG_FALLBACK_PREFIX_MAPPING[e]||"",o+=this._indentation(n),o+=SC.LOGGER_LOG_GROUP_HEADER.fmt(r),i.log(o))},_addRecordedMessageEntry:function(e){var t=this.get("recordedLogMessages"),n;t||(t=[],this.set("recordedLogMessages",t)),t.push(e),n=t.length,n>this.get("recordedLogMessagesMaximumLength")&&t.splice(0,n-this.get("recordedLogMessagesPruningMinimumLength")),t.enumerableContentDidChange()},_argumentsToArray:function(e){var t=[],n,r;if(e)for(n=0,r=e.length;n<r;++n)t[n]=e[n];return t},_argumentsToString:function(){var e="",t=SC.LOGGER_LOG_DELIMITER,n,r;for(n=0,r=arguments.length-1;n<r;++n)e+=arguments[n]+t;return e+=arguments[r],e},_indentation:function(e){if(!e||e<0)e=0;var t="",n=SC.LOGGER_LOG_GROUP_INDENTATION,r;for(r=0;r<e;++r)t+=n;return t},_outputIndentationLevel:0,_recordingIndentationLevel
:0,_LOG_LEVEL_MAPPING:{debug:4,info:3,warn:2,error:1,none:0},_LOG_FALLBACK_PREFIX_MAPPING:{debug:SC.LOGGER_LOG_DEBUG,info:SC.LOGGER_LOG_INFO,warn:SC.LOGGER_LOG_WARN,error:SC.LOGGER_LOG_ERROR}}),SC.debug=SC.Logger.debug,SC.info=SC.Logger.info,SC.warn=SC.Logger.warn,SC.error=SC.Logger.error,SC.RunLoop=SC.Object.extend({beginRunLoop:function(){return this._start=(new Date).getTime(),this._runLoopInProgress=YES,this},isRunLoopInProgress:function(){return this._runLoopInProgress}.property(),endRunLoop:function(){return this.flushAllPending(),this._start=null,SC.RunLoop.lastRunLoopEnd=Date.now(),this._runLoopInProgress=NO,this},flushAllPending:function(){var e=!0;while(e)e=this.flushApplicationQueues(),e||(e=this._flushinvokeLastQueue())},invokeOnce:function(e,t){t===undefined&&(t=e,e=this);var n;return typeof t=="string"&&(t=e[t]),this._invokeQueue||(this._invokeQueue=SC.ObserverSet.create()),t&&this._invokeQueue.add(e,t,undefined,n),this},invokeLast:function(e,t){t===undefined&&(t=e,e=this);var n;return typeof t=="string"&&(t=e[t]),this._invokeLastQueue||(this._invokeLastQueue=SC.ObserverSet.create()),this._invokeLastQueue.add(e,t,undefined,n),this},flushApplicationQueues:function(){var e=NO,t=this._invokeQueue;return t&&t.getMembers().length&&(this._invokeQueue=null,e=YES,t.invokeMethods()),SC.Binding.flushPendingChanges()||e},_flushinvokeLastQueue:function(){var e=this._invokeLastQueue,t=NO;return e&&e.getMembers().length&&(this._invokeLastQueue=null,t=YES,t&&e.invokeMethods()),t}}),SC.RunLoop.currentRunLoop=null,SC.RunLoop.runLoopClass=SC.RunLoop,SC.RunLoop.begin=function(){var e=
this.currentRunLoop;return e||(e=this.currentRunLoop=this.runLoopClass.create()),e.beginRunLoop(),this},SC.RunLoop.end=function(){var e=this.currentRunLoop;if(!e)throw"SC.RunLoop.end() called outside of a runloop!";return e.endRunLoop(),this},SC.RunLoop.kill=function(){return this.currentRunLoop=this.runLoopClass.create(),this},SC.RunLoop.isRunLoopInProgress=function(){return this.currentRunLoop?this.currentRunLoop.get("isRunLoopInProgress"):NO},SC.run=function(e,t,n){var r=SC.RunLoop.isRunLoopInProgress(),i;if(SC.ExceptionHandler&&SC.ExceptionHandler.enabled)try{(n||!r)&&SC.RunLoop.begin(),e&&(i=e.call(t)),(n||!r)&&SC.RunLoop.end()}catch(s){var o=SC.ExceptionHandler.handleException(s);if(!o&&!SC.browser.msie)throw s}else(n||!r)&&SC.RunLoop.begin(),e&&(i=e.call(t)),(n||!r)&&SC.RunLoop.end();return i},SC.RunLoop.wrapFunction=function(e){var t=function(){var t=SC.$A(arguments),n=this;return SC.run(function(){return e.apply(n,t)})};return t.wrapped=e,t},SC.DROP_ON=1,SC.DROP_BEFORE=2,SC.DROP_AFTER=4,SC.DROP_ANY=7,SC.ALIGN_LEFT="left",SC.ALIGN_RIGHT="right",SC.ALIGN_CENTER="center",SC.ALIGN_TOP="top",SC.ALIGN_MIDDLE="middle",SC.ALIGN_BOTTOM="bottom",SC.ALIGN_TOP_LEFT="top-left",SC.ALIGN_TOP_RIGHT="top-right",SC.ALIGN_BOTTOM_LEFT="bottom-left",SC.ALIGN_BOTTOM_RIGHT="bottom-right",SC.mixin({data:$.data,removeData:$.removeData,STRINGS:{},stringsFor:function(e,t){return SC.mixin(SC.STRINGS,t),this}}),SC.Controller=SC.Object.extend({isEditable:YES,destroyContentOnReplace:NO,contentObjectDidChanged:function(){var e,t;if(!this.get("destroyContentOnReplace"))return;e=this._oldContent,t=this
.get("content"),e&&t!==e&&e.destroy&&e.destroy(),this._oldContent=t}.observes("content")}),SC.SelectionSupport={hasSelectionSupport:YES,allowsSelection:YES,allowsMultipleSelection:YES,allowsEmptySelection:YES,firstSelectableObject:function(){return this.get("firstObject")}.property(),selection:function(e,t){var n=this._scsel_selection,r=n?n.get("length"):0,i,s=this.get("arrangedObjects"),o;if(t===undefined||!this.get("allowsSelection"))t=n;return o=t&&t.isEnumerable?t.get("length"):0,o>1&&!this.get("allowsMultipleSelection")&&(r>1?(t=SC.SelectionSet.create().addObject(n.get("firstObject")).freeze(),o=1):(t=n,o=r)),o===0&&!this.get("allowsEmptySelection")&&s&&s.get("length")!==0&&(r===0?(t=this.get("firstSelectableObject"),t?t=SC.SelectionSet.create().addObject(t).freeze():t=SC.SelectionSet.EMPTY,o=t.get("length")):(t=n,o=r)),o===0&&(t=SC.SelectionSet.EMPTY),t!==n&&(t=t.frozenCopy()),this._scsel_selection=t,t}.property("arrangedObjects","allowsEmptySelection","allowsMultipleSelection","allowsSelection").cacheable(),hasSelection:function(){var e=this.get("selection");return!!e&&e.get("length")>0}.property("selection").cacheable(),selectObjects:function(e,t){if(!e||e.get("length")===0)return t||this.set("selection",SC.SelectionSet.EMPTY),this;var n=this.get("selection");return t&&n?n=n.copy():n=SC.SelectionSet.create(),n.addObjects(e).freeze(),this.set("selection",n),this},selectObject:function(e,t){return e===null?(t||this.set("selection",null),this):this.selectObjects([e],t)},deselectObjects:function(e){if(!e||e.get("length")===0)return this;var t=this.get("selection");return!
t||t.get("length")===0?this:(t=t.copy().removeObjects(e).freeze(),this.set("selection",t.freeze()),this)},deselectObject:function(e){return e?this.deselectObjects([e]):this},updateSelectionAfterContentChange:function(){var e=this.get("arrangedObjects"),t=this.get("selection"),n=this.get("allowsEmptySelection"),r;if(!t)return this;r=t.indexSetForSource(e);if(r&&r.get("length")!==t.get("length")||!r&&t.get("length")>0)t=t.copy().constrain(e).freeze(),this.set("selection",t);return t.get("length")===0&&e&&e.get("length")>0&&!n&&this.selectObject(this.get("firstSelectableObject"),NO),this}},SC.ArrayController=SC.Controller.extend(SC.Array,SC.SelectionSupport,{content:null,isEditable:YES,orderBy:null,allowsSingleContent:YES,destroyOnRemoval:NO,arrangedObjects:function(){return this}.property().cacheable(),canRemoveContent:function(){var e=this.get("content"),t;return t=!!e&&this.get("isEditable")&&this.get("hasContent"),t?!e.isEnumerable||SC.typeOf(e.removeObject)===SC.T_FUNCTION:NO}.property("content","isEditable","hasContent"),canReorderContent:function(){var e=this.get("content"),t;return t=!!e&&this.get("isEditable")&&!this.get("orderBy"),t&&!!e.isSCArray}.property("content","isEditable","orderBy"),canAddContent:function(){var e=this.get("content"),t;return t=e&&this.get("isEditable")&&e.isEnumerable,t?SC.typeOf(e.addObject)===SC.T_FUNCTION||SC.typeOf(e.pushObject)===SC.T_FUNCTION:NO}.property("content","isEditable"),hasContent:function(){var e=this.get("content");return!!e&&(!!e.isEnumerable||!!this.get("allowsSingleContent"))}.property("content","allowSingleContent"),status
:function(){var e=this.get("content"),t=e?e.get("status"):null;return t?t:SC.Record.READY}.property().cacheable(),addObject:function(e){if(!this.get("canAddContent"))throw"%@ cannot add content".fmt(this);var t=this.get("content");if(t.isSCArray)t.pushObject(e);else{if(!t.addObject)throw"%@.content does not support addObject".fmt(this);t.addObject(e)}return this},removeObject:function(e){if(!this.get("canRemoveContent"))throw"%@ cannot remove content".fmt(this);var t=this.get("content");return t.isEnumerable?t.removeObject(e):this.set("content",null),this.get("destroyOnRemoval")&&e.destroy&&e.destroy(),this},length:function(){var e=this._scac_observableContent();return e?e.get("length"):0}.property().cacheable(),objectAt:function(e){var t=this._scac_observableContent();return t?t.objectAt(e):undefined},replace:function(e,t,n){if(!n||n.get("length")===0){if(!this.get("canRemoveContent"))throw"%@ cannot remove objects from the current content".fmt(this)}else if(!this.get("canReorderContent"))throw"%@ cannot add or reorder the current content".fmt(this);var r=this.get("content"),i=[],s,o;if(this.get("destroyOnRemoval"))for(s=0;s<t;s++)i.push(r.objectAt(s+e));r&&r.replace(e,t,n);for(s=0,o=i.length;s<o;s++)i[s].destroy();return i=null,this},indexOf:function(e,t){var n=this._scac_observableContent();return n?n.indexOf(e,t):-1},init:function(){arguments.callee.base.apply(this,arguments),this._scac_contentDidChange()},_scac_cached:NO,_scac_observableContent:function(){var e=this._scac_cached;if(e)return e;var t=this.get("content"),n,r,i;if(SC.none(t))return this._scac_cached=[];if(!
t.isEnumerable)return e=this.get("allowsSingleContent")?[t]:[],this._scac_cached=e;var s=this.get("orderBy");if(!s){if(t.isSCArray)return this._scac_cached=t;throw"%@.orderBy is required for unordered content".fmt(this)}var o=SC.typeOf(s);if(o===SC.T_STRING)s=[s];else if(o===SC.T_FUNCTION)n=s;else if(o!==SC.T_ARRAY)throw"%@.orderBy must be Array, String, or Function".fmt(this);return n=n||function(e,t){var n,r,o,u;for(var a=0,f=s.get("length");a<f&&!n;a++)r=s.objectAt(a),o=r.match(/^(ASC )?(DESC )?(.*)$/),r=o[3],i=o[2]?-1:1,e&&(e=e.isObservable?e.get(r):e[r]),t&&(t=t.isObservable?t.get(r):t[r]),n=SC.compare(e,t)*i;return n},this._scac_cached=t.toArray().sort(n)},propertyWillChange:function(e){if(e!=="content")return arguments.callee.base.apply(this,arguments);this.arrayContentWillChange(0,this.get("length"),0)},_scac_arrayContentWillChange:function(e,t,n){this.arrayContentWillChange(e,t,n);if(this._kvo_enumerable_property_chains){var r=this.slice(e,e+t);this.teardownEnumerablePropertyChains(r)}},_scac_arrayContentDidChange:function(e,t,n){var r=this._scac_observableContent(),i=r?r.get("length"):0;this._scac_length=i,this._scac_cached=NO,this.notifyPropertyChange("length");if(this._kvo_enumerable_property_chains){var s=this.slice(e,e+n);this.setupEnumerablePropertyChains(s)}this.updateSelectionAfterContentChange(),this.arrayContentDidChange(e,t,n)},_scac_contentDidChange:function(){this._scac_cached=NO;var e=this.get("content"),t=!!this.get("orderBy"),n=this._scac_content,r=this._scac_length||0,i=this._scac_arrayContentDidChange,s=this._scac_arrayContentWillChange,o=this._scac_contentStatusDidChange
,u=this._scac_enumerableDidChange,a;if(e===n)return this;this.arrayContentWillChange(0,r,a),n&&(n.isSCArray?n.removeArrayObservers({target:this,didChange:i,willChange:s}):n.isEnumerable&&n.removeObserver("[]",this,u),n.removeObserver("status",this,o),this.teardownEnumerablePropertyChains(n)),this._scac_cached=NO,this._scac_content=e,e?(e.isSCArray?(e.addArrayObservers({target:this,didChange:i,willChange:s}),a=e.get("length")):e.isEnumerable?(e.addObserver("[]",this,u),a=e.get("length")):a=1,e.addObserver("status",this,o),this.setupEnumerablePropertyChains(e)):a=SC.none(e)?0:1,this._scac_length=a,this._scac_contentStatusDidChange(),this.arrayContentDidChange(0,r,a),this.updateSelectionAfterContentChange()}.observes("content"),_scac_enumerableDidChange:function(){var e=this.get("content"),t=e?e.get("length"):0,n=this._scac_length;this._scac_length=t,this.beginPropertyChanges(),this._scac_cached=NO,this.arrayContentDidChange(0,n,t),this.endPropertyChanges(),this.updateSelectionAfterContentChange()}.observes("orderBy"),_scac_contentStatusDidChange:function(){this.notifyPropertyChange("status")}}),SC.ObjectController=SC.Controller.extend({content:null,allowsMultipleContent:NO,hasContent:function(){return!SC.none(this.get("observableContent"))}.property("observableContent"),isEditable:YES,observableContent:function(){var e=this.get("content"),t,n;if(e&&e.isEnumerable){t=e.get("length"),n=this.get("allowsMultipleContent");if(t===1)e=e.firstObject();else if(t===0||!n)e=null;e&&!n&&e.isEnumerable&&(e=null)}return e}.property("content","allowsMultipleContent").cacheable(),destroy:function(
){var e=this.get("observableContent");return e&&SC.typeOf(e.destroy)===SC.T_FUNCTION&&e.destroy(),this.set("content",null),this},contentPropertyDidChange:function(e,t){t==="*"?this.allPropertiesDidChange():this.notifyPropertyChange(t)},unknownProperty:function(e,t){if(e==="content")return t!==undefined&&(this.content=t),this.content;var n=this.get("observableContent"),r,i,s;if(n===null||n===undefined)return undefined;if(t===undefined)if(n.isEnumerable){t=n.getEach(e),r=t.get("length");if(r>0){s=YES,i=t.objectAt(0);while(--r>0&&s)i!==t.objectAt(r)&&(s=NO);s&&(t=i)}else t=undefined}else t=n.isObservable?n.get(e):n[e];else{if(!this.get("isEditable"))throw"%@.%@ is not editable".fmt(this,e);n.isEnumerable?n.setEach(e,t):n.isObservable?n.set(e,t):n[e]=t}return t},init:function(){arguments.callee.base.apply(this,arguments),this.get("content")&&this._scoc_contentDidChange(),this.get("observableContent")&&this._scoc_observableContentDidChange()},_scoc_contentDidChange:function(){var e=this._scoc_content,t=this.get("content");if(e!==t){this._scoc_content=t;var n=this._scoc_enumerableContentDidChange;e&&e.isEnumerable&&e.removeObserver("[]",this,n),t&&t.isEnumerable&&t.addObserver("[]",this,n)}}.observes("content"),_scoc_observableContentDidChange:function(){var e=this._scoc_observableContent,t=this.get("observableContent"),n=this.contentPropertyDidChange,r=this._scoc_enumerableContentDidChange;if(e===t)return this;this._scoc_observableContent=t,e&&(e.isEnumerable?e.removeObserver("[]",this,r):e.isObservable&&e.removeObserver("*",this,n)),t&&(t.isEnumerable?t.addObserver("[]",this,r):
t.isObservable&&t.addObserver("*",this,n)),e&&e.isEnumerable||t&&t.isEnumerable?this._scoc_enumerableContentDidChange():this.contentPropertyDidChange(t,"*")}.observes("observableContent"),_scoc_enumerableContentDidChange:function(){var e=this.get("observableContent"),t=this._scoc_observableContentItems,n=this.contentPropertyDidChange;return t&&(t.forEach(function(e){e.isObservable&&e.removeObserver("*",this,n)},this),t.clear()),e&&e.isEnumerable?(t||(t=SC.Set.create()),e.forEach(function(e){if(t.contains(e))return;t.add(e),e.isObservable&&e.addObserver("*",this,n)},this)):t=null,this._scoc_observableContentItems=t,this.contentPropertyDidChange(e,"*"),this}}),SC.mixin(Function.prototype,{invokeLater:function(e,t){t===undefined&&(t=1);var n=this;if(arguments.length>2){var r=SC.$A(arguments).slice(2,arguments.length);r.unshift(e);var i=n;n=function(){return i.apply(this,r.slice(1))}}return SC.Timer.schedule({target:e,action:n,interval:t})}}),SC.mixin(SC.Object.prototype,{invokeLater:function(e,t){t===undefined&&(t=1);var n=e,r,i;return arguments.length>2&&(r=SC.$A(arguments).slice(2),SC.typeOf(n)===SC.T_STRING&&(n=this[e]),i=n,n=function(){return i.apply(this,r)}),SC.Timer.schedule({target:this,action:n,interval:t})},invokeOnceLater:function(e,t){t===undefined&&(t=1);var n=this._sc_invokeOnceLaterTimers,r,i,s,o;return SC.typeOf(e)===SC.T_STRING&&(e=this[e]),r=SC.guidFor(e),n||(this._sc_invokeOnceLaterTimers=n={}),i=n[r],i&&i.invalidate(),s=function(){return delete n[r],e.apply(this,arguments)},o=SC.Timer.schedule({target:this,action:s,interval:t}),n[r]=o,o},invokeWith:function(
e,t,n){n===undefined&&(n=t,t=this),t||(t=this),SC.typeOf(n)===SC.T_STRING&&(n=t[n]);var r=this.getPath(e);return n.call(t,r,this),this}}),SC.RunLoop=SC.RunLoop.extend({startTime:function(){return this._start||(this._start=Date.now()),this._start}.property(),endRunLoop:function(){this.fireExpiredTimers();var e=arguments.callee.base.apply(this,arguments);return this.scheduleNextTimeout(),e},scheduleTimer:function(e,t){return this._timerQueue=e.removeFromTimerQueue(this._timerQueue),this._timerQueue=e.scheduleInTimerQueue(this._timerQueue,t),this},cancelTimer:function(e){return this._timerQueue=e.removeFromTimerQueue(this._timerQueue),this},TIMER_ARRAY:[],fireExpiredTimers:function(){if(!this._timerQueue||this._firing)return NO;var e=this.get("startTime"),t=this.TIMER_ARRAY,n,r,i;this._firing=YES,this._timerQueue=this._timerQueue.collectExpiredTimers(t,e),r=t.length;for(n=0;n<r;n++)t[n].fire();return i=t.length>0,t.length=0,this._firing=NO,i},scheduleNextTimeout:function(){var e=this._timerQueue,t=NO;if(!e)this._timeout&&clearTimeout(this._timeout);else{var n=e._timerQueueRunTime;if(this._timeoutAt!==n){this._timeout&&clearTimeout(this._timeout);var r=Math.max(0,n-Date.now());this._timeout=setTimeout(this._timeoutDidFire,r),this._timeoutAt=n}t=YES}return t},_timeoutDidFire:function(){var e=SC.RunLoop.currentRunLoop;e._timeout=e._timeoutAt=null,SC.run()}}),SC.RunLoop.currentRunLoop=SC.RunLoop.create(),SC.RunLoop.runLoopClass=SC.RunLoop,SC.Locale=SC.Object.extend({init:function(){this.language||SC.Locale._assignLocales();if(!this.hasStrings){var e=this._deprecatedLanguageCodes||[
];e.push(this.language);var t=e.length,n=null;while(!n&&--t>=0)n=String[e[t]];n&&(this.hasStrings=YES,this.strings=n)}},hasStrings:NO,strings:{},metrics:{},toString:function(){return this.language||SC.Locale._assignLocales(),"SC.Locale["+this.language+"]"+SC.guidFor(this)},locWithDefault:function(e,t){var n=this.strings[e];return SC.typeOf(n)===SC.T_STRING?n:SC.typeOf(t)===SC.T_STRING?t:e},locMetric:function(e){var t=this.metrics[e];return SC.typeOf(t)===SC.T_NUMBER?t:t===undefined?(SC.warn('No localized metric found for key "'+e+'"'),undefined):(SC.warn('Unexpected metric type for key "'+e+'"'),undefined)},locLayout:function(e,t){var n,r,i,s,o,u=SC.Locale.layoutKeys,a=this.metrics,f=SC.typeOf,l=SC.T_NUMBER,c={};t&&SC.mixin(c,t);for(n=0,r=u.length;n<r;++n){i=u[n],s=e+"."+i,o=a[s];if(f(o)===l){if(t&&t[i])throw"locLayout():  There is a localized value for the key '"+s+"' but a value for '"+i+"' was also specified in the non-localized hash";c[i]=o}}return c}}),SC.Locale.mixin({useAutodetectedLanguage:NO,preferredLanguage:null,layoutKeys:["left","top","right","bottom","width","height","minWidth","minHeight","centerX","centerY"],createCurrentLocale:function(){var e=String.useAutodetectedLanguage!==undefined?String.useAutodetectedLanguage:this.useAutodetectedLanguage,t=String.preferredLanguage!==undefined?String.preferredLanguage:this.preferredLanguage,n=(e?SC.browser.language:null)||t||SC.browser.language||"en";n=SC.Locale.normalizeLanguage(n);var r=this.localeClassFor(n);return n!=this.currentLanguage&&(this.currentLanguage=n,this.currentLocale=r.create()),this.currentLocale},localeClassFor
:function(e){e=SC.Locale.normalizeLanguage(e);var t,n=this.locales[e];return!n&&(t=e.split("-")[0])!==e&&(n=this.locales[t])&&(n=this.locales[e]=n.extend()),n||(n=this.locales[e]=this.locales.en.extend()),n},define:function(e,t){var n;return t===undefined&&SC.typeOf(e)!==SC.T_STRING?(n=this,t=e):n=SC.Locale.localeClassFor(e),SC.mixin(n.prototype,t),n},options:function(){return this.prototype},addStrings:function(e){var t=this.prototype.strings;return t?this.prototype.hasOwnProperty("strings")||(this.prototype.strings=SC.clone(t)):t=this.prototype.strings={},e&&(this.prototype.strings=SC.mixin(t,e)),this.prototype.hasStrings=YES,this},addMetrics:function(e){var t=this.prototype.metrics;return t?this.prototype.hasOwnProperty(t)||(this.prototype.metrics=SC.clone(t)):t=this.prototype.metrics={},e&&(this.prototype.metrics=SC.mixin(t,e)),this},_map:{english:"en",french:"fr",german:"de",japanese:"ja",jp:"ja",spanish:"es"},normalizeLanguage:function(e){return e?SC.Locale._map[e.toLowerCase()]||e:"en"},_assignLocales:function(){for(var e in this.locales)this.locales[e].prototype.language=e},toString:function(){return this.prototype.language||SC.Locale._assignLocales(),"SC.Locale["+this.prototype.language+"]"},extend:function(){var e=SC.Object.extend.apply(this,arguments);return e.addStrings=SC.Locale.addStrings,e.define=SC.Locale.define,e.options=SC.Locale.options,e.toString=SC.Locale.toString,e}}),SC.Locale.locales={en:SC.Locale.extend({_deprecatedLanguageCodes:["English"]}),fr:SC.Locale.extend({_deprecatedLanguageCodes:["French"]}),de:SC.Locale.extend({_deprecatedLanguageCodes:["German"
]}),ja:SC.Locale.extend({_deprecatedLanguageCodes:["Japanese","jp"]}),es:SC.Locale.extend({_deprecatedLanguageCodes:["Spanish"]})},SC.stringsFor=function(e,t){var n=SC.Locale.localeClassFor(e);return n.addStrings(t),this},SC.metricsFor=function(e,t){var n=SC.Locale.localeClassFor(e);return n.addMetrics(t),this},SC.STRING_TITLEIZE_REGEXP=/([\s|\-|\_|\n])([^\s|\-|\_|\n]?)/g,SC.STRING_DECAMELIZE_REGEXP=/([a-z])([A-Z])/g,SC.STRING_DASHERIZE_REGEXP=/[ _]/g,SC.STRING_DASHERIZE_CACHE={},SC.STRING_TRIM_LEFT_REGEXP=/^\s+/g,SC.STRING_TRIM_RIGHT_REGEXP=/\s+$/g,SC.mixin(SC.String,{capitalize:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},camelize:function(e){var t=e.replace(SC.STRING_TITLEIZE_REGEXP,function(e,t,n){return n?n.toUpperCase():""}),n=t.charAt(0),r=n.toLowerCase();return n!==r?r+t.slice(1):t},decamelize:function(e){return e.replace(SC.STRING_DECAMELIZE_REGEXP,"$1_$2").toLowerCase()},dasherize:function(e){var t=SC.STRING_DASHERIZE_CACHE,n=t[e];return n?n:(n=SC.String.decamelize(e).replace(SC.STRING_DASHERIZE_REGEXP,"-"),t[e]=n,n)},loc:function(e){SC.Locale.currentLocale||SC.Locale.createCurrentLocale();var t=SC.Locale.currentLocale.locWithDefault(e);SC.typeOf(t)!==SC.T_STRING&&(t=e);var n=SC.$A(arguments);n.shift(),n.length>0&&n[0].isSCArray&&(n=n[0]);try{return SC.String.fmt(t,n)}catch(r){SC.error("Error processing string with key: "+e),SC.error("Localized String: "+t),SC.error("Error: "+r)}},locMetric:function(e){var t=SC.Locale,n=t.currentLocale;return n||(t.createCurrentLocale(),n=t.currentLocale),n.locMetric(e)},locLayout:function(e,t){var n=SC.Locale,r=n.currentLocale
;return r||(n.createCurrentLocale(),r=n.currentLocale),r.locLayout(e,t)},locWithDefault:function(e,t){SC.Locale.currentLocale||SC.Locale.createCurrentLocale();var n=SC.Locale.currentLocale.locWithDefault(e,t);SC.typeOf(n)!==SC.T_STRING&&(n=e);var r=SC.$A(arguments);return r.shift(),r.shift(),SC.String.fmt(n,r)},trim:jQuery.trim,trimLeft:function(e){return e.replace(SC.STRING_TRIM_LEFT_REGEXP,"")},trimRight:function(e){return e.replace(SC.STRING_TRIM_RIGHT_REGEXP,"")},mult:function(e,t){if(SC.typeOf(t)!==SC.T_NUMBER||t<1)return null;var n="";for(var r=0;r<t;r+=1)n+=e;return n}}),String.prototype.trim&&SC.supplement(String.prototype,{trim:function(){return SC.String.trim(this,arguments)},trimLeft:function(){return SC.String.trimLeft(this,arguments)},trimRight:function(){return SC.String.trimRight(this,arguments)}}),SC.mixin(String.prototype,{loc:function(){return SC.String.loc(this.toString(),SC.$A(arguments))},locMetric:function(){return SC.String.locMetric(this.toString())},locLayout:function(e){return SC.String.locLayout(this.toString(),e)}}),SC.supplement(String.prototype,{capitalize:function(){return SC.String.capitalize(this,arguments)},camelize:function(){return SC.String.camelize(this,arguments)},decamelize:function(){return SC.String.decamelize(this,arguments)},dasherize:function(){return SC.String.dasherize(this,arguments)},loc:function(){var e=SC.$A(arguments);return e.unshift(this),SC.String.loc.apply(SC.String,e)},locWithDefault:function(e){var t=SC.$A(arguments);return t.unshift(this),SC.String.locWithDefault.apply(SC.String,t)},mult:function(e){return SC.String.
mult(this,e)}}),SC.ActionSupport={target:null,action:null,actionContext:null,fireAction:function(e){var t=this.get("target")||null,n=this.getPath("pane.rootResponder");return e===undefined&&(e=this.get("action")),e&&n?n.sendAction(e,t,this,this.get("pane"),this.get("actionContext"),this):!1}},SC.DelegateSupport={delegateFor:function(e){var t=1,n=arguments.length,r;while(t<n){r=arguments[t];if(r&&r[e]!==undefined)return r;t++}return this[e]!==undefined?this:null},invokeDelegateMethod:function(e,t,n){n=SC.A(arguments),n=n.slice(2,n.length);if(!e||!e[t])e=this;var r=e[t];return r?r.apply(e,n):null},getDelegateProperty:function(e,t){var n=1,r=arguments.length,i;while(n<r){i=arguments[n++];if(i&&i[e]!=undefined)return i.get?i.get(e):i[e]}return this[e]!=undefined?this.get(e):undefined}},SC.Responder=SC.Object.extend({isResponder:YES,pane:null,responderContext:null,nextResponder:null,isFirstResponder:NO,hasFirstResponder:NO,acceptsFirstResponder:YES,becomingFirstResponder:NO,becomeFirstResponder:function(){var e=this.get("pane")||this.get("responderContext")||this.pane();return e&&this.get("acceptsFirstResponder")&&e.get("firstResponder")!==this&&e.makeFirstResponder(this),this},resignFirstResponder:function(e){var t=this.get("pane")||this.get("responderContext");return t&&t.get("firstResponder")===this&&(this.get("isPane")||t.set("lastViewFirstResponder",this),t.makeFirstResponder(null,e)),YES},willLoseFirstResponder:function(e){},didBecomeFirstResponder:function(e){},sendAction:function(e,t){return SC.RootResponder.responder.sendAction(e,null,this,null,t,this)}}),SC.ResponderContext=
{isResponderContext:YES,trace:NO,defaultResponder:null,nextResponder:function(){return this.get("defaultResponder")}.property("defaultResponder").cacheable(),firstResponder:null,nextResponderFor:function(e){var t=e.get("nextResponder");return typeof t===SC.T_STRING?t=SC.objectForPropertyPath(t,this):!t&&e!==this&&(t=this),t},responderNameFor:function(e){if(!e)return"(No Responder)";if(e._scrc_name)return e._scrc_name;var t=this.NAMESPACE;return this._findResponderNamesFor(this,3,t?[this.NAMESPACE]:[]),e._scrc_name||e.toString()},_findResponderNamesFor:function(e,t,n){var r,i;for(r in e){if(r==="nextResponder")continue;i=e[r];if(i&&i.isResponder){if(i._scrc_name)continue;n.push(r),i._scrc_name=n.join("."),t>0&&this._findResponderNamesFor(i,t-1,n),n.pop()}}},makeFirstResponder:function(e,t){var n=this.get("firstResponder"),r=this.get("nextResponder"),i=this.get("trace"),s;if(this._locked){i&&SC.Logger.log("%@: AFTER ACTION: makeFirstResponder => %@".fmt(this,this.responderNameFor(e))),this._pendingResponder=e;return}i&&SC.Logger.log("%@: makeFirstResponder => %@".fmt(this,this.responderNameFor(e))),e&&e.set("becomingFirstResponder",YES),this._locked=YES,this._pendingResponder=null,s=e?e:null;while(s){if(s.get("hasFirstResponder"))break;s=s===r?null:this.nextResponderFor(s)}return s||(s=r),this._notifyWillLoseFirstResponder(n,n,s,t),n&&n.set("isFirstResponder",NO),this.beginPropertyChanges(),this.set("firstResponder",e),e&&e.set("isFirstResponder",YES),this._notifyDidBecomeFirstResponder(e,e,s),this.endPropertyChanges(),this._locked=NO,this._pendingResponder&&(this.makeFirstResponder
(this._pendingResponder),this._pendingResponder=null),e&&e.set("becomingFirstResponder",NO),this},_notifyWillLoseFirstResponder:function(e,t,n,r){if(!t||t===n)return;t.willLoseFirstResponder(e,r),t.set("hasFirstResponder",NO);var i=this.nextResponderFor(t);i&&this._notifyWillLoseFirstResponder(e,i,n)},_notifyDidBecomeFirstResponder:function(e,t,n){if(!t||t===n)return;var r=this.nextResponderFor(t);r&&this._notifyDidBecomeFirstResponder(e,r,n),t.set("hasFirstResponder",YES),t.didBecomeFirstResponder(e)},resetFirstResponder:function(){var e=this.get("firstResponder");if(!e)return;e.willLoseFirstResponder(),e.didBecomeFirstResponder()},sendAction:function(e,t,n){var r=this.get("firstResponder"),i=this.get("nextResponder"),s=this.get("trace"),o=NO,u;this._locked=YES,s&&SC.Logger.log("%@: begin action '%@' (%@, %@)".fmt(this,e,t,n)),!o&&!r&&this.tryToPerform&&(o=this.tryToPerform(e,t,n));while(!o&&r)r.tryToPerform&&(o=r.tryToPerform(e,t,n)),o||(r=r===i?null:this.nextResponderFor(r));s&&(o?SC.Logger.log("%@: action '%@' handled by %@".fmt(this,e,this.responderNameFor(r))):SC.Logger.log("%@:  action '%@' NOT HANDLED".fmt(this,e))),this._locked=NO;if(u=this._pendingResponder)this._pendingResponder=null,this.makeFirstResponder(u);return r}},SC.bodyOverflowArbitrator=SC.Object.create({requestHidden:function(e,t){this._makeRequest(e,-1-9*!!t)},requestVisible:function(e,t){this._makeRequest(e,1+9*!!t)},withdrawRequest:function(e){if(!e)return;var t=SC.guidFor(e);this._requests[t]&&delete this._requests[t],this.setOverflow()},setOverflow:function(){var e=this._decideOverflow();e!==undefined&&
(document.body.style.overflow=e?"auto":"hidden")},_makeRequest:function(e,t){if(!e)return;var n=SC.guidFor(e);this._requests[n]=t,this.setOverflow()},_requests:{},_decideOverflow:function(){var e,t,n,r,i=this._requests,s;for(var o in i)(s=i[o])<0&&(e=YES),s<-1&&(n=YES),s>0&&(t=YES),s>1&&(r=YES);return r?YES:t&&n?NO:t?YES:e?NO:undefined}}),SC.mixin(SC.browser,{compareVersion:function(){if(this._versionSplit===undefined){var e=function(e){return Number(e.match(/^[0-9]+/))};this._versionSplit=SC.A(this.version.split(".")).map(e)}var t=SC.A(arguments).map(Number);for(var n=0;n<t.length;n++){var r=this._versionSplit[n]-t[n];if(isNaN(r))return 0;if(r!==0)return r}return 0}}),SC.Builder=function(e){return SC.Builder.create(e)},SC.Builder.create=function(t){var n=SC.mixin(SC.beget(this.fn),t||{});t.hasOwnProperty("toString")&&(n.toString=t.toString);var r=function(){var e=SC.beget(n);return e.defaultClass=this,e.constructor=r,e.init.apply(e,arguments)};return r.fn=r.prototype=n,r.extend=SC.Builder.create,r.mixin=SC.Builder.mixin,r},SC.Builder.mixin=function(){var e=arguments.length,t;for(t=0;t<e;t++)SC.mixin(this,arguments[t]);return this},SC.Builder.fn={init:function(e){if(e!==undefined)if(SC.typeOf(e)===SC.T_ARRAY){var t=e.length;while(--t>=0)this[t]=e.objectAt?e.objectAt(t):e[t];this.length=e.length}else this[0]=e,this.length=1;return this},size:function(){return this.length},pushStack:function(){var e=this.constructor.apply(this,arguments);return e.prevObject=this,e},end:function(){return this.prevObject||this.constructor()},toString:function(){return"%@$(%@)".fmt(this.defaultClass
.toString(),SC.A(this).invoke("toString").join(","))},mixin:SC.Builder.mixin},function(){var e=SC.Enumerable,t=SC.Builder.fn,n,r;for(n in e){if(!e.hasOwnProperty(n))continue;r=Array.prototype[n]||e[n],t[n]=r}}(),SC.$=SC.CoreQuery=jQuery,SC.mixin(SC.$.fn,{isCoreQuery:YES,toString:function(){var e=[],t=this.length,n=0;for(n=0;n<t;n++)e[n]="%@: %@".fmt(n,this[n]?this[n].toString():"(null)");return"<$:%@>(%@)".fmt(SC.guidFor(this),e.join(" , "))},isVisible:function(){return Array.prototype.every.call(this,function(e){return SC.$.isVisible(e)})},view:function(){return this.map(function(){var e=null,t=SC.viewKey,n=this,r;while(!e&&n&&n!==document)n.nodeType===1&&(r=n.getAttribute("id"))&&(e=SC.View.views[r]),n=n.parentNode;return n=null,e})},within:function(e){return this.filter(e).length?!0:!!this.has(e).length}}),function(){var e={},t={find:function(t,n){return n!==undefined?SC.Enumerable.find.call(this,t,n):e.find.call(this,t)},filter:function(t,n){return n!==undefined?this.pushStack(SC.Enumerable.filter.call(this,t,n)):e.filter.call(this,t)},filterProperty:function(e,t){return this.pushStack(SC.Enumerable.filterProperty.call(this,e,t))},indexOf:SC.$.index,map:function(t,n){return n!==undefined?SC.Enumerable.map.call(this,t,n):e.map.call(this,t)}},n=SC.$.fn,r=SC.Enumerable,i;for(var s in r)r.hasOwnProperty(s)&&(i=r[s],s in t&&(e[s]=n[s],i=t[s]),n[s]=i)}(),SC.mixin(SC.$,{isVisible:function(e){var t=SC.$;return"hidden"!=e.type&&t.css(e,"display")!="none"&&t.css(e,"visibility")!="hidden"}}),SC.Event=function(e){var t,n;if(e){this.originalEvent=e;var r=SC.Event._props,i;n=r.length,
t=n;while(--t>=0)i=r[t],this[i]=e[i]}this.timeStamp=this.timeStamp||Date.now(),this.target||(this.target=this.srcElement||document),this.target.nodeType===3&&(this.target=this.target.parentNode),!this.relatedTarget&&this.fromElement&&(this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement);if(SC.none(this.pageX)&&!SC.none(this.clientX)){var s=document.documentElement,o=document.body;this.pageX=this.clientX+(s&&s.scrollLeft||o&&o.scrollLeft||0)-(s.clientLeft||0),this.pageY=this.clientY+(s&&s.scrollTop||o&&o.scrollTop||0)-(s.clientTop||0)}!this.which&&(this.charCode||e.charCode===0?this.charCode:this.keyCode)&&(this.which=this.charCode||this.keyCode),!this.metaKey&&this.ctrlKey&&(this.metaKey=this.ctrlKey),!this.which&&this.button&&(this.which=this.button&1?1:this.button&2?3:this.button&4?2:0);if(this.type==="mousewheel"||this.type==="DOMMouseScroll"||this.type==="MozMousePixelScroll"||this.type==="wheel"){var u=SC.Event.MOUSE_WHEEL_MULTIPLIER;SC.browser.webkit&&e.wheelDelta!==undefined?(this.wheelDelta=0-(e.wheelDeltaY||e.wheelDeltaX),this.wheelDeltaY=0-(e.wheelDeltaY||0),this.wheelDeltaX=0-(e.wheelDeltaX||0)):!SC.none(e.detail)&&SC.browser.mozilla?e.axis&&e.axis===e.HORIZONTAL_AXIS?(this.wheelDeltaX=e.detail,this.wheelDeltaY=this.wheelDelta=0):(this.wheelDeltaY=this.wheelDelta=e.detail,this.wheelDeltaX=0):!SC.none(e.deltaX)&&SC.browser.msie?(this.wheelDeltaY=e.deltaY||0,this.wheelDeltaX=e.deltaX||0,this.wheelDelta=this.wheelDeltaY||this.wheelDeltaX):(this.wheelDelta=this.wheelDeltaY=SC.browser.msie||SC.browser.opera?0-e.wheelDelta:e.wheelDelta,this
.wheelDeltaX=0),this.wheelDelta*=u,this.wheelDeltaX*=u,this.wheelDeltaY*=u}return this},SC.mixin(SC.Event,{MOUSE_WHEEL_MULTIPLIER:function(){var e=1,t=parseFloat(SC.browser.version);return SC.browser.safari?(e=.4,t>=533.17&&t<534?e=.004:t<533&&(e=40)):SC.browser.msie?e=.3:SC.browser.chrome&&(e=.4),e}(),MOUSE_WHEEL_DELTA_LIMIT:1e3,_MOUSE_WHEEL_LIMIT_INVALIDATED:NO,create:function(e){return new SC.Event(e)},add:function(e,t,n,r,i,s){if(e&&e.isCoreQuery){if(e.length>0)return e.forEach(function(e){this.add(e,t,n,r,i)},this),this;e=e[0]}if(!e)return this;s||(s=NO);if(e.nodeType===3||e.nodeType===8)return SC.Event;SC.browser.msie&&e.setInterval&&(e=window),SC.typeOf(n)===SC.T_FUNCTION?(i=r,r=n,n=null):n&&SC.typeOf(r)===SC.T_STRING&&(r=n[r]);var o=SC.data(e,"sc_events")||SC.data(e,"sc_events",{}),u=o[t];return u||(u=o[t]={},this._addEventListener(e,t,s)),u[SC.hashFor(n,r)]=[n,r,i],SC.Event._global[t]=YES,e=o=u=null,this},remove:function(e,t,n,r){if(e&&e.isCoreQuery){if(e.length>0)return e.forEach(function(e){this.remove(e,t,n,r)},this),this;e=e[0]}if(!e)return this;if(e.nodeType===3||e.nodeType===8)return SC.Event;var i,s,o=SC.data(e,"sc_events");if(!o)return this;if(t===undefined)for(t in o)this.remove(e,t);else if(i=o[t]){var u=NO;if(n||r){SC.typeOf(n)===SC.T_FUNCTION?(r=n,n=null):SC.typeOf(r)===SC.T_STRING&&(r=n[r]),delete i[SC.hashFor(n,r)],s=null;for(s in i)break;s===null&&(u=YES)}else u=YES;u&&(delete o[t],this._removeEventListener(e,t)),s=null;for(s in o)break;s||(SC.removeData(e,"sc_events"),delete this._elements[SC.guidFor(e)])}return e=o=i=null,this},NO_BUBBLE:["blur","focus"
,"change"],simulateEvent:function(e,t,n){var r=SC.Event.create({type:t,target:e,preventDefault:function(){this.cancelled=YES},stopPropagation:function(){this.bubbles=NO},allowDefault:function(){this.hasCustomEventHandling=YES},timeStamp:Date.now(),bubbles:this.NO_BUBBLE.indexOf(t)<0,cancelled:NO,normalized:YES});return n&&SC.mixin(r,n),r},trigger:function(e,t,n,r){if(e&&e.isCoreQuery){if(e.length>0)return e.forEach(function(e){this.trigger(e,t,n,r)},this),this;e=e[0]}if(!e)return this;if(e.nodeType===3||e.nodeType===8)return undefined;n=SC.A(n);var i,s=SC.typeOf(e[t]||null)===SC.T_FUNCTION,o,u,a,f;o=n[0];if(!o||!o.preventDefault)o=this.simulateEvent(e,t),n.unshift(o);o.type=t,u=e;do i=SC.Event.handle.apply(u,n),u=u===document?null:u.parentNode||document;while(!i&&o.bubbles&&u);u=null,a=e["on"+t],f=SC.$.nodeName(e,"a")&&t==="click",(!s||f)&&a&&a.apply(e,n)===NO&&(i=NO);if(s&&r!==NO&&i!==NO&&!f){this.triggered=YES;try{e[t]()}catch(l){}}return this.triggered=NO,i},handle:function(e){if(typeof SC=="undefined"||SC.Event.triggered)return YES;var t,n,r,i,s,o,u,a,f,l;o=SC.A(arguments),o[0]=e=SC.Event.normalizeEvent(e||window.event),s=(SC.data(this,"sc_events")||{})[e.type];if(!s)return NO;for(u in s)a=s[u],f=a[1],e.handler=f,e.data=e.context=a[2],l=a[0]||this,n=f.apply(l,o),t!==NO&&(t=n),n===NO&&(e.preventDefault(),e.stopPropagation());return t},unload:function(){var e,t=this._elements;for(e in t)this.remove(t[e]);for(e in t)delete t[e];delete this._elements},special:{ready:{setup:function(){SC._bindReady();return},teardown:function(){return}},mouseenter:{setup:function(){return SC.
browser.msie?NO:(SC.Event.add(this,"mouseover",SC.Event.special.mouseenter.handler),YES)},teardown:function(){return SC.browser.msie?NO:(SC.Event.remove(this,"mouseover",SC.Event.special.mouseenter.handler),YES)},handler:function(e){return SC.Event._withinElement(e,this)?YES:(e.type="mouseenter",SC.Event.handle.apply(this,arguments))}},mouseleave:{setup:function(){return SC.browser.msie?NO:(SC.Event.add(this,"mouseout",SC.Event.special.mouseleave.handler),YES)},teardown:function(){return SC.browser.msie?NO:(SC.Event.remove(this,"mouseout",SC.Event.special.mouseleave.handler),YES)},handler:function(e){return SC.Event._withinElement(e,this)?YES:(e.type="mouseleave",SC.Event.handle.apply(this,arguments))}}},KEY_BACKSPACE:8,KEY_TAB:9,KEY_RETURN:13,KEY_ESC:27,KEY_LEFT:37,KEY_UP:38,KEY_RIGHT:39,KEY_DOWN:40,KEY_DELETE:46,KEY_HOME:36,KEY_END:35,KEY_PAGEUP:33,KEY_PAGEDOWN:34,KEY_INSERT:45,_withinElement:function(e,t){var n=e.relatedTarget;while(n&&n!==t)try{n=n.parentNode}catch(r){n=t}return n===t},_addEventListener:function(e,t,n){var r,i=this.special[t];n||(n=NO);if(!i||i.setup.call(e)===NO){var s=SC.guidFor(e);this._elements[s]=e,r=SC.data(e,"listener")||SC.data(e,"listener",function(){return SC.Event.handle.apply(SC.Event._elements[s],arguments)}),e.addEventListener?e.addEventListener(t,r,n):e.attachEvent&&e.attachEvent("on"+t,r)}e=i=r=null},_removeEventListener:function(e,t){var n,r=SC.Event.special[t];if(!r||r.teardown.call(e)===NO)n=SC.data(e,"listener"),n&&(e.removeEventListener?e.removeEventListener(t,n,NO):e.detachEvent&&e.detachEvent("on"+t,n));e=r=n=null},_elements:{},normalizeEvent
:function(e){return e===window.event?SC.Event.create(e):e.normalized?e:SC.Event.create(e)},_global:{},_props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode metaKey newValue originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target timeStamp toElement type view which touches targetTouches changedTouches animationName elapsedTime dataTransfer".split(" ")}),SC.Event.prototype={hasCustomEventHandling:NO,touchesForView:function(e){if(this.touchContext)return this.touchContext.touchesForView(e)},touchesForResponder:function(e){if(this.touchContext)return this.touchContext.touchesForView(e)},averagedTouchesForView:function(e){return this.touchContext?this.touchContext.averagedTouchesForView(e):null},allowDefault:function(){return this.hasCustomEventHandling=YES,this},preventDefault:function(){var e=this.originalEvent;return e&&(e.preventDefault&&e.preventDefault(),e.returnValue=NO),this.hasCustomEventHandling=YES,this},stopPropagation:function(){var e=this.originalEvent;return e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=YES),this.hasCustomEventHandling=YES,this},stop:function(){return this.preventDefault().stopPropagation()},normalized:YES,getCharString:function(){if(SC.browser.msie){if(this.keyCode==8||this.keyCode==9||this.keyCode>=37&&this.keyCode<=40)return String.fromCharCode(0);var e=this.keyCode>=96&&this.keyCode<=105?this.charCode:this.keyCode;return e>0?String.fromCharCode(e):null}return this.charCode>0?String
.fromCharCode(this.charCode):null},commandCodes:function(){var e=this.keyCode,t=null,n=null,r="",i;if(e){t=SC.FUNCTION_KEYS[e],!t&&(this.altKey||this.ctrlKey||this.metaKey)&&(t=SC.PRINTABLE_KEYS[e]);if(t){this.altKey&&(r+="alt_");if(this.ctrlKey||this.metaKey)r+="ctrl_";this.shiftKey&&(r+="shift_")}}return t||(e=this.which,e>95&&e<106&&(e-=48),n=t=String.fromCharCode(e),i=t.toLowerCase(),this.metaKey?(r="meta_",t=i):t=null),t&&(t=r+t),[t,n]}},SC.Event.observe=SC.Event.add,SC.Event.stopObserving=SC.Event.remove,SC.Event.fire=SC.Event.trigger,SC.browser.msie&&SC.Event.add(window,"unload",SC.Event.prototype,SC.Event.unload),SC.MODIFIER_KEYS={16:"shift",17:"ctrl",18:"alt"},SC.FUNCTION_KEYS={8:"backspace",9:"tab",13:"return",19:"pause",27:"escape",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",44:"printscreen",45:"insert",46:"delete",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scrolllock"},SC.PRINTABLE_KEYS={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",188:",",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:'"'},SC.SYSTEM_CURSOR="default",SC.AUTO_CURSOR=SC.DEFAULT_CURSOR="auto",SC.CROSSHAIR_CURSOR="crosshair",SC.HAND_CURSOR=SC.POINTER_CURSOR="pointer",SC.MOVE_CURSOR="move",SC.E_RESIZE_CURSOR="e-resize",SC.NE_RESIZE_CURSOR="ne-resize"
,SC.NW_RESIZE_CURSOR="nw-resize",SC.N_RESIZE_CURSOR="n-resize",SC.SE_RESIZE_CURSOR="se-resize",SC.SW_RESIZE_CURSOR="sw-resize",SC.S_RESIZE_CURSOR="s-resize",SC.W_RESIZE_CURSOR="w-resize",SC.IBEAM_CURSOR=SC.TEXT_CURSOR="text",SC.WAIT_CURSOR="wait",SC.HELP_CURSOR="help",SC.Cursor=SC.Object.extend({init:function(){arguments.callee.base.apply(this,arguments);var e=this.get("cursorStyle")||SC.DEFAULT_CURSOR,t=this.constructor.sharedStyleSheet(),n=SC.guidFor(this);return t.insertRule?t.insertRule("."+n+" {cursor: "+e+";}",t.cssRules?t.cssRules.length:0):t.addRule&&t.addRule("."+n,"cursor: "+e),this.cursorStyle=e,this.className=n,this},className:null,cursorStyle:SC.DEFAULT_CURSOR,cursorStyleDidChange:function(){var e,t,n,r,i,s,o;e=this.get("cursorStyle")||SC.DEFAULT_CURSOR,t=this._rule;if(t){t.style.cursor=e;return}n="."+this.get("className"),r=this.constructor.sharedStyleSheet(),i=(r.cssRules?r.cssRules:r.rules)||[];for(s=0,o=i.length;s<o;++s){t=i[s];if(t.selectorText===n){this._rule=t,t.style.cursor=e;break}}}.observes("cursorStyle")}),SC.Cursor.sharedStyleSheet=function(){var e,t=this._styleSheet;return t||(t=document.createElement("style"),t.type="text/css",e=document.getElementsByTagName("head")[0],e||(e=document.documentElement),e.appendChild(t),t=document.styleSheets[document.styleSheets.length-1],this._styleSheet=t),t},SC.Theme={isTheme:YES,classNames:SC.CoreSet.create(),_extend_class_names:function(e){if(e)if(SC.typeOf(e)===SC.T_HASH&&!e.isSet)for(var t in e)e[t]?this.classNames.add(t):this.classNames.remove(t);else typeof e=="string"?this.classNames.addEach(e.split(" ")):
this.classNames.addEach(e)},_extend_self:function(e){e.classNames&&this._extend_class_names(e.classNames);var t,n,r;for(t in e){if(t==="classNames")continue;if(!e.hasOwnProperty(t))continue;n=e[t],n instanceof Function&&!n.base&&n!==(r=this[t])&&(n.base=r),this[t]=n}},create:function(){var e=SC.beget(this);e.baseTheme=this,this.themes===SC.Theme.themes?(e.themes={},e._themeIsUnrelated={}):(e.themes=SC.beget(this.themes),e._themeIsUnrelated=SC.beget(this._themeIsUnrelated)),e._privateThemes={},e._specializedThemes={},e.classNames=SC.clone(this.classNames);var t=arguments,n=t.length,r,i;for(r=0;r<n;r++)e._extend_self(t[r]);return e.name&&e.classNames.add(e.name),e},subtheme:function(e){var t=this.create({name:e});return this.addTheme(t),t},invisibleSubtheme:function(e){var t=this.create({name:e});return this._privateThemes[e]=t,t},themes:{},_themeIsUnrelated:{},find:function(e,t){if(this===SC.Theme)return this.themes[e];var n;n=this._privateThemes[e];if(n)return n;n=this._specializedThemes[e];if(n)return n;n=this.themes[e];if(n&&this._themeIsUnrelated[e])return n;if(n&&!this._specializedThemes[e])return this._specializedThemes[e]=n.create({classNames:this.classNames});if(t)return;return n=SC.Theme.themes[e],n?n:null},addTheme:function(e){this.themes[e.name]=e,this._themeIsUnrelated[e.name]=NO},addUnrelatedTheme:function(e){this.themes[e.name]=e,this._themeIsUnrelated[e.name]=YES}},SC.BaseTheme=SC.Theme.create({name:""}),SC.Theme.themes["sc-base"]=SC.BaseTheme,SC.defaultTheme="sc-base",SC.CoreView=SC.Responder.extend(SC.DelegateSupport),SC.CONTEXT_MENU_ENABLED=YES,SC.TABBING_ONLY_INSIDE_DOCUMENT=
NO,SC.FROM_THEME="__FROM_THEME__",SC.EMPTY_CHILD_VIEWS_ARRAY=[],SC.EMPTY_CHILD_VIEWS_ARRAY.needsClone=YES,SC.CoreView.reopen({concatenatedProperties:["outlets","displayProperties","classNames","renderMixin","didCreateLayerMixin","willDestroyLayerMixin","classNameBindings","attributeBindings"],ariaRole:null,ariaHidden:null,pane:function(){var e=this;while(e&&!e.isPane)e=e.get("parentView");return e}.property("parentView").cacheable(),page:null,parentView:null,isVisible:YES,isVisibleBindingDefault:SC.Binding.bool(),isVisibleInWindow:YES,childViews:SC.EMPTY_CHILD_VIEWS_ARRAY,layer:function(e,t){if(t!==undefined)this._view_layer=t;else{t=this._view_layer;if(!t){var n=this.get("parentView");n&&(n=n.get("layer")),n&&(this._view_layer=t=this.findLayerInParentLayer(n))}}return t}.property("isVisibleInWindow").cacheable(),$:function(e){var t=this.get("layer");return t?e===undefined?SC.$(t):SC.$(e,t):SC.$()},containerLayer:function(){return this.get("layer")}.property("layer").cacheable(),layerId:function(e,t){return t&&(this._layerId=t),this._layerId?this._layerId:SC.guidFor(this)}.property().cacheable(),findLayerInParentLayer:function(e){var t="#"+this.get("layerId");return jQuery(t)[0]||jQuery(t,e)[0]},isDescendantOf:function(e){var t=this.get("parentView");return this===e?YES:t?t.isDescendantOf(e):NO},displayDidChange:function(){return this.set("layerNeedsUpdate",YES),this},_sc_isVisibleDidChange:function(){this.displayDidChange()}.observes("isVisible"),layerNeedsUpdate:NO,_view_layerNeedsUpdateDidChange:function(){this.get("layerNeedsUpdate")&&this.invokeOnce(this.updateLayerIfNeeded
)}.observes("layerNeedsUpdate"),updateLayerIfNeeded:function(e){var t=this.get("layerNeedsUpdate"),n=t&&(e||this.get("isVisibleInWindow"));return n&&this.get("layer")&&(this.beginPropertyChanges(),this.set("layerNeedsUpdate",NO),this.updateLayer(),this.endPropertyChanges()),this},updateLayer:function(e){var t,n,r,i,s=e||this.renderContext(this.get("layer"));this._renderLayerSettings(s,NO),i=!this.update,i?this.render(s,NO):this.update(s.$());if(t=this.renderMixin){r=t.length;for(n=0;n<r;++n)t[n].call(this,s,NO)}s.update();if(s._innerHTMLReplaced){var o=this.get("pane");o&&o.get("isPaneAttached")&&this._notifyDidAppendToDocument()}return this.useStaticLayout&&this.viewDidResize(),this.didUpdateLayer&&this.didUpdateLayer(),this},parentViewDidResize:function(){this.get("hasLayout")||this.notifyPropertyChange("frame"),this.viewDidResize()},viewDidResize:function(){},renderContext:function(e){return SC.RenderContext(e)},createLayer:function(){if(this.get("layer"))return this;var e=this.renderContext(this.get("tagName"));return this.renderToContext(e),this.set("layer",e.element()),this._notifyDidCreateLayer(),this},_notifyDidCreateLayer:function(){var e=this.get("useStaticLayout"),t=this.didCreateLayerMixin,n,r,i=this.get("childViews"),s;this.notifyPropertyChange("layer");if(e){var o=this.get("pane");o&&o.isPaneAttached&&this.viewDidResize()}this.didCreateLayer&&this.didCreateLayer();if(t){n=t.length;for(r=0;r<n;++r)t[r].call(this)}n=i.length;for(r=0;r<n;++r){s=i[r];if(!s)continue;s.notifyPropertyChange("layer"),e&&(s.get("isFixedLayout")||s.viewDidResize()),s._notifyDidCreateLayer
()}},_invalidateStaticLayoutFrames:function(){var e=this.get("childViews"),t=e.length,n,r;for(n=0;n<t;n++)r=e[n],r.useStaticLayout?r.viewDidResize():r._invalidateStaticLayoutFrames()},destroyLayer:function(){var e=this.get("layer");return e&&(this._notifyWillDestroyLayer(),e.parentNode&&e.parentNode.removeChild(e),e=null),this},replaceLayer:function(){this.destroyLayer(),this.set("layerLocationNeedsUpdate",YES),this.invokeOnce(this.updateLayerLocationIfNeeded)},parentViewDidChange:function(){this.parentViewDidResize(),this.updateLayerLocation()},layerLocationNeedsUpdate:NO,updateLayerLocationIfNeeded:function(e){return this.get("layerLocationNeedsUpdate")&&this.updateLayerLocation(),this},updateLayerLocation:function(){var e=this.get("layer"),t=this.get("parentView"),n=t?t.get("containerLayer"):null;e&&e.parentNode&&e.parentNode!==n&&e.parentNode.removeChild(e);if(!t)e&&e.parentNode&&e.parentNode.removeChild(e);else if(!n)e&&(e.parentNode&&e.parentNode.removeChild(e),this.destroyLayer());else{if(!e){this.createLayer(),e=this.get("layer");if(!e)return}var r=t.get("childViews"),i=r.objectAt(r.indexOf(this)+1),s=i?i.get("layer"):null;i&&(!s||s.parentNode!==n)&&(i.updateLayerLocationIfNeeded(),s=i.get("layer")||null),(e.parentNode!==n||e.nextSibling!==s)&&n.insertBefore(e,s)}return n=t=e=s=null,this.set("layerLocationNeedsUpdate",NO),this},_notifyWillDestroyLayer:function(){this.willDestroyLayer&&this.willDestroyLayer();var e=this.willDestroyLayerMixin,t,n,r=this.get("childViews");if(e){t=e.length;for(n=0;n<t;++n)e[n].call(this)}t=r.length;for(n=0;n<t;++n)r[n]._notifyWillDestroyLayer
();this.set("layer",null)},renderToContext:function(e,t){var n,r,i,s;this.beginPropertyChanges(),this.set("layerNeedsUpdate",NO),SC.none(t)&&(t=YES),this._renderLayerSettings(e,t),n=!this.update,n?this.render(e,t):t?this.render(e):this.update(e.$()),t&&!this._didRenderChildViews&&this.renderChildViews(e,t),this._didRenderChildViews=NO;if(r=this.renderMixin){s=r.length;for(i=0;i<s;++i)r[i].call(this,e,t)}this.endPropertyChanges()},_renderLayerSettings:function(e,t){e.resetClassNames(),e.resetStyles(),this.applyAttributesToContext(e)},applyAttributesToContext:function(e){this._didApplyAttributes||(this._applyClassNameBindings(),this._applyAttributeBindings(e),this._didApplyAttributes=YES),e.addClass(this.get("classNames")),this.get("isTextSelectable")&&e.addClass("allow-select"),this.get("isVisible")||e.addClass("sc-hidden"),this.get("isFirstResponder")&&e.addClass("focus"),e.id(this.get("layerId")),e.attr("role",this.get("ariaRole")),e.attr("aria-label",this.get("ariaLabel"));var t=this.get("ariaHidden");t!==null&&(t===NO?e.removeAttr("aria-hidden"):e.attr("aria-hidden",t)),this.get("acceptsFirstResponder")&&e.attr("tabindex","0")},_applyClassNameBindings:function(){var e=this.get("classNameBindings"),t=this.get("classNames"),n,r,i;if(!e)return;e.forEach(function(e){var s,o=function(){r=this._classStringForProperty(e),n=this.$(),s&&(n.removeClass(s),t.removeObject(s)),r?(n.addClass(r),t.pushObject(r),s=r):s=null};this.addObserver(e.split(":")[0],this,o),i=this._classStringForProperty(e),i&&(t.push(i),s=i)},this)},_applyAttributeBindings:function(e){var t=this.get("attributeBindings"
),n,r,i;if(!t)return;t.forEach(function(t){var s=function(){r=this.$();var e=r.attr(t);n=this.get(t),i=typeof n,i!=="string"&&i!=="number"||n===e?n&&i==="boolean"?r.attr(t,t):n===NO&&r.removeAttr(t):r.attr(t,n)};this.addObserver(t,this,s),n=this.get(t),i=typeof n,i==="string"||i==="number"?e.attr(t,n):n&&i==="boolean"&&e.attr(t,t)},this)},_classStringForProperty:function(e){var t=e.split(":"),n=t[1];e=t[0];var r=SC.getPath(this,e);return r===YES?n?n:SC.String.dasherize(e.split(".").get("lastObject")):r!==NO&&r!==undefined&&r!==null?r:null},prepareContext:function(e,t){t!==!1&&(t=YES),t?this.renderToContext(e):this.updateLayer(e)},renderChildViews:function(e,t){var n=this.get("childViews"),r=n.length,i,s;for(i=0;i<r;++i){s=n[i];if(!s)continue;e=e.begin(s.get("tagName")),s.renderToContext(e,t),e=e.end()}return this._didRenderChildViews=YES,e},render:function(){},_notifyDidAppendToDocument:function(){this.get("hasLayout")||this.notifyPropertyChange("frame"),this.didAppendToDocument&&this.didAppendToDocument();var e=0,t,n,r=this.get("childViews");for(e=0,n=r.length;e<n;e++)t=r[e],t._notifyDidAppendToDocument&&t._notifyDidAppendToDocument()},childViewsObserver:function(){var e=this.get("childViews"),t,n,r;for(t=0,n=e.length;t<n;t++)r=e[t],r._notifyDidAppendToDocument&&r._notifyDidAppendToDocument()}.observes("childViews"),tagName:"div",classNames:[],toolTip:null,displayToolTip:function(){var e=this.get("toolTip");return e&&this.get("localize")?SC.String.loc(e):e||""}.property("toolTip","localize").cacheable(),isTextSelectable:NO,displayProperties:["ariaHidden","ariaLabel"],nextResponder
:function(){return this.get("parentView")}.property("parentView").cacheable(),acceptsFirstResponder:NO,init:function(){var e=this.get("parentView"),t,n,r,i;arguments.callee.base.apply(this,arguments),SC.View.views[this.get("layerId")]=this,this.classNames=this.get("classNames").slice(),this.childViews=this.get("childViews").slice(),this.createChildViews(),i=this.get("displayProperties");for(var s=0,o=i.length;s<o;s++)this.addObserver(i[s],this,this.displayDidChange)},awake:function(){arguments.callee.base.apply(this,arguments);var e=this.get("childViews"),t=e.length,n;for(n=0;n<t;++n){if(!e[n])continue;e[n].awake()}},frame:function(){return this.computeFrameWithParentFrame(null)}.property("useStaticLayout").cacheable(),computeFrameWithParentFrame:function(){var e,t=this.get("parentView"),n;return(e=this.get("layer"))?(n=SC.offset(e),t&&(n=t.convertFrameFromView(n,null)),n.width=e.offsetWidth,n.height=e.offsetHeight,n):this.get("hasLayout")?null:{x:0,y:0,width:0,height:0}},clippingFrame:function(){var e=this.__alreadyCalculatedClippingFrame;if(e)return delete this.__alreadyCalculatedClippingFrame,e;var t=this.get("frame"),n=t,r,i;if(!t)return null;r=this.get("parentView");if(r){i=r.get("clippingFrame");if(!i)return{x:0,y:0,width:t.width,height:t.height};n=SC.intersectRects(i,t)}return n.x-=t.x,n.y-=t.y,n}.property().cacheable(),_previousClippingFrame:null,_sc_view_clippingFrameMayHaveChanged:function(){var e=this._previousClippingFrame,t=this.clippingFrame(),n,r,i,s;if(!e||!t||e.height!==t.height||e.width!==t.width||e.y!==t.y||e.x!==t.x){this._previousClippingFrame=t,this.__alreadyCalculatedClippingFrame=
t,this.notifyPropertyChange("clippingFrame"),n=this.get("childViews");for(r=0,i=n.length;r<i;++r)s=n[r],s._sc_view_clippingFrameMayHaveChanged()}else delete this.__alreadyCalculatedClippingFrame},removeChild:function(e){e.set("parentView",null);var t=this.get("childViews"),n=t.indexOf(e);return n>=0&&t.removeAt(n),this},removeAllChildren:function(){var e=this.get("childViews"),t;while(t=e.objectAt(e.get("length")-1))this.removeChild(t);return this},removeFromParent:function(){var e=this.get("parentView");return e&&e.removeChild(this),this},destroy:function(){return this.get("isDestroyed")?this:(this._destroy(),this.get("parentView")&&this.removeFromParent(),arguments.callee.base.apply(this,arguments))},_destroy:function(){this.destroyLayer();var e=this.get("childViews"),t=e.length,n;if(t){e=e.slice();for(n=0;n<t;++n)e[n].destroy()}return delete SC.View.views[this.get("layerId")],delete this._CQ,delete this.page,this.get("parentView")&&this.removeFromParent(),this.set("owner",null),this},createChildViews:function(){var e=this.get("childViews"),t=e.length,n,r,i,s;this.beginPropertyChanges();for(n=0;n<t;++n){if(r=s=e[n]){typeof r===SC.T_STRING?s=this[r]:r=null;if(!s){SC.Logger.error("No view with name "+r+" has been found in "+this.toString());continue}s=this.createChildView(s),r&&(this[r]=s)}e[n]=s}return this.endPropertyChanges(),this},createChildView:function(e,t){return e.isClass?t?t=SC.clone(t):t={}:t=e,t.owner=t.parentView=this,e.isClass&&e.prototype.hasVisibility&&(t.isVisibleInWindow=this.get("isVisibleInWindow")),t.page||(t.page=this.page),e.isClass&&(e=e.create(t)),e}
,isView:YES,selectStart:function(e){return this.get("isTextSelectable")},isContextMenuEnabled:SC.CONTEXT_MENU_ENABLED,contextMenu:function(e){return!this.get("isContextMenuEnabled")}}),SC.CoreView.mixin({isViewClass:YES,design:function(){if(this.isDesign)return this;var e=this.extend.apply(this,arguments);return e.isDesign=YES,e},extend:function(){var e=arguments[arguments.length-1];return e&&!SC.none(e.theme)&&typeof e.theme=="string"&&(e.themeName=e.theme,delete e.theme),SC.Object.extend.apply(this,arguments)},layout:function(e){return this.prototype.layout=e,this},classNames:function(e){return e=(this.prototype.classNames||[]).concat(e),this.prototype.classNames=e,this},tagName:function(e){return this.prototype.tagName=e,this},childView:function(e){var t=this.prototype.childViews||[];return t===this.superclass.prototype.childViews&&(t=t.slice()),t.push(e),this.prototype.childViews=t,this},bind:function(e,t){var n=this.prototype,r=this.superclass.prototype,i=n._bindings;if(!i||i===r._bindings)i=n._bindings=(i||[]).slice();return e+="Binding",n[e]=t,i.push(e),this},prop:function(e,t){return this.prototype[e]=t,this},localization:function(e,t){return t&&(e.rootElement=SC.$(t)[0]),e},viewFor:function(e,t){var n=SC.$A(arguments);SC.none(e)?n.shift():n[0]={rootElement:SC.$(e)[0]};var r=this.create.apply(this,arguments);return n=n[0]=null,r},create:function(){var e=arguments[arguments.length-1];e&&e.theme&&(e.themeName=e.theme,delete e.theme);var t=this,n=new t(arguments);return n},loc:function(e){var t=e.childViews;delete e.childViews,this.applyLocalizedAttributes(e);var n=this
.prototype.childViews,r=n.length,i;while(--r>=0)i=n[r],e=t[r],e&&i&&typeof i===SC.T_STRING&&SC.String.loc(i,e);return this},applyLocalizedAttributes:function(e){SC.mixin(this.prototype,e)},views:{}}),SC.outlet=function(e,t){return function(n){return this[n]=SC.objectForPropertyPath(e,t!==undefined?t:this)}.property()},SC.CoreView.unload=function(){var e=SC.View.views;if(e)for(var t in e){if(!e.hasOwnProperty(t))continue;delete e[t]}},SC.View=SC.CoreView.extend({classNames:["sc-view"],displayProperties:["isFirstResponder"]}),SC.browser.msie&&SC.Event.add(window,"unload",SC.View,SC.View.unload),SC.ANIMATABLE_PROPERTIES={top:YES,left:YES,bottom:YES,right:YES,width:YES,height:YES,centerX:YES,centerY:YES,opacity:YES,scale:YES,rotate:YES,rotateX:YES,rotateY:YES,rotateZ:YES},SC.View.reopen({didCreateLayerMixin:function(){SC.platform.supportsCSSTransitions&&this.resetAnimation()},animate:function(e,t,n,r){var i,s;typeof e===SC.T_STRING?(i={},i[e]=t,s=n):(i=e,s=t,r=n);var o=SC.typeOf(s);if(o===SC.T_NUMBER)s={duration:s};else if(o!==SC.T_HASH)throw"Must provide options hash or duration!";r&&(s.callback=r);var u=s.timing;u?typeof u!==SC.T_STRING&&(s.timing="cubic-bezier("+u[0]+", "+u[1]+", "+u[2]+", "+u[3]+")"):s.timing="linear";var a=SC.clone(this.get("layout")),f=NO,l,c,h,p,d;a.animate||(a.animate={});for(d in i){if(!i.hasOwnProperty(d)||!SC.ANIMATABLE_PROPERTIES[d])continue;l=i[d],c=a[d],p=a.animate[d];if(l==null)throw"Can only animate to an actual value!";if(c!==l||p&&p.duration!==s.duration)f=YES,a.animate[d]=s,a[d]=l}return f&&this.set("layout",a),this},resetAnimation:function(){
var e=this.get("layout"),t=e.animate,n=NO,r;if(!t)return;var i;for(r in t)n=YES,delete t[r];return n&&(this.set("layout",e),this.notifyPropertyChange("layout")),this},transitionDidEnd:function(e){this.get("layoutStyleCalculator").transitionDidEnd(e)}}),SC.CSS_TRANSFORM_MAP={rotate:function(e){return null},rotateX:function(e){return SC.typeOf(e)===SC.T_NUMBER&&(e+="deg"),"rotateX("+e+")"},rotateY:function(e){return SC.typeOf(e)===SC.T_NUMBER&&(e+="deg"),"rotateY("+e+")"},rotateZ:function(e){return SC.typeOf(e)===SC.T_NUMBER&&(e+="deg"),"rotateZ("+e+")"},scale:function(e){return SC.typeOf(e)===SC.T_ARRAY&&(e=e.join(", ")),"scale("+e+")"}},SC.View.reopen({layoutStyleCalculator:null,layoutStyle:function(){var e={layout:this.get("layout"),turbo:this.get("hasAcceleratedLayer"),staticLayout:this.get("useStaticLayout")},t=this.get("layoutStyleCalculator");return t.set(e),t.calculate()}.property().cacheable()}),SC.View.LayoutStyleCalculator=SC.Object.extend({_layoutDidUpdate:function(){var e=this.get("layout");if(!e)return;this.dims=SC._VIEW_DEFAULT_DIMS,this.loc=this.dims.length;var t=this.right=e.right;this.hasRight=t!=null;var n=this.left=e.left;this.hasLeft=n!=null;var r=this.top=e.top;this.hasTop=r!=null;var i=this.bottom=e.bottom;this.hasBottom=i!=null;var s=this.width=e.width;this.hasWidth=s!=null;var o=this.height=e.height;this.hasHeight=o!=null,this.minWidth=e.minWidth===undefined?null:e.minWidth;var u=this.maxWidth=e.maxWidth===undefined?null:e.maxWidth;this.hasMaxWidth=u!=null,this.minHeight=e.minHeight===undefined?null:e.minHeight;var a=this.maxHeight=e.maxHeight===undefined?
null:e.maxHeight;this.hasMaxHeight=a!=null;var f=this.centerX=e.centerX;this.hasCenterX=f!=null;var l=this.centerY=e.centerY;this.hasCenterY=l!=null;var c=this.borderTop=(e.borderTop!==undefined?e.borderTop:e.border)||0,h=this.borderRight=(e.borderRight!==undefined?e.borderRight:e.border)||0,p=this.borderBottom=(e.borderBottom!==undefined?e.borderBottom:e.border)||0,d=this.borderLeft=(e.borderLeft!==undefined?e.borderLeft:e.border)||0;this.zIndex=e.zIndex!=null?e.zIndex.toString():null,this.opacity=e.opacity!=null?e.opacity.toString():null,this.backgroundPosition=e.backgroundPosition!=null?e.backgroundPosition:null,this.ret={marginTop:null,marginLeft:null}}.observes("layout"),_invalidAutoValue:function(e){var t=SC.Error.desc("%@.layout() you cannot use %@:auto if staticLayout is disabled".fmt(this.get("view"),e),"%@".fmt(this.get("view")),-1);throw SC.Logger.error(t.toString()),t},_handleMistakes:function(){var e=this.get("layout");this.staticLayout||(this.width===SC.LAYOUT_AUTO&&this._invalidAutoValue("width"),this.height===SC.LAYOUT_AUTO&&this._invalidAutoValue("height"));if(SC.platform.supportsCSSTransforms){var t=e.animate,n,r;if(t)for(r in t)if(SC.CSS_TRANSFORM_MAP[r]){if(this._pendingAnimations&&this._pendingAnimations["-"+SC.platform.cssPrefix+"-transform"])throw"Animations of transforms must be executed simultaneously!";n&&t[r].duration!==n&&(SC.Logger.warn("Can't animate transforms with different durations! Using first duration specified."),t[r].duration=n),n=t[r].duration}}},_calculatePosition:function(e){var t=null,n=this.get("turbo"),r=this.ret,i,s,o,u,a,f,l,c,h,
p,d,v,m,g;e==="x"?(i="left",s="right",o="width",u="maxWidth",a="marginLeft",p="borderLeft",v="borderRight",f=this.hasLeft,l=this.hasRight,c=this.hasWidth,h=this.hasMaxWidth):(i="top",s="bottom",o="height",u="maxHeight",a="marginTop",p="borderTop",v="borderBottom",f=this.hasTop,l=this.hasBottom,c=this.hasHeight,h=this.hasMaxHeight),r[i]=this._cssNumber(this[i]),r[s]=this._cssNumber(this[s]),d=this._cssNumber(this[p]),m=this._cssNumber(this[v]),r[p+"Width"]=d||null,r[v+"Width"]=m||null,g=this[o],g>=1&&(g-=d+m),r[o]=this._cssNumber(g);if(f)n&&(t=r[i],r[i]=0),l&&c&&(r[s]=null);else if(!l||l&&!c&&!h)r[i]=0;return!c&&!l&&(r[s]=0),t},_calculateCenter:function(e){var t=this.ret,n,r,i,s,o,u,a,f,l;e==="x"?(n="width",r="centerX",i="left",s="right",o="marginLeft",u="borderLeft",f="borderRight"):(n="height",r="centerY",i="top",s="bottom",o="marginTop",u="borderTop",f="borderBottom"),t[i]="50%",a=this._cssNumber(this[u]),l=this._cssNumber(this[f]),t[u+"Width"]=a||null,t[f+"Width"]=l||null;var c=this[n],h=this[r],p=this[i],d=SC.isPercentage(c),v=SC.isPercentage(h,YES);c>1&&(c-=a+l);if(d&&v||!d&&!v){var m=h-c/2;t[o]=d?Math.floor(m*100)+"%":Math.floor(m)}else SC.Logger.warn("You have to set "+n+" and "+r+" using both percentages or pixels"),t[o]="50%";t[n]=this._cssNumber(c)||0,t[s]=null},_calculateTransforms:function(e,t){if(SC.platform.supportsCSSTransforms){var n=this.get("layout"),r=SC.platform.domCSSPrefix+"Transform",i=[];this.turbo&&(i.push("translateX("+(e||0)+"px)","translateY("+(t||0)+"px)"),SC.platform.supportsCSS3DTransforms&&i.push("translateZ(0px)"));var s=SC.CSS_TRANSFORM_MAP;
for(var o in s){var u=n[o];u!=null&&i.push(s[o](u))}this.ret[r]=i.length>0?i.join(" "):null}},_calculateAnimations:function(e,t){var n=this.layout,r=n.animate,i;if(!r)return;if(this.getPath("view.isAnimatable"))return;var s=[],o;this._animatedTransforms=[],this._pendingAnimations||(this._pendingAnimations={});var u="-"+SC.platform.cssPrefix+"-transform";if(SC.platform.supportsCSSTransitions){for(i in r){o=r[i];var a=SC.CSS_TRANSFORM_MAP[i],f=i==="top"&&t!=null||i==="left"&&e!=null;SC.platform.supportsCSSTransforms&&(f||a)&&(this._animatedTransforms.push(i),i=u),o.css=i+" "+o.duration+"s "+o.timing,this._pendingAnimations[i]||(this._pendingAnimations[i]=o,s.push(o.css))}this.ret[SC.platform.domCSSPrefix+"Transition"]=s.join(", ")}else for(i in r)this._pendingAnimations[i]=r[i];delete n.animate},_cssNumber:function(e){return e==null?null:e===SC.LAYOUT_AUTO?SC.LAYOUT_AUTO:SC.isPercentage(e)?e*100+"%":Math.floor(e)},calculate:function(){var e=this.get("layout"),t=null,n=this.get("staticLayout"),r=null,i=null,s=this.get("turbo"),o=this.ret,u=this.dims,a=this.loc,f=this.get("view"),l,c;this._handleMistakes(e);if(n&&e===SC.View.prototype.layout)return{};this.hasLeft||this.hasRight||!this.hasCenterX?i=this._calculatePosition("x"):this._calculateCenter("x"),this.hasTop||this.hasBottom||!this.hasCenterY?r=this._calculatePosition("y"):this._calculateCenter("y"),o.minWidth=this.minWidth,o.maxWidth=this.maxWidth,o.minHeight=this.minHeight,o.maxHeight=this.maxHeight,o.zIndex=this.zIndex,o.opacity=this.opacity,o.backgroundPosition=this.backgroundPosition,this._calculateTransforms(i,r),this
._calculateAnimations(i,r);for(l in o)c=o[l],typeof c===SC.T_NUMBER&&(o[l]=c+"px");return o},willRenderAnimations:function(){if(SC.platform.supportsCSSTransitions){var e=this.get("view"),t=e.get("layer"),n=t?t.style:null,r=e.get("layoutStyle"),i=this._activeAnimations,s,o=this._pendingAnimations,u,a=this._animatedTransforms,f=a?a.length:0,l=r[SC.platform.domCSSPrefix+"Transition"],c=e.get("layout"),h,p,d,v;if(o){i||(i={});for(h in o){if(!o.hasOwnProperty(h))continue;u=o[h],s=i[h],v=NO,r[h]!==(n?n[h]:null)&&(v=YES),s&&(s.duration!==u.duration||s.timing!==u.timing)&&(v=YES);if(v&&s){if(p=s.callback)if(f>0){for(d=0;d<f;d++)this.runAnimationCallback(p,null,a[d],YES);this._animatedTransforms=null}else this.runAnimationCallback(p,null,h,YES);this.removeAnimationFromLayout(h,YES)}i[h]=u}}this._activeAnimations=i,this._pendingAnimations=null}},didRenderAnimations:function(){if(!SC.platform.supportsCSSTransitions){var e,t;for(e in this._pendingAnimations)t=this._pendingAnimations[e].callback,t&&this.runAnimationCallback(t,null,e,NO),this.removeAnimationFromLayout(e,NO,YES);this._activeAnimations=this._pendingAnimations=null}},runAnimationCallback:function(e,t,n,r){var i=this.get("view");e&&(SC.typeOf(e)!==SC.T_HASH&&(e={action:e}),e.source=i,e.target||(e.target=this)),SC.View.runCallback(e,{event:t,propertyName:n,view:i,isCancelled:r})},transitionDidEnd:function(e){var t=e.originalEvent.propertyName,n,r;n=this._activeAnimations?this._activeAnimations[t]:null;if(n){if(n.callback){SC.RunLoop.begin();if(this._animatedTransforms&&this._animatedTransforms.length>0)for(r=0;r<this._animatedTransforms
.length;r++)this.invokeLater("runAnimationCallback",1,n.callback,e,this._animatedTransforms[r],NO);else this.invokeLater("runAnimationCallback",1,n.callback,e,t,NO);SC.RunLoop.end()}this.removeAnimationFromLayout(t,YES)}},removeAnimationFromLayout:function(e,t,n){if(t){var r=this.getPath("view.layer"),i=[],s;for(s in this._activeAnimations)s!==e&&i.push(this._activeAnimations[s].css);r&&(r.style[SC.platform.domCSSPrefix+"Transition"]=i.join(", "))}var o=this.getPath("view.layout"),u;if(e==="-"+SC.platform.cssPrefix+"-transform"&&this._animatedTransforms&&this._animatedTransforms.length>0){for(u=0;u<this._animatedTransforms.length;u++)delete o["animate"+SC.String.capitalize(this._animatedTransforms[u])];this._animatedTransforms=null}delete o["animate"+SC.String.capitalize(e)],n||delete this._activeAnimations[e]}}),SC.CoreView.runCallback=function(e){var t=SC.$A(arguments).slice(1),n=SC.typeOf(e.action);if(n==SC.T_FUNCTION)e.action.apply(e.target,t);else if(n===SC.T_STRING&&e.action.indexOf(".")>=0){var r=e.action.split("."),i=r.pop(),s=SC.objectForPropertyPath(r,window),o=s.get?s.get(i):s[i];if(!o||SC.typeOf(o)!=SC.T_FUNCTION)throw"SC.runCallback could not find a function at %@".fmt(e.action);o.apply(s,t)}},SC.View.runCallback=SC.CoreView.runCallback,SC.View.reopen({wantsAcceleratedLayer:NO,hasAcceleratedLayer:function(){if(this.get("wantsAcceleratedLayer")&&SC.platform.supportsAcceleratedLayers){var e=this.get("layout"),t=e.animate,n=SC.LAYOUT_AUTO,r;if(t&&(t.top||t.left))for(r in t)if(SC.CSS_TRANSFORM_MAP[r]&&(t.top&&t.top.duration!==t[r].duration||t.left&&t.left.duration!==
t[r].duration))return NO;if(e.left!=null&&!SC.isPercentage(e.left)&&e.left!==n&&e.top!=null&&!SC.isPercentage(e.top)&&e.top!==n&&e.width!=null&&!SC.isPercentage(e.width)&&e.width!==n&&e.height!=null&&!SC.isPercentage(e.height)&&e.height!==n)return YES}return NO}.property("wantsAcceleratedLayer").cacheable()}),SC.View.reopen({cursor:function(e,t){var n;return t&&(this._setCursor=t),this._setCursor!==undefined?this._setCursor:(n=this.get("parentView"),this.get("shouldInheritCursor")&&n?n.get("cursor"):null)}.property("parentView","shouldInheritCursor").cacheable(),applyAttributesToContext:function(e,t){var n=this.get("cursor");n&&t.addClass(n.get("className")),e(t)}.enhance(),shouldInheritCursor:YES}),SC.View.reopen({isEnabled:YES,isEnabledBindingDefault:SC.Binding.oneWay().bool(),isEnabledInPane:function(){var e=this.get("isEnabled"),t;return e&&(t=this.get("parentView"))&&(e=t.get("isEnabledInPane")),e}.property("parentView","isEnabled"),_sc_view_isEnabledDidChange:function(){!this.get("isEnabled")&&this.get("isFirstResponder")&&this.resignFirstResponder()}.observes("isEnabled"),applyAttributesToContext:function(e,t){var n=this.get("isEnabled");e(t),t.setClass("disabled",!n),t.attr("aria-disabled",n?null:"true")}.enhance()}),SC.View.reopen({isKeyResponder:NO,willLoseKeyResponderTo:function(e){},willBecomeKeyResponderFrom:function(e){},didLoseKeyResponderTo:function(e){},didBecomeKeyResponderFrom:function(e){},interpretKeyEvents:function(e){var t=e.commandCodes(),n=t[0],r=t[1],i;if(!n&&!r)return null;if(n){var s=SC.MODIFIED_KEY_BINDINGS[n]||SC.BASE_KEY_BINDINGS[n.match(/[^_]+$/
)[0]];if(s){var o=this,u=this.get("pane"),a=null;while(o&&!(a=o.tryToPerform(s,e)))o=o===u?null:o.get("nextResponder");return a}}return r&&this.respondsTo("insertText")?(i=this.insertText(r,e),i?i===YES?this:i:null):null},insertText:function(e){return NO},performKeyEquivalent:function(e,t){var n=NO,r=this.get("childViews"),i=r.length,s=-1,o;while(!n&&++s<i)o=r[s],n=o.tryToPerform("performKeyEquivalent",e,t);return n},firstKeyView:null,_getFirstKeyView:function(){var e=this.get("firstKeyView");if(e)return e;var t=this.get("childViews");if(t)return t[0]},lastKeyView:null,_getLastKeyView:function(){var e=this.get("lastKeyView");if(e)return e;var t,n=this.get("firstKeyView");if(n){while(t=n._getNextKeyView())n=t;return n}var r=this.get("childViews");if(r)return r[r.length-1]},nextKeyView:undefined,_getNextKeyView:function(){var e=this.get("parentView"),t=this.get("nextKeyView");if(e&&e.get("lastKeyView")===this)return null;if(t!==undefined)return t;if(e){var n=e.get("childViews");return n[n.indexOf(this)+1]}},nextValidKeyView:function(){var e=this,t;while(t!==this){t=null,e.get("isVisibleInWindow")&&(t=e._getFirstKeyView()),t||(t=e._getNextKeyView());if(!t)while(e=e.get("parentView"))if(t=e._getNextKeyView())break;if(!t){if(!SC.TABBING_ONLY_INSIDE_DOCUMENT)break;t=this.get("pane")}if(t.get("isVisibleInWindow")&&t.get("acceptsFirstResponder"))return t;e=t}return null}.property("nextKeyView"),previousKeyView:undefined,_getPreviousKeyView:function(){var e=this.get("parentView"),t=this.get("previousKeyView");if(e&&e.get("firstKeyView")===this)return null;if(t!==undefined)return t;if(
e){var n=e.get("childViews");return n[n.indexOf(this)-1]}},previousValidKeyView:function(){var e=this,t;while(t!==this){if(e.get("parentView"))t=e._getPreviousKeyView();else{if(!SC.TABBING_ONLY_INSIDE_DOCUMENT)break;t=e}if(t){do e=t,t=t._getLastKeyView();while(t&&t.get("isVisibleInWindow"));t||(t=e)}else t=e.get("parentView");if(t.get("isVisibleInWindow")&&t.get("acceptsFirstResponder"))return t;e=t}return null}.property("previousKeyView")}),SC.LAYOUT_HORIZONTAL="sc-layout-horizontal",SC.LAYOUT_VERTICAL="sc-layout-vertical",SC._VIEW_DEFAULT_DIMS=["marginTop","marginLeft"],SC.FULL_WIDTH={left:0,right:0},SC.FULL_HEIGHT={top:0,bottom:0},SC.ANCHOR_CENTER={centerX:0,centerY:0},SC.LAYOUT_AUTO="auto",SC.View.reopen({hasLayout:YES,useStaticLayout:NO,init:function(e){e(),this.layoutStyleCalculator=SC.View.LayoutStyleCalculator.create({view:this}),this._previousLayout=this.get("layout")}.enhance(),propertyDidChange:function(e,t,n){var r=!1;if(typeof this.layout=="function"&&this._kvo_dependents){var i=this._kvo_dependents[e];i&&i.indexOf("layout")!=-1&&(r=!0)}(e==="layout"||r)&&this.layoutDidChange(),arguments.callee.base.apply(this,arguments)},adjust:function(e,t){var n=this.get("layout"),r=NO,i,s;if(e===undefined)return this;if(SC.typeOf(e)===SC.T_STRING){i=n[e];if(t===undefined||i==t)return this;n=SC.clone(n),t===null?delete n[e]:n[e]=t,r=YES}else{s=e;for(e in s){if(!s.hasOwnProperty(e))continue;t=s[e],i=n[e];if(t===undefined||i==t)continue;r||(n=SC.clone(n)),t===null?delete n[e]:n[e]=t,r=YES}}return r&&this.set("layout",n),this},layout:{top:0,left:0,bottom:0,right:0},isFixedLayout
:function(){return this.get("isFixedPosition")&&this.get("isFixedSize")}.property("isFixedPosition","isFixedSize").cacheable(),isFixedPosition:function(){var e=this.get("layout"),t,n=e.left,r=e.top;return t=n!==undefined&&r!==undefined&&n!==SC.LAYOUT_AUTO&&r!==SC.LAYOUT_AUTO,t&&(t=!SC.isPercentage(r)&&!SC.isPercentage(n)),t}.property("layout").cacheable(),isFixedSize:function(){var e=this.get("layout"),t,n=e.width,r=e.height;return t=n!==undefined&&r!==undefined&&n!==SC.LAYOUT_AUTO&&r!==SC.LAYOUT_AUTO,t&&(t=!SC.isPercentage(n)&&!SC.isPercentage(r)),t}.property("layout").cacheable(),convertFrameToView:function(e,t){var n=0,r=0,i=0,s=0,o=this,u;while(o)u=o.get("frame"),n+=u.x,r+=u.y,o=o.get("layoutView");if(t){o=t;while(o)u=o.get("frame"),i+=u.x,s+=u.y,o=o.get("layoutView")}return n=e.x+n-i,r=e.y+r-s,{x:n,y:r,width:e.width,height:e.height}},convertFrameFromView:function(e,t){var n=0,r=0,i=0,s=0,o=this,u;while(o&&(u=o.get("frame")))n+=u.x,r+=u.y,o=o.get("parentView");if(t){o=t;while(o)u=o.get("frame"),i+=u.x,s+=u.y,o=o.get("parentView")}return n=e.x-n+i,r=e.y-r+s,{x:n,y:r,width:e.width,height:e.height}},scrollToVisible:function(){var e=this.get("parentView");while(e&&!e.get("isScrollable"))e=e.get("parentView");return e?(e.scrollToVisible(),e.scrollToVisible(this)):NO},_adjustForBorder:function(e,t){var n=(t.borderTop!==undefined?t.borderTop:t.border)||0,r=(t.borderLeft!==undefined?t.borderLeft:t.border)||0,i=(t.borderBottom!==undefined?t.borderBottom:t.border)||0,s=(t.borderRight!==undefined?t.borderRight:t.border)||0;return e.x+=r,e.y+=n,e.width-=r+s,e.height-=n+i,e},computeFrameWithParentFrame
:function(e,t){var n,r=this.get("layout");if(this.get("useStaticLayout"))return n=e(),n?this._adjustForBorder(n,r):null;n={};var i,s,o=SC.LAYOUT_AUTO,u=this.get("parentView"),a,f,l=r.right,c=r.left,h=r.top,p=r.bottom,d=r.width,v=r.height,m=r.centerX,g=r.centerY;if(d===o)throw i=SC.Error.desc("%@.layout() cannot use width:auto if staticLayout is disabled".fmt(this),"%@".fmt(this),-1),SC.Logger.error(i.toString()),i;if(v===o)throw i=SC.Error.desc("%@.layout() cannot use height:auto if staticLayout is disabled".fmt(this),"%@".fmt(this),-1),SC.Logger.error(i.toString()),i;t||(t=this.computeParentDimensions(r)),a=t.height,f=t.width,SC.none(c)?SC.none(l)?SC.none(m)?(n.x=0,SC.none(d)?n.width=f:(d===o&&(n.width=o),SC.isPercentage(d)?n.width=d*f:n.width=d||0)):(d===o?n.width=o:SC.isPercentage(d)?n.width=d*f:n.width=d||0,SC.isPercentage(m)?n.x=(f-n.width)/2+m*f:n.x=(f-n.width)/2+m):SC.none(d)?(SC.isPercentage(l)?n.width=f-f*l:n.width=f-l,n.x=0):(d===o?n.width=o:SC.isPercentage(d)?n.width=f*d:n.width=d||0,SC.isPercentage(d)?n.x=f-l*f-n.width:n.x=f-l-n.width):(SC.isPercentage(c)?n.x=f*c:n.x=c,d!==undefined?d===o?n.width=o:SC.isPercentage(d)?n.width=f*d:n.width=d:(n.width=f-n.x,l&&SC.isPercentage(l)?n.width=n.width-l*f:n.width=n.width-(l||0))),SC.none(h)?SC.none(p)?SC.none(g)?(n.y=0,SC.none(v)?n.height=a:(v===o&&(n.height=o),SC.isPercentage(v)?n.height=v*a:n.height=v||0)):(v===o&&(n.height=o),v&&SC.isPercentage(v)?n.height=v*a:n.height=v||0,SC.isPercentage(g)?n.y=(a-n.height)/2+g*a:n.y=(a-n.height)/2+g):SC.none(v)?(SC.isPercentage(p)?n.height=a-p*a:n.height=a-p,n.y=0):(v===o&&(n.height=o
),v&&SC.isPercentage(v)?n.height=v*a:n.height=v||0,SC.isPercentage(p)?n.y=a-p*a-n.height:n.y=a-p-n.height):(SC.isPercentage(h)?n.y=h*a:n.y=h,v!==undefined?v===o?n.height=o:SC.isPercentage(v)?n.height=v*a:n.height=v:p&&SC.isPercentage(p)?n.height=a-n.y-p*a:n.height=a-n.y-(p||0)),n.x=Math.floor(n.x),n.y=Math.floor(n.y),n.height!==o&&(n.height=Math.floor(n.height)),n.width!==o&&(n.width=Math.floor(n.width));if(n.height===o||n.width===o)s=this.get("layer"),n.height===o&&(n.height=s?s.clientHeight:0),n.width===o&&(n.width=s?s.clientWidth:0);return n=this._adjustForBorder(n,r),u&&u.isScrollContainer&&(u=u.get("parentView"),n.x-=u.get("horizontalScrollOffset"),n.y-=u.get("verticalScrollOffset")),!SC.none(r.maxHeight)&&n.height>r.maxHeight&&(n.height=r.maxHeight),!SC.none(r.minHeight)&&n.height<r.minHeight&&(n.height=r.minHeight),!SC.none(r.maxWidth)&&n.width>r.maxWidth&&(n.width=r.maxWidth),!SC.none(r.minWidth)&&n.width<r.minWidth&&(n.width=r.minWidth),n.height<0&&(n.height=0),n.width<0&&(n.width=0),n}.enhance(),computeParentDimensions:function(e){var t,n=this.get("parentView"),r=n?n.get("frame"):null;if(r)t={width:r.width,height:r.height};else{var i=e||{};t={width:(i.left||0)+(i.width||0)+(i.right||0),height:(i.top||0)+(i.height||0)+(i.bottom||0)}}return t},borderFrame:function(){var e=this.get("layout"),t=this.get("frame"),n=e.border,r=(e.topBorder!==undefined?e.topBorder:e.border)||0,i=(e.rightBorder!==undefined?e.rightBorder:e.border)||0,s=(e.bottomBorder!==undefined?e.bottomBorder:e.border)||0,o=(e.leftBorder!==undefined?e.leftBorder:e.border)||0;return{x:t.x-o,y:t.y-r,width:t
.width+o+i,height:t.height+r+s}}.property("frame").cacheable(),parentViewDidResize:function(){var e,t;t=this.useStaticLayout||!this.get("isFixedSize"),e=!this.get("isFixedPosition"),t?this.viewDidResize():e&&this._viewFrameDidChange()},viewDidResize:function(){this._viewFrameDidChange();var e=this.childViews,t,n,r;for(n=0;n<(t=e.length);++n)r=e[n],r.tryToPerform("parentViewDidResize")},_viewFrameDidChange:function(){this.notifyPropertyChange("frame"),this._sc_view_clippingFrameMayHaveChanged()},beginLiveResize:function(){this.willBeginLiveResize&&this.willBeginLiveResize();var e=this.get("childViews"),t=e.length,n,r;for(n=0;n<t;++n)r=e[n],r.beginLiveResize&&r.beginLiveResize();return this},endLiveResize:function(){var e=this.get("childViews"),t=e.length,n,r;for(n=t-1;n>=0;--n)r=e[n],r.endLiveResize&&r.endLiveResize();return this.didEndLiveResize&&this.didEndLiveResize(),this},layoutView:function(){return this.get("parentView")}.property("parentView").cacheable(),layoutDidChange:function(){var e=this._previousLayout,t=this.get("layout"),n=YES,r,i,s,o;SC.none(t.rotate)||SC.none(t.rotateX)&&(t.rotateX=t.rotate,SC.Logger.warn("Please set rotateX instead of rotate")),SC.none(t.rotateX)?delete t.rotate:t.rotate=t.rotateX;var u=t.animations;u&&(SC.none(u.rotate)||SC.none(u.rotateX)&&(u.rotateX=u.rotate,SC.Logger.warn("Please animate rotateX instead of rotate")),SC.none(u.rotateX)?delete u.rotate:u.rotate=u.rotateX),e&&e!==t&&(r=e.width,r!==undefined&&(s=t.width,r===s&&(i=e.height,e!==undefined&&(o=t.height,i===o&&(n=NO))))),this.beginPropertyChanges(),this.notifyPropertyChange("hasAcceleratedLayer"
),this.notifyPropertyChange("layoutStyle"),n?this.viewDidResize():this._viewFrameDidChange(),this.endPropertyChanges();var a=this.get("layoutView");return a&&(a.set("childViewsNeedLayout",YES),a.layoutDidChangeFor(this),a.get("childViewsNeedLayout")&&a.invokeOnce(a.layoutChildViewsIfNeeded)),this._previousLayout=t,this},childViewsNeedLayout:NO,layoutDidChangeFor:function(e){var t=this._needLayoutViews;t||(t=this._needLayoutViews=SC.CoreSet.create()),t.add(e)},layoutChildViewsIfNeeded:function(e){return e||(e=this.get("isVisibleInWindow")),e&&this.get("childViewsNeedLayout")&&(this.set("childViewsNeedLayout",NO),this.layoutChildViews()),this},layoutChildViews:function(){var e=this._needLayoutViews,t=e?e.length:0,n;for(n=0;n<t;++n)e[n].updateLayout();e.clear()},updateLayout:function(){var e=this.get("layer"),t;return e&&(t=this.renderContext(e),this.renderLayout(t,NO),t.update(),this.useStaticLayout&&this.viewDidResize()),e=null,this},renderLayout:function(e,t){var n=this.get("layoutStyleCalculator");n.willRenderAnimations(),e.addStyle(this.get("layoutStyle")),n.didRenderAnimations()},_renderLayerSettings:function(e,t,n){e(t,n),this.renderLayout(t,n)}.enhance(),applyAttributesToContext:function(e,t){e(t),this.get("useStaticLayout")&&t.addClass("sc-static-layout")}.enhance()}),SC.View.mixin({convertLayoutToAnchoredLayout:function(e,t){var n={top:0,left:0,width:t.width,height:t.height},r=t.width,i=t.height,s=e.right,o=e.left,u=e.top,a=e.bottom,f=e.width,l=e.height,c=e.centerX,h=e.centerY;return SC.none(o)?SC.none(s)?SC.none(c)?SC.none(f)?(n.left=0,n.width=0):(n.left=0,f===SC.LAYOUT_AUTO?
n.width=SC.LAYOUT_AUTO:SC.isPercentage(f)?n.width=f*r:n.width=f):(f&&SC.isPercentage(f)?n.width=f*r:n.width=f||0,n.left=(r-n.width)/2,SC.isPercentage(c)?n.left=n.left+c*r:n.left=n.left+c):SC.none(f)?(n.left=0,s&&SC.isPercentage(s)?n.width=r-s*r:n.width=r-(s||0)):f===SC.LAYOUT_AUTO?n.width=SC.LAYOUT_AUTO:(SC.isPercentage(f)?n.width=f*r:n.width=f,SC.isPercentage(s)?n.left=r-(n.width+s):n.left=r-(n.width+s)):(SC.isPercentage(o)?n.left=o*r:n.left=o,f!==undefined?f===SC.LAYOUT_AUTO?n.width=SC.LAYOUT_AUTO:SC.isPercentage(f)?n.width=f*r:n.width=f:s&&SC.isPercentage(s)?n.width=r-n.left-s*r:n.width=r-n.left-(s||0)),e.minWidth!==undefined&&(n.minWidth=e.minWidth),e.maxWidth!==undefined&&(n.maxWidth=e.maxWidth),SC.none(u)?SC.none(a)?SC.none(h)?SC.none(l)?(n.top=0,n.height=0):(n.top=0,l===SC.LAYOUT_AUTO?n.height=SC.LAYOUT_AUTO:SC.isPercentage(l)?n.height=l*i:n.height=l):(l&&SC.isPercentage(l)?n.height=l*i:n.height=l||0,n.top=(i-n.height)/2,SC.isPercentage(h)?n.top=n.top+h*i:n.top=n.top+h):SC.none(l)?(n.top=0,a&&SC.isPercentage(a)?n.height=i-a*i:n.height=i-(a||0)):l===SC.LAYOUT_AUTO?n.height=SC.LAYOUT_AUTO:(SC.isPercentage(l)?n.height=l*i:n.height=l,n.top=i-n.height,SC.isPercentage(a)?n.top=n.top-a*i:n.top=n.top-a):(SC.isPercentage(u)?n.top=u*i:n.top=u,l!==undefined?l===SC.LAYOUT_AUTO?n.height=SC.LAYOUT_AUTO:SC.isPercentage(l)?n.height=l*i:n.height=l:(n.height=i-n.top,a&&SC.isPercentage(a)?n.height=n.height-a*i:n.height=n.height-(a||0))),n.top&&(n.top=Math.floor(n.top)),n.bottom&&(n.bottom=Math.floor(n.bottom)),n.left&&(n.left=Math.floor(n.left)),n.right&&(n.right=Math.floor(n.right)),n.
width!==SC.LAYOUT_AUTO&&(n.width=Math.floor(n.width)),n.height!==SC.LAYOUT_AUTO&&(n.height=Math.floor(n.height)),e.minHeight!==undefined&&(n.minHeight=e.minHeight),e.maxHeight!==undefined&&(n.maxHeight=e.maxHeight),n}}),SC.View.reopen({_lastLayerId:null,layerIdDidChange:function(){var e=this.get("layer"),t=this.get("layerId"),n=this._lastLayerId;t!==n&&(n&&SC.View.views[n]===this&&delete SC.View.views[n],this._lastLayerId=t,SC.View.views[t]=this,e&&(e.id=t))}.observes("layerId"),parentViewDidChange:function(){return this.recomputeIsVisibleInWindow(),this.resetBuildState(),this.set("layerLocationNeedsUpdate",YES),this.invokeOnce(this.updateLayerLocationIfNeeded),this._invalidatePaneCacheForSelfAndAllChildViews(),this},_invalidatePaneCacheForSelfAndAllChildViews:function(){var e,t=this.get("childViews"),n=t.length,r;this.notifyPropertyChange("pane");for(r=0;r<n;++r)e=t[r],e._invalidatePaneCacheForSelfAndAllChildViews&&e._invalidatePaneCacheForSelfAndAllChildViews()},insertBefore:function(e,t){e.beginPropertyChanges(),e.get("parentView")&&e.removeFromParent(),this.willAddChild&&this.willAddChild(e,t),e.willAddToParent&&e.willAddToParent(this,t),e.set("parentView",this);var n,r=this.get("childViews");return r.needsClone&&this.set(r=[]),n=t?r.indexOf(t):r.length,n<0&&(n=r.length),r.insertAt(n,e),e.parentViewDidChange&&e.parentViewDidChange(),e.layoutDidChange&&e.layoutDidChange(),e.endPropertyChanges(),this.invokeLast(function(){var t=e.get("pane");t&&t.get("isPaneAttached")&&e._notifyDidAppendToDocument()}),this.didAddChild&&this.didAddChild(e,t),e.didAddToParent&&e.didAddToParent
(this,t),this},removeChild:function(e,t){if(!t)return this;if(t.parentView!==this)throw"%@.removeChild(%@) must belong to parent".fmt(this,t);return t.willRemoveFromParent&&t.willRemoveFromParent(),this.willRemoveChild&&this.willRemoveChild(t),e(t),t.parentViewDidChange&&t.parentViewDidChange(),this.didRemoveChild&&this.didRemoveChild(t),t.didRemoveFromParent&&t.didRemoveFromParent(this),this}.enhance(),replaceChild:function(e,t){return e.beginPropertyChanges(),t.beginPropertyChanges(),this.beginPropertyChanges(),this.insertBefore(e,t).removeChild(t),this.endPropertyChanges(),t.endPropertyChanges(),e.endPropertyChanges(),this},replaceAllChildren:function(e){var t=e.get("length"),n;this.beginPropertyChanges(),this.destroyLayer().removeAllChildren();for(n=0;n<t;n++)this.appendChild(e.objectAt(n));return this.replaceLayer(),this.endPropertyChanges(),this},appendChild:function(e){return this.insertBefore(e,null)},buildInChild:function(e){e.willBuildInToView(this),this.appendChild(e),e.buildInToView(this)},buildOutChild:function(e){e.buildOutFromView(this)},buildInDidFinishFor:function(e){},buildOutDidFinishFor:function(e){this.removeChild(e)},isBuildingIn:NO,isBuildingOut:NO,buildIn:function(){this.buildInDidFinish()},buildOut:function(){this.buildOutDidFinish()},resetBuild:function(){},buildOutDidCancel:function(){},buildInDidCancel:function(){},buildInDidFinish:function(){this.isBuildingIn=NO,this._buildingInTo.buildInDidFinishFor(this),this._buildingInTo=null},buildOutDidFinish:function(){this.isBuildingOut=NO,this._buildingOutFrom.buildOutDidFinishFor(this),this._buildingOutFrom=
null},resetBuildState:function(){this.isBuildingIn&&(this.buildInDidCancel(),this.isBuildingIn=NO),this.isBuildingOut&&(this.buildOutDidCancel(),this.isBuildingOut=NO),this.buildingInTo=null,this.buildingOutFrom=null,this.resetBuild()},willBuildInToView:function(e){this.isBuildingOut&&this.buildOutDidCancel()},buildInToView:function(e){if(this.isBuildingIn)return;this._buildingInTo=e,this.isBuildingOut=NO,this.isBuildingIn=YES,this.buildIn()},buildOutFromView:function(e){if(this.isBuildingOut)return;this.isBuildingIn&&this.buildInDidCancel(),this.isBuildingOut=YES,this.isBuildingIn=NO,this._buildingOutFrom=e,this.buildOut()}}),SC.View.reopen({init:function(e){e(),this._lastTheme=this.get("theme"),this._sc_view_lastRenderTheme=this.get("renderTheme")}.enhance(),themeName:null,baseThemeName:null,_sc_view_findThemeInParent:function(e,t,n){if(e){var r;if(t){r=t.find(e,n);if(r)return r}if(!n){r=SC.Theme.find(e);if(r)return r}return t.invisibleSubtheme(e)}return t},findThemeAtPathInParent:function(e,t,n){if(!e)return t;var r=e.split("."),i,s=r.length,o=t;for(i=0;i<s;i++)o=this._sc_view_findThemeInParent(r[i],o,n),n=YES;return o},theme:function(){return this.findThemeAtPathInParent(this.get("themeName"),this.get("baseTheme"))}.property("baseTheme","themeName").cacheable(),_sc_view_themeDidChange:function(){if(this._lastTheme===this.get("theme"))return;this._lastTheme=this.get("theme");var e=this.childViews,t=e.length,n;for(n=0;n<t;n++)e[n].notifyPropertyChange("baseTheme")}.observes("theme"),baseTheme:function(){var e,t=this.get("baseThemeName");if(t)return this.findThemeAtPathInParent
(t,SC.Theme);e=this.get("parentView");var n=e&&e.get("theme");return n||this.findThemeAtPathInParent(SC.defaultTheme,SC.Theme)}.property("baseThemeName","parentView").cacheable(),renderStyle:null,renderTheme:function(){return this.findThemeAtPathInParent(this.get("renderStyle"),this.get("theme"))}.property("theme","renderStyle").cacheable(),_sc_view_renderThemeDidChange:function(){if(this._sc_view_lastRenderTheme===this.get("renderTheme"))return;this._sc_view_lastRenderTheme=this.get("renderTheme"),this.get("layer")&&this.replaceLayer()}.observes("renderTheme"),renderDelegate:function(e,t){t&&(this._setRenderDelegate=t);if(this._setRenderDelegate)return this._setRenderDelegate;var n=this.get("renderDelegateName"),r;if(n){r=this.get("theme")[n];if(!r)throw'%@: Unable to locate render delegate "%@" in theme.'.fmt(this,n);return r}return null}.property("renderDelegateName","renderTheme"),renderDelegateName:null,renderDelegateProxy:function(){return SC.View._RenderDelegateProxy.createForView(this)}.property("renderDelegate").cacheable(),render:function(e,t){var n=this.get("renderDelegate");n&&(t?n.render(this.get("renderDelegateProxy"),e):n.update(this.get("renderDelegateProxy"),e.$()))},applyAttributesToContext:function(e,t){var n=this.get("renderTheme"),r=n.classNames,i,s=r.length;for(i=0;i<s;i++)t.addClass(r[i]);e(t);var o=this.get("renderDelegate");o&&o.className&&t.addClass(o.className)}.enhance(),invokeRenderDelegateMethod:function(e,t){var n=this.get("renderDelegate");return n?SC.typeOf(n[e])!==SC.T_FUNCTION?undefined:(t=SC.$A(arguments),t.shift(),t.unshift(this.get("renderDelegateProxy"
)),n[e].apply(n,t)):undefined}}),SC.View._RenderDelegateProxy={isViewRenderDelegateProxy:YES,createForView:function(e){var t=SC.beget(this),n=e.get("displayProperties"),r={};for(var i=0,s=n.length;i<s;i++)r[n[i]]=YES;return r.theme=YES,t._displayPropertiesLookup=r,t.renderState={},t._view=e,t},get:function(e){if(this[e]!==undefined)return this[e];var t="display"+e.capitalize();return this._displayPropertiesLookup[t]?this._view.get(t):this._displayPropertiesLookup[e]?this._view.get(e):undefined},didChangeFor:function(e){var t=arguments.length,n;for(n=1;n<t;n++){var r=arguments[n],i="display"+r.capitalize();if(this._displayPropertiesLookup[i]){if(this._view.didChangeFor(e,i))return YES}else if(this._displayPropertiesLookup[r]&&this._view.didChangeFor(e,r))return YES}return NO}},SC.propertyFromRenderDelegate=function(e,t){return function(n,r){r!==undefined&&(this["_set_rd_"+n]=r);var i=this["_set_rd_"+n];if(i!==undefined)return i;var s=this.get("renderDelegate");if(s&&s.get){var o=this.get("renderDelegateProxy");i=s.getPropertyFor(o,e)}return i!==undefined?i:t}.property("renderDelegate","controlSize").cacheable()},SC.View.reopen({acceptsMultitouch:NO,hasTouch:NO,touchBoundary:{left:50,right:50,top:50,bottom:50},_touchBoundaryFrame:function(){return this.get("parentView").convertFrameToView(this.get("frame"),null)}.property("frame","parentView").cacheable(),touchIsInBoundary:function(e){var t=this.get("_touchBoundaryFrame"),n=0,r=0,i=this.get("touchBoundary"),s=e.pageX,o=e.pageY;return s<t.x?(s=t.x-s,n=i.left):s>t.x+t.width?(s-=t.x+t.width,n=i.right):(s=0,n=1),o<t.y?(o=t.y-o,r=i
.top):o>t.y+t.height?(o-=t.y+t.height,r=i.bottom):(o=0,r=1),s>100||o>100?NO:YES}}),SC.View.reopen({hasVisibility:YES,isVisibleInWindow:NO,recomputeIsVisibleInWindow:function(e){var t=this.get("isVisibleInWindow"),n=this.get("isVisible"),r;n&&(e===undefined&&(r=this.get("parentView"),e=r?r.get("isVisibleInWindow"):NO),n=n&&e);if(t!==n){this.set("isVisibleInWindow",n);var i=this.get("childViews"),s=i.length,o,u;for(o=0;o<s;o++)u=i[o],u&&u.recomputeIsVisibleInWindow&&u.recomputeIsVisibleInWindow(n);n?this.get("childViewsNeedLayout")&&this.invokeOnce(this.layoutChildViewsIfNeeded):this.get("isFirstResponder")&&this.resignFirstResponder()}return this.updateLayerIfNeeded(YES),this},_sc_isVisibleDidChange:function(){this.displayDidChange(),this.recomputeIsVisibleInWindow()}.observes("isVisible")}),SC.MIXED_STATE="__MIXED__",SC.Pane=SC.View.extend(SC.ResponderContext,{isPane:YES,page:null,rootResponder:null,sendEvent:function(e,t,n){var r;n||(n=this.get("firstResponder"));while(n){if(e==="touchStart"){if(t.touchResponder===n){n=null;break}if(!n.get("hasTouch")||n.get("acceptsMultitouch"))if(n.tryToPerform("touchStart",t))break}else if(e==="touchEnd"&&!n.get("acceptsMultitouch")){if(!n.get("hasTouch")&&n.tryToPerform("touchEnd",t))break}else if(n.tryToPerform(e,t))break;n=n===this?null:n.get("nextResponder")}return!n&&(n=this.get("defaultResponder"))?(typeof n===SC.T_STRING&&(n=SC.objectForPropertyPath(n)),n?n=n.tryToPerform(e,t)?n:null:n=null):!n&&!(n=this.get("defaultResponder"))&&(n=this.tryToPerform(e,t)?this:null),t.mouseHandler||n},nextResponder:function(){return null}.property
().cacheable(),firstResponder:null,acceptsKeyPane:YES,isKeyPane:NO,becomeKeyPane:function(){return this.get("isKeyPane")?this:(this.rootResponder&&this.rootResponder.makeKeyPane(this),this)},resignKeyPane:function(){return this.get("isKeyPane")?(this.rootResponder&&this.rootResponder.makeKeyPane(null),this):this},makeFirstResponder:function(e,t,n){t||(t=this);var r=this.get("firstResponder"),i=this.get("isKeyPane");return r===t?this:SC.platform.touch&&t&&t.kindOf(SC.TextFieldView)&&!t.get("focused")?this:(i&&(r&&r.tryToPerform("willLoseKeyResponderTo",t),t&&t.tryToPerform("willBecomeKeyResponderFrom",r)),r&&(r.beginPropertyChanges(),r.set("isKeyResponder",NO)),t&&(t.beginPropertyChanges(),t.set("isKeyResponder",i)),e(t,n),r&&r.endPropertyChanges(),t&&t.endPropertyChanges(),i&&(t&&t.tryToPerform("didBecomeKeyResponderFrom",r),r&&r.tryToPerform("didLoseKeyResponderTo",t)),this)}.enhance(),willLoseKeyPaneTo:function(e){return this._forwardKeyChange(this.get("isKeyPane"),"willLoseKeyResponderTo",e,NO),this},willBecomeKeyPaneFrom:function(e){return this._forwardKeyChange(!this.get("isKeyPane"),"willBecomeKeyResponderFrom",e,YES),this},didBecomeKeyResponderFrom:function(e){},didLoseKeyPaneTo:function(e){var t=this.get("isKeyPane");return this.set("isKeyPane",NO),this._forwardKeyChange(t,"didLoseKeyResponderTo",e),this},didBecomeKeyPaneFrom:function(e){var t=this.get("isKeyPane");return this.set("isKeyPane",YES),this._forwardKeyChange(!t,"didBecomeKeyResponderFrom",e,YES),this},isMainPane:NO,focusFrom:function(e){},blurTo:function(e){},blurMainTo:function(e){this.set("isMainPane",NO
)},focusMainFrom:function(e){this.set("isMainPane",YES)},append:function(){return this.appendTo(document.body)},remove:function(){if(!this.get("isVisibleInWindow"))return this;if(!this.get("isPaneAttached"))return this;var e=this.get("layer");e&&e.parentNode&&e.parentNode.removeChild(e),e=null,this._removeIntercept(),this.resignKeyPane();var t=this.rootResponder;return this.get("isMainPane")&&t.makeMainPane(null),t.panes.remove(this),this.rootResponder=null,this.set("isPaneAttached",NO),this.parentViewDidChange(),this},insert:function(e){var t=this.get("layer");return t||(t=this.createLayer().get("layer")),e(t),this.get("isPaneAttached")||this.paneDidAttach(),this},appendTo:function(e){return this.insert(function(t){jQuery(e).append(t)})},paneDidAttach:function(){var e=this.rootResponder=SC.RootResponder.responder;return e.panes.add(this),this.set("isPaneAttached",YES),this.recomputeDependentProperties(),this._notifyDidAppendToDocument(),this._invalidateStaticLayoutFrames(),this._addIntercept(),this},recomputeDependentProperties:function(){},isPaneAttached:NO,wantsTouchIntercept:NO,hasTouchIntercept:function(){return this.get("wantsTouchIntercept")&&SC.platform.touch}.property("wantsTouchIntercept").cacheable(),zIndex:0,touchZ:99,_addIntercept:function(){if(this.get("hasTouchIntercept")){var e=document.createElement("div"),t=e.style;t.position="absolute",t.left="0px",t.top="0px",t.right="0px",t.bottom="0px",t.webkitTransform="translateZ(0px)",t.zIndex=this.get("zIndex")+this.get("touchZ"),e.className="touch-intercept",e.id="touch-intercept-"+SC.guidFor(this),this._touchIntercept=
e,document.body.appendChild(e)}},_removeIntercept:function(){this._touchIntercept&&(document.body.removeChild(this._touchIntercept),this._touchIntercept=null)},hideTouchIntercept:function(){this._touchIntercept&&(this._touchIntercept.style.display="none")},showTouchIntercept:function(){this._touchIntercept&&(this._touchIntercept.style.display="block")},recomputeIsVisibleInWindow:function(){var e=this.get("isVisibleInWindow"),t=this.get("isVisible")&&this.get("isPaneAttached");if(e!==t){this.set("isVisibleInWindow",t);var n=this.get("childViews"),r=n.length,i,s;for(i=0;i<r;i++)s=n[i],s.recomputeIsVisibleInWindow&&s.recomputeIsVisibleInWindow(t);t?this.get("childViewsNeedLayout")&&this.invokeOnce(this.layoutChildViewsIfNeeded):this.get("isKeyPane")&&this.resignKeyPane()}return this.updateLayerIfNeeded(YES),this},updateLayerLocation:function(){return this.get("parentView")?arguments.callee.base.apply(this,arguments):this},replaceLayer:function(){var e=this.get("isPaneAttached");this.destroyLayer(),e&&this.invokeLast(this.append)},init:function(){this.hasTouchIntercept===YES&&(SC.Logger.warn("Do not set hasTouchIntercept directly. Use wantsTouchIntercept instead."),this.hasTouchIntercept=SC.platform.touch);var e=!!this.get("layer");arguments.callee.base.apply(this,arguments),e&&this.paneDidAttach()},classNames:["sc-pane"]}),SC.Pane.reopen({performKeyEquivalent:function(e,t){var n=arguments.callee.base.apply(this,arguments);if(!n){var r=this.get("defaultResponder");r&&(r.performKeyEquivalent&&(n=r.performKeyEquivalent(e,t)),!n&&r.tryToPerform&&(n=r.tryToPerform(e,t)))}return n},keyDown
:function(e){var t;if((e.which===9||SC.browser.mozilla&&e.keyCode===9)&&!this.get("firstResponder")){e.shiftKey?t=this.get("previousValidKeyView"):t=this.get("nextValidKeyView");if(t)return this.makeFirstResponder(t),YES;SC.TABBING_ONLY_INSIDE_DOCUMENT||e.allowDefault()}return NO},_forwardKeyChange:function(e,t,n,r){var i,s,o;e&&(s=this.get("firstResponder"))&&(o=n?n.get("firstResponder"):null,i=this.get("firstResponder"),i&&i[t]&&i[t](o),r!==undefined&&s&&s.set("isKeyResponder",r))}}),SC.Pane.reopen({currentWindowSize:null,computeParentDimensions:function(e){var t={x:0,y:0,width:1e3,height:1e3},n=this.get("layout");document&&document.body&&(t.width=document.body.clientWidth,t.height=document.body.clientHeight);if(n.minHeight||n.minWidth)n.minHeight&&(t.height=Math.max(t.height,n.minHeight)),n.minWidth&&(t.width=Math.max(t.width,n.minWidth));return t},frame:function(){return this.computeFrameWithParentFrame(null)}.property(),windowSizeDidChange:function(e,t){return this.set("currentWindowSize",t),this.setBodyOverflowIfNeeded(),this.parentViewDidResize(),this},setBodyOverflowIfNeeded:function(e){var t=this.get("layout"),n=this.get("currentWindowSize");if(!t||!n||!n.width||!n.height)return;var r=t.minWidth,i=t.minHeight;if(e===!0||r||i)i&&n.height<i||r&&n.width<r?SC.bodyOverflowArbitrator.requestVisible(this):SC.bodyOverflowArbitrator.requestHidden(this)},paneLayoutDidChange:function(){this.invokeOnce(this.updateLayout),this.setBodyOverflowIfNeeded()}.observes("layout"),recomputeDependentProperties:function(e){this.set("currentWindowSize",this.rootResponder.computeWindowSize()
),e()}.enhance()}),SC.Pane.reopen({prependTo:function(e){return this.insert(function(t){jQuery(e).prepend(t)})},removeFromParent:function(){throw SC.Error.desc("SC.Pane cannot be removed from its parent, since it's the root. Did you mean remove()?")}}),SC.Pane.reopen({recomputeDependentProperties:function(e){this.recomputeIsVisibleInWindow(),e()}.enhance()}),SC.Application=SC.Responder.extend(SC.ResponderContext,{}),SC.BENCHMARK_LOG_READY=YES,SC.mixin({isReady:NO,suppressOnReady:SC.suppressOnReady?YES:NO,suppressMain:SC.suppressMain?YES:NO,ready:function(e,t){var n=SC._readyQueue;return t===undefined?(t=e,e=null):SC.typeOf(t)===SC.T_STRING&&(t=e[t]),SC.isReady?jQuery(document).ready(function(){t.call(e)}):(n||(SC._readyQueue=[]),SC._readyQueue.push(function(){t.call(e)})),this},onReady:{done:function(){if(SC.isReady)return;var e=SC.Locale.currentLanguage.toLowerCase();SC.isReady=!0,SC.RunLoop.begin(),SC.Locale.createCurrentLocale(),jQuery("body").addClass(e),jQuery("html").attr("lang",e),jQuery("#loading").remove();var t=SC._readyQueue,n,r;if(t){for(n=0,r=t.length;n<r;n++)t[n].call();SC._readyQueue=null}window.main&&!SC.suppressMain&&SC.mode===SC.APP_MODE&&window.main(),SC.RunLoop.end()}}}),SC.suppressOnReady||(jQuery.event.special.ready._default=SC.onReady.done),SC.APP_MODE="APP_MODE",SC.TEST_MODE="TEST_MODE",SC.mode=SC.APP_MODE,SC.platform=SC.Object.create({scrollbarSize:function(){var e=document.createElement("DIV"),t;e.innerHTML="<div style='height:1px;'></div>",e.style.cssText="position:absolute;width:100px;height:100px;overflow-y:visible;",t=e.childNodes[0],document.body
.appendChild(e);var n=t.innerWidth||t.clientWidth;e.style.overflowY="scroll";var r=t.innerWidth||t.clientWidth;return document.body.removeChild(e),n-r}.property().cacheable(),touch:"createTouch"in document&&(SC.browser.iOS||SC.browser.android||SC.browser.silk),bounceOnScroll:SC.browser.iOS,pinchToZoom:SC.browser.iOS,input:function(e){var t={},n=e.length,r=document.createElement("input"),i,s;for(s=0;s<n;s++)i=e[s],t[i]=i in r;return t}(["autocomplete","readonly","list","size","required","multiple","maxlength","pattern","min","max","step","placeholder"]),standalone:!!navigator.standalone,dpi:BUILD_INFO.stylesDPIUsed,cssPrefix:null,domCSSPrefix:null,simulateTouchEvents:function(){if(this.touch)return;SC.Logger.log("Simulating touch events"),SC.platform.touch=YES,SC.platform.bounceOnScroll=YES,document.body.className=document.body.className+" touch",this._simtouch_counter=1,this.removeEvents(["click","dblclick","mouseout","mouseover","mousewheel"]),this.replaceEvent("mousemove",this._simtouch_mousemove),this.replaceEvent("mousedown",this._simtouch_mousedown),this.replaceEvent("mouseup",this._simtouch_mouseup),SC.platform.windowSizeDeterminesOrientation=YES,SC.device.orientationHandlingShouldChange()},removeEvents:function(e){var t,n=e.length,r;for(t=0;t<n;t++)r=e[t],SC.Event.remove(document,r,SC.RootResponder.responder,SC.RootResponder.responder[r])},replaceEvent:function(e,t){SC.Event.remove(document,e,SC.RootResponder.responder,SC.RootResponder.responder[e]),SC.Event.add(document,e,this,t)},_simtouch_mousemove:function(e){if(!this._mousedown)return e.altKey&&this._pinchCenter===
null?this._pinchCenter={pageX:e.pageX,pageY:e.pageY,screenX:e.screenX,screenY:e.screenY,clientX:e.clientX,clientY:e.clientY}:!e.altKey&&this._pinchCenter!==null&&(this._pinchCenter=null),NO;var t=this.manufactureTouchEvent(e,"touchmove");return SC.RootResponder.responder.touchmove(t)},_simtouch_mousedown:function(e){this._mousedown=YES;var t=this.manufactureTouchEvent(e,"touchstart");return SC.RootResponder.responder.touchstart(t)},_simtouch_mouseup:function(e){var t=this.manufactureTouchEvent(e,"touchend"),n=SC.RootResponder.responder.touchend(t);return this._mousedown=NO,this._simtouch_counter++,n},manufactureTouchEvent:function(e,t){var n,r,i=this._simtouch_counter;n={type:t,target:e.target,identifier:i,pageX:e.pageX,pageY:e.pageY,screenX:e.screenX,screenY:e.screenY,clientX:e.clientX,clientY:e.clientY},e.touches=[n];if(e.altKey&&this._pinchCenter!==null){var s=this._pinchCenter.pageX+this._pinchCenter.pageX-e.pageX,o=this._pinchCenter.pageY+this._pinchCenter.pageY-e.pageY,u=this._pinchCenter.screenX+this._pinchCenter.screenX-e.screenX,a=this._pinchCenter.screenY+this._pinchCenter.screenY-e.screenY,f=this._pinchCenter.clientX+this._pinchCenter.clientX-e.clientX,l=this._pinchCenter.clientY+this._pinchCenter.clientY-e.clientY,c=this._simtouch_counter+1;r={type:t,target:e.target,identifier:c,pageX:s,pageY:o,screenX:u,screenY:a,clientX:f,clientY:l},e.touches=[n,r]}return e.changedTouches=e.touches,e},supportsCSSTransitions:NO,supportsCSSTransforms:NO,understandsCSS3DTransforms:NO,supportsCSS3DTransforms:NO,supportsAcceleratedLayers:NO,supportsHashChange:function(){return"onhashchange"in 
window&&(document.documentMode===undefined||document.documentMode>7)}(),supportsHistory:function(){return!!window.history&&!!window.history.pushState}(),supportsCanvas:function(){return!!document.createElement("canvas").getContext}(),supportsOrientationChange:"onorientationchange"in window,windowSizeDeterminesOrientation:SC.browser.iOS||!("onorientationchange"in window)}),function(){var e=navigator.userAgent.toLowerCase();/webkit/.test(e)?(SC.platform.cssPrefix="webkit",SC.platform.domCSSPrefix="Webkit"):/opera/.test(e)?(SC.platform.cssPrefix="opera",SC.platform.domCSSPrefix="O"):/msie/.test(e)&&!/opera/.test(e)?(SC.platform.cssPrefix="ms",SC.platform.domCSSPrefix="ms"):/mozilla/.test(e)&&!/(compatible|webkit)/.test(e)&&(SC.platform.cssPrefix="moz",SC.platform.domCSSPrefix="Moz")}(),function(){var e=document.createElement("div"),t=["-moz-","-moz-","-o-","-ms-","-webkit-"],n=["moz","Moz","o","ms","webkit"],r="",i=null,s,o;for(i=0,o=t.length;i<o;i++)s=t[i],r+=s+"transition:all 1s linear;",r+=s+"transform: translate(1px, 1px);",r+=s+"perspective: 500px;";e.style.cssText=r;var u;for(i=0,o=n.length;i<o;i++){u=n[i],e.style[u+"TransitionProperty"]!==undefined&&(SC.platform.supportsCSSTransitions=YES),e.style[u+"Transform"]!==undefined&&(SC.platform.supportsCSSTransforms=YES);if(e.style[u+"Perspective"]!==undefined||e.style[u+"PerspectiveProperty"]!==undefined)SC.platform.understandsCSS3DTransforms=YES,SC.platform.supportsCSS3DTransforms=YES}try{window.media&&window.media.matchMedium?window.media.matchMedium("(-webkit-transform-3d)")||(SC.platform.supportsCSS3DTransforms=NO):window.
styleMedia&&window.styleMedia.matchMedium&&(window.styleMedia.matchMedium("(-webkit-transform-3d)")||(SC.platform.supportsCSS3DTransforms=NO))}catch(a){SC.platform.supportsCSS3DTransforms=NO}SC.platform.supportsCSSTransforms&&SC.platform.cssPrefix==="webkit"&&(SC.platform.supportsAcceleratedLayers=YES)}(),SC.CAPTURE_BACKSPACE_KEY=NO,SC.APP_HAS_NONSC_IFRAME=NO,SC.RootResponder=SC.Object.extend({panes:null,init:function(){arguments.callee.base.apply(this,arguments),this.panes=SC.Set.create(),SC.platform.supportsCSSTransitions&&(this[SC.platform.cssPrefix+"TransitionEnd"]=this.transitionEnd,this.transitionend=this.transitionEnd)},mainPane:null,makeMainPane:function(e){var t=this.get("mainPane");return t===e?this:(this.beginPropertyChanges(),this.get("keyPane")===t&&this.makeKeyPane(e),this.set("mainPane",e),t&&t.blurMainTo(e),e&&e.focusMainFrom(t),this.endPropertyChanges(),this)},menuPane:null,makeMenuPane:function(e){if(e&&!e.get("acceptsMenuPane"))return this;var t=this.get("menuPane");return t===e?this:(this.set("menuPane",e),this)},keyPane:null,previousKeyPanes:[],makeKeyPane:function(e){var t,n,r;if(e){if(!e.get("acceptsKeyPane"))return this;n=this.get("keyPane");if(n===e)return this;n&&(r=this.get("previousKeyPanes"),r.push(n)),t=e}else{n=this.get("keyPane"),r=this.get("previousKeyPanes"),t=null;var i;while(r.length>0){i=r.pop();if(i.get("isPaneAttached")&&i.get("acceptsKeyPane")){t=i;break}}}if(!t){var s=this.get("mainPane");s&&s.get("acceptsKeyPane")&&(t=s)}return n&&n.willLoseKeyPaneTo(t),t&&t.willBecomeKeyPaneFrom(n),this.set("keyPane",t),t&&t.didBecomeKeyPaneFrom(n),
n&&n.didLoseKeyPaneTo(t),this},currentWindowSize:null,computeWindowSize:function(){var e,t,n;return!this._bod||!this._docElement?(t=document.body,n=document.documentElement,this._bod=t,this._docElement=n):(t=this._bod,n=this._docElement),window.innerHeight?e={width:window.innerWidth,height:window.innerHeight}:n&&n.clientHeight?e={width:n.clientWidth,height:n.clientHeight}:t&&(e={width:t.clientWidth,height:t.clientHeight}),e},resize:function(){return this._resize(),YES},_resize:function(){var e=this.computeWindowSize(),t=this.get("currentWindowSize");this.set("currentWindowSize",e),SC.rectsEqual(e,t)||(SC.device.windowSizeDidChange(e),this.panes&&SC.run(function(){this.panes.invoke("windowSizeDidChange",t,e)},this))},hasFocus:NO,focus:function(e){return!this.get("hasFocus")&&document.hasFocus()&&SC.run(function(){SC.$("body").addClass("sc-focus").removeClass("sc-blur");if(!SC.TABBING_ONLY_INSIDE_DOCUMENT&&!SC.browser.isIE8OrLower&&!SC.APP_HAS_NONSC_IFRAME){var e=SC.RootResponder.responder.get("keyPane");if(e){var t=e.get("lastViewFirstResponder");if(t)e.makeFirstResponder(t),e.set("lastViewFirstResponder",null);else{var n=e.get("nextValidKeyView");n&&e.makeFirstResponder(n)}}}this.set("hasFocus",YES)},this),YES},focusin:function(e){this._focusTimeout&&clearTimeout(this._focusTimeout),this.focus(e)},focusout:function(e){var t=this;this._focusTimeout=setTimeout(function(){t.blur(e)},300)},blur:function(e){if(this.get("hasFocus")&&!document.hasFocus()){SC.$("body").addClass("sc-blur").removeClass("sc-focus");var t=SC.RootResponder.responder.get("keyPane");if(t){var n=t.get("firstResponder"
);n&&!SC.browser.isIE8OrLower&&!SC.APP_HAS_NONSC_IFRAME&&n.resignFirstResponder(e)}SC.run(function(){this.set("hasFocus",NO)},this)}return YES},dragDidStart:function(e){this._mouseDownView=e,this._drag=e},defaultResponder:null,sendAction:function(e,t,n,r,i,s){return t=this.targetForAction(e,t,n,r,s),t&&t.isResponderContext?!!t.sendAction(e,n,i,s):t&&t.tryToPerform(e,n)},_responderFor:function(e,t,n){var r=e?e.get("defaultResponder"):null;if(e){e=n||e.get("firstResponder")||e;do if(e.respondsTo(t))return e;while(e=e.get("nextResponder"))}return typeof r===SC.T_STRING&&(r=SC.objectForPropertyPath(r)),r?r.isResponderContext?r:r.respondsTo(t)?r:null:null},targetForAction:function(e,t,n,r,i){if(!e||SC.typeOf(e)!==SC.T_STRING)return null;if(t)return SC.typeOf(t)===SC.T_STRING&&(t=SC.objectForPropertyPath(t)||SC.objectForPropertyPath(t,n)),t&&!t.isResponderContext&&(t.respondsTo&&!t.respondsTo(e)?t=null:SC.typeOf(t[e])!==SC.T_FUNCTION&&(t=null)),t;if(r){t=this._responderFor(r,e,i);if(t)return t}var s=this.get("keyPane"),o=this.get("mainPane");return s&&s!==r&&(t=this._responderFor(s,e)),!t&&o&&o!==s&&(t=this._responderFor(o,e)),!t&&(t=this.get("defaultResponder"))&&(SC.typeOf(t)===SC.T_STRING&&(t=SC.objectForPropertyPath(t),t&&this.set("defaultResponder",t)),t&&!t.isResponderContext&&(t.respondsTo&&!t.respondsTo(e)?t=null:SC.typeOf(t[e])!==SC.T_FUNCTION&&(t=null))),t},targetViewForEvent:function(e){return e.target?SC.$(e.target).view()[0]:null},sendEvent:function(e,t,n){var r,i;return SC.run(function(){n?r=n.get("pane"):r=this.get("menuPane")||this.get("keyPane")||this.get("mainPane"
),i=r?r.sendEvent(e,t,n):null},this),i},listenFor:function(e,t,n,r){return n=n?n:this,e.forEach(function(e){var i=n[e];i&&SC.Event.add(t,e,n,i,null,r)},this),t=null,n},setup:function(){this.listenFor(["touchstart","touchmove","touchend","touchcancel"],document),this.listenFor(["keydown","keyup","beforedeactivate","mousedown","mouseup","click","dblclick","mousemove","selectstart","contextmenu","scroll"],document).listenFor(["resize"],window),SC.browser.isIE8OrLower?this.listenFor(["focusin","focusout"],document):this.listenFor(["focus","blur"],window),this.listenFor(["webkitAnimationStart","webkitAnimationIteration","webkitAnimationEnd"],document),SC.platform.supportsCSSTransitions&&this.listenFor(["transitionend",SC.platform.cssPrefix+"TransitionEnd"],document);if(this.keypress)if(SC.CAPTURE_BACKSPACE_KEY&&SC.browser.mozilla){var e=this;document.onkeypress=function(t){return t=SC.Event.normalizeEvent(t),e.keypress.call(e,t)}}else SC.Event.add(document,"keypress",this,this.keypress);["drag","selectstart"].forEach(function(e){var t=this[e];if(t)if(SC.browser.msie){var n=this;document.body["on"+e]=function(e){return t.call(n,SC.Event.normalizeEvent(event||window.event))},SC.Event.add(window,"unload",this,function(){document.body["on"+e]=null})}else SC.Event.add(document,e,this,t)},this);var t="mousewheel";SC.browser.mozilla?SC.browser.compareVersion(1,9,1)<0?t="DOMMouseScroll":t="MozMousePixelScroll":parseInt(SC.browser.msie)>=9&&(t="wheel"),SC.Event.add(document,t,this,this.mousewheel),this.set("currentWindowSize",this.computeWindowSize());if(SC.browser.mobileSafari){SC.platform&&!
SC.platform.touch&&SC.platform.simulateTouchEvents();var n=SC.RunLoop.prototype.endRunLoop,r;r=function(){n&&n.apply(this,arguments);var e=SC.RootResponder.responder._touches,t,r,i,s,o,u=NO;if(e)for(t in e){if(e[t]._rescuedElement)continue;i=r=e[t].target;while(r&&(r=r.parentNode)&&!u)u=r===document.body;if(!u&&i){if(i.parentNode&&i.cloneNode){var a=i.cloneNode(!0);i.parentNode.replaceChild(a,i),i.swapNode=a}var l=SC.touchHoldingPen;l||(l=SC.touchHoldingPen=document.createElement("div"),l.style.display="none",document.body.appendChild(l)),l.appendChild(i),e[t]._rescuedElement=i}}},SC.RunLoop.prototype.endRunLoop=r}},_touchedViews:{},_touches:{},touchesForView:function(e){if(this._touchedViews[SC.guidFor(e)])return this._touchedViews[SC.guidFor(e)].touches},averagedTouchesForView:function(e,t){var n=this.touchesForView(e),r=e._scrr_averagedTouches||(e._scrr_averagedTouches={});if((!n||n.length===0)&&!t)r.x=0,r.y=0,r.d=0,r.touchCount=0;else{var i=this._averagedTouches_touches||(this._averagedTouches_touches=[]),s;i.length=0;if(n){var o;s=n.length;for(o=0;o<s;o++)i.push(n[o])}t&&i.push(t);var u,a,f=0,l=0,c,h,p=0;s=i.length;for(u=0;u<s;u++)a=i[u],f+=a.pageX,l+=a.pageY;f/=s,l/=s;for(u=0;u<s;u++)a=i[u],c=Math.abs(a.pageX-f),h=Math.abs(a.pageY-l),p+=Math.pow(c*c+h*h,.5);p/=s,r.x=f,r.y=l,r.d=p,r.touchCount=s}return r},assignTouch:function(e,t){if(e.hasEnded)throw"Attemt to assign a touch that is already finished.";if(e.view===t)return;e.view&&this.unassignTouch(e),this._touchedViews[SC.guidFor(t)]||(this._touchedViews[SC.guidFor(t)]={view:t,touches:SC.CoreSet.create([]),touchCount:0
},t.set("hasTouch",YES)),e.view=t,this._touchedViews[SC.guidFor(t)].touches.add(e),this._touchedViews[SC.guidFor(t)].touchCount++},unassignTouch:function(e){var t,n;if(!e.view)return;t=e.view,n=this._touchedViews[SC.guidFor(t)],n.touches.remove(e),n.touchCount--,n.touchCount<1&&(t.set("hasTouch",NO),n.view=null,delete this._touchedViews[SC.guidFor(t)]),e.view=undefined},_flushQueuedTouchResponder:function(){if(this._queuedTouchResponder){var e=this._queuedTouchResponder;this._queuedTouchResponder=null,this.makeTouchResponder.apply(this,e)}},makeTouchResponder:function(e,t,n,r){if(this._isMakingTouchResponder){this._queuedTouchResponder=[e,t,n,r];return}this._isMakingTouchResponder=YES;var i=e.touchResponders,s;if(e.touchResponder===t){this._isMakingTouchResponder=NO,this._flushQueuedTouchResponder();return}var o;t?o=t.get("pane"):o=this.get("keyPane")||this.get("mainPane");if(i.indexOf(t)<0)if(r)try{t=o?o.sendEvent("touchStart",e,t):null}catch(u){SC.Logger.error("Error in touchStart: "+u),t=null}else t&&((t.get?t.get("acceptsMultitouch"):t.acceptsMultitouch)||!t.hasTouch)&&(t.touchStart(e)||(t=null));if(!n||i.indexOf(t)>-1&&i[i.length-1]!==t){this.unassignTouch(e);var a=i.length-1,f=i[a];while(f&&f!==t)s=this.touchesForView(f),((f.get?f.get("acceptsMultitouch"):f.acceptsMultitouch)||!s)&&f.touchCancelled&&f.touchCancelled(e),a--,f=i[a],i.pop(),e.touchResponder=i[a],e.nextTouchResponder=i[a-1]}t&&(this.assignTouch(e,t),t!==e.touchResponder&&(i.push(t),e.touchResponder=t,e.nextTouchResponder=i[i.length-2])),this._isMakingTouchResponder=NO,this._flushQueuedTouchResponder()},captureTouch
:function(e,t,n){t||(t=this);var r=e.targetView,i=r,s=[],o,u;SC.LOG_TOUCH_EVENTS&&SC.Logger.info("  -- Received one touch on %@".fmt(r.toString()));while(i&&i!==t)s.unshift(i),i=i.get("nextResponder");for(u=s.length,o=0;o<u;o++){i=s[o],SC.LOG_TOUCH_EVENTS&&SC.Logger.info("  -- Checking %@ for captureTouch response…".fmt(i.toString()));if(i.tryToPerform("captureTouch",e)){SC.LOG_TOUCH_EVENTS&&SC.Logger.info("   -- Making %@ touch responder because it returns YES to captureTouch".fmt(i.toString())),this.makeTouchResponder(e,i,n,YES);return}}SC.LOG_TOUCH_EVENTS&&SC.Logger.info("   -- Didn't find a view that returned YES to captureTouch, so we're calling touchStart"),this.makeTouchResponder(e,r,n,YES)},endMissingTouches:function(e){var t,n=e.length,r={},i=[];for(t=0;t<n;t++)r[e[t].identifier]=YES;for(t in this._touches){var s=this._touches[t].identifier;r[s]||i.push(this._touches[t])}for(t=0,n=i.length;t<n;t++)this.endTouch(i[t]),this.finishTouch(i[t])},_touchCount:0,endTouch:function(e,t,n){t||(t="touchEnd");var r,i,s,o;this.unassignTouch(e);if(e.touchResponder){o=e.touchResponder,i=e.touchResponders,r=i.length-1,s=i[r];while(s){s[t]&&s[t](e,n);if(e.touchResponder!==o)break;r--,s=i[r],t="touchCancelled"}}},finishTouch:function(e){var t;this.unassignTouch(e);if(t=e._rescuedElement)t.swapNode&&t.swapNode.parentNode?t.swapNode.parentNode.replaceChild(t,t.swapNode):t.parentNode===SC.touchHoldingPen&&SC.touchHoldingPen.removeChild(t),delete e._rescuedElement,t.swapNode=null,t=null;e.touchResponders=null,e.touchResponder=null,e.nextTouchResponder=null,e.hasEnded=YES,this._touches[e.identifier
]&&delete this._touches[e.identifier]},touchstart:function(e){if(this.ignoreTouchHandle(e))return YES;var t=NO;return SC.run(function(){this.endMissingTouches(e.touches);var n,r=e.changedTouches,i=r.length,s,o,u,a;e.touchContext=this;for(n=0;n<i;n++){u=r[n],a=SC.Touch.create(u,this);if(!a.targetView)continue;a.hidesTouchIntercept&&(t=YES),a.timeStamp=e.timeStamp,this._touches[u.identifier]=a,a.event=e,this.captureTouch(a,this),a.event=null}},this),t?YES:e.hasCustomEventHandling},touchmove:function(e){return this.ignoreTouchHandle(e)?YES:(SC.run(function(){var t=e.changedTouches,n,r,i,s=t.length,o,u,a,f,l={},c,h,p=NO;this._drag&&(n=SC.Touch.create(e.changedTouches[0],this),this._drag.tryToPerform("mouseDragged",n));for(i=0;i<s;i++){n=t[i],r=this._touches[n.identifier];if(!r)continue;r.hidesTouchIntercept&&(p=YES),r.pageX=n.pageX,r.pageY=n.pageY,r.clientX=n.clientX,r.clientY=n.clientY,r.screenX=n.screenX,r.screenY=n.screenY,r.timeStamp=e.timeStamp,r.event=e,r.touchResponder&&(o=r.touchResponder,h=SC.guidFor(o),l[h]||(l[h]={view:o,touches:[]}),l[h].touches.push(r))}if(p)return e.allowDefault(),YES;for(i in l)o=l[i].view,u=l[i].touches,e.viewChangedTouches=u,a=this.touchesForView(o),f=a.firstObject(),e.pageX=f.pageX,e.pageY=f.pageY,e.clientX=f.clientX,e.clientY=f.clientY,e.screenX=f.screenX,e.screenY=f.screenY,e.touchContext=this,o.tryToPerform("touchesDragged",e,a);t=e.changedTouches,s=t.length;for(i=0;i<s;i++)n=t[i],r=this._touches[n.identifier],r&&(r.event=null)},this),e.hasCustomEventHandling)},touchend:function(e){var t=NO;return this.ignoreTouchHandle(e)?YES:(SC.run(function(
){var n=e.changedTouches,r,i,s,o=n.length,u,a,f=e.isCancel?"touchCancelled":"touchEnd",l,c,h,p;for(s=0;s<o;s++){r=n[s],r.type="touchend",i=this._touches[r.identifier];if(!i)continue;i.timeStamp=e.timeStamp,i.pageX=r.pageX,i.pageY=r.pageY,i.clientX=r.clientX,i.clientY=r.clientY,i.screenX=r.screenX,i.screenY=r.screenY,i.type="touchend",i.event=e,SC.LOG_TOUCH_EVENTS&&SC.Logger.info("-- Received touch end"),i.hidesTouchIntercept&&(i.unhideTouchIntercept(),t=YES),this._drag&&(this._drag.tryToPerform("mouseUp",r),this._drag=null),this.endTouch(i,f,e),this.finishTouch(i)}},this),t?YES:e.hasCustomEventHandling)},touchcancel:function(e){e.isCancel=YES,this.touchend(e)},ignoreTouchHandle:function(e){if(SC.browser.isMobileSafari||SC.browser.android||SC.browser.silk){var t=e.target.tagName;if(t==="INPUT"||t==="A")return e.allowDefault(),YES}return NO},attemptKeyEquivalent:function(e){var t=e.commandCodes()[0],n=null;if(!t)return n;var r=this.get("menuPane"),i=this.get("keyPane"),s=this.get("mainPane");if(r){n=r.performKeyEquivalent(t,e);if(n)return n}if(i){n=i.performKeyEquivalent(t,e);if(n||i.get("isModal"))return n}if(!n&&s&&s!==i){n=s.performKeyEquivalent(t,e);if(n||s.get("isModal"))return n}return n},_lastModifiers:null,_handleModifierChanges:function(e){var t;t=this._lastModifiers=this._lastModifiers||{alt:!1,ctrl:!1,shift:!1};var n=!1;return e.altKey!==t.alt&&(t.alt=e.altKey,n=!0),e.ctrlKey!==t.ctrl&&(t.ctrl=e.ctrlKey,n=!0),e.shiftKey!==t.shift&&(t.shift=e.shiftKey,n=!0),e.modifiers=t,n?this.sendEvent("flagsChanged",e)?e.hasCustomEventHandling:YES:YES},_isModifierKey:function(e){return!!
SC.MODIFIER_KEYS[e.charCode]},keydown:function(e){if(SC.none(e))return YES;var t=e.keyCode;this._lastKeyDownKeyCodeForKeyPress=t,SC.browser.mozilla&&e.keyCode===9&&(this.keydownCounter=1);if(t===229)return this._IMEInputON=YES,this.sendEvent("keyDown",e);if(t===27&&this._drag)return this._drag.cancelDrag(),this._drag=null,this._mouseDownView=null,YES;if(SC.browser.mozilla&&e.which===8)return!0;var n=this._handleModifierChanges(e),r=e.target||e.srcElement,i=e.which===8&&!SC.allowsBackspaceToPreviousPage&&r===document.body;if(this._isModifierKey(e))return i?NO:n;n=YES;if(SC.isFunctionOrNonPrintableKey(e)){if(t>=37&&t<=40&&SC.browser.mozilla)return YES;n=this.sendEvent("keyDown",e),n?(n=e.hasCustomEventHandling,n&&(i=NO)):n=SC.run(function(){return!this.attemptKeyEquivalent(e)},this)}return i?NO:n},keypress:function(e){var t,n=e.keyCode,r=!!SC.browser.mozilla;e.keyCode=e.which=this._lastKeyDownKeyCodeForKeyPress;if(SC.browser.mozilla&&e.keyCode===9){this.keydownCounter++;if(this.keydownCounter==2)return YES}if(r&&e.which===8)return t=this.sendEvent("keyDown",e)||!this.attemptKeyEquivalent(e),t?SC.allowsBackspaceToPreviousPage||e.hasCustomEventHandling:YES;var i=n>=37&&n<=40&&r,s=e.charCode;if(s!==undefined&&s===0&&e.keyCode!==9&&!i)return YES;if(i||!SC.isFunctionOrNonPrintableKey(e))t=this.sendEvent("keyDown",e),t?t=e.hasCustomEventHandling:t=!this.attemptKeyEquivalent(e);return t},keyup:function(e){this._lastKeyDownKeyCodeForKeyPress=null,this._ffevt&&(this._ffevt=null);var t=this._handleModifierChanges(e);return this._isModifierKey(e)?t:(this._IMEInputON&&e.keyCode===13&&(e.isIMEInput=
YES,this.sendEvent("keyDown",e),this._IMEInputON=NO),this.sendEvent("keyUp",e)?e.hasCustomEventHandling:YES)},beforedeactivate:function(e){var t=e.toElement;if(t&&t.tagName&&t.tagName!=="IFRAME"){var n=SC.$(t).view()[0];if(n&&n.get("blocksIEDeactivate"))return NO}return YES},mousedown:function(e){if(SC.platform.touch)return e.allowDefault(),this._lastMouseDownCustomHandling=YES,YES;if(e.target&&e.target.tagName==="HTML")return YES;this._clickCount+=1;if(!this._lastMouseUpAt||Date.now()-this._lastMouseUpAt>250)this._clickCount=1;else{var t=this._lastMouseDownX-e.clientX,n=this._lastMouseDownY-e.clientY,r=Math.sqrt(t*t+n*n);r>8&&(this._clickCount=1)}e.clickCount=this._clickCount,this._lastMouseDownX=e.clientX,this._lastMouseDownY=e.clientY;var i,s=this.targetViewForEvent(e);s&&(i=s.getPath("pane.firstResponder")),i&&i.get("blurOnMouseDown")&&i!==s&&i.resignFirstResponder(e),s=this._mouseDownView=this.sendEvent("mouseDown",e,s),s&&s.respondsTo("mouseDragged")&&(this._mouseCanDrag=YES);var o=s?e.hasCustomEventHandling:YES;return this._lastMouseDownCustomHandling=o,o},mouseup:function(e){var t=NO;if(SC.platform.touch)return e.allowDefault(),this._lastMouseUpCustomHandling=YES,YES;this._drag&&(this._drag.tryToPerform("mouseUp",e),this._drag=null);var n=null,r=this._mouseDownView,i=this.targetViewForEvent(e);e.clickCount=this._clickCount,r&&(n=this.sendEvent("mouseUp",e,r),!n&&this._clickCount===2&&(n=this.sendEvent("doubleClick",e,r),t=YES),n||(n=this.sendEvent("click",e,r),t=YES)),!n&&!t&&(this._clickCount===2&&(n=this.sendEvent("doubleClick",e,i)),n||(n=this.sendEvent("click",e,
i))),this._mouseCanDrag=NO,this._mouseDownView=null,this._lastMouseUpAt=Date.now();var s=n?e.hasCustomEventHandling:YES;return this._lastMouseUpCustomHandling=s,s},click:function(e){return!this._lastMouseUpCustomHandling||!this._lastMouseDownCustomHandling?(e.preventDefault(),e.stopPropagation(),NO):YES},dblclick:function(e){SC.browser.isIE8OrLower&&(this._clickCount=2,this._mouseDownView=this.targetViewForEvent(e),this.mouseup(e))},mousewheel:function(e){var t=this.targetViewForEvent(e),n=this.sendEvent("mouseWheel",e,t);return n?e.hasCustomEventHandling:YES},_lastHovered:null,mousemove:function(e){if(SC.platform.touch)return e.allowDefault(),YES;if(SC.browser.msie&&this._lastMoveX===e.clientX&&this._lastMoveY===e.clientY)return;this._lastMoveX=e.clientX,this._lastMoveY=e.clientY,SC.run(function(){if(this._drag)SC.browser.msie?(this._lastMouseDownX!==e.clientX||this._lastMouseDownY!==e.clientY)&&this._drag.tryToPerform("mouseDragged",e):this._drag.tryToPerform("mouseDragged",e);else{var t=this._lastHovered||[],n=[],r,i,s,o=this.targetViewForEvent(e);while(o&&o!==this)n.push(o),o=o.get("nextResponder");for(i=0,s=t.length;i<s;i++)o=t[i],r=o.respondsTo("mouseExited"),r&&n.indexOf(o)===-1&&o.tryToPerform("mouseExited",e);for(i=0,s=n.length;i<s;i++)o=n[i],t.indexOf(o)!==-1?o.tryToPerform("mouseMoved",e):o.tryToPerform("mouseEntered",e);this._lastHovered=n,this._mouseDownView&&(SC.browser.msie?this._lastMouseDownX!==e.clientX&&this._lastMouseDownY!==e.clientY&&this._mouseDownView.tryToPerform("mouseDragged",e):this._mouseDownView.tryToPerform("mouseDragged",e))}},this)},_mouseCanDrag
:YES,selectstart:function(e){var t=this.targetViewForEvent(e),n=this.sendEvent("selectStart",e,t);return t&&t.respondsTo("mouseDragged")?(n!==null?YES:NO)&&!this._mouseCanDrag:n!==null?YES:NO},drag:function(){return!1},contextmenu:function(e){var t=this.targetViewForEvent(e);return this.sendEvent("contextMenu",e,t)?NO:YES},scroll:function(e){var t=this.targetViewForEvent(e);return this.sendEvent("scroll",e,t)?NO:YES},webkitAnimationStart:function(e){var t;try{t=this.targetViewForEvent(e),this.sendEvent("animationDidStart",e,t)}catch(n){throw SC.Logger.warn("Exception during animationDidStart: %@".fmt(n)),n}return t?e.hasCustomEventHandling:YES},webkitAnimationIteration:function(e){var t;try{t=this.targetViewForEvent(e),this.sendEvent("animationDidIterate",e,t)}catch(n){throw SC.Logger.warn("Exception during animationDidIterate: %@".fmt(n)),n}return t?e.hasCustomEventHandling:YES},webkitAnimationEnd:function(e){var t;try{t=this.targetViewForEvent(e),this.sendEvent("animationDidEnd",e,t)}catch(n){throw SC.Logger.warn("Exception during animationDidEnd: %@".fmt(n)),n}return t?e.hasCustomEventHandling:YES},transitionEnd:function(e){var t;try{t=this.targetViewForEvent(e),this.sendEvent("transitionDidEnd",e,t)}catch(n){throw SC.Logger.warn("Exception during transitionDidEnd: %@".fmt(n)),n}return t?e.hasCustomEventHandling:YES}}),SC.Touch=function(e,t){this.touchContext=t,this.identifier=e.identifier;var n=e.target,r;n&&SC.$(n).hasClass("touch-intercept")?(e.target.style.webkitTransform="translate3d(0px,-5000px,0px)",n=document.elementFromPoint(e.pageX,e.pageY),n&&(r=SC.$(n).view()[0
]),this.hidesTouchIntercept=NO,n.tagName==="INPUT"?this.hidesTouchIntercept=e.target:e.target.style.webkitTransform="translate3d(0px,0px,0px)"):r=e.target?SC.$(e.target).view()[0]:null,this.targetView=r,this.target=n,this.hasEnded=NO,this.type=e.type,this.clickCount=1,this.view=undefined,this.touchResponder=this.nextTouchResponder=undefined,this.touchResponders=[],this.startX=this.pageX=e.pageX,this.startY=this.pageY=e.pageY,this.clientX=e.clientX,this.clientY=e.clientY,this.screenX=e.screenX,this.screenY=e.screenY},SC.Touch.prototype={unhideTouchIntercept:function(){var e=this.hidesTouchIntercept;e&&setTimeout(function(){e.style.webkitTransform="translate3d(0px,0px,0px)"},500)},allowDefault:function(){this.event&&(this.event.hasCustomEventHandling=YES)},preventDefault:function(){this.event&&this.event.preventDefault()},stopPropagation:function(){this.event&&this.event.stopPropagation()},stop:function(){this.event&&this.event.stop()},end:function(){this.touchContext.endTouch(this)},makeTouchResponder:function(e,t,n){this.touchContext.makeTouchResponder(this,e,t,n)},captureTouch:function(e,t){this.touchContext.captureTouch(this,e,t)},touchesForView:function(e){return this.touchContext.touchesForView(e)},touchesForResponder:function(e){return this.touchContext.touchesForView(e)},averagedTouchesForView:function(e,t){return this.touchContext.averagedTouchesForView(e,t?this:null)}},SC.mixin(SC.Touch,{create:function(e,t){return new SC.Touch(e,t)}}),SC.ready(SC.RootResponder,SC.RootResponder.ready=function(){var e;e=SC.RootResponder.responder=SC.RootResponder.create(),e.setup()}),
SC.PORTRAIT_ORIENTATION="portrait",SC.LANDSCAPE_ORIENTATION="landscape",SC.NO_ORIENTATION="desktop",SC.device=SC.Object.create({orientation:SC.NO_ORIENTATION,isOffline:NO,mouseLocation:function(){var e=SC.RootResponder.responder,t=e._lastMoveX,n=e._lastMoveY;return SC.empty(t)||SC.empty(n)?null:{x:t,y:n}}.property(),init:function(){arguments.callee.base.apply(this,arguments),navigator&&navigator.onLine===!1&&this.set("isOffline",YES)},setup:function(){var e=SC.RootResponder.responder;e.listenFor(["online","offline"],window,this),this.orientationHandlingShouldChange()},orientationHandlingShouldChange:function(){SC.platform.windowSizeDeterminesOrientation?(SC.Event.remove(window,"orientationchange",this,this.orientationchange),this.windowSizeDidChange(SC.RootResponder.responder.get("currentWindowSize"))):SC.platform.supportsOrientationChange&&(SC.Event.add(window,"orientationchange",this,this.orientationchange),this.orientationchange())},windowSizeDidChange:function(e){return SC.platform.windowSizeDeterminesOrientation?(SC.browser.iOS?SC.run(function(){e.width===window.screen.width?SC.device.set("orientation",SC.PORTRAIT_ORIENTATION):SC.device.set("orientation",SC.LANDSCAPE_ORIENTATION)}):SC.run(function(){SC.platform.touch?e.height>=e.width?SC.device.set("orientation",SC.PORTRAIT_ORIENTATION):SC.device.set("orientation",SC.LANDSCAPE_ORIENTATION):SC.device.set("orientation",SC.NO_ORIENTATION)}),YES):NO},orientationchange:function(e){SC.run(function(){window.orientation===0||window.orientation===180?SC.device.set("orientation",SC.PORTRAIT_ORIENTATION):SC.device.set("orientation"
,SC.LANDSCAPE_ORIENTATION)})},orientationObserver:function(){var e=SC.$(document.body),t=this.get("orientation");t===SC.PORTRAIT_ORIENTATION?e.addClass("portrait"):e.removeClass("portrait"),t===SC.LANDSCAPE_ORIENTATION?e.addClass("landscape"):e.removeClass("landscape")}.observes("orientation"),online:function(e){this.set("isOffline",NO)},offline:function(e){this.set("isOffline",YES)}}),SC.ready(function(){SC.device.setup()}),SC.Page=SC.Object.extend({owner:null,get:function(e){var t=this[e];return t&&t.isClass?(this[e]=t=t.create({page:this}),t.awake(),t):arguments.callee.base.apply(this,arguments)},awake:function(){var e,t;for(t in this){if(!this.hasOwnProperty(t))continue;e=this[t],e&&e.isViewClass&&(this[t]=e=e.create({page:this}))}return this},getIfConfigured:function(e){var t=this[e];return t&&t.isViewClass?null:this.get(e)}}),SC.Page.design=SC.Page.create,SC.Page.localization=function(e){return e},SC.MODE_REPLACE="replace",SC.MODE_APPEND="append",SC.MODE_PREPEND="prepend",SC.NON_PIXEL_PROPERTIES=["zIndex","fontWeight","opacity"],SC.COMBO_STYLES={WebkitTransition:["WebkitTransitionProperty","WebkitTransitionDuration","WebkitTransitionDelay","WebkitTransitionTimingFunction"]},SC.RenderContext=SC.Builder.create({SELF_CLOSING:SC.CoreSet.create().addEach(["area","base","basefront","br","hr","input","img","link","meta"]),init:function(e,t){var n,r;t&&(this.prevObject=t,this.strings=t.strings,this.offset=t.length+t.offset),this.strings||(this.strings=[]),e===undefined?(e="div",r=YES):e==="div"||e==="label"||e==="a"?r=YES:SC.typeOf(e)===SC.T_STRING&&(e=e.toLowerCase(),r=YES);if(
r){this._tagName=e,this._needsTag=YES,this.needsContent=YES;var i=this;while(i)i.length++,i=i.prevObject;this.strings.push(null),this._selfClosing=this.SELF_CLOSING.contains(e)}else this._elem=e,this._needsTag=NO,this.length=0,this.needsContent=NO;return this},strings:null,offset:0,length:0,updateMode:SC.MODE_REPLACE,needsContent:NO,get:function(e){var t=this.strings||[];return e===undefined?t.slice(this.offset,this.length):t[e+this.offset]},push:function(e){var t=this.strings,n=arguments.length;t||(this.strings=t=[]),n>1?t.push.apply(t,arguments):t.push(e);var r=this;while(r)r.length+=n,r=r.prevObject;return this.needsContent=YES,this},text:function(e){var t=arguments.length,n=0;for(n=0;n<t;n++)this.push(SC.RenderContext.escapeHTML(arguments[n]));return this},join:function(e){this._needsTag&&this.end();var t=this.strings;return t?t.join(e||""):""},begin:function(e){return SC.RenderContext(e,this)},element:function(){return this._elem?this._elem:SC.$(this.join())[0]},remove:function(e){if(!e)return;var t,n=this._elem;if(!n||!n.removeChild)return;t=document.getElementById(e),t&&(t=n.removeChild(t),t=null)},update:function(){var e=this._elem,t=this.updateMode,n,r,i,s,o;this._innerHTMLReplaced=NO;if(!e)return;n=this.$();if(this.length>0){this._innerHTMLReplaced=YES;if(t===SC.MODE_REPLACE)n.html(this.join());else{i=e.cloneNode(!1),i.innerHTML=this.join(),s=i.firstChild;while(s)o=s.nextSibling,e.insertBefore(s,o),s=o;s=o=i=null}}return this._idDidChange&&(r=this._id)&&n.attr("id",r),jQuery.Buffer.flush(),e=this._elem=null,this.prevObject||this},_DEFAULT_ATTRS:{},end:function(){var e=""
,t="",n,r,i,s,o=this._attrs,u=this._classNames,a=this._id,f=this._styles,l,c,h;e="<"+this._tagName;if(o||u||f||a){o||(o=this._DEFAULT_ATTRS),a&&(o.id=a),u&&(o["class"]=u.join(" "));if(f){for(i in f){if(!f.hasOwnProperty(i))continue;s=f[i];if(s===null)continue;typeof s===SC.T_NUMBER&&!SC.NON_PIXEL_PROPERTIES.contains(i)&&(s+="px"),t=t+this._dasherizeStyleName(i)+": "+s+"; "}o.style=t}e+=" ";for(i in o){if(!o.hasOwnProperty(i))continue;s=o[i];if(s===null)continue;h=SC.RenderContext.escapeHTML(s+"").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),e=e+i+'="'+h+'" '}o===this._DEFAULT_ATTRS&&(delete o.style,delete o["class"],delete o.id)}l=this.strings,c=this._selfClosing===NO?NO:this.length===1,e+=c?" />":">",l[this.offset]=e;if(!c){l.push("</"+this._tagName+">");var p=this;while(p)p.length++,p=p.prevObject}return this._elem=null,this.prevObject||this},tag:function(e,t){return this.begin(e,t).end()},tagName:function(e){return e===undefined?(!this._tagName&&this._elem&&(this._tagName=this._elem.tagName),this._tagName):(this._tagName=e,this._tagNameDidChange=YES,this)},id:function(e){return e===undefined?(!this._id&&this._elem&&(this._id=this._elem.id),this._id):(this._id=e,this._idDidChange=YES,this)},classNames:function(e,t){return this._elem?e?(this.$().resetClassNames().addClass(e),this):this.$().attr("class").split(" "):e===undefined?(this._cloneClassNames&&(this._classNames=(this._classNames||[]).slice(),this._cloneClassNames=NO),this._classNames||(this._classNames=[]),this._classNames):(this._classNames=e,this._cloneClassNames=t||NO,this._classNamesDidChange=YES,this)},hasClass
:function(e){return this._elem?this.$().hasClass(e):this.classNames().indexOf(e)>=0},addClass:function(e){if(e===undefined||e===null)return SC.Logger.warn("You are adding an undefined or empty class"+this.toString()),this;if(this._elem){if(SC.typeOf(e)===SC.T_STRING)this.$().addClass(e);else{var t,n=e.length;for(t=0;t<n;t++)this.$().addClass(e[t])}return this}var r=this.classNames();if(SC.typeOf(e)===SC.T_STRING)r.indexOf(e)<0&&(r.push(e),this._classNamesDidChange=YES);else{var i;for(var s=0,o=e.length;s<o;s++)i=e[s],r.indexOf(i)<0&&(r.push(i),this._classNamesDidChange=YES)}return this},removeClass:function(e){if(this._elem)return this.$().removeClass(e),this;var t=this._classNames,n;return t&&(n=t.indexOf(e))>=0&&(this._cloneClassNames&&(t=this._classNames=t.slice(),this._cloneClassNames=NO),t[n]=null,this._classNamesDidChange=YES),this},resetClassNames:function(){return this._elem?(this.$().resetClassNames(),this):(this._classNames=[],this._classNamesDidChange=YES,this)},setClass:function(e,t){if(this._elem)return this.$().setClass(e,t),this;var n,r,i,s;if(t!==undefined)return t?this.addClass(e):this.removeClass(e);n=this._classNames,n||(n=this._classNames=[]),this._cloneClassNames&&(n=this._classNames=n.slice(),this._cloneClassNames=NO),s=NO;for(i in e){if(!e.hasOwnProperty(i))continue;r=n.indexOf(i),e[i]?r<0&&(n.push(i),s=YES):r>=0&&(n[r]=null,s=YES)}return s&&(this._classNamesDidChange=YES),this},_STYLE_REGEX:/-?\s*([^:\s]+)\s*:\s*([^;]+)\s*;?/g,styles:function(e,t){if(this._elem)return e&&this.$().resetStyles().css(e),this.$().styles();var n,r,i;if(e===undefined){if(!this
._styles&&this._elem){n=this.$().attr("style");if(n&&(n=n.toString()).length>0){SC.browser.msie&&(n=n.toLowerCase()),e={},r=this._STYLE_REGEX,r.lastIndex=0;while(i=r.exec(n))e[this._camelizeStyleName(i[1])]=i[2];this._styles=e,this._cloneStyles=NO}else this._styles={}}else this._styles?this._cloneStyles&&(this._styles=SC.clone(this._styles),this._cloneStyles=NO):this._styles={};return this._styles}return this._styles=e,this._cloneStyles=t||NO,this._stylesDidChange=YES,this},_deleteComboStyles:function(e,t){var n=SC.COMBO_STYLES[t],r=NO,i;if(n)for(var s=0,o=n.length;s<o;s++)i=n[s],e[i]&&(delete e[i],r=YES);return r},resetStyles:function(){return this.styles({}),this},addStyle:function(e,t){if(this._elem)return this.$().css(e,t),this;var n,r=NO,i=this.styles();if(typeof e===SC.T_STRING){if(t===undefined)return i[e];r=this._deleteComboStyles(i,e),i[e]!==t&&(i[e]=t,r=YES),r&&(this._stylesDidChange=YES)}else{for(n in e){if(!e.hasOwnProperty(n))continue;r=r||this._deleteComboStyles(i,n),t=e[n],i[n]!==t&&(i[n]=t,r=YES)}r&&(this._stylesDidChange=YES)}return this},removeStyle:function(e){if(this._elem)return this.$().css(e,null),this;if(!this._styles)return this;var t=this.styles();t[e]&&(t[e]=null,this._stylesDidChange=YES)},attr:function(e,t){if(this._elem)return this.$().attr(e,t),this;var n,r=this._attrs,i=NO;r||(this._attrs=r={});if(typeof e===SC.T_STRING){if(t===undefined)return r[e];r[e]!==t&&(r[e]=t,this._attrsDidChange=YES)}else{for(n in e){if(!e.hasOwnProperty(n))continue;t=e[n],r[n]!==t&&(r[n]=t,i=YES)}i&&(this._attrsDidChange=YES)}return this},removeAttr:function(e){if(this
._elem)return this.$().removeAttr(e),this},$:function(e){var t,n=this._elem;return t=n?e===undefined?SC.$.buffer(n):SC.$.buffer(e,n):SC.$.buffer([]),n=null,t},_camelizeStyleName:function(e){var t=e.match(/^-(webkit|moz|o)-/),n=SC.String.camelize(e);return t?n.substr(0,1).toUpperCase()+n.substr(1):n},_dasherizeStyleName:function(e){var t=SC.String.dasherize(e);return t.match(/^(webkit|moz|ms|o)-/)&&(t="-"+t),t}}),SC.RenderContext.fn.html=SC.RenderContext.fn.push,SC.RenderContext.fn.css=SC.RenderContext.fn.addStyle,function(){var e=/[&<>]/g,t=function(e){switch(e){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;"}};SC.RenderContext.escapeHTML=function(n){return n?n.replace(e,t):""}}(),SC.SelectionSet=SC.Object.extend(SC.Enumerable,SC.Freezable,SC.Copyable,{isSelectionSet:YES,length:function(){var e=0,t=this._sets,n=this._objects;return n&&(e+=n.get("length")),t&&t.forEach(function(t){e+=t.get("length")}),e}.property().cacheable(),sources:function(){var e=[],t=this._sets,n=t?t.length:0,r,i,s;for(r=0;r<n;r++)i=t[r],i&&i.get("length")>0&&i.source&&e.push(i.source);return e}.property().cacheable(),indexSetForSource:function(e){if(!e||!e.isSCArray)return null;var t=this._indexSetCache,n=this._objects,r,i;return t||(t=this._indexSetCache={}),r=t[SC.guidFor(e)],r&&r._sourceRevision&&r._sourceRevision!==e.propertyRevision&&(r=null),r||(r=this._indexSetForSource(e,NO),r&&r.get("length")===0&&(r=null),n&&(r&&(r=r.copy()),n.forEach(function(t){(i=e.indexOf(t))>=0&&(r||(r=SC.IndexSet.create()),r.add(i))},this)),r&&(r=t[SC.guidFor(e)]=r.frozenCopy(),r._sourceRevision=e.propertyRevision
)),r},_indexSetForSource:function(e,t){t===undefined&&(t=YES);var n=SC.guidFor(e),r=this[n],i=this._sets,s=i?i.length:0,o=null;return r>=s&&(r=null),SC.none(r)?t&&!this.isFrozen&&(this.propertyWillChange("sources"),i||(i=this._sets=[]),o=i[s]=SC.IndexSet.create(),o.source=e,this[n]=s,this.propertyDidChange("sources")):o=i?i[r]:null,o},add:function(e,t,n){if(this.isFrozen)throw SC.FROZEN_ERROR;var r,i,s,o,u,a,f,l;if(t===undefined&&n===undefined){if(!e)throw"Must pass params to SC.SelectionSet.add()";if(e.isIndexSet)return this.add(e.source,e);if(e.isSelectionSet){r=e._sets,l=e._objects,i=r?r.length:0,this.beginPropertyChanges();for(s=0;s<i;s++)o=r[s],o&&o.get("length")>0&&this.add(o.source,o);return l&&this.addObjects(l),this.endPropertyChanges(),this}}return o=this._indexSetForSource(e,YES),u=this.get("length"),f=o.get("length"),a=u-f,o.add(t,n),this._indexSetCache=null,a+=o.get("length"),a!==u&&(this.propertyDidChange("length"),this.enumerableContentDidChange(),f===0&&this.notifyPropertyChange("sources")),this},remove:function(e,t,n){if(this.isFrozen)throw SC.FROZEN_ERROR;var r,i,s,o,u,a,f,l;if(t===undefined&&n===undefined){if(!e)throw"Must pass params to SC.SelectionSet.remove()";if(e.isIndexSet)return this.remove(e.source,e);if(e.isSelectionSet){r=e._sets,l=e._objects,i=r?r.length:0,this.beginPropertyChanges();for(s=0;s<i;s++)o=r[s],o&&o.get("length")>0&&this.remove(o.source,o);return l&&this.removeObjects(l),this.endPropertyChanges(),this}}return o=this._indexSetForSource(e,YES),u=this.get("length"),a=u-o.get("length"),o&&(l=this._objects)&&(n!==undefined&&(t=SC.IndexSet
.create(t,n),n=undefined),l.forEach(function(n){s=e.indexOf(n),t.contains(s)&&(l.remove(n),a--)},this)),o.remove(t,n),f=o.get("length"),a+=f,this._indexSetCache=null,a!==u&&(this.propertyDidChange("length"),this.enumerableContentDidChange(),f===0&&this.notifyPropertyChange("sources")),this},contains:function(e,t,n){if(t===undefined&&n===undefined)return this.containsObject(e);var r=this.indexSetForSource(e);return r?r.contains(t,n):NO},intersects:function(e,t,n){var r=this.indexSetForSource(e,NO);return r?r.intersects(t,n):NO},_TMP_ARY:[],addObject:function(e){var t=this._TMP_ARY,n;return t[0]=e,n=this.addObjects(t),t.length=0,n},addObjects:function(e){var t=this._objects,n,r;return t||(t=this._objects=SC.CoreSet.create()),n=t.get("length"),t.addEach(e),r=t.get("length"),this._indexSetCache=null,r!==n&&(this.propertyDidChange("length"),this.enumerableContentDidChange()),this},removeObject:function(e){var t=this._TMP_ARY,n;return t[0]=e,n=this.removeObjects(t),t.length=0,n},removeObjects:function(e){var t=this._objects,n,r,i;return t?(n=t.get("length"),t.removeEach(e),r=t.get("length"),(i=this._sets)&&i.forEach(function(t){n+=t.get("length"),t.removeObjects(e),r+=t.get("length")},this),this._indexSetCache=null,r!==n&&(this.propertyDidChange("length"),this.enumerableContentDidChange()),this):this},containsObject:function(e){var t=this._objects;if(t&&t.contains(e))return YES;var n=this._sets,r=n?n.length:0,i,s;for(i=0;i<r;i++){s=n[i];if(s&&s.indexOf(e)>=0)return YES}return NO},constrain:function(e){var t,n,r,i;this.beginPropertyChanges(),this.get("sources").forEach(function(t){
if(t===e)return;var n=this._indexSetForSource(e,NO);n&&this.remove(e,n)},this),t=this._indexSetForSource(e,NO),t&&(r=t.get("max"))>(n=e.get("length"))&&this.remove(e,n,r-n);if(i=this._objects){var s,o;for(s=i.length-1;s>=0;s--)o=i[s],e.indexOf(o)<0&&this.removeObject(o)}return this.endPropertyChanges(),this},isEqual:function(e){var t,n,r,i,s,o;if(!e||!e.isSelectionSet)return NO;if(e===this)return YES;if(this._sets===e._sets&&this._objects===e._objects)return YES;if(this.get("length")!==e.get("length"))return NO;t=this._objects,n=e._objects;if(t||n){if((t?t.get("length"):0)!==(n?n.get("length"):0))return NO;if(t&&!t.isEqual(n))return NO}s=this.get("sources"),i=s.get("length");for(r=0;r<i;r++){o=s.objectAt(r),t=this._indexSetForSource(o,NO),n=this._indexSetForSource(o,NO);if(!!n!=!!t)return NO;if(t&&!t.isEqual(n))return NO}return YES},clear:function(){if(this.isFrozen)throw SC.FROZEN_ERROR;return this._sets&&(this._sets.length=0),this._objects&&(this._objects=null),this._indexSetCache=null,this.propertyDidChange("length"),this.enumerableContentDidChange(),this.notifyPropertyChange("sources"),this},copy:function(){var e=this.constructor.create(),t=this._sets,n=t?t.length:0,r,i;if(t&&n>0){t=e._sets=t.slice();for(r=0;r<n;r++){if(!(i=t[r]))continue;i=t[r]=i.copy(),e[SC.guidFor(i.source)]=r}}return this._objects&&(e._objects=this._objects.copy()),e},freeze:function(){if(this.get("isFrozen"))return this;var e=this._sets,t=e?e.length:0,n;while(--t>=0)n=e[t],n&&n.freeze();return this._objects&&this._objects.freeze(),this.set("isFrozen",YES),this},toString:function(){var e=this._sets||
[];return e=e.map(function(e){return e.toString().replace("SC.IndexSet",SC.guidFor(e.source))},this),this._objects&&e.push(this._objects.toString()),"SC.SelectionSet:%@<%@>".fmt(SC.guidFor(this),e.join(","))},firstObject:function(){var e=this._sets,t=this._objects;if(e&&e.get("length")>0){var n=e?e[0]:null,r=n?n.source:null,i=n?n.firstObject():-1;if(r&&i>=0)return r.objectAt(i)}return t?t.firstObject():undefined}.property(),nextObject:function(e,t,n){var r,i;return e===0&&(r=n.objects=[],this.forEach(function(e){r.push(e)},this),n.max=r.length),r=n.objects,i=r[e],e+1>=n.max&&(n.objects=n.max=null),i},forEach:function(e,t){var n=this._sets,r=this._objects,i=n?n.length:0,s,o;for(o=0;o<i;o++)s=n[o],s&&s.forEachObject(e,t);return r&&r.forEach(e,t),this}}),SC.SelectionSet.prototype.clone=SC.SelectionSet.prototype.copy,SC.SelectionSet.EMPTY=SC.SelectionSet.create().freeze(),SC.SparseArray=SC.Object.extend(SC.Observable,SC.Enumerable,SC.Array,SC.DelegateSupport,{_requestingLength:0,_requestingIndex:0,length:function(){var e=this.delegate;return e&&SC.none(this._length)&&e.sparseArrayDidRequestLength&&(this._requestingLength++,e.sparseArrayDidRequestLength(this),this._requestingLength--),this._length||0}.property().cacheable(),provideLength:function(e){var t=this._length;if(e!==t){var n=SC.none(e);e=e||0,t=t||0;var r=Math.min(t,e),i=Math.max(t,e),s=i-e,o=e-r,u=this._requestingLength<=0;u&&this.arrayContentWillChange(r,s,o),this._length=e,n&&(this._sa_content=null),u&&this.arrayContentDidChange(r,s,o)}return this},rangeWindowSize:1,requestedRangeIndex:null,init:function(){arguments.callee
.base.apply(this,arguments),this.requestedRangeIndex=[],this._TMP_PROVIDE_ARRAY=[],this._TMP_PROVIDE_RANGE={length:1},this._TMP_RANGE={}},objectAt:function(e,t){var n=this._sa_content,r;return n||(n=this._sa_content=[]),(r=n[e])===undefined&&(t||this.requestIndex(e),r=n[e]),r},definedIndexes:function(e){var t=SC.IndexSet.create(),n=this._sa_content,r,i;if(!n)return t.freeze();if(e)e.forEach(function(e){n[e]!==undefined&&t.add(e)});else{i=n.length;for(r=0;r<i;r++)n[r]!==undefined&&t.add(r)}return t.freeze()},_TMP_RANGE:{},requestIndex:function(e){var t=this.delegate;if(!t)return this;var n=this.get("rangeWindowSize"),r=e;n>1&&(r-=Math.floor(r%n)),n<1&&(n=1),this._requestingIndex++;if(t.sparseArrayDidRequestRange){var i=this._TMP_RANGE;this.wasRangeRequested(r)===-1&&(i.start=r,i.length=n,this.requestedRangeIndex.push(r),t.sparseArrayDidRequestRange(this,i))}else if(t.sparseArrayDidRequestIndex)while(--n>=0)t.sparseArrayDidRequestIndex(this,r+n);return this._requestingIndex--,this},wasRangeRequested:function(e){var t,n;for(t=0,n=this.requestedRangeIndex.length;t<n;t++)if(this.requestedRangeIndex[t]===e)return t;return-1},rangeRequestCompleted:function(e){var t=this.wasRangeRequested(e);return t>=0?(this.requestedRangeIndex.removeAt(t,1),YES):NO},provideObjectsInRange:function(e,t){var n=this._sa_content;n||(n=this._sa_content=[]);var r=e.start,i=e.length,s=this._requestingIndex<=0;s&&this.arrayContentWillChange(e.start,e.length,e.length);while(--i>=0)n[r+i]=t.objectAt(i);return s&&this.arrayContentDidChange(e.start,e.length,e.length),this},provideObjectAtIndex:function(e,t){var n=
this._TMP_PROVIDE_ARRAY,r=this._TMP_PROVIDE_RANGE;return n[0]=t,r.start=e,this.provideObjectsInRange(r,n)},objectsDidChangeInRange:function(e){this.arrayContentWillChange(e.start,e.length,e.length);var t=this._sa_content;if(t)if(e.start===0&&SC.maxRange(e)>=t.length)this._sa_content=null;else{var n=e.start,r=Math.min(n+e.length,t.length);while(--r>=n)t[r]=undefined}return this.arrayContentDidChange(e.start,e.length,e.length),this},indexOf:function(e){var t=this.delegate;if(t&&t.sparseArrayDidRequestIndexOf)return t.sparseArrayDidRequestIndexOf(this,e);var n=this._sa_content;return n||(n=this._sa_content=[]),n.indexOf(e)},replace:function(e,t,n){n=n||[];var r=this.delegate;if(r)if(!r.sparseArrayShouldReplace||!r.sparseArrayShouldReplace(this,e,t,n))return this;var i=n?n.get?n.get("length"):n.length:0;this.arrayContentWillChange(e,t,i);var s=this._sa_content;s||(s=this._sa_content=[]),s.replace(e,t,n);var o=i-t;return SC.none(this._length)||(this.propertyWillChange("length"),this._length+=o,this.propertyDidChange("length")),this.arrayContentDidChange(e,t,i),this.enumerableContentDidChange(e,t,o),this},reset:function(){var e=this._length;return this.arrayContentWillChange(0,e,0),this._sa_content=null,this._length=null,this.arrayContentDidChange(0,e,0),this.invokeDelegateMethod(this.delegate,"sparseArrayDidReset",this),this}}),SC.SparseArray.array=function(e){return this.create({_length:e||0})},SC.Timer=SC.Object.extend({target:null,action:null,isPooled:NO,interval:0,startTime:null,repeats:NO,until:null,isPaused:NO,isScheduled:NO,isValid:YES,lastFireTime:0,fireTime:function(){if(!
this.get("isValid"))return-1;var e=this.get("startTime");if(!e||e===0)return-1;var t=this.get("interval"),n=this.get("lastFireTime");n<e&&(n=e);var r;this.get("repeats")?t===0?r=n:r=e+(Math.floor((n-e)/t)+1)*t:r=e+t;var i=this.get("until");return i&&i>0&&r>i&&(r=i),r}.property("interval","startTime","repeats","until","isValid","lastFireTime").cacheable(),schedule:function(){if(!this.get("isValid"))return this;this.beginPropertyChanges(),this.startTime||this.set("startTime",SC.RunLoop.currentRunLoop.get("startTime"));var e=this.get("fireTime"),t=this.get("lastFireTime");return e>=t&&(this.set("isScheduled",YES),SC.RunLoop.currentRunLoop.scheduleTimer(this,e)),this.endPropertyChanges(),this},invalidate:function(){this.beginPropertyChanges(),this.set("isValid",NO);var e=SC.RunLoop.currentRunLoop;return e&&e.cancelTimer(this),this.action=this.target=null,this.endPropertyChanges(),this.get("isPooled")&&SC.Timer.returnTimerToPool(this),this},fire:function(){var e=Date.now();this.set("lastFireTime",e);var t=this.get("fireTime");this.get("isPaused")||this.performAction(),t>e?this.schedule():this.invalidate()},performAction:function(){var e=SC.typeOf(this.action);if(e==SC.T_FUNCTION)this.action.call(this.target||this,this);else if(e===SC.T_STRING)if(this.action.indexOf(".")>=0){var t=this.action.split("."),n=t.pop(),r=SC.objectForPropertyPath(t,window),i=r.get?r.get(n):r[n];if(!i||SC.typeOf(i)!=SC.T_FUNCTION)throw"%@: Timer could not find a function at %@".fmt(this,this.action);i.call(r,this)}else SC.RootResponder.responder.sendAction(this.action,this.target,this)},init:function(){arguments
.callee.base.apply(this,arguments),this.startTime instanceof Date&&(this.startTime=this.startTime.getTime()),this.until instanceof Date&&(this.until=this.until.getTime())},RESET_DEFAULTS:{target:null,action:null,isPooled:NO,isPaused:NO,isScheduled:NO,isValid:YES,interval:0,repeats:NO,until:null,startTime:null,lastFireTime:0},reset:function(e){e||(e=SC.EMPTY_HASH),this.propertyWillChange("fireTime");var t=this.RESET_DEFAULTS;for(var n in t){if(!t.hasOwnProperty(n))continue;this[n]=SC.none(e[n])?t[n]:e[n]}return this.propertyDidChange("fireTime"),this},removeFromTimerQueue:function(e){var t=this._timerQueuePrevious,n=this._timerQueueNext;return!t&&!n&&e!==this?e:(t&&(t._timerQueueNext=n),n&&(n._timerQueuePrevious=t),this._timerQueuePrevious=this._timerQueueNext=null,e===this?n:e)},scheduleInTimerQueue:function(e,t){this._timerQueueRunTime=t;var n=e,r=null;while(n&&n._timerQueueRunTime<t)r=n,n=n._timerQueueNext;return r&&(r._timerQueueNext=this,this._timerQueuePrevious=r),n&&(n._timerQueuePrevious=this,this._timerQueueNext=n),n===e?this:e},collectExpiredTimers:function(e,t){if(this._timerQueueRunTime>t)return this;e.push(this);var n=this._timerQueueNext;return this._timerQueueNext=null,n&&(n._timerQueuePrevious=null),n?n.collectExpiredTimers(e,t):null}}),SC.Timer.schedule=function(e){var t;return!e||SC.none(e.isPooled)||e.isPooled?t=this.timerFromPool(e):t=this.create(e),t.schedule()},SC.Timer.timerFromPool=function(e){var t=this._timerPool;t||(t=this._timerPool=[]);var n=t.pop();return n||(n=this.create()),n.reset(e)},SC.Timer.returnTimerToPool=function(e){return this._timerPool||
(this._timerPool=[]),this._timerPool.push(e),this},SC.mixin({normalizeURL:function(e){return e.slice(0,1)=="/"?e=window.location.protocol+"//"+window.location.host+e:e.slice(0,5)!="http:"&&e.slice(0,6)!="https:"&&(e=window.location.href+"/"+e),e},isPercentage:function(e){return e<1&&e>0},minX:function(e){return e.x||0},maxX:function(e){return(e.x||0)+(e.width||0)},midX:function(e){return(e.x||0)+(e.width||0)/2},minY:function(e){return e.y||0},maxY:function(e){return(e.y||0)+(e.height||0)},midY:function(e){return(e.y||0)+(e.height||0)/2},centerX:function(e,t){return(t.width-e.width)/2},centerY:function(e,t){return(t.height-e.height)/2},offset:function(e,t){var n,r,i,s;t=t||"document";if(t==="parent")s=jQuery(e).position();else{s=jQuery(e).offset();if(SC.browser.mobileSafari){n=navigator.userAgent,r=n.indexOf("Mobile/"),i=n.substring(r+7,r+9);if(parseInt(SC.browser.mobileSafari,0)<=532||i<="8A")s.left-=window.pageXOffset,s.top-=window.pageYOffset}if(t==="viewport")if(SC.browser.isIE8OrLower){var o=$(window);s.left-=o.scrollLeft(),s.top-=o.scrollTop()}else s.left-=window.pageXOffset,s.top-=window.pageYOffset}try{s.x=s.left,s.y=s.top}catch(u){s={x:s.left,y:s.top}}return delete s.left,delete s.top,s},viewportOffset:function(e){console.warn("SC.viewportOffset() has been deprecated in favor of SC.offset().  Please use SC.offset() from here on.");var t=SC.offset(e,"viewport");return{x:t.left,y:t.top}},isFunctionOrNonPrintableKey:function(e){return!!(e.altKey||e.ctrlKey||e.metaKey||e.charCode!==e.which&&SC.FUNCTION_KEYS[e.which])}}),SC.mixin({ZERO_POINT:{x:0,y:0},pointInRect:function(
e,t){return e.x>=SC.minX(t)&&e.y>=SC.minY(t)&&e.x<=SC.maxX(t)&&e.y<=SC.maxY(t)},rectsEqual:function(e,t,n){return!e||!t?e==t:(!n&&n!==0&&(n=.1),e.y!=t.y&&Math.abs(e.y-t.y)>n?NO:e.x!=t.x&&Math.abs(e.x-t.x)>n?NO:e.width!=t.width&&Math.abs(e.width-t.width)>n?NO:e.height!=t.height&&Math.abs(e.height-t.height)>n?NO:YES)},intersectRects:function(e,t){var n={x:Math.max(SC.minX(e),SC.minX(t)),y:Math.max(SC.minY(e),SC.minY(t)),width:Math.min(SC.maxX(e),SC.maxX(t)),height:Math.min(SC.maxY(e),SC.maxY(t))};return n.width=Math.max(0,n.width-n.x),n.height=Math.max(0,n.height-n.y),n},unionRects:function(e,t){var n={x:Math.min(SC.minX(e),SC.minX(t)),y:Math.min(SC.minY(e),SC.minY(t)),width:Math.max(SC.maxX(e),SC.maxX(t)),height:Math.max(SC.maxY(e),SC.maxY(t))};return n.width=Math.max(0,n.width-n.x),n.height=Math.max(0,n.height-n.y),n},cloneRect:function(e){return{x:e.x,y:e.y,width:e.width,height:e.height}},stringFromRect:function(e){return e?"{x:"+e.x+", y:"+e.y+", width:"+e.width+", height:"+e.height+"}":"(null)"}}),SC.MainPane=SC.Pane.extend({layout:{top:0,left:0,bottom:0,right:0,minHeight:200,minWidth:200},init:function(){var e={x:0,y:0,width:1e3,height:1e3},t=this.get("layout"),n=!1;if(document&&document.body){e.width=document.body.clientWidth,e.height=document.body.clientHeight;if(t.minHeight||t.minWidth)t.minHeight&&e.height<t.minHeight||t.minWidth&&e.width<t.minWidth?SC.bodyOverflowArbitrator.requestVisible(this):SC.bodyOverflowArbitrator.requestHidden(this)}arguments.callee.base.apply(this,arguments)},paneDidAttach:function(){var e=arguments.callee.base.apply(this,arguments),t=this.rootResponder
;return t.makeMainPane(this),t.get("keyRootView")||t.makeKeyPane(this),e},acceptsKeyPane:YES,classNames:["sc-main"]}),SC.routes=SC.Object.create({wantsHistory:NO,usesHistory:null,baseURI:document.baseURI,_didSetup:NO,_location:null,_firstRoute:null,_extractParametersAndRoute:function(e){var t={},n=e.route||"",r,i,s,o,u,a;r=n.indexOf("?")<0&&n.indexOf("&")>=0?"&":"?",i=n.split(r),n=i[0],i.length===1?i=[]:i.length===2?i=i[1].split("&"):i.length>2&&i.shift(),o=i.length;for(s=0;s<o;++s)u=i[s].split("="),t[u[0]]=u[1];for(a in e)e.hasOwnProperty(a)&&a!=="route"&&(t[a]=""+e[a]);i=[];for(a in t)i.push([a,t[a]].join("="));return t.params=r+i.join("&"),t.route=n,t},location:function(e,t){var n,r;if(t!==undefined){t===null&&(t=""),typeof t=="object"&&(n=this._extractParametersAndRoute(t),t=n.route+n.params);if(!SC.empty(t)||this._location&&this._location!==t)r=encodeURI(t),this.usesHistory?(r.length>0&&(r="/"+r),window.history.pushState(null,null,this.get("baseURI")+r)):window.location.hash=r;this._location=t}return this._location}.property(),ping:function(){var e;this._didSetup||(this._didSetup=YES,this.get("wantsHistory")&&SC.platform.supportsHistory?(this.usesHistory=YES,this.popState(),SC.Event.add(window,"popstate",this,this.popState)):(this.usesHistory=NO,SC.platform.supportsHashChange?(this.hashChange(),SC.Event.add(window,"hashchange",this,this.hashChange)):(e=this,this._invokeHashChange=function(){e.hashChange(),setTimeout(e._invokeHashChange,100)},this._invokeHashChange())))},hashChange:function(e){var t=window.location.hash;t=t&&t.length>0?t.slice(1,t.length):"",SC.browser.isMozilla||
(t=decodeURI(t)),this.get("location")!==t&&SC.run(function(){this.set("location",t)},this)},popState:function(e){var t=this.get("baseURI"),n=document.location.href;n.slice(0,t.length)===t&&(n=n.slice(t.length+1,n.length),this.get("location")!==n&&SC.run(function(){this.set("location",n)},this))},add:function(e,t,n){return this._didSetup||this.invokeLast(this.ping),n===undefined&&SC.typeOf(t)===SC.T_FUNCTION?(n=t,t=null):SC.typeOf(n)===SC.T_STRING&&(n=t[n]),this._firstRoute||(this._firstRoute=this._Route.create()),this._firstRoute.add(e.split("/"),t,n),this},locationDidChange:function(){this.trigger()}.observes("location"),trigger:function(){var e=this._firstRoute,t=this.get("location"),n,r;e&&(n=this._extractParametersAndRoute({route:t}),t=n.route,delete n.route,delete n.params,r=e.routeForParts(t.split("/"),n),r&&r.method&&r.method.call(r.target||this,n))},_Route:SC.Object.extend({target:null,method:null,staticRoutes:null,dynamicRoutes:null,wildcardRoutes:null,add:function(e,t,n){var r,i;e=SC.clone(e);if(!e||e.length===0)this.target=t,this.method=n;else{r=e.shift();switch(r.slice(0,1)){case":":r=r.slice(1,r.length),this.dynamicRoutes||(this.dynamicRoutes={}),this.dynamicRoutes[r]||(this.dynamicRoutes[r]=this.constructor.create()),i=this.dynamicRoutes[r];break;case"*":r=r.slice(1,r.length),this.wildcardRoutes||(this.wildcardRoutes={}),i=this.wildcardRoutes[r]=this.constructor.create();break;default:this.staticRoutes||(this.staticRoutes={}),this.staticRoutes[r]||(this.staticRoutes[r]=this.constructor.create()),i=this.staticRoutes[r]}i&&i.add(e,t,n)}},routeForParts:function(e,
t){var n,r,i;e=SC.clone(e);if(!e||e.length===0)return this.method?this:null;n=e.shift();if(this.staticRoutes&&this.staticRoutes[n])return this.staticRoutes[n].routeForParts(e,t);for(r in this.dynamicRoutes){i=this.dynamicRoutes[r].routeForParts(e,t);if(i)return t[r]=n,i}for(r in this.wildcardRoutes)return e.unshift(n),t[r]=e.join("/"),this.wildcardRoutes[r].routeForParts(null,t);return null}})}),SC.SCANNER_OUT_OF_BOUNDS_ERROR=new Error("Out of bounds."),SC.SCANNER_INT_ERROR=new Error("Not an int."),SC.SCANNER_SKIP_ERROR=new Error("Did not find the string to skip."),SC.SCANNER_SCAN_ARRAY_ERROR=new Error("Did not find any string of the given array to scan."),SC.DATETIME_COMPAREDATE_TIMEZONE_ERROR=new Error("Can't compare the dates of two DateTimes that don't have the same timezone."),SC.DATETIME_ISO8601="%Y-%m-%dT%H:%M:%S%Z",SC.Scanner=SC.Object.extend({string:null,scanLocation:0,scan:function(e){if(this.scanLocation+e>this.length)throw SC.SCANNER_OUT_OF_BOUNDS_ERROR;var t=this.string.substr(this.scanLocation,e);return this.scanLocation+=e,t},scanInt:function(e,t){t===undefined&&(t=e);var n=this.scan(t),r=new RegExp("^\\d{"+e+","+t+"}"),i=n.match(r);if(!i)throw SC.SCANNER_INT_ERROR;return i[0].length<t&&(this.scanLocation+=i[0].length-t),parseInt(i[0],10)},skipString:function(e){if(this.scan(e.length)!==e)throw SC.SCANNER_SKIP_ERROR;return YES},scanArray:function(e){for(var t=0,n=e.length;t<n;t++){if(this.scan(e[t].length)===e[t])return t;this.scanLocation-=e[t].length}throw SC.SCANNER_SCAN_ARRAY_ERROR}}),SC.DateTime=SC.Object.extend(SC.Freezable,SC.Copyable,{_ms:0,timezone:0,
isFrozen:YES,adjust:function(e,t){var n;return e=e?SC.clone(e):{},n=e.timezone!==undefined?e.timezone:this.timezone!==undefined?this.timezone:0,this.constructor._adjust(e,this._ms,n,t)._createFromCurrentState()},advance:function(e){return this.constructor._advance(e,this._ms,this.timezone)._createFromCurrentState()},unknownProperty:function(e){return this.constructor._get(e,this._ms,this.timezone)},toFormattedString:function(e){return this.constructor._toFormattedString(e,this._ms,this.timezone)},toISO8601:function(){return this.constructor._toFormattedString(SC.DATETIME_ISO8601,this._ms,this.timezone)},toString:function(){return"UTC: "+(new Date(this._ms)).toUTCString()+", timezone: "+this.timezone},isEqual:function(e){return SC.DateTime.compare(this,e)===0},copy:function(){return this},toTimezone:function(e){return e===undefined&&(e=0),this.advance({timezone:e-this.timezone})}}),SC.DateTime.mixin(SC.Comparable,{recordFormat:SC.DATETIME_ISO8601,dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],_englishDayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbreviatedDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],abbreviatedMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],AMPMNames:["AM","PM"],_date:new Date,_tz:0,timezone:(new Date).getTimezoneOffset(),_dt_cache:{},_dt_cache_index:-1,_DT_CACHE_MAX_LENGTH:1e3,_setCalcState:function(e,t){var n={milliseconds
:this._date.getTime(),timezone:this._tz};return e!==undefined&&this._date.setTime(e),t!==undefined&&(this._tz=t),n},_setCalcStateFromHash:function(e,t){var n=t!==undefined?t:this._tz,r=this._toMilliseconds(e,this._ms,n);return this._setCalcState(r,n)},_get:function(e,t,n){var r,i,s,o,u,a,f,l,c,h,p,d,v=this._date,m,g=null;m=this._setCalcState(t,n),e==="milliseconds"?g=v.getTime():e==="timezone"&&(g=this._tz);if(g===null){c=e.slice(0,4),h=e.slice(4);if(c==="last"||c==="next"){p=this._get("dayOfWeek",t,n),d=this._englishDayNames.indexOf(h);if(d>=0){var y=d-p;c==="last"&&y>=0&&(y-=7),c==="next"&&y<0&&(y+=7),this._advance({day:y},t,n),g=this._createFromCurrentState()}}}if(g===null){n!==undefined&&this._setCalcState(v.getTime()-n*6e4,0);switch(e){case"year":g=v.getUTCFullYear();break;case"month":g=v.getUTCMonth()+1;break;case"day":g=v.getUTCDate();break;case"dayOfWeek":g=v.getUTCDay();break;case"hour":g=v.getUTCHours();break;case"minute":g=v.getUTCMinutes();break;case"second":g=v.getUTCSeconds();break;case"millisecond":g=v.getUTCMilliseconds()}g===null&&e==="isLeapYear"&&(u=this._get("year"),g=u%4===0&&u%100!==0||u%400===0);if(g===null&&e==="daysInMonth")switch(this._get("month")){case 4:case 6:case 9:case 11:g=30;break;case 2:g=this._get("isLeapYear")?29:28;break;default:g=31}if(g===null&&e==="dayOfYear"){r=v.getTime(),s=this._get("day"),this._setCalcStateFromHash({day:1});for(o=this._get("month")-1;o>0;o--)this._setCalcStateFromHash({month:o}),s+=this._get("daysInMonth");v.setTime(r),g=s}g===null&&e.slice(0,4)==="week"&&(a=e.length===4?1:parseInt(e.slice("4"),10),f=this._get("dayOfWeek"
),l=this._get("dayOfYear")-1,a===0?g=parseInt((l-f+7)/7,10):g=parseInt((l-(f-1+7)%7+7)/7,10))}return this._setCalcState(m.milliseconds,m.timezone),g},_adjust:function(e,t,n,r){var i=e?SC.clone(e):{},s=this._toMilliseconds(e,t,n,r);return this._setCalcState(s,n),this},_advance:function(e,t,n){var r=e?SC.clone(e):{},i;for(var s in r)r[s]+=this._get(s,t,n);return i=r.timezone!==undefined?r.timezone:n,this._adjust(r,t,i,NO)},_toMilliseconds:function(e,t,n,r){var i=e?SC.clone(e):{},s=this._date,o=s.getTime(),u,a;SC.none(t)||s.setTime(t),a=n!==undefined?n:this.timezone!==undefined?this.timezone:0,s.setTime(s.getTime()-a*6e4);if(r===undefined||r===YES)!SC.none(i.hour)&&SC.none(i.minute)&&(i.minute=0),(!SC.none(i.hour)||!SC.none(i.minute))&&SC.none(i.second)&&(i.second=0),!(SC.none(i.hour)&&SC.none(i.minute)&&SC.none(i.second))&&SC.none(i.millisecond)&&(i.millisecond=0);return SC.none(i.year)&&(i.year=s.getUTCFullYear()),SC.none(i.month)&&(i.month=s.getUTCMonth()+1),SC.none(i.day)&&(i.day=s.getUTCDate()),SC.none(i.hour)&&(i.hour=s.getUTCHours()),SC.none(i.minute)&&(i.minute=s.getUTCMinutes()),SC.none(i.second)&&(i.second=s.getUTCSeconds()),SC.none(i.millisecond)&&(i.millisecond=s.getUTCMilliseconds()),u=Date.UTC(i.year,i.month-1,i.day,i.hour,i.minute,i.second,i.millisecond),s.setTime(u+a*6e4),u=s.getTime(),s.setTime(o),u},create:function(){var e=arguments.length===0?{}:arguments[0],t;SC.typeOf(e)===SC.T_NUMBER&&(e={milliseconds:e}),t=e.timezone!==undefined?e.timezone:this.timezone,t===undefined&&(t=0);if(!SC.none(e.milliseconds)){var n="nu"+e.milliseconds+t,r=this._dt_cache,i=r[n];if(!
i){var s,o=this._dt_cache_index,u=this;i=r[n]=new u([{_ms:e.milliseconds,timezone:t}]),o=this._dt_cache_index=(o+1)%this._DT_CACHE_MAX_LENGTH,s=r[o],s!==undefined&&r[s]&&delete r[s],r[o]=n}return i}var a=new Date;return this.create({milliseconds:this._toMilliseconds(e,a.getTime(),t,e.resetCascadingly),timezone:t})},_createFromCurrentState:function(){return this.create({milliseconds:this._date.getTime(),timezone:this._tz})},parse:function(e,t){var n=new RegExp("(?:%([aAbBcdDhHiIjmMpsSUWwxXyYZ%])|(.))","g"),r,i,s={},o={},u=SC.Scanner.create({string:e});SC.none(t)&&(t=SC.DATETIME_ISO8601);try{while((i=n.exec(t))!==null)switch(i[1]){case"a":o.dayOfWeek=u.scanArray(this.abbreviatedDayNames);break;case"A":o.dayOfWeek=u.scanArray(this.dayNames);break;case"b":s.month=u.scanArray(this.abbreviatedMonthNames)+1;break;case"B":s.month=u.scanArray(this.monthNames)+1;break;case"c":throw"%c is not implemented";case"d":case"D":s.day=u.scanInt(1,2);break;case"h":case"H":s.hour=u.scanInt(1,2);break;case"i":case"I":s.hour=u.scanInt(1,2);break;case"j":throw"%j is not implemented";case"m":s.month=u.scanInt(1,2);break;case"M":s.minute=u.scanInt(1,2);break;case"p":s.meridian=u.scanArray(this.AMPMNames);break;case"S":s.second=u.scanInt(1,2);break;case"s":s.millisecond=u.scanInt(1,3);break;case"U":throw"%U is not implemented";case"W":throw"%W is not implemented";case"w":throw"%w is not implemented";case"x":throw"%x is not implemented";case"X":throw"%X is not implemented";case"y":s.year=u.scanInt(2),s.year+=s.year>70?1900:2e3;break;case"Y":s.year=u.scanInt(4);break;case"Z":var a=u.scan(1);if(a==="Z")s
.timezone=0;else if(a==="+"||a==="-"){var f=u.scanInt(2);u.scan(1)!==":"&&u.scan(-1);var l=u.scanInt(2);s.timezone=(a==="+"?-1:1)*(f*60+l)}break;case"%":u.skipString("%");break;default:u.skipString(i[0])}}catch(c){return SC.Logger.log("SC.DateTime.createFromString "+c.toString()),null}if(!SC.none(s.meridian)&&!SC.none(s.hour)){if(s.meridian===1&&s.hour!==12||s.meridian===0&&s.hour===12)s.hour=(s.hour+12)%24;delete s.meridian}return r=SC.DateTime.create(s),!SC.none(o.dayOfWeek)&&r.get("dayOfWeek")!==o.dayOfWeek?null:r},_pad:function(e,t){var n=""+e;t===undefined&&(t=2);while(n.length<t)n="0"+n;return n},__toFormattedString:function(e,t,n){var r,i;switch(e[1]){case"a":return this.abbreviatedDayNames[this._get("dayOfWeek")];case"A":return this.dayNames[this._get("dayOfWeek")];case"b":return this.abbreviatedMonthNames[this._get("month")-1];case"B":return this.monthNames[this._get("month")-1];case"c":return this._date.toString();case"d":return this._pad(this._get("day"));case"D":return this._get("day");case"h":return this._get("hour");case"H":return this._pad(this._get("hour"));case"i":return r=this._get("hour"),r===12||r===0?12:(r+12)%12;case"I":return r=this._get("hour"),this._pad(r===12||r===0?12:(r+12)%12);case"j":return this._pad(this._get("dayOfYear"),3);case"m":return this._pad(this._get("month"));case"M":return this._pad(this._get("minute"));case"p":return this._get("hour")>11?this.AMPMNames[1]:this.AMPMNames[0];case"S":return this._pad(this._get("second"));case"s":return this._pad(this._get("millisecond"),3);case"u":return this._pad(this._get("utc"));case"U":return this.
_pad(this._get("week0"));case"W":return this._pad(this._get("week1"));case"w":return this._get("dayOfWeek");case"x":return this._date.toDateString();case"X":return this._date.toTimeString();case"y":return this._pad(this._get("year")%100);case"Y":return this._get("year");case"Z":return i=-1*n,(i>=0?"+":"-")+this._pad(parseInt(Math.abs(i)/60,10))+":"+this._pad(Math.abs(i)%60);case"%":return"%"}},_toFormattedString:function(e,t,n){var r=this,i=n!==undefined?n:this.timezone!==undefined?this.timezone:0;return this._setCalcState(t-n*6e4,0),e.replace(/\%([aAbBcdDhHiIjmMpsSUWwxXyYZ\%])/g,function(){var e=r.__toFormattedString.call(r,arguments,t,n);return e})},compare:function(e,t){var n=e.get("milliseconds"),r=t.get("milliseconds");return n<r?-1:n===r?0:1},compareDate:function(e,t){if(e.get("timezone")!==t.get("timezone"))throw SC.DATETIME_COMPAREDATE_TIMEZONE_ERROR;var n=e.adjust({hour:0}).get("milliseconds"),r=t.adjust({hour:0}).get("milliseconds");return n<r?-1:n===r?0:1}}),SC.Binding.dateTime=function(e){return this.transform(function(t,n){return t?t.toFormattedString(e):null})},SC.stringsFor("English",{"_SC.DateTime.dayNames":"Sunday Monday Tuesday Wednesday Thursday Friday Saturday","_SC.DateTime.abbreviatedDayNames":"Sun Mon Tue Wed Thu Fri Sat","_SC.DateTime.monthNames":"January February March April May June July August September October November December","_SC.DateTime.abbreviatedMonthNames":"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec","_SC.DateTime.AMPMNames":"AM PM"}),SC.DateTime.mixin({_setup:function(){SC.DateTime.dayNames=SC.String.w(SC.String.loc("_SC.DateTime.dayNames"
)),SC.DateTime.abbreviatedDayNames=SC.String.w(SC.String.loc("_SC.DateTime.abbreviatedDayNames")),SC.DateTime.monthNames=SC.String.w(SC.String.loc("_SC.DateTime.monthNames")),SC.DateTime.abbreviatedMonthNames=SC.String.w(SC.String.loc("_SC.DateTime.abbreviatedMonthNames")),SC.DateTime.AMPMNames=SC.String.w(SC.String.loc("_SC.DateTime.AMPMNames"))}}),jQuery(document).ready(function(){SC.DateTime._setup()}),SC.Response=SC.Object.extend({isResponse:YES,isError:NO,errorValue:function(){return this}.property().cacheable(),errorObject:null,request:null,originalRequest:function(){var e=this.get("request");while(e.get("source"))e=e.get("source");return e}.property("request").cacheable(),type:function(){return this.getPath("request.type")}.property("request").cacheable(),address:function(){return this.getPath("request.address")}.property("request").cacheable(),isJSON:function(){return this.getPath("request.isJSON")||NO}.property("request").cacheable(),isXML:function(){return this.getPath("request.isXML")||NO}.property("request").cacheable(),listeners:function(){return this.getPath("request.listeners")}.property("request").cacheable(),status:-100,headers:null,body:function(){var e=this.get("encodedBody");if(e&&this.get("isJSON"))try{e=SC.json.decode(e)}catch(t){return SC.error("Failed to parse response: %@",e),SC.Error.create({message:t.name+": "+t.message,label:"Response",errorValue:this})}return e}.property("encodedBody").cacheable(),response:function(){return this.get("body")}.property("body").cacheable(),isCancelled:NO,timedOut:null,timeoutTimer:null,fire:function(){var e=this.get
("request"),t=e?e.get("source"):null;t&&t.willSend&&t.willSend(e,this),e.freeze(),this.get("isCancelled")||this.invokeTransport();var n=e.get("timeout");if(n){var r=SC.Timer.schedule({target:this,action:"timeoutReached",interval:n,repeats:NO});this.set("timeoutTimer",r)}!this.get("isCancelled")&&t&&t.didSend&&t.didSend(e,this)},invokeTransport:function(){this.receive(function(e){this.set("status",200)},this)},receive:function(e,t){if(!this.get("timedOut")){var n=this.get("timeoutTimer");n&&n.invalidate(),this.set("timedOut",NO)}var r=this.get("request"),i=r?r.get("source"):null;return SC.run(function(){i&&i.willReceive&&i.willReceive(r,this),e.call(t,!this.get("isCancelled")),!this.get("isCancelled")&&i&&i.didReceive&&i.didReceive(r,this),this.get("isCancelled")||this.notify()},this),SC.Request.manager.transportDidClose(this),this},cancel:function(){this.get("isCancelled")||(this.set("isCancelled",YES),this.cancelTransport(),SC.Request.manager.transportDidClose(this))},timeoutReached:function(){return this.get("timedOut")===null?(this.set("timedOut",YES),this.cancelTransport(),this.receive(function(e){if(!e)return;var t=SC.$error("HTTP Request timed out","Request",0);t.set("errorValue",this),this.set("isError",YES),this.set("errorObject",t),this.set("status",0)},this),YES):NO},cancelTransport:function(){},_notifyListeners:function(e,t){var n=e[t],r,i,s;if(!n)return NO;var o=NO,u=n.length;for(var a=0;a<u;a++){var f=n[a];r=(f.params||[]).copy(),r.unshift(this),i=f.target,s=f.action,SC.typeOf(s)===SC.T_STRING&&(s=i[s]),o=s.apply(i,r)}return o},notify:function(){var e=this.get("listeners"
),t=this.get("status"),n=Math.floor(t/100)*100,r=NO;return e?(r=this._notifyListeners(e,t),!r&&n!==t&&(r=this._notifyListeners(e,n)),!r&&t!==0&&(r=this._notifyListeners(e,0)),this):this},toString:function(){var e=arguments.callee.base.apply(this,arguments);return"%@<%@ %@, status=%@".fmt(e,this.get("type"),this.get("address"),this.get("status"))}}),SC.XHRResponse=SC.Response.extend({headers:function(){var e=this.get("rawRequest"),t=e?e.getAllResponseHeaders():null,n={};return t?(t.split("\n").forEach(function(e){var t=e.indexOf(":"),r,i;t>=0&&(r=e.slice(0,t),i=e.slice(t+1).trim(),n[r]=i)},this),n):n}.property("status").cacheable(),header:function(e){var t=this.get("rawRequest");return t?t.getResponseHeader(e):null},encodedBody:function(){var e=this.get("rawRequest");return e?this.get("isXML")?e.responseXML:e.responseText:null}.property("status").cacheable(),cancelTransport:function(){var e=this.get("rawRequest");e&&e.abort(),this.set("rawRequest",null)},invokeTransport:function(){var e,t,n,r,i;e=this.createRequest(),this.set("rawRequest",e),r=!!this.getPath("request.isAsynchronous"),r&&(!SC.browser.msie&&!SC.browser.opera?SC.Event.add(e,"readystatechange",this,this.finishRequest,e):(t=this,n=function(){if(!t)return null;var e=t.finishRequest();return e&&(t=null),e},e.onreadystatechange=n)),e.open(this.get("type"),this.get("address"),r),i=this.getPath("request.headers");for(var s in i)e.setRequestHeader(s,i[s]);return e.send(this.getPath("request.encodedBody")),r||this.finishRequest(),e},createRequest:function(){function e(){for(var e=0;e<arguments.length;e++)try{var t=arguments
[e]();return t}catch(n){}return NO}return e(function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")})},finishRequest:function(e){var t=this.get("rawRequest"),n=t.readyState,r,i,s;return n===4&&!this.get("timedOut")?(this.receive(function(e){if(!e)return;i=-1;try{i=t.status||0}catch(n){}if(i<200||i>=300){try{s=t.statusText||""}catch(o){s=""}r=SC.$error(s||"HTTP Request failed","Request",i),r.set("errorValue",this),this.set("isError",YES),this.set("errorObject",r)}this.set("status",i)},this),!SC.browser.msie&&!SC.browser.opera?SC.Event.remove(t,"readystatechange",this,this.finishRequest):t.onreadystatechange=null,YES):NO}}),SC.Request=SC.Object.extend(SC.Copyable,SC.Freezable,{isAsynchronous:YES,isJSON:NO,isXML:NO,attachIdentifyingHeaders:YES,headers:function(){var e=this._headers;return e||(e=this._headers={}),e}.property().cacheable(),responseClass:SC.XHRResponse,source:null,address:null,type:"GET",timeout:null,body:null,encodedBody:function(){var e=this.get("body");return e&&this.get("isJSON")&&(e=SC.json.encode(e)),e}.property("isJSON","isXML","body").cacheable(),willSend:function(e,t){},didSend:function(e,t){},willReceive:function(e,t){},didReceive:function(e,t){},concatenatedProperties:"COPY_KEYS",COPY_KEYS:["attachIdentifyingHeaders","isAsynchronous","isJSON","isXML","address","type","timeout","body","responseClass","willSend","didSend","willReceive","didReceive"],copy:function(){var e={},t=this.COPY_KEYS,n=t.length,r,i,s;while(--n>=0)r=t[n],this.hasOwnProperty(r)&&(e[r]=this.get
(r));return this.hasOwnProperty("listeners")&&(e.listeners=SC.copy(this.get("listeners"))),this.hasOwnProperty("_headers")&&(e._headers=SC.copy(this._headers)),e.source=this.get("source")||this,this.constructor.create(e)},header:function(e,t){var n;if(SC.typeOf(e)===SC.T_STRING)return n=this._headers,arguments.length===1?n?n[e]:null:(this.propertyWillChange("headers"),n||(n=this._headers={}),n[e]=t,this.propertyDidChange("headers"),this);if(t===undefined){n=e,this.beginPropertyChanges();for(e in n){if(!n.hasOwnProperty(e))continue;this.header(e,n[e])}return this.endPropertyChanges(),this}return this},clearHeaders:function(){this.propertyWillChange("headers"),this._headers={},this.propertyDidChange("headers")},async:function(e){return e===undefined&&(e=YES),this.set("isAsynchronous",e)},timeoutAfter:function(e){return this.set("timeout",e)},json:function(e){return e===undefined&&(e=YES),e&&this.set("isXML",NO),this.set("isJSON",e)},xml:function(e){return e===undefined&&(e=YES),e&&this.set("isJSON",NO),this.set("isXML",e)},_prep:function(){var e=!!this.header("Content-Type");return this.get("attachIdentifyingHeaders")&&(this.header("X-Requested-With","XMLHttpRequest"),this.header("X-SproutCore-Version",SC.VERSION)),this.get("isJSON")&&!e?this.header("Content-Type","application/json"):this.get("isXML")&&!e&&this.header("Content-Type","text/xml"),this},send:function(e){var t=this.get("timeout");if(t&&!this.get("isAsynchronous"))throw"Timeout values cannot be used with synchronous requests";if(t===0)throw"The timeout value must either not be specified or must be greater than 0";return e&&
this.set("body",e),SC.Request.manager.sendRequest(this.copy()._prep())},resend:function(){var e=this.get("source")?this:this.copy()._prep();return SC.Request.manager.sendRequest(e)},notify:function(e,t,n,r){var i=YES;SC.typeOf(e)!==SC.T_NUMBER?(r=SC.A(arguments).slice(2),n=t,t=e,e=0,i=NO):r=SC.A(arguments).slice(3);var s=this.get("listeners");return s||this.set("listeners",s={}),s[e]||(s[e]=[]),s[e].push({target:t,action:n,params:r}),this}}),SC.Request.mixin({getUrl:function(e){return this.create().set("address",e).set("type","GET")},postUrl:function(e,t){var n=this.create().set("address",e).set("type","POST");return t&&n.set("body",t),n},deleteUrl:function(e){return this.create().set("address",e).set("type","DELETE")},putUrl:function(e,t){var n=this.create().set("address",e).set("type","PUT");return t&&n.set("body",t),n}}),SC.Request.manager=SC.Object.create({maxRequests:6,inflight:[],pending:[],sendRequest:function(e){if(!e)return null;var t=e.get("responseClass").create({request:e});return this.get("pending").pushObject(t),this.fireRequestIfNeeded(),t},cancel:function(e){var t=this.get("pending"),n=this.get("inflight"),r;return t.indexOf(e)>=0?(this.propertyWillChange("pending"),t.removeObject(e),this.propertyDidChange("pending"),YES):n.indexOf(e)>=0?(e.cancel(),n.removeObject(e),this.fireRequestIfNeeded(),YES):NO},cancelAll:function(){return this.get("pending").length||this.get("inflight").length?(this.set("pending",[]),this.get("inflight").forEach(function(e){e.cancel()}),this.set("inflight",[]),YES):NO},fireRequestIfNeeded:function(){var e=this.get("pending"),t=this.get
("inflight"),n=this.get("maxRequests"),r;e.length>0&&t.length<n&&(r=e.shiftObject(),t.pushObject(r),r.fire())},transportDidClose:function(e){this.get("inflight").removeObject(e),this.fireRequestIfNeeded()}}),SC.FOCUS_ALL_CONTROLS=YES,SC.TreeItemContent={isTreeItemContent:YES,treeItemChildren:null,treeItemIsExpanded:YES,treeItemIsGrouped:NO,treeItemDisclosureState:function(e,t){return this.get("treeItemIsExpanded")?SC.BRANCH_OPEN:SC.BRANCH_CLOSED},treeItemCollapse:function(e,t){this.setIfChanged("treeItemIsExpanded",NO)},treeItemExpand:function(e,t){this.setIfChanged("treeItemIsExpanded",YES)},treeItemBranchIndexes:function(e,t){var n=this.get("treeItemChildren"),r,i,s,o;if(!n)return null;r=SC.IndexSet.create(),i=n.get("length");for(s=0;s<i;s++){if(!(o=n.objectAt(s)))continue;if(!o.get("treeItemChildren"))continue;o.treeItemDisclosureState(this,s)!==SC.LEAF_NODE&&r.add(s)}return r.get("length")>0?r:null}},SC.BRANCH_OPEN=17,SC.BRANCH_CLOSED=18,SC.LEAF_NODE=32,SC.CollectionContent={isCollectionContent:YES,contentIndexIsSelected:function(e,t,n){var r=e.get("selection");return r?r.contains(t,n):NO},contentIndexIsEnabled:function(e,t,n){return e.get("isEnabled")},contentGroupIndexes:function(e,t){return null},contentIndexIsGroup:function(e,t,n){return NO},contentIndexOutlineLevel:function(e,t,n){return-1},contentIndexDisclosureState:function(e,t,n){return SC.LEAF_NODE},contentIndexExpand:function(e,t,n){SC.Logger.log("contentIndexExpand(%@, %@, %@)".fmt(e,t,n))},contentIndexCollapse:function(e,t,n){SC.Logger.log("contentIndexCollapse(%@, %@, %@)".fmt(e,t,n))}},SC.TreeItemObserver=
SC.Object.extend(SC.Array,SC.CollectionContent,{item:null,delegate:null,parentObserver:null,parentItem:function(){var e=this.get("parentObserver");return e?e.get("item"):null}.property("parentObserver").cacheable(),index:null,outlineLevel:0,children:null,disclosureState:SC.BRANCH_OPEN,branchIndexes:function(){var e=this.get("item"),t,n,r,i,s;if(!e)return SC.IndexSet.EMPTY;if(e.isTreeItemContent)return n=this.get("parentItem"),r=this.get("index"),e.treeItemBranchIndexes(n,r);i=this.get("children");if(!i)return null;s=SC.IndexSet.create(),t=i.get("length"),n=e;for(r=0;r<t;r++){if(!(e=i.objectAt(r)))continue;if(!this._computeChildren(e,n,r))continue;this._computeDisclosureState(e,n,r)!==SC.LEAF_NODE&&s.add(r)}return s.get("length")>0?s:null}.property("children").cacheable(),isHeaderVisible:function(){return!!this.get("parentObserver")}.property("parentObserver").cacheable(),length:0,objectAt:function(e,t){var n=this.get("length"),r=this.get("item"),i=this._objectAtCache,s=e,o=0,u,a;if(e>=n)return undefined;if(this.get("isHeaderVisible")){if(e===0)return r;s--}return r=null,i||(i=this._objectAtCache=[]),(r=i[e])!==undefined?r:(a=this.get("children"),a?((u=this.get("branchIndexes"))&&u.forEach(function(e){if(r||e>s)return;var n=this.branchObserverAt(e),i;if(!n)return;i=n.get("length"),e+i>s?(r=n.objectAt(s-e,t),s=-1):s-=i-1},this),s>=0&&(r=a.objectAt(s,t)),i[e]=r,r):undefined)},replace:function(e,t,n,r){var i=e,s=null,o,u,a;r===undefined&&(r=SC.DROP_BEFORE),this.get("isHeaderVisible")&&i--;if(i<0)throw"Tree Item cannot replace itself";(o=this.get("branchIndexes"))&&o.forEach(function(
e){if(s||e>=i)return;if(!(s=this.branchObserverAt(e)))return;u=s.get("length"),e+u===i&&r===SC.DROP_AFTER?i-=e:e+u>i?i-=e:(i-=u-1,s=null)},this);if(s)return s.replace(i,t,n,r),this;a=i+t,t>1&&o&&o.forEachIn(i,o.get("max")-i,function(e){if(e>a)return;if(!(s=this.branchObserverAt(e)))return;u=s.get("length"),a-=u-1},this),t=a-i;var f=this.get("children");if(!f)throw"cannot replace() tree item with no children";if(t<0||a>f.get("length"))throw"replace() range must lie within a single tree item";return f.replace(i,t,n,r),this},observerContentDidChange:function(e,t,n){this.invalidateBranchObserversAt(e),this._objectAtCache=this._outlineLevelCache=null,this._disclosureStateCache=null,this._contentGroupIndexes=NO,this.notifyPropertyChange("branchIndexes");var r=this.get("length"),i=this._computeLength(),s=this.get("parentObserver"),o;r!==i&&this.set("length",i);if(!this._notifyParent)return this;if(s)o=SC.IndexSet.create(this.get("index")),s._childrenRangeDidChange(s.get("children"),null,"[]",o);else{r===i?(t=this.expandChildIndex(e+t),e=this.expandChildIndex(e),t-=e,n=0):(e=this.expandChildIndex(e),t=i-e,n=i-r);var u=t,a=n+u;this.arrayContentDidChange(e,u,a)}},expandChildIndex:function(e){var t=e;this.get("isHeaderVisible")&&e++;var n=this.get("branchIndexes");return!n||n.get("length")===0?t:(n.forEachIn(0,e,function(e){t+=this.branchObserverAt(e).get("length")-1},this),t)},_contentGroupIndexes:NO,contentGroupIndexes:function(e,t){if(t!==this)return null;var n=this._contentGroupIndexes;if(n!==NO)return n;if(this.get("parentObserver"))return null;var r=this.get("item"),i,s,o,u;return r&&
r.isTreeItemContent?i=r.get("treeItemIsGrouped"):i=!!this.delegate.get("treeItemIsGrouped"),i?(n=SC.IndexSet.create(),s=this.get("branchIndexes"),s&&(o=s.min(),u=0,s.forEach(function(e){n.add(e+u,1);var t=this.branchObserverAt(e);t&&(u+=t.get("length")-1,o+=u)},this))):n=null,this._contentGroupIndexes=n,n},contentIndexIsGroup:function(e,t,n){var r=this.contentGroupIndexes(e,t);return r?r.contains(n):NO},contentIndexOutlineLevel:function(e,t,n){if(t!==this)return-1;var r=this._outlineLevelCache;if(r&&r[n]!==undefined)return r[n];r||(r=this._outlineLevelCache=[]);var i=this.get("length"),s=n,o=0,u=null,a,f,l;if(n>=i)return-1;if(this.get("isHeaderVisible")){if(n===0)return r[0]=this.get("outlineLevel")-1;s--}return(a=this.get("branchIndexes"))&&a.forEach(function(t){if(u!==null||t>s)return;var n=this.branchObserverAt(t),r;if(!n)return;r=n.get("length"),t+r>s?(u=n.contentIndexOutlineLevel(e,n,s-t),s=-1):s-=r-1},this),s>=0&&(u=this.get("outlineLevel")),r[n]=u,u},contentIndexDisclosureState:function(e,t,n){if(t!==this)return-1;var r=this._disclosureStateCache;if(r&&r[n]!==undefined)return r[n];r||(r=this._disclosureStateCache=[]);var i=this.get("length"),s=n,o=0,u=null,a,f,l;if(n>=i)return SC.LEAF_NODE;if(this.get("isHeaderVisible")){if(n===0)return r[0]=this.get("disclosureState");s--}return(a=this.get("branchIndexes"))&&a.forEach(function(t){if(u!==null||t>s)return;var n=this.branchObserverAt(t),r;if(!n)return;r=n.get("length"),t+r>s?(u=n.contentIndexDisclosureState(e,n,s-t),s=-1):s-=r-1},this),s>=0&&(u=SC.LEAF_NODE),r[n]=u,u},contentIndexExpand:function(e,t,n){var r,i=n,s,o;if(
t!==this)return;if(this.get("isHeaderVisible")){if(n===0){this._expand(this.get("item"));return}i--}(r=this.get("branchIndexes"))&&r.forEach(function(t){if(t>=i)return;var n=this.branchObserverAt(t),r;if(!n)return;r=n.get("length"),t+r>i?(n.contentIndexExpand(e,n,i-t),i=-1):i-=r-1},this),i>=0&&(s=this.get("children"),o=s?s.objectAt(i):null,o&&this._expand(o,this.get("item"),i))},contentIndexCollapse:function(e,t,n){var r,i,s,o=n;if(t!==this)return;if(this.get("isHeaderVisible")){if(n===0){this._collapse(this.get("item"));return}o--}(r=this.get("branchIndexes"))&&r.forEach(function(t){if(t>=o)return;var n=this.branchObserverAt(t),r;if(!n)return;r=n.get("length"),t+r>o?(n.contentIndexCollapse(e,n,o-t),o=-1):o-=r-1},this),o>=0&&(i=this.get("children"),s=i?i.objectAt(o):null,s&&this._collapse(s,this.get("item"),o))},branchObserverAt:function(e){var t=this._branchObserversByIndex,n=this._branchObserverIndexes,r,i,s,o,u,a,f;return t||(t=this._branchObserversByIndex=[]),n||(n=this._branchObserverIndexes=SC.IndexSet.create()),(r=t[e])?r:(u=this.get("children"),o=u?u.objectAt(e):null,o?(t[e]=r=SC.TreeItemObserver.create({item:o,delegate:this.get("delegate"),parentObserver:this,index:e,outlineLevel:this.get("outlineLevel")+1}),n.add(e),r):null)},invalidateBranchObserversAt:function(e){var t=this._branchObserversByIndex,n=this._branchObserverIndexes;return!t||t.length<=e?this:(e<0&&(e=0),n.forEachIn(e,n.get("max")-e,function(e){var n=t[e];n&&n.destroy()},this),t.length=e,this)},init:function(){arguments.callee.base.apply(this,arguments);var e=this.get("item");if(!e)throw"SC.TreeItemObserver.item cannot be null"
;e.addObserver("*",this,this._itemPropertyDidChange),this._itemPropertyDidChange(e,"*"),this._notifyParent=YES},destroy:function(){this.invalidateBranchObserversAt(0),this._objectAtCache=null,this._notifyParent=NO;var e=this.get("item");e&&e.removeObserver("*",this,this._itemPropertyDidChange);var t=this._children,n=this._childrenRangeObserver;t&&n&&t.removeRangeObserver(n),this.set("length",0),arguments.callee.base.apply(this,arguments)},_itemPropertyDidChange:function(e,t){var n=this.get("children"),r=this.get("disclosureState"),i=this.get("item"),s;this.beginPropertyChanges(),s=this._computeDisclosureState(i),r!==s&&this.set("disclosureState",s),s=this._computeChildren(i),n!==s&&this.set("children",s),this.endPropertyChanges()},_childrenDidChange:function(){var e=this.get("disclosureState"),t=e===SC.BRANCH_OPEN?this.get("children"):null,n=this._children,r=this._childrenRangeObserver;if(n===t)return this;r&&n.removeRangeObserver(r),t?this._childrenRangeObserver=t.addRangeObserver(null,this,this._childrenRangeDidChange):this._childrenRangeObserver=null,this._children=t,this._childrenRangeDidChange(t,null,"[]",null)}.observes("children","disclosureState"),_childrenRangeDidChange:function(e,t,n,r){var i=this.get("children"),s=i?i.get("length"):0,o=r?r.get("min"):0,u=r?r.get("max"):s,a=this._childrenLen||0;this._childrenLen=s,this.observerContentDidChange(o,u-o,s-a)},_computeDisclosureState:function(e,t,n){var r,i;return!e||!this._computeChildren(e)?SC.LEAF_NODE:e.isTreeItemContent?(t===undefined&&(t=this.get("parentItem")),n===undefined&&(n=this.get("index")),e.treeItemDisclosureState
(t,n)):(r=this._treeItemIsExpandedKey,r||(i=this.get("delegate"),r=i?i.get("treeItemIsExpandedKey"):"treeItemIsExpanded",this._treeItemIsExpandedKey=r),e.get(r)?SC.BRANCH_OPEN:SC.BRANCH_CLOSED)},_collapse:function(e,t,n){var r,i;return!e||!this._computeChildren(e)?this:(e.isTreeItemContent?(t===undefined&&(t=this.get("parentItem")),n===undefined&&(n=this.get("index")),e.treeItemCollapse(t,n)):(r=this._treeItemIsExpandedKey,r||(i=this.get("delegate"),r=i?i.get("treeItemIsExpandedKey"):"treeItemIsExpanded",this._treeItemIsExpandedKey=r),e.setIfChanged(r,NO)),this)},_expand:function(e,t,n){var r,i;return!e||!this._computeChildren(e)?this:(e.isTreeItemContent?(t===undefined&&(t=this.get("parentItem")),n===undefined&&(n=this.get("index")),e.treeItemExpand(t,n)):(r=this._treeItemIsExpandedKey,r||(i=this.get("delegate"),r=i?i.get("treeItemIsExpandedKey"):"treeItemIsExpanded",this._treeItemIsExpandedKey=r),e.setIfChanged(r,YES)),this)},_computeChildren:function(e){var t,n;return e?e.isTreeItemContent?e.get("treeItemChildren"):(n=this._treeItemChildrenKey,n||(t=this.get("delegate"),n=t?t.get("treeItemChildrenKey"):"treeItemChildren",this._treeItemChildrenKey=n),e.get(n)):null},_computeLength:function(){var e=this.get("isHeaderVisible")?1:0,t=this.get("disclosureState"),n=this.get("children"),r;return t===SC.BRANCH_OPEN&&n&&(e+=n.get("length"),(r=this.get("branchIndexes"))&&r.forEach(function(t){var n=this.branchObserverAt(t);e+=n.get("length")-1},this)),e}}),SC.TreeController=SC.ObjectController.extend(SC.SelectionSupport,{treeItemIsGrouped:NO,treeItemIsExpandedKey:"treeItemIsExpanded"
,treeItemChildrenKey:"treeItemChildren",arrangedObjects:function(){var e,t=this.get("content");return t?e=SC.TreeItemObserver.create({item:t,delegate:this}):e=null,this._sctc_arrangedObjects=e,e}.property().cacheable(),_sctc_invalidateArrangedObjects:function(){this.propertyWillChange("arrangedObjects");var e=this._sctc_arrangedObjects;e&&e.destroy(),this._sctc_arrangedObjects=null,this.propertyDidChange("arrangedObjects")}.observes("content","treeItemIsExpandedKey","treeItemChildrenKey","treeItemIsGrouped"),_sctc_arrangedObjectsContentDidChange:function(){this.updateSelectionAfterContentChange()}.observes("*arrangedObjects.[]"),canSelectGroups:NO,firstSelectableObject:function(){var e=this.get("arrangedObjects"),t,n,r=0;if(!e)return null;if(this.get("treeItemIsGrouped")===NO||this.get("canSelectGroups"))return e.get("firstObject");t=e.contentGroupIndexes(null,e),n=e.get("length");while(t.contains(r)&&r<n)r++;return r>=n?null:e.objectAt(r)}.property()}),SC.InlineTextFieldDelegate={editor:null,acquireEditor:function(e){var t=this.editor;if(t){if(t.get("isEditing")&&!t.commitEditing()&&!t.discardEditing())return null;this.releaseEditor(t)}var n=e.exampleEditor?e.exampleEditor:SC.InlineTextFieldView,r=e.get("pane");return t=this.editor=r.createChildView(n,{inlineEditorDelegate:this}),r.appendChild(t),t},releaseEditor:function(e){return e.removeFromParent(),this.editor=null,YES}},SC.STRING_TITLEIZE_REGEXP=/([\s|\-|\_|\n])([^\s|\-|\_|\n]?)/g,SC.STRING_HUMANIZE_REGEXP=/[\-_]/g,SC.STRING_REGEXP_ESCAPED_REGEXP=/([\\\.\+\*\?\[\^\]\$\(\)\{\}\=\!\<\>\|\:])/g,SC.STRING_DASHERIZE_CACHE={
top:"top",left:"left",right:"right",bottom:"bottom",width:"width",height:"height",minWidth:"min-width",maxWidth:"max-width"},SC.INFLECTION_CONSTANTS={PLURAL:[[/(quiz)$/i,"$1zes"],[/^(ox)$/i,"$1en"],[/([m|l])ouse$/i,"$1ice"],[/(matr|vert|ind)ix|ex$/i,"$1ices"],[/(x|ch|ss|sh)$/i,"$1es"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/(hive)$/i,"$1s"],[/(?:([^f])fe|([lr])f)$/i,"$1$2ves"],[/sis$/i,"ses"],[/([ti])um$/i,"$1a"],[/(buffal|tomat)o$/i,"$1oes"],[/(bu)s$/i,"$1ses"],[/(alias|status)$/i,"$1es"],[/(octop|vir)us$/i,"$1i"],[/(ax|test)is$/i,"$1es"],[/s$/i,"s"],[/$/,"s"]],SINGULAR:[[/(quiz)zes$/i,"$1"],[/(matr)ices$/i,"$1ix"],[/(vert|ind)ices$/i,"$1ex"],[/^(ox)en/i,"$1"],[/(alias|status)es$/i,"$1"],[/(octop|vir)i$/i,"$1us"],[/(cris|ax|test)es$/i,"$1is"],[/(shoe)s$/i,"$1"],[/(o)es$/i,"$1"],[/(bus)es$/i,"$1"],[/([m|l])ice$/i,"$1ouse"],[/(x|ch|ss|sh)es$/i,"$1"],[/(m)ovies$/i,"$1ovie"],[/(s)eries$/i,"$1eries"],[/([^aeiouy]|qu)ies$/i,"$1y"],[/([lr])ves$/i,"$1f"],[/(tive)s$/i,"$1"],[/(hive)s$/i,"$1"],[/([^f])ves$/i,"$1fe"],[/(^analy)ses$/i,"$1sis"],[/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$/i,"$1$2sis"],[/([ti])a$/i,"$1um"],[/(n)ews$/i,"$1ews"],[/s$/i,""]],IRREGULAR:[["move","moves"],["sex","sexes"],["child","children"],["man","men"],["person","people"]],UNCOUNTABLE:["sheep","fish","series","species","money","rice","information","info","equipment"]},SC.mixin(SC.String,{capitalizeEach:function(e){return e.replace(SC.STRING_TITLEIZE_REGEXP,function(e,t,n){return n?t+n.toUpperCase():t}).capitalize()},titleize:function(e){var t=e.replace(SC.STRING_DECAMELIZE_REGEXP,"$1_$2");return t
.replace(SC.STRING_TITLEIZE_REGEXP,function(e,t,n){return n?" "+n.toUpperCase():" "}).capitalize()},classify:function(e){var t=e.replace(SC.STRING_TITLEIZE_REGEXP,function(e,t,n){return n?n.toUpperCase():""}),n=t.charAt(0),r=n.toUpperCase();return n!==r?r+t.slice(1):t},humanize:function(e){return SC.String.decamelize(e).replace(SC.STRING_HUMANIZE_REGEXP," ")},escapeForRegExp:function(e){return e.replace(SC.STRING_REGEXP_ESCAPED_REGEXP,"\\$1")},removeDiacritics:function(e){var t=SC.diacriticMappingTable;t||(SC.diacriticMappingTable={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","Ā":"A","Ă":"A","Ą":"A","Ǎ":"A","Ǟ":"A","Ǡ":"A","Ǻ":"A","Ȁ":"A","Ȃ":"A","Ȧ":"A","Ḁ":"A","Ạ":"A","Ả":"A","Ấ":"A","Ầ":"A","Ẩ":"A","Ẫ":"A","Ậ":"A","Ắ":"A","Ằ":"A","Ẳ":"A","Ẵ":"A","Ặ":"A","Å":"A","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ç":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ḉ":"C","Ď":"D","Ḋ":"D","Ḍ":"D","Ḏ":"D","Ḑ":"D","Ḓ":"D","È":"E","É":"E","Ê":"E","Ë":"E","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ȩ":"E","Ḕ":"E","Ḗ":"E","Ḙ":"E","Ḛ":"E","Ḝ":"E","Ẹ":"E","Ẻ":"E","Ẽ":"E","Ế":"E","Ề":"E","Ể":"E","Ễ":"E","Ệ":"E","Ḟ":"F","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","Ǧ":"G","Ǵ":"G","Ḡ":"G","Ĥ":"H","Ȟ":"H","Ḣ":"H","Ḥ":"H","Ḧ":"H","Ḩ":"H","Ḫ":"H","Ì":"I","Í":"I","Î":"I","Ï":"I","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ḭ":"I","Ḯ":"I","Ỉ":"I","Ị":"I","Ĵ":"J","Ķ":"K","Ǩ":"K","Ḱ":"K","Ḳ":"K","Ḵ":"K","Ĺ":"L","Ļ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ḻ":"L","Ḽ":"L","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ñ":"N","Ń":"N","Ņ":"N","Ň":"N","Ǹ":"N","Ṅ":"N","Ṇ":"N","Ṉ":"N","Ṋ":"N","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ō":"O","Ŏ":"O"
,"Ő":"O","Ơ":"O","Ǒ":"O","Ǫ":"O","Ǭ":"O","Ȍ":"O","Ȏ":"O","Ȫ":"O","Ȭ":"O","Ȯ":"O","Ȱ":"O","Ṍ":"O","Ṏ":"O","Ṑ":"O","Ṓ":"O","Ọ":"O","Ỏ":"O","Ố":"O","Ồ":"O","Ổ":"O","Ỗ":"O","Ộ":"O","Ớ":"O","Ờ":"O","Ở":"O","Ỡ":"O","Ợ":"O","Ṕ":"P","Ṗ":"P","Ŕ":"R","Ŗ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṙ":"R","Ṛ":"R","Ṝ":"R","Ṟ":"R","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","Ș":"S","Ṡ":"S","Ṣ":"S","Ṥ":"S","Ṧ":"S","Ṩ":"S","Ţ":"T","Ť":"T","Ț":"T","Ṫ":"T","Ṭ":"T","Ṯ":"T","Ṱ":"T","Ù":"U","Ú":"U","Û":"U","Ü":"U","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","Ư":"U","Ǔ":"U","Ǖ":"U","Ǘ":"U","Ǚ":"U","Ǜ":"U","Ȕ":"U","Ȗ":"U","Ṳ":"U","Ṵ":"U","Ṷ":"U","Ṹ":"U","Ṻ":"U","Ụ":"U","Ủ":"U","Ứ":"U","Ừ":"U","Ử":"U","Ữ":"U","Ự":"U","Ṽ":"V","Ṿ":"V","Ŵ":"W","Ẁ":"W","Ẃ":"W","Ẅ":"W","Ẇ":"W","Ẉ":"W","Ẋ":"X","Ẍ":"X","Ý":"Y","Ŷ":"Y","Ÿ":"Y","Ȳ":"Y","Ẏ":"Y","Ỳ":"Y","Ỵ":"Y","Ỷ":"Y","Ỹ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","Ẑ":"Z","Ẓ":"Z","Ẕ":"Z","`":"`","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","ā":"a","ă":"a","ą":"a","ǎ":"a","ǟ":"a","ǡ":"a","ǻ":"a","ȁ":"a","ȃ":"a","ȧ":"a","ḁ":"a","ạ":"a","ả":"a","ấ":"a","ầ":"a","ẩ":"a","ẫ":"a","ậ":"a","ắ":"a","ằ":"a","ẳ":"a","ẵ":"a","ặ":"a","ḃ":"b","ḅ":"b","ḇ":"b","ç":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ḉ":"c","ď":"d","ḋ":"d","ḍ":"d","ḏ":"d","ḑ":"d","ḓ":"d","è":"e","é":"e","ê":"e","ë":"e","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","ȅ":"e","ȇ":"e","ȩ":"e","ḕ":"e","ḗ":"e","ḙ":"e","ḛ":"e","ḝ":"e","ẹ":"e","ẻ":"e","ẽ":"e","ế":"e","ề":"e","ể":"e","ễ":"e","ệ":"e","ḟ":"f","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","ǧ":"g","ǵ":"g","ḡ":"g","ĥ":"h","ȟ":"h","ḣ":"h","ḥ":"h","ḧ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ì":"i","í":"i","î":"i","ï":"i","ĩ"
:"i","ī":"i","ĭ":"i","į":"i","ǐ":"i","ȉ":"i","ȋ":"i","ḭ":"i","ḯ":"i","ỉ":"i","ị":"i","ĵ":"j","ǰ":"j","ķ":"k","ǩ":"k","ḱ":"k","ḳ":"k","ḵ":"k","ĺ":"l","ļ":"l","ľ":"l","ḷ":"l","ḹ":"l","ḻ":"l","ḽ":"l","ḿ":"m","ṁ":"m","ṃ":"m","ñ":"n","ń":"n","ņ":"n","ň":"n","ǹ":"n","ṅ":"n","ṇ":"n","ṉ":"n","ṋ":"n","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ō":"o","ŏ":"o","ő":"o","ơ":"o","ǒ":"o","ǫ":"o","ǭ":"o","ȍ":"o","ȏ":"o","ȫ":"o","ȭ":"o","ȯ":"o","ȱ":"o","ṍ":"o","ṏ":"o","ṑ":"o","ṓ":"o","ọ":"o","ỏ":"o","ố":"o","ồ":"o","ổ":"o","ỗ":"o","ộ":"o","ớ":"o","ờ":"o","ở":"o","ỡ":"o","ợ":"o","ṕ":"p","ṗ":"p","ŕ":"r","ŗ":"r","ř":"r","ȑ":"r","ȓ":"r","ṙ":"r","ṛ":"r","ṝ":"r","ṟ":"r","ś":"s","ŝ":"s","ş":"s","š":"s","ș":"s","ṡ":"s","ṣ":"s","ṥ":"s","ṧ":"s","ṩ":"s","ţ":"t","ť":"t","ț":"t","ṫ":"t","ṭ":"t","ṯ":"t","ṱ":"t","ẗ":"t","ù":"u","ú":"u","û":"u","ü":"u","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","ư":"u","ǔ":"u","ǖ":"u","ǘ":"u","ǚ":"u","ǜ":"u","ȕ":"u","ȗ":"u","ṳ":"u","ṵ":"u","ṷ":"u","ṹ":"u","ṻ":"u","ụ":"u","ủ":"u","ứ":"u","ừ":"u","ử":"u","ữ":"u","ự":"u","ṽ":"v","ṿ":"v","ŵ":"w","ẁ":"w","ẃ":"w","ẅ":"w","ẇ":"w","ẉ":"w","ẘ":"w","ẋ":"x","ẍ":"x","ý":"y","ÿ":"y","ŷ":"y","ȳ":"y","ẏ":"y","ẙ":"y","ỳ":"y","ỵ":"y","ỷ":"y","ỹ":"y","ź":"z","ż":"z","ž":"z","ẑ":"z","ẓ":"z","ẕ":"z"},t=SC.diacriticMappingTable);var n,r,i="",s=e.length;for(var o=0;o<=s;++o)n=e.charAt(o),r=t[n],i+=r||n;return i},pluralize:function(e){var t,n,r=e.split(/\s/).pop(),i=e.replace(r,""),s=r.charAt(0).match(/[A-Z]/)?!0:!1;r=r.toLowerCase();for(t=0,n=SC.INFLECTION_CONSTANTS.UNCOUNTABLE.length;t<n;t++){var o=SC.INFLECTION_CONSTANTS.UNCOUNTABLE[t];if(r==
o)return e.toString()}for(t=0,n=SC.INFLECTION_CONSTANTS.IRREGULAR.length;t<n;t++){var u=SC.INFLECTION_CONSTANTS.IRREGULAR[t][0],a=SC.INFLECTION_CONSTANTS.IRREGULAR[t][1];if(r==u||r==a)return s&&(a=a.capitalize()),i+a}for(t=0,n=SC.INFLECTION_CONSTANTS.PLURAL.length;t<n;t++){var f=SC.INFLECTION_CONSTANTS.PLURAL[t][0],l=SC.INFLECTION_CONSTANTS.PLURAL[t][1];if(f.test(r))return e.replace(f,l)}},singularize:function(e){var t,n,r=e.split(/\s/).pop(),i=e.replace(r,""),s=r.charAt(0).match(/[A-Z]/)?!0:!1;r=r.toLowerCase();for(t=0,n=SC.INFLECTION_CONSTANTS.UNCOUNTABLE.length;t<n;t++){var o=SC.INFLECTION_CONSTANTS.UNCOUNTABLE[t];if(r==o)return e.toString()}for(t=0,n=SC.INFLECTION_CONSTANTS.IRREGULAR.length;t<n;t++){var u=SC.INFLECTION_CONSTANTS.IRREGULAR[t][0],a=SC.INFLECTION_CONSTANTS.IRREGULAR[t][1];if(r==u||r==a)return s&&(u=u.capitalize()),i+u}for(t=0,n=SC.INFLECTION_CONSTANTS.SINGULAR.length;t<n;t++){var f=SC.INFLECTION_CONSTANTS.SINGULAR[t][0],l=SC.INFLECTION_CONSTANTS.SINGULAR[t][1];if(f.test(r))return e.replace(f,l)}}}),SC.String.strip=SC.String.trim,SC.supplement(String.prototype,{capitalizeEach:function(){return SC.String.capitalizeEach(this,arguments)},titleize:function(e){return SC.String.titleize(this,arguments)},classify:function(e){return SC.String.classify(this,arguments)},humanize:function(e){return SC.String.humanize(this,arguments)},escapeForRegExp:function(e){return SC.String.escapeForRegExp(this,arguments)},removeDiacritics:function(e){return SC.String.removeDiacritics(this,arguments)},trim:function(e){return SC.String.trim(this,arguments)},trimLeft:function(e){return SC
.String.trimLeft(this,arguments)},trimRight:function(e){return SC.String.trimRight(this,arguments)},pluralize:function(e){return SC.String.pluralize(this,arguments)},singularize:function(e){return SC.String.singularize(this,arguments)}}),SC.Gesture=SC.Object.extend({name:"gesture",touchIsInGesture:function(e,t){return NO},touchStart:function(e){},touchesDragged:function(e,t){},touchEnd:function(e){},start:function(){if(!this.get("isActive")){this.set("isActive",YES);var e=SC.$A(arguments);e.unshift(this);var t=this.name+"Start";this.view[t]&&this.view[t].apply(this.view,e)}},end:function(){if(this.get("isActive")){this.set("isActive",NO);var e=SC.$A(arguments);e.unshift(this);var t=this.name+"End";this.view[t]&&this.view[t].apply(this.view,e)}},change:function(){if(this.get("isActive")){var e=SC.$A(arguments);e.unshift(this);var t=this.name+"Changed";this.view[t]&&this.view[t].apply(this.view,e)}},cancel:function(){if(this.get("isActive")){this.set("isActive",NO);var e=SC.$A(arguments);e.unshift(this);var t=this.name+"Cancelled";this.view[t]&&this.view[t].apply(this.view,e)}},trigger:function(){var e=SC.$A(arguments);e.unshift(this);var t=this.name;this.view[t]&&this.view[t].apply(this.view,e)},take:function(e){e.isTaken=YES,(SC.none(e.touchResponder)||e.touchResponder!==this)&&e.makeTouchResponder(this,YES)},release:function(e){e.isTaken=NO,e.nextTouchResponder&&e.makeTouchResponder(e.nextTouchResponder)},discardTouch:function(e){e.isTaken=YES,e.makeTouchResponder(null)},statusForTouch:function(e){var t=SC.guidFor(e.view)+this.name,n=e[t];return n||(n=e[t]={}),n},unassignedTouchDidStart
:function(e){if(e.isTaken)return;this.touchIsInGesture(e,this.statusForTouch(e))&&this.take(e)},unassignedTouchesDidChange:function(e,t){t.forEach(function(e){if(e.isTaken)return;this.touchIsInGesture(e,this.statusForTouch(e))&&this.take(e)},this)},unassignedTouchDidEnd:function(e){},interestedInTouch:function(e){var t=this.statusForTouch(e);if(t.isInterested)return;t.isInterested=YES,e.isInteresting++},uninterestedInTouch:function(e){var t=this.statusForTouch(e);if(!t.isInterested)return;t.isInterested=NO,e.isInteresting--}}),SC.PinchGesture=SC.Gesture.extend({name:"pinch",acceptsMultitouch:YES,scale:1,unassignedTouchesDidChange:function(e,t){t.length==2&&(this.take(t[0]),this.take(t[1]))},touchStart:function(e){var t=e.touchesForResponder(this);return!t||t.length===0?YES:t.length==1?(this.start([t[0],e]),YES):NO},touchesDragged:function(e,t){var n=t.firstObject(),r=n.averagedTouchesForView(this);r.touchCount==2&&(this._startDistance||(this._startDistance=r.d),this.scale=r.d/this._startDistance,this.change(t,this.scale))},touchEnd:function(e){this._startDistance=null;var t=e.touchesForResponder(this);this.trigger(t,this.scale),this.end(t,this.scale),t&&t.forEach(function(e){this.release(e)},this)}}),SC.SWIPE_HORIZONTAL="X",SC.SWIPE_VERTICAL="Y",SC.SWIPE_ANY="XY",SC.SWIPE_LEFT="LEFT",SC.SWIPE_RIGHT="RIGHT",SC.SWIPE_UP="UP",SC.SWIPE_DOWN="DOWN",SC.SwipeGesture=SC.Gesture.extend({name:"swipe",acceptsMultitouch:YES,direction:SC.SWIPE_HORIZONTAL,currentDirection:null,startDistance:5,swipeDistance:40,tolerance:.5,touchIsInGesture:function(e,t){if(!t.flunked){var n=this.get("direction"
),r=this.get("currentDirection"),i=this.get("startDistance"),s=e.pageX-e.startX,o=e.pageY-e.startY,u=Math.abs(s),a=Math.abs(o);if(Math.abs(s)>i||Math.abs(o)>i){if(!r){if(n==SC.SWIPE_ANY)if(u>a)r=SC.SWIPE_HORIZONTAL;else{if(!(a>u))return NO;r=SC.SWIPE_VERTICAL}else r=n;this.set("currentDirection",r)}var f=r==SC.SWIPE_HORIZONTAL?s:o,l=r==SC.SWIPE_HORIZONTAL?o:s;if(Math.abs(f)*this.get("tolerance")>Math.abs(l))return YES}}return NO},touchStart:function(e){var t=this.get("currentDirection"),n=e["page"+t]-e["start"+t],r;return n<0?r=t===SC.SWIPE_HORIZONTAL?SC.SWIPE_LEFT:SC.SWIPE_UP:r=t===SC.SWIPE_HORIZONTAL?SC.SWIPE_RIGHT:SC.SWIPE_DOWN,this.start(e,r,n),YES},touchesDragged:function(e,t){var n=t.firstObject(),r=this.get("currentDirection"),i=r===SC.SWIPE_HORIZONTAL?"Y":"X",s=n["page"+r]-n["start"+r],o=n["page"+i]-n["start"+i],u;s<0?u=r===SC.SWIPE_HORIZONTAL?SC.SWIPE_LEFT:SC.SWIPE_UP:u=r===SC.SWIPE_HORIZONTAL?SC.SWIPE_RIGHT:SC.SWIPE_DOWN;if(Math.abs(s)<this.get("startDistance")||Math.abs(s)*this.get("tolerance")<Math.abs(o)){this.release(n);var a=n.touchesForResponder(this);(!a||a.length===0)&&this.cancel(n,u,s)}else this.change(n,u,s)},touchEnd:function(e){var t=this.get("currentDirection"),n=t===SC.SWIPE_HORIZONTAL?"Y":"X",r=e["page"+t]-e["start"+t],i=e["page"+n]-e["start"+n],s;r<0?s=t===SC.SWIPE_HORIZONTAL?SC.SWIPE_LEFT:SC.SWIPE_UP:s=t===SC.SWIPE_HORIZONTAL?SC.SWIPE_RIGHT:SC.SWIPE_DOWN,(Math.abs(r)>this.get("swipeDistance")||Math.abs(r)*this.get("tolerance")<Math.abs(i))&&this.trigger(e,s),this.end(e,s,r),this.set("currentDirection",null);var o=e.touchesForResponder(this);o&&o.forEach
(function(e){this.release(e)},this)},cancel:function(){arguments.callee.base.apply(this,arguments),this.set("currentDirection",null)}}),SC.TapGesture=SC.Gesture.extend({name:"tap",acceptsMultitouch:NO,_tapCount:null,_candidateTouch:null,_eventTimer:null,tapWiggle:10,tapDelay:200,touchIsInGesture:function(e,t){return!e.tapFlunked},touchStart:function(e){return this._eventTimer&&this._eventTimer.invalidate(),this._candidateTouch&&this._candidateTouch.touch.identifier!==e.identifier?(this._cancelTap(e),NO):(this._candidateTouch={startTime:Date.now(),touch:e},this.start(e),YES)},touchesDragged:function(e,t){var n=t[0],r=t.length>1||!this._candidateTouch||n.identifier!==this._candidateTouch.touch.identifier,i=this._calculateDragDistance(n)>this.get("tapWiggle");(r||i)&&this._cancelTap(n)},touchEnd:function(e){this._calculateDragDistance(e)>this.get("tapWiggle")||Date.now()-this._candidateTouch.startTime>this.get("tapDelay")?this._cancelTap(e):this._addTap(e)},_addTap:function(e){var t=this;this._eventTimer&&this._eventTimer.invalidate(),this._tapCount=(this._tapCount||0)+1,this._candidateTouch=null,this._eventTimer=SC.Timer.schedule({target:t,action:function(){this._triggerTap(e)},interval:this.get("tapDelay")}),this.change(e,this._tapCount),this.trigger(e,this._tapCount)},_cancelTap:function(e){e.tapFlunked=YES,this.release(e),this.cancel(e,this._tapCount),this._eventTimer&&this._eventTimer.invalidate(),this._tapCount=null,this._candidateTouch=null,this._eventTimer=null},_triggerTap:function(e){this.end(e,this._tapCount),this._tapCount=null,this._candidateTouch=null,this._eventTimer=
null},_calculateDragDistance:function(e){return Math.sqrt(Math.pow(e.pageX-e.startX,2)+Math.pow(e.pageY-e.startY,2))}}),SC.AutoMixin={autoMixins:[],createChildView:function(e,t){t||(t={}),t.owner=t.parentView=this,t.isVisibleInWindow=this.get("isVisibleInWindow"),t.page||(t.page=this.page);var n=this.get("autoMixins");return n.push(t),e=e.create.apply(e,n),e}},SC.mixin({_copy_computed_props:["maxWidth","maxHeight","paddingLeft","paddingRight","paddingTop","paddingBottom","fontFamily","fontSize","fontStyle","fontWeight","fontVariant","lineHeight","whiteSpace","letterSpacing","wordWrap","boxSizing","webkitBoxSizing","MozBoxSizing"],stringFromLayout:function(e){var t=["maxHeight","maxWidth","minHeight","minWidth","centerY","centerX","width","height","bottom","right","top","left"],n=[],r,i=t.length;while(--i>=0)r=t[i],e.hasOwnProperty(r)&&n.push(r+":"+e[r]);return"{"+n.join(", ")+"}"},heightForString:function(e,t,n,r,i,s){if(s){var o=this.bestStringMetricsForMaxWidth(e,t,s,r,i);return o.height}SC.debug("Warning: Use the element reference for the heightForString method. Just using class names may result in inaccurate values.");var s,u;u=r&&SC.typeOf(r)===SC.T_ARRAY?r.join(" "):"",elem=document.createElement("div"),document.body.insertBefore(elem,null),n=n+"; width: "+t+"px; left: "+ -1*t+"px; position: absolute;";var a=SC.$(elem);a.attr("style",n),u!==""&&a.attr("class",u),elem.innerHTML=e;var o=this.bestStringMetricsForMaxWidth(e,t,elem,r,i);return elem.parentNode.removeChild(elem),elem=null,o.height},prepareStringMeasurement:function(e,t){var n=this._metricsCalculationElement,r
,i,s,o;r=SC.A(t).join(" ");if(!n){var u=document.createElement("div");u.style.cssText="position:absolute; left:-10010px; top:-10px;width:10000px; height:0px; overflow:hidden;visibility:hidden;",n=this._metricsCalculationElement=document.createElement("div"),u.appendChild(n),document.body.insertBefore(u,null)}o=SC.$(n);if(SC.typeOf(e)!=SC.T_STRING){var a=null;document.defaultView&&document.defaultView.getComputedStyle?a=document.defaultView.getComputedStyle(e,null):a=e.currentStyle;var f=this._copy_computed_props;for(var l=0;l<f.length;l++){var c=f[l],h=a[c];n.style[c]=h}var p=n.style;if(p.font===""){var d="";p.fontStyle&&(d+=p.fontStyle+" "),p.fontVariant&&(d+=p.fontVariant+" "),p.fontWeight&&(d+=p.fontWeight+" "),p.fontSize?d+=p.fontSize:d+="10px",p.lineHeight&&(d+="/"+p.lineHeight),d+=" ",p.fontFamily?d+=p.fontFamily:p+="sans-serif",n.style.font=d}SC.mixin(n.style,{left:"0px",top:"0px",position:"absolute",bottom:"auto",right:"auto",width:"auto",height:"auto"}),a=null}else s=e,o.attr("style",s+"; position:absolute; left: 0px; top: 0px; bottom: auto; right: auto; width: auto; height: auto;");n.className=r,n=null},teardownStringMeasurement:function(){var e=this._metricsCalculationElement;e.innerHTML="",e.className="",e.setAttribute("style",""),e=null},measureString:function(e,t,n){var r=this._metricsCalculationElement,i=0;if(!r)throw"measureString requires a string measurement environment to be set up. Did you mean metricsForString?";t?r.innerHTML=e:typeof r.innerText!="undefined"?r.innerText=e:r.textContent=e,SC.browser.isIE&&!n&&(i=1),SC.browser.windows&&SC.browser.isChrome&&
(i=1);var s={width:r.clientWidth+i,height:r.clientHeight};return SC.browser.isMozilla&&!n&&(s.width+=1),r=null,s},metricsForString:function(e,t,n,r,i){SC.prepareStringMeasurement(t,n);var s=SC.measureString(e,r,i);return SC.teardownStringMeasurement(),s}}),SC.AutoResize={shouldAutoResize:YES,shouldMeasureSize:YES,shouldCacheSizes:NO,shouldResizeWidth:YES,shouldResizeHeight:NO,measuredSize:{width:0,height:0},maxWidth:null,maxHeight:null,shouldAutoFitText:NO,autoFitDiscreteFontSizes:NO,minFontSize:12,maxFontSize:20,calculatedFontSize:20,autoFitTextFramePadding:{width:1,height:1},useExactMeasurement:NO,fontPropertyDidChange:function(){this.get("shouldAutoFitText")&&this.invokeLast(this.fitTextToFrame)}.observes("shouldAutoFitText","minFontSize","maxFontSize","frame"),measuredSizeDidChange:function(){var e=this.get("measuredSize"),t=e.width,n=e.height,r,i,s=this.get("autoResizePadding")||0,o=this.get("maxWidth"),u=this.get("maxHeight"),a=this.get("minWidth"),f=this.get("minHeight");SC.typeOf(s)===SC.T_NUMBER?r=i=s:(r=s.height,i=s.width),n+=r,t+=i,this.get("shouldAutoResize")&&(this.get("shouldResizeWidth")&&(a&&t<a&&(t=a),o&&t>o&&(t=o),this.set("calculatedWidth",t),this.adjust("width",t)),this.get("shouldResizeHeight")&&(f&&n<f&&(n=f),u&&n>u&&(n=u),this.set("calculatedHeight",n),this.adjust("height",n))),this.get("shouldAutoFitText")&&this.invokeLast(this.fitTextToFrame)}.observes("shouldAutoResize","measuredSize","autoResizePadding","maxWidth","minWidth","shouldResizeWidth","shouldResizeHeight"),initMixin:function(){},batchResizeId:null,scheduleMeasurement:function(){var e=this
.get("batchResizeId");if(!this.get("shouldMeasureSize")||!this.get("isVisibleInWindow")||this.get("autoResizeText")===this._lastMeasuredText&&e===this._lastMeasuredId)return;SC.AutoResizeManager.scheduleMeasurementForView(this,e)}.observes("isVisibleInWindow","shouldMeasureSize","autoResizeText","batchResizeId"),_lastMeasuredText:null,_cachedMetrics:function(e,t){if(!this.get("shouldCacheSizes"))return;var n=SC.cacheSlotFor(this.get("batchResizeId")||this),r=this.get("autoResizeText");return t?n[r]=t:t=n[r],t}.property("shouldCacheSizes","autoResizeText","batchResizeId").cacheable(),measureSize:function(e){var t,n=this.get("autoResizeLayer"),r=this.get("autoResizeText"),i=!this.get("escapeHTML"),s=this.get("batchResizeId"),o=this.get("_cachedMetrics"),u=this.get("maxFontSize");if(!n)return;return o?t=o:SC.none(r)||r===""?t={width:0,height:0}:e?t=SC.measureString(r,i,this.get("useExactMeasurement")):(this.prepareLayerForStringMeasurement(n),t=SC.metricsForString(r,n,this.get("classNames"),i,this.get("useExactMeasurement"))),this.set("measuredSize",t),this.get("shouldCacheSizes")&&this.setIfChanged("_cachedMetrics",t),this._lastMeasuredText=r,this._lastMeasuredId=s,t},prepareLayerForStringMeasurement:function(e){var t=this.get("maxFontSize");this.get("shouldAutoFitText")&&this.get("calculatedFontSize")!==t&&(e.style.fontSize=t+"px")},viewDidResize:function(e){e(),this.fontPropertyDidChange()}.enhance(),fitTextToFrame:function(){var e=this.get("autoResizeLayer");if(!e)return;var t=this.get("maxFontSize"),n=this.get("minFontSize");this.prepareLayerForStringMeasurement(e);var r=this
.get("frame"),i=this.get("autoResizePadding")||0,s=this.get("autoFitTextFramePadding"),o=s.width,u=s.height,a=r.width,f=r.height,l=a-o,c=f-u,h=this.get("measuredSize"),p=h.width,d=h.height,v;SC.typeOf(i)===SC.T_NUMBER?(l-=i,c-=i):(l-=i.width,c-=i.height);if(p<=l&&d<=c){this.set("calculatedFontSize",t),e.style.fontSize=t+"px";return}if(this.get("autoFitDiscreteFontSizes"))v=n;else{var m=l/p,g=c/d,y=Math.floor(t*Math.min(m,g)),b=this.get("classNames"),w=!this.get("escapeHTML"),E=this.get("autoResizeText"),S;y=v=Math.min(t,Math.max(n,y)),e.style.fontSize=y+"px",S=SC.metricsForString(E,e,b,w);if(S.width>l||S.height>c)for(y-=1;y>=n;y--){e.style.fontSize=y+"px",S=SC.metricsForString(E,e,b,w),v=y;if(S.width<=l&&S.height<=c)break}else if(S.width<l||S.height<c)for(y+=1;y<=t;y++){e.style.fontSize=y+"px",S=SC.metricsForString(E,e,b,w),S.width<=l&&S.height<=c&&(v=y);if(S.width>=l||S.height>=c)break}}e.style.fontSize=v+"px",this.set("calculatedFontSize",v)},applyAttributesToContext:function(e,t){e(t),this.get("shouldAutoFitText")&&t.css("font-size",this.get("calculatedFontSize")+"px")}.enhance(),didCreateLayer:function(e){e(),this.scheduleMeasurement()}.enhance()},SC.AutoResizeManager={measurementQueue:SC.CoreSet.create(),scheduleMeasurementForView:function(e){this.measurementQueue.add(e),SC.RunLoop.currentRunLoop.invokeLast(this.doBatchResize)},cancelMeasurementForView:function(e,t){this.measurementQueue.remove(e)},doBatchResize:function(){if(this!==SC.AutoResizeManager)return SC.AutoResizeManager.doBatchResize();var e,t,n,r=this.measurementQueue,i,s,o,u;while((u=r.get("length"))>0){i=NO
,e=r[u-1].get("batchResizeId");for(o=u-1;o>=0;--o){t=r[o];if(t.get("batchResizeId")!==e)continue;t.get("isVisibleInWindow")&&t.get("shouldMeasureSize")&&(n=t.get("autoResizeLayer"))&&(s=t.get("autoResizeText"),!SC.none(s)&&s!==""&&!t.get("_cachedMetrics")&&!i&&(t.prepareLayerForStringMeasurement(n),SC.prepareStringMeasurement(n,t.get("classNames")),i=YES),t.measureSize(YES)),r.remove(t);if(!e)break}i&&SC.teardownStringMeasurement()}}},SC.Button&&(SC.Button.initMixin=function(){throw"SC.Button is deprecated as a mixin and is now a subclass of SC.TemplateView. Subclass SC.ButtonView instead."}),SC.ContentDisplay={concatenatedProperties:"contentDisplayProperties",displayProperties:["content"],contentDisplayProperties:[],initMixin:function(){this._display_contentDidChange()},destroyMixin:function(){if(!this._display_content)return;this._display_stopObservingContent(this._display_content),this._display_content=null},_display_beginObservingContent:function(e){var t=this._display_contentPropertyDidChange;SC.isArray(e)?e.invoke("addObserver","*",this,t):e.addObserver&&e.addObserver("*",this,t)},_display_stopObservingContent:function(e){var t=this._display_contentPropertyDidChange;SC.isArray(e)?e.invoke("removeObserver","*",this,t):e.removeObserver&&e.removeObserver("*",this,t)},_display_contentDidChange:function(e,t,n){if((n=this.get("content"))===this._display_content)return;var r=this._display_content;r&&this._display_stopObservingContent(r),r=this._display_content=n,r&&this._display_beginObservingContent(r),this.displayDidChange()}.observes("content","contentDisplayProperties"),_display_contentPropertyDidChange
:function(e,t,n,r){if(t==="*")this.displayDidChange();else{var i=this.get("contentDisplayProperties");i&&i.indexOf(t)>=0&&this.displayDidChange()}}},SC.ContentValueSupport={hasContentValueSupport:YES,initMixin:function(){this._control_contentKeysDidChange()},value:null,content:null,contentKeys:null,_default_contentKeys:{contentValueKey:"value"},contentValueKey:null,contentPropertyDidChange:function(e,t){var n=this.get("contentKeys"),r;if(n){for(r in n)(t==="*"||t===this.getDelegateProperty(r,this,this.get("displayDelegate"),n))&&this.updatePropertyFromContent(n[r],t,r,e);return this}return this.updatePropertyFromContent("value",t,"contentValueKey",e)},updatePropertyFromContent:function(e,t,n,r){var i,s;n===undefined&&(n="content"+e.capitalize()+"Key");if(this[n])n=this.get(n);else{if(!(i=this.get("displayDelegate"))||!(s=i[n]))return this;n=i.get?i.get(n):s}if(t==="*"||t===n)r===undefined&&(r=this.get("content")),r?s=r.get?r.get(n):r[n]:s=null,this.setIfChanged(e,s);return this},updateContentWithValueObserver:function(e,t){var n=this._reverseContentKeys;if(!t||t==="*")for(t in n)this.updateContentWithValueObserver(this,t);var r=this.get(t),i=this.get("content"),s=this.getDelegateProperty(n[t],this,this.displayDelegate);if(!s||!i)return this;typeof i.setIfChanged===SC.T_FUNCTION?i.setIfChanged(s,r):i[s]!==r&&(i[s]=r)},_control_content:null,_old_contentValueKeys:null,_old_contentKeys:null,_control_contentDidChange:function(e,t){var n=this.get("content"),r=this.get("contentKeys"),i,s=this._control_content,o=this._old_contentValueKeys,u=SC.typeOf(o),a=this.contentPropertyDidChange
;if(s&&s.removeObserver&&o)if(u===SC.T_STRING)s.removeObserver(o,this,a),o=null;else{var f,l=o.get("length");for(f=0;f<l;f++)i=o[f],s.removeObserver(i,this,a);o.clear()}if(n&&n.addObserver)if(r){o||(o=SC.CoreSet.create());for(i in r)i=this.getDelegateProperty(i,this,this.get("displayDelegate")),i&&(n.addObserver(i,this,a),o.add(i))}else i=this.getDelegateProperty("contentValueKey",this,this.get("displayDelegate")),i&&(n.addObserver(i,this,a),o?o.add(i):o=i);this._control_content=n,this._old_contentValueKeys=o,t=!t||t==="content"?"*":this.get(t),t&&this.contentPropertyDidChange(n,t)}.observes("content"),_old_contentKeys:null,_control_contentKeysDidChange:function(){var e,t={},n=this.get("contentKeys")||this._default_contentKeys,r,i=this._old_contentKeys,s=this._control_contentDidChange,o=this.updateContentWithValueObserver;for(e in i)r=i[e],this.removeObserver(r,this,o),this.removeObserver(e,this,s);for(e in n)r=n[e],t[r]=e,this.addObserver(r,this,o),this.addObserver(e,this,s);this._reverseContentKeys=t,this._old_contentKeys=n,this._control_contentDidChange()}.observes("contentKeys")},SC.AUTO_CONTROL_SIZE="__AUTO__",SC.JUMBO_CONTROL_SIZE="sc-jumbo-size",SC.HUGE_CONTROL_SIZE="sc-huge-size",SC.LARGE_CONTROL_SIZE="sc-large-size",SC.REGULAR_CONTROL_SIZE="sc-regular-size",SC.SMALL_CONTROL_SIZE="sc-small-size",SC.TINY_CONTROL_SIZE="sc-tiny-size",SC.CUSTOM_CONTROL_SIZE="sc-custom-size",SC.Control=SC.mixin(SC.clone(SC.ContentValueSupport),{isControl:YES,isSelected:NO,isSelectedBindingDefault:SC.Binding.oneWay().bool(),isActive:NO,isActiveBindingDefault:SC.Binding.oneWay().bool(),fieldKey
:null,fieldLabel:null,errorLabel:function(){var e,t,n,r;return(e=this.get("fieldLabel"))?e:(t=this.get("fieldKey")||this.constructor.toString(),n=t?SC.String.capitalize(SC.String.humanize(t)):"",r=SC.String.locWithDefault("FieldKey."+t,n),SC.String.locWithDefault("ErrorLabel."+t,r))}.property("fieldLabel","fieldKey").cacheable(),controlSize:SC.REGULAR_CONTROL_SIZE,displayProperties:["isEnabled","isSelected","isActive","controlSize"],_CONTROL_TMP_CLASSNAMES:{},renderMixin:function(e,t){var n=this.get("isSelected"),r=!this.get("isEnabled"),i=this._CONTROL_TMP_CLASSNAMES;i.mixed=n===SC.MIXED_STATE,i.sel=n&&n!==SC.MIXED_STATE,i.active=this.get("isActive");var s=this.get("controlSize");s||(s=SC.REGULAR_CONTROL_SIZE),t?(e.setClass(i),this.get("renderDelegate")||e.addClass(s)):(e.$().setClass(i),this.get("renderDelegate")||e.$().addClass(s));if(!t&&this.$input){var o=this.$input();o.attr("type")!=="radio"&&this.$input().attr("disabled",r)}}}),SC.Editable={isEditable:NO,isEditing:NO,beginEditing:function(){return this.get("isEditable")?this.get("isEditing")?YES:(this.beginPropertyChanges(),this.set("isEditing",YES),this.becomeFirstResponder(),this.endPropertyChanges(),YES):NO},discardEditing:function(){return!this.get("isEditing")},commitEditing:function(){return this.get("isEditing")?(this.set("isEditing",NO),this.resignFirstResponder(),YES):YES}},SC.ALIGN_JUSTIFY="justify",SC.FlowedLayout={isFlowedLayout:YES,layoutDirection:SC.LAYOUT_HORIZONTAL,autoResize:YES,shouldResizeWidth:YES,shouldResizeHeight:YES,align:SC.ALIGN_LEFT,canWrap:YES,defaultFlowSpacing:{left:0,bottom:0,top:0,right
:0},flowPadding:{left:0,bottom:0,right:0,top:0},_scfl_validFlowPadding:function(){var e=this.get("flowPadding")||{},t={};return t.left=e.left||0,t.top=e.top||0,t.bottom=e.bottom||0,t.right=e.right||0,t}.property("flowPadding").cacheable(),concatenatedProperties:["childMixins"],initMixin:function(){this._scfl_tileOnce()},_scfl_childViewsDidChange:function(e){this._scfl_tileOnce()}.observes("childViews"),_scfl_layoutPropertyDidChange:function(e){this._scfl_tileOnce()}.observes("layoutDirection","align","flowPadding","canWrap","defaultFlowSpacing","isVisibleInWindow"),layoutDidChangeFor:function(e){var t=e._scfl_lastLayout,n=e.get("layout"),r=e.get("frame");if(!t)return arguments.callee.base.apply(this,arguments);var i=YES;t.left&&t.left!==n.left?i=NO:t.top&&t.top!==n.top?i=NO:!e.get("fillWidth")&&t.width&&t.width!==n.width?i=NO:!t.width&&!e.get("fillWidth")&&r.width!==e._scfl_lastFrame.width?i=NO:!e.get("fillHeight")&&t.height&&t.height!==n.height?i=NO:!t.height&&!e.get("fillHeight")&&r.height!==e._scfl_lastFrame.height&&(i=NO);if(i)return arguments.callee.base.apply(this,arguments);this._scfl_tileOnce(),arguments.callee.base.apply(this,arguments)},observeChildLayout:function(e){if(e._scfl_isBeingObserved)return;e._scfl_isBeingObserved=YES,e.addObserver("flowSpacing",this,"_scfl_tileOnce"),e.addObserver("isVisible",this,"_scfl_tileOnce"),e.addObserver("useAbsoluteLayout",this,"_scfl_tileOnce"),e.addObserver("calculatedWidth",this,"_scfl_tileOnce"),e.addObserver("calculatedHeight",this,"_scfl_tileOnce"),e.addObserver("startsNewRow",this,"_scfl_tileOnce"),e.addObserver("isSpacer"
,this,"_scfl_tileOnce"),e.addObserver("maxSpacerLength",this,"_scfl_tileOnce"),e.addObserver("fillWidth",this,"_scfl_tileOnce"),e.addObserver("fillHeight",this,"_scfl_tileOnce")},unobserveChildLayout:function(e){e._scfl_isBeingObserved=NO,e.removeObserver("flowSpacing",this,"_scfl_tileOnce"),e.removeObserver("isVisible",this,"_scfl_tileOnce"),e.removeObserver("useAbsoluteLayout",this,"_scfl_tileOnce"),e.removeObserver("calculatedWidth",this,"_scfl_tileOnce"),e.removeObserver("calculatedHeight",this,"_scfl_tileOnce"),e.removeObserver("startsNewRow",this,"_scfl_tileOnce"),e.removeObserver("isSpacer",this,"_scfl_tileOnce"),e.removeObserver("maxSpacerLength",this,"_scfl_tileOnce"),e.removeObserver("fillWidth",this,"_scfl_tileOnce"),e.removeObserver("fillHeight",this,"_scfl_tileOnce")},shouldIncludeChildInFlow:function(e,t){return t.get("isVisible")&&!t.get("useAbsoluteLayout")},flowSpacingForChild:function(e,t){var n=t.get("flowSpacing");return SC.none(n)&&(n=this.get("defaultFlowSpacing")),SC.none(n)&&(n=0),SC.typeOf(n)===SC.T_NUMBER?n={left:n,right:n,bottom:n,top:n}:(n.left=n.left||0,n.right=n.right||0,n.top=n.top||0,n.bottom=n.bottom||0),n},flowSizeForChild:function(e,t){var n=t.get("calculatedWidth"),r=t.get("calculatedHeight"),i=this.get("layoutDirection"),s={},o=t.get("frame"),u=t.get("layout");return t._scfl_lastFrame=o,n?s.width=n:s.width=u.width||o.width,r?s.height=r:s.height=u.height||o.height,t.get("isSpacer")&&(s.maxSpacerLength=t.get("maxSpacerLength"),i===SC.LAYOUT_HORIZONTAL?s.width=u.minWidth||0:s.height=u.minHeight||0),i===SC.LAYOUT_HORIZONTAL&&t.get("fillHeight"
)?s.height=u.minHeight||0:i===SC.LAYOUT_VERTICAL&&t.get("fillWidth")&&(s.width=u.minWidth||0),s},clippingFrame:function(){return{left:0,top:0,width:this.get("calculatedWidth"),height:this.get("calculatedHeight")}}.property("calculatedWidth","calculatedHeight"),_scfl_maxCollapsedRowLength:0,_scfl_totalCollapsedRowSize:0,_scfl_calculatedSizeDidChange:function(){this.get("autoResize")&&(this.get("layoutDirection")==SC.LAYOUT_VERTICAL?(this.get("shouldResizeHeight")&&this.adjust("minHeight",this.get("_scfl_maximumCollapsedRowLength")),this.get("shouldResizeWidth")&&this.adjust("minWidth",this.get("_scfl_totalCollapsedRowSize"))):(this.get("shouldResizeWidth")&&this.adjust("minWidth",this.get("_scfl_maximumCollapsedRowLength")),this.get("shouldResizeHeight")&&this.adjust("minHeight",this.get("_scfl_totalCollapsedRowSize"))))}.observes("autoResize","shouldResizeWidth","_scfl_maximumCollapsedRowLength","_scfl_totalCollapsedRowSize","shouldResizeHeight"),_scfl_createPlan:function(){var e=this.get("layoutDirection"),t=this.get("_scfl_validFlowPadding"),n=this.get("frame"),r=e===SC.LAYOUT_VERTICAL,i={rows:undefined,maximumCollapsedRowLength:0,totalCollapsedRowSize:0,isVertical:e===SC.LAYOUT_VERTICAL,isHorizontal:e===SC.LAYOUT_HORIZONTAL,flowPadding:t,planStartPadding:t[r?"left":"top"],planEndPadding:t[r?"right":"bottom"],rowStartPadding:t[r?"top":"left"],rowEndPadding:t[r?"bottom":"right"],maximumRowLength:undefined,fitToPlanSize:undefined,align:this.get("align")};return r?(i.maximumRowLength=n.height-i.rowStartPadding-i.rowEndPadding,i.fitToPlanSize=n.width-i.planStartPadding-i.planEndPadding
):(i.maximumRowLength=n.width-i.rowStartPadding-i.rowEndPadding,i.fitToPlanSize=n.height-i.planStartPadding-i.planEndPadding),i},_scfl_distributeChildrenIntoRows:function(e){var t=this.get("childViews"),n,r,i=t.length,s=e.isVertical,o=[],u;u=-1,r=0;while(r<i&&r!==u){u=r;var a={plan:e,rowLength:undefined,rowSize:undefined,shouldExpand:undefined,items:undefined,position:undefined};r=this._scfl_distributeChildrenIntoRow(t,r,a),o.push(a)}e.rows=o},_scfl_distributeChildrenIntoRow:function(e,t,n){var r,i=e.length,s=n.plan,o,u,a,f=[],l=0,c=s.isVertical,h,p,d,v=this.get("canWrap"),m=NO,g=0,y=n.plan.maximumRowLength;for(r=t;r<i;r++){o=e[r],m=m||f.length>0&&o.get("startsNewRow");if(!this.shouldIncludeChildInFlow(r,o))continue;u=this.flowSizeForChild(r,o),a=this.flowSpacingForChild(r,o),u.width+=a.left+a.right,u.height+=a.top+a.bottom,p=u[c?"height":"width"],SC.none(u.maxSpacerLength)||(d=u.maxSpacerLength+(c?a.top+a.bottom:a.left+a.right)),h=u[c?"width":"height"];if((m||v&&l+p>y)&&f.length>0)break;var b={child:o,itemLength:p,maxSpacerLength:d,itemSize:h,spacing:a,position:undefined,fillRow:c?o.get("fillWidth"):o.get("fillHeight"),isSpacer:o.get("isSpacer"),left:undefined,top:undefined,width:undefined,height:undefined};f.push(b),l+=p,g=Math.max(p,g)}n.rowLength=l;var w=v?g:n.rowLength;return n.plan.maximumCollapsedRowLength=Math.max(w,n.plan.maximumCollapsedRowLength),n.items=f,r},_scfl_positionChildrenInRows:function(e){var t=e.rows,n=t.length,r;for(r=0;r<n;r++)this._scfl_positionChildrenInRow(t[r])},_scfl_positionChildrenInRow:function(e){var t=e.items,n=t.length,r,i,s,o=0,u=0,a,f=e.
plan.align,l=YES,c=0,h=NO;for(r=0;r<n;r++)i=t[r],i.isSpacer&&(u+=i.child.get("spaceUnits")||1);f===SC.ALIGN_JUSTIFY&&(u+=n-1),a=Math.max(0,e.plan.maximumRowLength-e.rowLength)/u;while(a>0){for(r=0;r<n;r++)i=t[r],i.isSpacer&&(i.itemLength+=a*(i.child.get("spaceUnits")||1),i.itemLength>i.maxSpacerLength?(c+=i.itemLength-i.maxSpacerLength,i.itemLength=i.maxSpacerLength):h=YES);if(!h)break;a=Math.round(c/u),c=0}s=0,u!==0||f!==SC.ALIGN_RIGHT&&f!==SC.ALIGN_BOTTOM?u===0&&(f===SC.ALIGN_CENTER||f===SC.ALIGN_MIDDLE)&&(s=e.plan.maximumRowLength/2-e.rowLength/2):s=e.plan.maximumRowLength-e.rowLength,s+=e.plan.rowStartPadding;for(r=0;r<n;r++)i=t[r],i.fillRow||(l=NO),o=Math.max(i.itemSize,o),i.position=s,s+=i.itemLength,f===SC.ALIGN_JUSTIFY&&r<n-1&&(s+=a);e.shouldExpand=n>0?l:NO,e.rowLength=s-e.plan.rowStartPadding,e.rowSize=o,e.plan.totalCollapsedRowSize+=e.rowSize},_scfl_positionRows:function(e){var t=e.rows,n=t.length,r,i,s,o=0,u=0,a;for(r=0;r<n;r++)t[r].shouldExpand&&o++,u+=t[r].rowSize;a=e.fitToPlanSize-u,s=e.planStartPadding;for(r=0;r<n;r++)i=t[r],i.shouldExpand&&a>0&&(i.rowSize+=a/o,o--),i.position=s,s+=i.rowSize},_scfl_applyPlan:function(e){var t=e.rows,n,r,i,s=0,o=0,u,a,f,l,c,h,p=e.isVertical;r=t.length;for(n=0;n<r;n++){i=t[n],s=Math.max(s,i.rowLength),o+=i.rowSize,u=i.items,f=u.length;for(a=0;a<f;a++)l=u[a],l.child.beginPropertyChanges(),h=l.fillRow?i.rowSize:l.itemSize,c={left:l.spacing.left+(p?i.position:l.position),top:l.spacing.top+(p?l.position:i.position),width:p?h:l.itemLength,height:p?l.itemLength:h},c.width-=l.spacing.left+l.spacing.right,c.height-=l.spacing.top+l.spacing
.bottom,this.applyPlanToView(l.child,c),l.child._scfl_lastLayout=c,l.child.endPropertyChanges()}o+=e.planStartPadding+e.planEndPadding,s+=e.rowStartPadding+e.rowEndPadding,this.beginPropertyChanges(),this.set("calculatedHeight",p?s:o),this.set("calculatedWidth",p?o:s),this.set("_scfl_maximumCollapsedRowLength",e.maximumCollapsedRowLength),this.set("_scfl_totalCollapsedRowSize",e.totalCollapsedRowSize),this.endPropertyChanges()},applyPlanToView:function(e,t){e.adjust(t)},_scfl_tileOnce:function(){this.invokeLast(this._scfl_tile)},_scfl_tile:function(){if(!this.get("isVisibleInWindow"))return;var e=this._scfl_createPlan();this._scfl_distributeChildrenIntoRows(e),this._scfl_positionChildrenInRows(e),this._scfl_positionRows(e),this._scfl_applyPlan(e),this.setIfChanged("numberOfRows",e.rows.length);var t=this._scfl_isObserving||SC.CoreSet.create(),n=SC.CoreSet.create(),r=this.get("childViews"),i=r.length,s,o;for(s=0;s<i;s++)o=r[s],t.contains(o)?t.remove(o):this.observeChildLayout(o),n.add(o);i=t.length;for(s=0;s<i;s++)this.unobserveChildLayout(t[s])},_scfl_frameDidChange:function(){var e=this.get("frame"),t=this._scfl_lastFrameSize||{};this._scfl_lastFrameSize=SC.clone(e);if(t.width==e.width&&t.height==e.height)return;this._scfl_tileOnce()}.observes("frame"),destroyMixin:function(){var e=this._scfl_isObserving;if(!e)return;var t=e.length,n;for(n=0;n<t;n++)this.unobserveChildLayout(e[n])},reorder:function(e){!SC.typeOf(e)===SC.T_ARRAY&&(e=arguments);var t=e.length,n=this.childViews,r;this.beginPropertyChanges();while(t-->0)r=e[t],SC.typeOf(r)===SC.T_STRING&&(r=this.get(r)),n.removeObject
(r),n.unshiftObject(r);return this.endPropertyChanges(),this._scfl_childViewsDidChange(),this}},SC.Gesturable={concatenatedProperties:["gestures"],gestures:[],initMixin:function(){this.createGestures()},createGestures:function(){var e=this.get("gestures"),t,n=e.length,r,i=[];for(t=0;t<n;t++){SC.typeOf(e[t])===SC.T_STRING?r=this.get(e[t]):r=e[t];if(!r)throw"Could not find gesture named '"+e[t]+"' on view.";r.isClass&&(r=r.create({view:this})),SC.typeOf(e[t])===SC.T_STRING&&(this[e[t]]=r),i.push(r)}this.set("gestures",i)},touchStart:function(e){this.gestureTouchStart(e)},touchesDragged:function(e,t){this.gestureTouchesDragged(e,t)},touchEnd:function(e){this.gestureTouchEnd(e)},gestureTouchStart:function(e){e.isInteresting=0;var t=this.get("gestures"),n,r=t.length,i;for(n=0;n<r;n++)i=t[n],i.unassignedTouchDidStart(e)},gestureTouchesDragged:function(e,t){var n=this.get("gestures"),r,i=n.length,s;for(r=0;r<i;r++)s=n[r],s.unassignedTouchesDidChange(e,t)},gestureTouchEnd:function(e){var t=this.get("gestures"),n,r=t.length,i;for(n=0;n<r;n++)i=t[n],i.unassignedTouchDidEnd(e)}},SC.InlineEditable={isInlineEditable:YES,isEditable:YES,exampleEditor:SC.InlineTextFieldView,isEditing:NO,inlineEditorDelegate:SC.InlineTextFieldDelegate,_editor:null,beginEditing:function(){var e;return e=this.delegateFor("inlineEditorShouldBeginEditing",this.inlineEditorDelegate),e&&!e.inlineEditorShouldBeginEditing(this,this.get("value"))?NO:(this._editor=this.invokeDelegateMethod(this.inlineEditorDelegate,"acquireEditor",this),this._editor?this._editor.beginEditing(this):NO)},commitEditing:function(){return this
._editor?this._editor.commitEditing():NO},discardEditing:function(){return this._editor?this._editor.discardEditing():NO},inlineEditorShouldBeginEditing:function(){return!this.get("isEditing")&&this.get("isEditable")},inlineEditorWillBeginEditing:function(e,t,n){e.set("value",this.get("value"))},inlineEditorDidBeginEditing:function(e,t,n){this.set("isEditing",YES)},inlineEditorWillCommmitEditing:function(e,t,n){this.inlineEditorWillEndEditing&&this.inlineEditorWillEndEditing(e,t)},inlineEditorDidCommitEditing:function(e,t,n){n.setIfChanged("value",t),this.inlineEditorDidEndEditing&&this.inlineEditorDidEndEditing(e,t),this._endEditing()},inlineEditorWillDiscardEditing:function(e,t){this.inlineEditorWillEndEditing&&this.inlineEditorWillEndEditing(e,this.get("value"))},inlineEditorDidDiscardEditing:function(e,t){this.inlineEditorDidEndEditing&&this.inlineEditorDidEndEditing(e,this.get("value")),this._endEditing()},_endEditing:function(){this._editor&&(this.invokeDelegateMethod(this.inlineEditorDelegate,"releaseEditor",this._editor),this._editor=null),this.set("isEditing",NO)}},SC.InlineEditor={isInlineEditor:YES,isEditing:NO,inlineEditorDelegate:null,_target:null,beginEditing:function(e){if(this.get("isEditing")||!e||!e.isInlineEditable)return NO;var t,n;return n=this._target=e,t=this.delegateFor("inlineEditorWillBeginEditing",this.inlineEditorDelegate,n),t&&t.inlineEditorWillBeginEditing(this,this.get("value"),n),this.set("isEditing",YES),this.invokeLast(this._callDidBegin),this._didBeginInvoked=YES,YES},_callDidBegin:function(){if(!this.get("isEditing"))return NO;this._didBeginInvoked=
NO;var e=this._target,t;t=this.delegateFor("inlineEditorDidBeginEditing",this.inlineEditorDelegate,e),t&&t.inlineEditorDidBeginEditing(this,this.get("value"),e)},commitEditing:function(){if(!this.get("isEditing"))return NO;this._didBeginInvoked&&this._callDidBegin();var e,t=this._target;return e=this.delegateFor("inlineEditorShouldCommitEditing",this.inlineEditorDelegate,t),e&&!e.inlineEditorShouldCommitEditing(this,this.get("value"),t)?NO:(e=this.delegateFor("inlineEditorWillCommitEditing",this.inlineEditorDelegate,t),e&&e.inlineEditorWillCommitEditing(this,this.get("value"),t),this._endEditing(),e=this.delegateFor("inlineEditorDidCommitEditing",this.inlineEditorDelegate,t),e&&e.inlineEditorDidCommitEditing(this,this.get("value"),t),YES)},discardEditing:function(){if(!this.get("isEditing"))return NO;this._didBeginInvoked&&this._callDidBegin();var e,t=this._target;return e=this.delegateFor("inlineEditorShouldDiscardEditing",this.inlineEditorDelegate,t),e&&!e.inlineEditorShouldDiscardEditing(this,t)?NO:(e=this.delegateFor("inlineEditorWillDiscardEditing",this.inlineEditorDelegate,t),e&&e.inlineEditorWillDiscardEditing(this,t),this._endEditing(),e=this.delegateFor("inlineEditorDidDiscardEditing",this.inlineEditorDelegate,t),e&&e.inlineEditorDidDiscardEditing(this,t),YES)},_endEditing:function(){this.set("isEditing",NO),this._target=null}},SC.InlineEditorDelegate={acquireEditor:function(e){},releaseEditor:function(e){},inlineEditorShouldBeginEditing:function(e,t){},inlineEditorWillBeginEditing:function(e,t,n){},inlineEditorDidBeginEditing:function(e,t,n){},inlineEditorShouldCommitEditing
:function(e,t,n){},inlineEditorWillCommitEditing:function(e,t,n){},inlineEditorDidCommitEditing:function(e,t,n){},inlineEditorShouldDiscardEditing:function(e,t){},inlineEditorWillDiscardEditing:function(e,t){},inlineEditorDidDiscardEditing:function(e,t){},inlineEditorWillEndEditing:function(e,t,n){},inlineEditorDidEndEditing:function(e,t,n){}},SC.SCALE_NONE="none",SC.FILL="fill",SC.FILL_PROPORTIONALLY="fillProportionally",SC.BEST_FIT="fitBest",SC.BEST_FIT_DOWN_ONLY="fitBestDown",SC.InnerFrame={align:SC.ALIGN_CENTER,innerFrameForSize:function(e,t,n,r){var i=this.get("align"),s=this.get("scale"),o,u,a;a={x:0,y:0,width:n,height:r};if(s===SC.FILL)return a;o=n/e,u=r/t;switch(s){case SC.FILL_PROPORTIONALLY:s=o>u?o:u;break;case SC.BEST_FIT:s=o<u?o:u;break;case SC.BEST_FIT_DOWN_ONLY:e>n||t>r?s=o<u?o:u:s=1;break;case SC.SCALE_NONE:s=1;break;default:if(isNaN(window.parseFloat(s))||window.parseFloat(s)<=0)return SC.Logger.warn("SC.InnerFrame: The scale '%@' was not understood.  Scale must be one of SC.FILL, SC.FILL_PROPORTIONALLY, SC.BEST_FIT, SC.BEST_FIT_DOWN_ONLY or a positive number greater than 0.00.".fmt(s)),a}e*=s,t*=s,a.width=Math.round(e),a.height=Math.round(t);switch(i){case SC.ALIGN_LEFT:a.x=0,a.y=r/2-t/2;break;case SC.ALIGN_RIGHT:a.x=n-e,a.y=r/2-t/2;break;case SC.ALIGN_TOP:a.x=n/2-e/2,a.y=0;break;case SC.ALIGN_BOTTOM:a.x=n/2-e/2,a.y=r-t;break;case SC.ALIGN_TOP_LEFT:a.x=0,a.y=0;break;case SC.ALIGN_TOP_RIGHT:a.x=n-e,a.y=0;break;case SC.ALIGN_BOTTOM_LEFT:a.x=0,a.y=r-t;break;case SC.ALIGN_BOTTOM_RIGHT:a.x=n-e,a.y=r-t;break;default:i!==SC.ALIGN_CENTER&&i!==SC.ALIGN_MIDDLE&&SC.Logger
.warn("SC.InnerFrame: The align '%@' was not understood.  Align must be one of SC.ALIGN_CENTER/SC.ALIGN_MIDDLE, SC.ALIGN_LEFT, SC.ALIGN_RIGHT, SC.ALIGN_TOP, SC.ALIGN_BOTTOM, SC.ALIGN_TOP_LEFT, SC.ALIGN_TOP_RIGHT, SC.ALIGN_BOTTOM_LEFT or SC.ALIGN_BOTTOM_RIGHT.".fmt(i)),a.x=n/2-e/2,a.y=r/2-t/2}return a},scale:SC.FILL},SC.StaticLayout={hasStaticLayout:YES},SC.Validatable={initMixin:function(){this._validatable_validatorDidChange()},validator:null,errorLabel:null,isValid:function(){return SC.typeOf(this.get("value"))!==SC.T_ERROR}.property("value"),ownerForm:null,performValidate:function(e){var t=SC.VALIDATE_OK;if(this._validator){var n=this.get("ownerForm");e?(t=this._validator.validatePartial(n,this),t==SC.VALIDATE_NO_CHANGE&&this._validator.validateChange(n,this)==SC.VALIDATE_OK&&(t=SC.VALIDATE_OK)):t=this._validator.validateChange(n,this)}return t},performValidateSubmit:function(){return this._validator?this._validator.validateSubmit(this.get("ownerForm"),this):SC.VALIDATE_OK},performValidateKeyDown:function(e){var t=e.getCharString();return t?this._validator?this._validator.validateKeyDown(this.get("ownerForm"),this,t):YES:YES},validatorObject:function(){return this._validator}.property(),validateSubmit:function(){return this.performValidateSubmit()},objectForFieldValue:function(e,t){return this._validator?this._validator.objectForFieldValue(e,this.get("ownerForm"),this):e},fieldValueForObject:function(e){return this._validator?this._validator.fieldValueForObject(e,this.get("ownerForm"),this):e},_validatable_displayObserver:function(){this.displayDidChange()}.observes("isValid"
),renderMixin:function(e){e.setClass("invalid",!this.get("isValid"))},_validatable_validatorDidChange:function(){var e=this.get("ownerForm"),t=SC.Validator.findFor(e,this,this.get("validator"));t!=this._validator&&(this.propertyWillChange("validatorObject"),this._validator&&this._validator.detachFrom(e,this),this._validator=t,this._validator&&this._validator.attachTo(e,this),this.propertyDidChange("validatorObject"))}.observes("validator","ownerForm")},SC.RenderDelegate={create:function(){var e=SC.beget(this),t,n=arguments.length;for(t=0;t<n;t++)e.mixin(arguments[t]);return e},reopen:function(e){var t,n;for(t in e){n=e[t];if(!e.hasOwnProperty(t))continue;typeof n=="function"&&n!==this[t]&&(n.base=this[t]||SC.K),n&&n.isEnhancement&&n!==this[t]&&(n=SC._enhance(this[t]||SC.K,n)),this[t]=n}},get:function(e){return this[e]},getPropertyFor:function(e,t){return this[t+"For"]?this[t+"For"](e,t):this[t]},className:undefined,render:function(e,t){},update:function(e,t){}},SC.RenderDelegate.extend=SC.RenderDelegate.create,SC.RenderDelegate.mixin=SC.RenderDelegate.reopen,SC.BaseTheme.canvasImageRenderDelegate=SC.RenderDelegate.create({className:"canvasImage",render:function(e,t){var n=e.get("width")||0,r=e.get("height")||0;t.attr("width",n),t.attr("height",r)},update:function(e,t){var n=t[0],r=e.get("image"),i=e.get("frame"),s=i.width,o=i.height,u=e.get("innerFrame"),a=e.get("backgroundColor"),f=e.get("renderState"),l,c=![u.x,u.y,u.width,u.height].isEqual(f._lastInnerFrameValues),h=![n.width,n.height].isEqual(f._lastElemSizeValues),p=e.didChangeFor("canvasImageRenderDelegate","backgroundColor"
),d=e.didChangeFor("canvasImageRenderDelegate","image")||(r&&r.complete)!==f._lastImageComplete;if(h||c||p||d)n&&n.getContext&&(n.height=o,n.width=s,l=n.getContext("2d"),l.clearRect(0,0,s,o),a&&(l.fillStyle=a,l.fillRect(0,0,s,o)),r&&r.complete&&l.drawImage(r,Math.floor(u.x),Math.floor(u.y),Math.floor(u.width),Math.floor(u.height))),f._lastInnerFrameValues=[u.x,u.y,u.width,u.height],f._lastElemSizeValues=[n.width,n.height],f._lastImageComplete=r&&r.complete}}),SC.BaseTheme.containerRenderDelegate=SC.RenderDelegate.create({render:function(e,t){},update:function(){}}),SC.RenderDelegate.reopen({sizes:[SC.TINY_CONTROL_SIZE,SC.SMALL_CONTROL_SIZE,SC.REGULAR_CONTROL_SIZE,SC.LARGE_CONTROL_SIZE,SC.HUGE_CONTROL_SIZE,SC.JUMBO_CONTROL_SIZE],sizeFor:function(e){var t=e.get("controlSize"),n,r,i;if(t)return this[t]||(this[t]={}),n=this[t],n.name||(n.name=t),n;var s=e.get("frame");if(!s)return n=this["sc-regular-size"],n||(n=this["sc-regular-size"]={}),n.name||(n.name="sc-regular-size"),n;for(r=0;r<i;r++){key=sizes[r],n=this[key];if(!n)continue;if(n.width===undefined&&n.height===undefined&&n.minHeight===undefined&&n.minWidth===undefined&&n.maxHeight===undefined&&n.maxWidth===undefined||n.width!==undefined&&s.width!==n.width||n.minWidth!==undefined&&s.width<n.minWidth||n.maxWidth!==undefined&&s.width>n.maxWidth||n.height!==undefined&&s.height!==n.height||n.minHeight!==undefined&&s.height<n.minHeight||n.maxHeight!==undefined&&s.height<n.maxHeight)continue;return n.name||(n.name=key),n}return n=this["sc-regular-size"],n||(n=this["sc-regular-size"]={}),n.name||(n.name="sc-regular-size"),n},addSizeClassName
:function(e,t){var n=this.sizeFor(e);n&&t.addClass(n.name)},updateSizeClassName:function(e,t){var n=this.sizeFor(e);n&&t.addClass(n.name)},getPropertyFor:function(e,t){var n=this.sizeFor(e);if(n){if(n[t+"For"])return n[t+"For"](e,t);if(n[t]!==undefined)return n[t]}return this[t+"For"]?this[t+"For"]:this[t]}}),SC.BaseTheme.imageRenderDelegate=SC.RenderDelegate.create({className:"image",render:function(e,t){var n=e.get("image"),r=e.get("imageValue"),i=e.get("type")||SC.IMAGE_TYPE_URL,s=e.get("toolTip");t=t.begin("img"),t.attr("src",n.src),r&&i===SC.IMAGE_TYPE_CSS_CLASS&&(t.addClass(r),this._last_class=r),s&&(t.attr("title",s),t.attr("aria-label",s)),t.addStyle(this.imageStyles(e)),t=t.end()},update:function(e,t){var n=e.get("image"),r=e.get("imageValue"),i=e.get("toolTip");t=t.find("img"),t.attr("src",n.src),r!==this._last_class&&t.setClass(this._last_class,NO),r&&(t.addClass(r),this._last_class=r),i&&(t.attr("title",i),t.attr("alt",i)),t.css(this.imageStyles(e))},imageStyles:function(e){var t=e.get("innerFrame");return{position:"absolute",left:Math.round(t.x),top:Math.round(t.y),width:Math.round(t.width),height:Math.round(t.height)}}}),SC.BaseTheme.labelRenderDelegate=SC.RenderDelegate.create({className:"label",render:function(e,t){this.addSizeClassName(e,t);var n=e.get("fontWeight"),r=e.get("textAlign");(n||r)&&t.addStyle({fontWeight:n||null,textAlign:r||null}),t.setClass("ellipsis",e.get("needsEllipsis")||NO),t.setClass("icon",e.get("icon")||NO);var i=this.htmlForTitleAndIcon(e);t.push(i),e.get("renderState")._lastHTMLForTitleAndIcon=i},update:function(e,t){this.updateSizeClassName
(e,t);var n=e.get("fontWeight"),r=e.get("textAlign");(n||r)&&t.css({fontWeight:n||null,textAlign:r||null}),t.setClass("ellipsis",e.get("needsEllipsis")||NO);var i=this.htmlForTitleAndIcon(e);e.get("renderState")._lastHTMLForTitleAndIcon!==i&&(t.html(i),e.get("renderState")._lastHTMLForTitleAndIcon=i)},htmlForTitleAndIcon:function(e){var t=e.get("title"),n=e.get("hint"),r=e.get("hintEnabled"),i=e.get("escapeHTML"),s=e.get("icon")||"";return t&&i&&(t=SC.RenderContext.escapeHTML(t)),r&&n&&!t&&(i&&(n=SC.RenderContext.escapeHTML(n)),t="<span class='sc-hint'>"+n+"</span>"),s&&(s.indexOf("/")>=0?s='<img src="'+s+'" class="icon" />':s='<img src="'+SC.BLANK_IMAGE_URL+'" class="icon '+s+'" />'),s+t}}),SC.Benchmark={verbose:NO,enabled:YES,events:{},stats:{},globalStartTime:null,addEvent:function(e,t){t||(t=(new Date).getTime()),this.events[e]=t},start:function(e,t,n,r){if(!this.enabled)return;var i=n||Date.now(),s;return t?s=this._subStatFor(e,t):s=this._statFor(e),r&&s._starts.length>0?s._starts.push("ignore"):s._starts.push(i),s._times.push({start:i,_subStats:{}}),e},end:function(e,t,n){var r,i,s;if(!this.enabled)return;t?r=this._subStatFor(e,t):r=this._statFor(e),i=r._starts,i&&(s=i.pop());if(!s){SC.Logger.log('SC.Benchmark "%@" ended without a matching start.  No information was saved.'.fmt(e));return}if(s=="ignore")return;var o=n||Date.now(),u=o-s;r._times[r._times.length-1].end=o,r._times[r._times.length-1].dur=u,r.amt+=u,r.runs++,this.verbose&&this.log(e)},setGlobalStartTime:function(e){this.globalStartTime=e},bench:function(e,t,n){t||(t="bench%@".fmt(this._benchCount++)),n||(n=1
);var r;while(--n>=0){var i=SC.Benchmark.start(t);r=e(),SC.Benchmark.end(i)}return r},install:function(e,t,n){e["b__"+t]=e[t];var r=e["b__"+t];e[t]=function(){var e="%@(%@)".fmt(t,$A(arguments).join(", "));SC.Benchmark.start(e,n);var i=r.apply(this,arguments);return SC.Benchmark.end(e),i}},restore:function(e,t){e[t]=e["b__"+t]},report:function(e){if(e)return this._genReport(e);var t=[];for(var n in this.stats){if(!this.stats.hasOwnProperty(n))continue;t.push(this._genReport(n))}return t.join("\n")},timelineReport:function(e){e=e?"SproutCore Application":e;var t=[e,"User-Agent: %@".fmt(navigator.userAgent),"Report Generated: %@ (%@)".fmt((new Date).toString(),Date.now()),""],n=this._compileChartData(!0);for(var r=0;r<n.length;r++)n[r][4]?t.push(this._timelineGenSubReport(n[r])):t.push(this._timelineGenReport(n[r]));return t.join("\n")},getTimelineChartContent:function(){var e=this._compileChartData(!1),t=e.length;if(t===0)return;var n=this.globalStartTime?this.globalStartTime:e[0][1],r=e[t-1][2]-n,i=25+t*30,s=Math.ceil(r/200)+1,o=s*50,u=10,a=300,f="<div class = 'sc-benchmark-timeline-chart' style = 'position:relative;'>";f+="<div class = 'sc-benchmark-top'></div>";for(var l=0;l<s;l++)f+="<div class = 'sc-benchmark-tick' style = '",f+="left: "+(u+l*50)+"px; ",f+="height: "+i+"px;",f+="'></div>",f+="<div class = 'sc-benchmark-tick-label' style = '",f+="left: "+(u+l*50)+"px; ",f+="'>"+l*200+"ms</div>";for(l=0;l<t;l++){f+="<div class = 'sc-benchmark-row ",f+=l%2===0?"even":"odd",f+="' style = '",f+="top: "+(50+l*30)+"px; ",f+="'></div>";var c=document.createElement("div"),h=e[l][1
],p=e[l][2],d=e[l][3];f+="<div class = 'sc-benchmark-bar' style = '",f+="left:"+(u+(h-n)/4)+"px; width: "+d/4+"px;",f+="top: "+(28+l*30)+"px;",f+="' title = 'start: "+(h-n)+" ms, end: "+(p-n)+" ms, duration: "+d+" ms'",f+=">",f+="&nbsp;"+e[l][0]+" <span class='sc-benchmark-emphasis'>",f+=d+"ms (start: "+(h-n)+"ms)",f+="</span>",f+="</div>"}var v=this.events,m=0;for(l in v){var g=v[l]-n;f+="<div class = 'sc-benchmark-event idx"+m%10+"' style = '",f+="left: "+(u+g/4)+"px; height: "+i+"px; top: 20px;",f+="' title = '"+l+": "+g+"'></div>",m++}return f+="</div>",{html:f,totalCapturedTime:r,pointsCaptured:t,width:o+u+a,height:i}},getTimelineChartView:function(){var e=SC.ScrollView.create({contentView:SC.StaticContentView.extend({}),reload:function(){var e=SC.Benchmark.getTimelineChartContent();this.contentView.set("content",e.html),this.contentView.adjust({width:e.width,height:e.height}),this.chartContent=e,SC.RunLoop.invokeLater(SC.Benchmark,function(){this.contentView.notifyPropertyChange("frame")})}});return e.reload(),e},timelineChart:function(e){SC.RunLoop.begin();var t=0;this.hideChart();var n=this.getTimelineChartView(),r=n.chartContent.pointsCaptured,i=n.chartContent.totalCapturedTime;this._benchmarkChart=SC.Pane.create({classNames:["sc-benchmark-pane"],layout:{left:20,right:20,bottom:20,top:20},childViews:["title","exit"],exit:SC.ButtonView.extend({layout:{right:20,top:20,width:100,height:30},title:"Hide Chart",target:this,action:"hideChart"}),title:SC.LabelView.extend({classNames:["sc-benchmark-title"],layout:{left:20,top:23,right:200,height:30},value:(e?e:"SproutCore Application"
)+(" - Total Captured Time: "+i+" ms - Points Captured: "+r),fontWeight:"bold"})}).append(),n.set("layout",{left:20,top:60,bottom:20,right:20}),this._benchmarkChart.appendChild(n),SC.RunLoop.end()},hideChart:function(){return this._benchmarkChart&&(this._benchmarkChart.remove(),this._benchmarkChart=null),YES},tryToPerform:function(e,t){return this[e]?this[e](t):NO},log:function(e){var t=this.report(e).split("\n"),n=t.length,r;for(r=0;r<n;r++)SC.Logger.log(t[r])},startProfile:function(e){if(!this.enabled)return;SC.Logger.profile(e)},endProfile:function(e){if(!this.enabled)return;SC.Logger.profileEnd(e)},loadPreloadEvents:function(){var e=SC.benchmarkPreloadEvents,t=[],n,r,i;typeof webkitPerformnce!="undefined"&&SC.mixin(e,webkitPerformane.timing);if(!this.globalStartTime){var s=["navigation","navigationStart","headStart"];r=s.length;for(n=0;n<r;n++)if(e[s[n]]){this.globalStartTime=e[s[n]];break}}this.javascriptStartTime=e.headStart,SC.mixin(this.events,e),this._hasLoadedPreloadEvents=!0},_loadBenchmarksFromEvents:function(){this._hasLoadedPreloadEvents||this.loadPreloadEvents();var e=this.events;for(var t in e){if(t.substr(-3)!=="End")continue;var n=t.substr(0,t.length-3);if(!e[n+"Start"])continue;SC.Benchmark.start(n,undefined,e[n+"Start"]),SC.Benchmark.end(n,undefined,e[n+"End"]),delete e[n+"Start"],delete e[n+"End"]}},_compileChartData:function(e){this._loadBenchmarksFromEvents();var t=[],n;for(var r in this.stats){var i=this.stats[r];for(var s=0;s<i._times.length;s++){var o=i._times[s];n=i._times.length>1?s+1+" - "+r:r,t.push([n,o.start,o.end,o.dur,!1]);if(e){var u=o._subStats
;for(var a in u){var f=u[a];for(var l=0;l<f._times.length;l++){var c=f._times[l];n=f._times.length>1?l+1+" - "+a:a,t.push([n,c.start,c.end,c.dur,!0])}}}}}return t.sort(function(e,t){return e[1]<t[1]?-1:e[1]==t[1]?e[3]&&!t[3]?-1:!e[3]&&t[3]?1:0:1}),t},_genReport:function(e){var t=this._statFor(e),n=t.runs>0?Math.floor(t.amt*1e3/t.runs)/1e3:0,r=t._times[t._times.length-1];return"BENCH %@ msec: %@ (%@x); latest: %@".fmt(n,t.name||e,t.runs,r.end-r.start)},_timelineGenReport:function(e){return this.globalStartTime?"BENCH start: %@ msec, duration: %@ msec,  %@".fmt(e[1]-this.globalStartTime,e[3],e[0]):"BENCH duration: %@ msec, %@".fmt(e[3],e[0])},_timelineGenSubReport:function(e){return this.globalStartTime?"   CHECKPOINT BENCH start: %@ msec, duration: %@ msec,  %@".fmt(e[1]-this.globalStartTime,e[3],e[0]):"   CHECKPOINT BENCH duration: %@ msec, %@".fmt(e[3],e[0])},_subStatFor:function(e,t){var n=this.stats[t]._times.length;if(n===0)return;var r=this.stats[t]._times[this.stats[t]._times.length-1]._subStats,i=r[e];return i||(r[e]={runs:0,amt:0,name:e,_starts:[],_times:[]},i=r[e]),i},_statFor:function(e){var t=this.stats[e];return t||(t=this.stats[e]={runs:0,amt:0,name:e,_starts:[],_times:[]},t=this.stats[e]),t},reset:function(){this.stats={}},_bench:function(e,t){SC.Benchmark.bench(e,t,1)},_benchCount:1},SC.Benchmark=SC.Benchmark,SC.Cookie=SC.Object.extend({name:null,value:"",expires:null,path:null,domain:null,secure:NO,isCookie:YES,destroy:function(){this.set("expires",-1),this.write(),arguments.callee.base.apply(this,arguments)},write:function(){var e=this.get("name"),t=this.get
("value"),n=this.get("expires"),r=this.get("path"),i=this.get("domain"),s=this.get("secure"),o="",u;return n&&(typeof n===SC.T_NUMBER?(u=new Date,u.setTime(u.getTime()+n*24*60*60*1e3)):SC.DateTime&&n.get&&n.get("milliseconds")?u=new Date(n.get("milliseconds")):n.toUTCString&&n.toUTCString.apply&&(u=n),u&&(o="; expires="+u.toUTCString())),SC.none(r)||(o+="; path="+r),SC.none(i)||(o+="; domain="+i),s===YES&&(o+="; secure"),document.cookie=e+"="+encodeURIComponent(t)+o,this}}),SC.Cookie.mixin({find:function(e){if(document.cookie&&document.cookie!==""){var t=document.cookie.split(";");for(var n=0;n<t.length;n++){var r=SC.String.trim(String(t[n]));if(r.substring(0,e.length+1)===e+"=")return SC.Cookie.create({name:e,value:decodeURIComponent(r.substring(e.length+1))})}}return null}}),SC.CookieMonster={nomNomNom:function(e){var t=SC.kindOf(e,SC.Cookie);return t?(SC.Logger.log("YUM!"),e.destroy()):(SC.Logger.error("Y U PASS ME NO COOKIE? %@",e),NO)}},SC.mixin(SC.$.fn,{setClass:function(e,t){if(SC.none(e))return this;var n=SC.typeOf(e)!==SC.T_STRING,r=this._fixupClass,i;return this.each(function(){if(this.nodeType!==1)return;var i=this.className.split(/\s+/),s=NO;if(n)for(var o in e)e.hasOwnProperty(o)&&(s=r(i,o,e[o])||s);else s=r(i,e,t);s&&(this.className=i.join(" "))}),this},_fixupClass:function(e,t,n){var r=e.indexOf(t);if(n){if(r<0)return e.push(t),YES}else if(r>=0)return e[r]=null,YES;return NO}}),SC.ExceptionHandler={enabled:SC.buildMode!=="debug",handleException:function(e){return this.isShowingErrorDialog?NO:(this._displayErrorDialog(e),NO)},_displayErrorDialog:function(e){var t=
this._errorDialogHTMLForException(e),n=document.createElement("div");n.style.cssText="left: 0px; right: 0px; top: 0px; bottom: 0px; position: absolute; background-color: white; background-color: rgba(255,255,255,0.6); z-index:100;",n.innerHTML=t,document.body.appendChild(n),this.isShowingErrorDialog=YES},_errorDialogHTMLForException:function(e){var t;return t=['<div id="sc-error-dialog" style="position: absolute; width: 500px; left: 50%; top: 50%; margin-left: -250px; background-color: white; border: 1px solid black; font-family: Monaco, monospace; font-size: 9px; letter-spacing: 1px; padding: 10px">',"An error has occurred which prevents the application from running:","<br><br>",e.message,'<div id="sc-error-dialog-reload-button" onclick="window.location.reload();" style="float: right; font-family: Monaco, monospace; font-size: 9px; letter-spacing: 1px; border: 1px solid black; padding: 3px; clear: both; margin-top: 20px; cursor: pointer;">',"Reload","</div>","</div>"],t.join("")},isShowingErrorDialog:NO},SC.IMAGE_ABORTED_ERROR=SC.$error("SC.Image.AbortedError","Image",-100),SC.IMAGE_FAILED_ERROR=SC.$error("SC.Image.FailedError","Image",-101),SC.imageQueue=SC.Object.create({loadLimit:4,activeRequests:0,loadImage:function(e,t,n,r){var i=SC.typeOf(t);SC.none(n)&&SC.typeOf(t)===SC.T_FUNCTION&&(t=null,n=t),SC.typeOf(n)===SC.T_STRING&&(n=t[n]),SC.none(r)&&(r=SC.none(t)&&SC.none(n));var s=this._imageEntryFor(e);s.status===this.IMAGE_LOADED?n&&n.call(t||s.image,s.url,s.image):((t||n)&&this._addCallback(s,t,n),s.retainCount++,this._scheduleImageEntry(s,r))},releaseImage:function(e,t
,n){var r=this._imageEntryFor(e,NO);if(!r)return this;if(--r.retainCount<=0)this._deleteEntry(r);else if(t||n){var i=SC.typeOf(t);SC.none(n)&&SC.typeOf(t)===SC.T_FUNCTION&&(t=null,n=t),SC.typeOf(n)===SC.T_STRING&&(n=t[n]),this._removeCallback(r,t,n)}},reloadImage:function(e){var t=this._imageEntryFor(e,NO);t&&t.status===this.IMAGE_LOADED&&(t.status=this.IMAGE_WAITING)},loadNextImage:function(){var e=null,t;if(this.get("activeRequests")>=this.get("loadLimit"))return;t=this._foregroundQueue;while(t.length>0&&!e)e=t.shift();if(!e){t=this._backgroundQueue;while(t.length>0&&!e)e=t.shift()}this.set("isLoading",!!e);if(e){var n=e.image;if(!n)return;var r=SC.$(n);r.length!==0?(r.bind("abort",this._imageDidAbort),r.bind("error",this._imageDidError),r.bind("load",this._imageDidLoad),n.src=e.url,this._loading.push(e)):e.url?SC.error("Unable to load the image for url %@".fmt(e.url)):SC.error("entry does not contain any url. Its an invalid entry"),this.incrementProperty("activeRequests"),this.loadNextImage()}},_imageEntryFor:function(e,t){t===undefined&&(t=YES);var n=this._images[e];if(!n&&t){var r=new Image;n=this._images[e]={url:e,status:this.IMAGE_WAITING,callbacks:[],retainCount:0,image:r},r.entry=n}return n},_deleteEntry:function(e){this._unscheduleImageEntry(e),delete this._images[e.url]},_addCallback:function(e,t,n){var r=e.callbacks,i=r.find(function(e){return e[0]===t&&e[1]===n},this);return i||r.push([t,n]),r=null,this},_removeCallback:function(e,t,n){var r=e.callbacks;return r.forEach(function(e,i){e[0]===t&&e[1]===n&&(r[i]=null)},this),r=null,this},_scheduleImageEntry:function(
e,t){var n=this._backgroundQueue,r=this._foregroundQueue;if(e.status===this.IMAGE_LOADED)return this;e.status===this.IMAGE_QUEUED&&!t&&e.isBackground&&(n[n.indexOf(e)]=null,e.status=this.IMAGE_WAITING);if(e.status!==this.IMAGE_QUEUED){var i=t?n:r;i.push(e),e.status=this.IMAGE_QUEUED,e.isBackground=t}return this.isLoading||this.invokeLater(this.loadNextImage,100),this.set("isLoading",YES),this},_unscheduleImageEntry:function(e){if(e.status!==this.IMAGE_QUEUED)return this;var t=e.isBackground?this._backgroundQueue:this._foregroundQueue;return t[t.indexOf(e)]=null,this._loading.indexOf(e)>=0&&(t.image&&t.image.abort(),this.imageStatusDidChange(e,this.ABORTED)),this},_imageDidAbort:function(){SC.run(function(){SC.imageQueue.imageStatusDidChange(this.entry,SC.imageQueue.ABORTED)},this)},_imageDidError:function(){SC.run(function(){SC.imageQueue.imageStatusDidChange(this.entry,SC.imageQueue.ERROR)},this)},_imageDidLoad:function(){SC.run(function(){SC.imageQueue.imageStatusDidChange(this.entry,SC.imageQueue.LOADED)},this)},imageStatusDidChange:function(e,t){if(!e)return;var n=e.url,r;switch(t){case this.LOADED:r=e.image;break;case this.ABORTED:r=SC.IMAGE_ABORTED_ERROR;break;case this.ERROR:r=SC.IMAGE_FAILED_ERROR;break;default:r=SC.IMAGE_FAILED_ERROR}e.callbacks.forEach(function(e){var t=e[0],i=e[1];i.call(t,n,r)},this),e.callbacks=[],e.status=t===this.LOADED?this.IMAGE_LOADED:this.IMAGE_WAITING;var i=e.image;i&&(i.onload=i.onerror=i.onabort=null,t!==this.LOADED&&(e.image=null)),this._loading[this._loading.indexOf(e)]=null,this._loading.length>this.loadLimit*2&&(this._loading=this._loading
.compact()),this.decrementProperty("activeRequests"),this.loadNextImage()},init:function(){arguments.callee.base.apply(this,arguments),this._images={},this._loading=[],this._foregroundQueue=[],this._backgroundQueue=[]},IMAGE_LOADED:"loaded",IMAGE_QUEUED:"queued",IMAGE_WAITING:"waiting",ABORTED:"aborted",ERROR:"error",LOADED:"loaded"}),SC.Math=SC.Object.create({near:function(e,t,n){return n||(n=1e-5),Math.abs(e-t)<=n},round:function(e,t){t||(t=0);var n=Math.pow(10,t);if(t<0){var r=n.toString();n=r.substring(0,r.indexOf("1")+1)}return e=e.valueOf(),Math.round(e*n)/n}}),SC.Task=SC.Object.extend({run:function(e){}}),SC.LOG_MODULE_LOADING=YES,SC.Module=SC.Object.create({isModuleReady:function(e){var t=SC.MODULE_INFO[e];return t?!!t.isReady:NO},loadModule:function(e,t,n){var r=SC.MODULE_INFO[e],i,s,o=SC.A(arguments).slice(3),u=SC.LOG_MODULE_LOADING,a,f;n===undefined&&SC.typeOf(t)===SC.T_FUNCTION&&(n=t,t=null),u&&SC.debug("SC.Module: Attempting to load '%@'",e);if(!r)throw"SC.Module: could not find module '%@'".fmt(e);r.isPrefetching=NO;if(r.isLoaded&&!r.isWaitingForRunLoop)return u&&SC.debug("SC.Module: Module '%@' already loaded.",e),this._dependenciesMetForModule(e)?r.source?(u&&SC.debug("SC.Module: Evaluating JavaScript for module '%@'.",e),this._evaluateStringLoadedModule(r),this._addCallbackForModule(e,t,n,o),this.invokeLast(function(){r.isReady=YES,this._moduleDidBecomeReady(e)}),NO):(n&&(SC.isReady?SC.Module._invokeCallback(e,t,n,o):SC.ready(SC.Module,function(){SC.Module._invokeCallback(e,t,n,o)})),YES):(this._addCallbackForModule(e,t,n,o),this._loadDependenciesForModule(e
),NO);if(!r.isWaitingForRunLoop)return u&&SC.debug("SC.Module: Module '%@' is not loaded, loading now.",e),this._addCallbackForModule(e,t,n,o),r.isLoading||(this._loadDependenciesForModule(e),this._loadCSSForModule(e),this._loadJavaScriptForModule(e),r.isLoading=YES),NO;this._addCallbackForModule(e,t,n,o)},_addCallbackForModule:function(e,t,n,r){var i=SC.MODULE_INFO[e],s=i.callbacks||[];n&&s.push(function(){SC.Module._invokeCallback(e,t,n,r)}),i.callbacks=s},prefetchModule:function(e){var t=SC.MODULE_INFO[e];if(t.isLoading||t.isLoaded)return;SC.LOG_MODULE_LOADING&&SC.debug("SC.Module: Prefetching module '%@'.",e),this._loadDependenciesForModule(e),this._loadCSSForModule(e),this._loadJavaScriptForModule(e),t.isLoading=YES,t.isPrefetching=YES},_executeLazilyInstantiatedModule:function(e,t,n){var r=SC.LAZY_INSTANTIATION[e],i,s,o,u;SC.LOG_MODULE_LOADING&&SC.debug("SC.Module: Module '%@' is marked for lazy instantiation, instantiating it now…",e),u=r.length;for(o=0;o<u;o++)try{r[o]()}catch(a){SC.Logger.error("SC.Module: Failed to lazily instatiate entry for  '%@'".fmt(e))}delete SC.LAZY_INSTANTIATION[e],i=this._targetForTargetName(t),s=this._methodForMethodNameInTarget(n,i);if(!s)throw"SC.Module: could not find callback for lazily instantiated module '%@'".fmt(e)},_evaluateStringLoadedModule:function(e){var t=e.source;jQuery.globalEval(t),delete e.source;if(e.cssSource){var n=this.getInlinedCSSFor(e),r=document.createElement("style");r.setAttribute("type","text/css");if(r.styleSheet)r.styleSheet.cssText=n;else{var i=document.createTextNode(n);r.appendChild(i)}document.getElementsByTagName
("head")[0].appendChild(r)}e.isReady=YES},getInlinedCSSFor:function(e){var t=typeof e=="string"?SC.MODULE_INFO[e]:e,n,r;if(t._sc_module_postprocessed_css)return t._sc_module_postprocessed_css;window.devicePixelRatio===2?(n=t.css2xSource,r=t.css2xLogicalUrl,n||(n=t.cssSource,r=t.cssLogicalUrl)):(n=t.cssSource,r=t.cssLogicalUrl);var i=SC.absoluteUrl(r);return i=i.split("/"),i.pop(),i=i.join("/"),n=n.replace(/url\s*\(\s*["']?(.*?)["']\s*?\)/g,function(e,t){return t[0]==="/"?t:t.match(/https?:|file:/)?t:(t=i+"/"+t,"url("+JSON.stringify(t)+")")}),t._sc_module_postprocessed_css=n,n},_loadCSSForModule:function(e){var t=document.getElementsByTagName("head")[0],n=SC.MODULE_INFO[e],r=window.devicePixelRatio===2?n.styles2x:n.styles||[],i=r.length,s,o,u;t||(t=document.documentElement),i=r.length;for(u=0;u<i;u++)s=r[u],s.length>0&&(SC.LOG_MODULE_LOADING&&SC.debug("SC.Module: Loading CSS file in '%@' -> '%@'",e,s),o=document.createElement("link"),o.setAttribute("href",s),o.setAttribute("rel","stylesheet"),o.setAttribute("type","text/css"),t.appendChild(o));o=null},_loadJavaScriptForModule:function(e){var t=SC.MODULE_INFO[e],n,r,i=t.dependencies,s=YES;i&&i.length>0&&(s=this._dependenciesMetForModule(e)),t.isPrefetched?r=t.stringURL:s?r=t.scriptURL:r=t.stringURL;if(r.length>0){SC.LOG_MODULE_LOADING&&SC.debug("SC.Module: Loading JavaScript file in '%@' -> '%@'",e,r);if(parseFloat(SC.browser.msie)>=11){var o=new XMLHttpRequest;o.onreadystatechange=function(){if(this.readyState!==4||this.status!==200||this._done===(this._done=YES))return;window.eval.call(window,this.responseText+';SC.run(function(){SC.Module._moduleDidLoad("'+
e+'")})')},o.open("GET",r),o.send(null);return}n=document.createElement("script"),n.setAttribute("type","text/javascript"),n.setAttribute("async","true"),n.setAttribute("src",r),SC.browser.isIE?n.onreadystatechange=function(){(this.readyState=="complete"||this.readyState=="loaded")&&SC.run(function(){SC.Module._moduleDidLoad(e)})}:n.onload=function(){SC.run(function(){SC.Module._moduleDidLoad(e)})},document.body.appendChild(n)}},_dependenciesMetForModule:function(e){var t=SC.MODULE_INFO[e].dependencies||[],n,r=t.length,i,s;for(n=0;n<r;n++){i=t[n],s=SC.MODULE_INFO[i];if(!s)throw"SC.loadModule: Unable to find dependency %@ for module %@.".fmt(i,e);if(!s.isReady)return NO}return YES},_loadDependenciesForModule:function(e){var t=SC.MODULE_INFO[e],n=SC.LOG_MODULE_LOADING,r=t.dependencies||[],i=YES,s=r.length,o,u,a,f;for(o=0;o<s;o++){u=r[o],a=SC.MODULE_INFO[u];if(!a)throw"SC.Module: could not find required module '%@' for module '%@'".fmt(u,e);if(a.isLoading)i=NO,f=a.dependents,f||(a.dependents=f=[]),f.push(e);else{if(a.isReady)continue;i=NO,f=a.dependents,f||(a.dependents=f=[]),f.push(e),n&&SC.debug("SC.Module: '%@' depends on '%@', loading dependency…",e,u),SC.Module.loadModule(u)}}},_invokeCallback:function(e,t,n,r){var i,s;s=this._targetForTargetName(t),i=this._methodForMethodNameInTarget(n,s);if(!i){if(!SC.LAZY_INSTANTIATION[e])throw"SC.Module: could not find callback for '%@'".fmt(e);this._executeLazilyInstantiatedModule(e,t,n),s=this._targetForTargetName(t),i=this._methodForMethodNameInTarget(n,s)}r||(r=[]),r.unshift(e);var o=!!SC.RunLoop.currentRunLoop;o?SC.run(function(){
i.apply(s,r)}):i.apply(s,r)},_invokeCallbacksForModule:function(e){var t=SC.MODULE_INFO[e],n;if(!t)return;SC.LOG_MODULE_LOADING&&SC.debug("SC.Module: Module '%@' has completed loading, invoking callbacks.",e),n=t.callbacks||[];for(var r=0,i=n.length;r<i;++r)n[r]()},_evaluateAndInvokeCallbacks:function(e){var t=SC.MODULE_INFO,n=t[e],r=SC.LOG_MODULE_LOADING;r&&SC.debug("SC.Module: Evaluating and invoking callbacks for '%@'.",e),n.source&&this._evaluateStringLoadedModule(n),n.isWaitingForRunLoop=YES,this.invokeLast(function(){n.isReady=YES,this._moduleDidBecomeReady(e)})},_moduleDidBecomeReady:function(e){var t=SC.MODULE_INFO,n=t[e],r=SC.LOG_MODULE_LOADING;n.isWaitingForRunLoop=NO,SC.isReady?(SC.Module._invokeCallbacksForModule(e),delete n.callbacks):SC.ready(SC,function(){SC.Module._invokeCallbacksForModule(e),delete n.callbacks});var i=n.dependents||[],s,o;for(var u=0,a=i.length;u<a;u++)s=i[u],o=t[s],o.isLoaded&&this._dependenciesMetForModule(s)&&(r&&SC.debug("SC.Module: Now that %@ has loaded, all dependencies for a dependent %@ are met.",e,s),this._evaluateAndInvokeCallbacks(s))},_moduleDidLoad:function(e){var t=SC.MODULE_INFO[e],n=SC.LOG_MODULE_LOADING,r,i,s;n&&SC.debug("SC.Module: Module '%@' finished loading.",e);if(!t){n&&SC.debug("SC._moduleDidLoad() called for unknown module '@'.",e),t=SC.MODULE_INFO[e]={isLoaded:YES,isReady:YES};return}if(t.isLoaded){n&&SC.debug("SC._moduleDidLoad() called more than once for module '%@'. Skipping.",e);return}delete t.isLoading,t.isLoaded=YES,t.isPrefetching?(delete t.isPrefetching,n&&SC.debug("SC.Module: Module '%@' was prefetched, not evaluating until needed."
,e)):(r=this._dependenciesMetForModule(e),r?this._evaluateAndInvokeCallbacks(e):n&&SC.debug("SC.Module: Dependencies for '%@' not met yet, waiting to evaluate.",e))},_targetForTargetName:function(e){return SC.typeOf(e)===SC.T_STRING?SC.objectForPropertyPath(e):e},_methodForMethodNameInTarget:function(e,t){return SC.typeOf(e)===SC.T_STRING?SC.objectForPropertyPath(e,t):e},methodsForSuspend:"loadModule _moduleDidLoad prefetchModule _moduleDidBecomeReady".w(),suspend:function(){this._suspendCount=(this._suspendCount||0)+1;if(this._suspendCount!==1)return;var e=this.get("methodsForSuspend"),t,n,r,i;for(i=0;r=e[i];i++)this[t="__replacement_"+r+"__"]||((this[t]=function(){(this._bufferedCalls||(this._bufferedCalls=[])).push({method:arguments.callee.methodName,arguments:arguments})}).methodName=r),this[n="__saved_"+r+"__"]||(this[n]=this[r]),this[r]=this[t]},resume:function(){this._suspendCount=(this._suspendCount||0)-1;if(this._suspendCount<0){SC.warn("SC.Module.resume() was called without SC.Module having been in a suspended state. Call aborted."),this._suspendCount=0;return}if(this._suspendCount>0)return;var e=this.get("methodsForSuspend"),t=this._bufferedCalls,n,r,i,s;for(r=0;n=e[r];r++)this[n]=this["__saved_"+n+"__"];for(r=0;s=t&&t[r];r++)this[s.method].apply(this,s.arguments);t&&(t.length=0)}}),SC.ready(function(){var e=SC.MODULE_INFO,t,n,r;for(t in e)n=e[t],n.isPrefetched&&(r=SC.Module.PrefetchModuleTask.create({prefetchedModuleName:t}),SC.backgroundTaskQueue.push(r))}),SC.Module.PrefetchModuleTask=SC.Task.extend({prefetchedModuleName:null,run:function(){SC.Module.prefetchModule
(this.prefetchedModuleName)}}),SC.TaskQueue=SC.Task.extend({init:function(){var e=this;this._doIdleEntry=function(){e._idleEntry()},this._suspendCount=0,this._tasks=[]},runWhenIdle:NO,runLimit:50,interval:50,isRunning:NO,minimumIdleDuration:500,_tasks:null,hasTasks:function(){return this._tasks.length>0}.property("taskCount").cacheable(),taskCount:function(){return this._tasks.length}.property().cacheable(),push:function(e){this._tasks.push(e),this.notifyPropertyChange("taskCount")},next:function(){if(this._tasks.length<1)return null;var e=this._tasks.shift();return this.notifyPropertyChange("taskCount"),e},suspend:function(){this._suspendCount++},resume:function(){this._suspendCount--,this._suspendCount<=0&&this._setupIdle()},_taskCountDidChange:function(){this._setupIdle()}.observes("taskCount"),_runWhenIdleDidChange:function(){this._setupIdle()}.observes("runWhenIdle"),_setupIdle:function(){!this._suspendCount&&this.get("runWhenIdle")&&!this._idleIsScheduled&&this.get("taskCount")>0&&(setTimeout(this._doIdleEntry,this.get("interval")),this._idleIsScheduled=YES)},_idleEntry:function(){this._idleIsScheduled=NO;var e=SC.RunLoop.lastRunLoopEnd;if(!this.get("runWhenIdle")&&!this._suspendCount)return;Date.now()-e>this.get("minimumIdleDuration")&&(SC.run(this.run,this),SC.RunLoop.lastRunLoopEnd=e),this._setupIdle()},run:function(e){this.set("isRunning",YES),e||(e=this.get("runLimit"));var t,n=Date.now();while(t=this.next()){t.run(this);if(Date.now()-n>e)break}this.set("isRunning",NO)}}),SC.backgroundTaskQueue=SC.TaskQueue.create({runWhenIdle:YES}),SC.TextSelection=SC.Object.extend
(SC.Copyable,SC.Freezable,{start:-1,end:-1,length:function(){var e=this.get("start"),t=this.get("end");return e===-1||t===-1?-1:t-e}.property("start","end").cacheable(),init:function(){arguments.callee.base.apply(this,arguments),this.freeze()},copy:function(){return SC.TextSelection.create({start:this.get("start"),end:this.get("end")})},toString:function(){var e=this.get("length");return e&&e>0?e===1?"[%@ character selected: {%@, %@}]".fmt(e,this.get("start"),this.get("end")):"[%@ characters selected: {%@, %@}]".fmt(e,this.get("start"),this.get("end")):"[no text selected; caret at %@]".fmt(this.get("start"))}}),SC.UserDefaults=SC.Object.extend({ready:NO,userDomain:null,appDomain:null,_defaults:null,_safari3DB:null,defaults:function(e){this._defaults=e,this.allPropertiesDidChange()},readDefault:function(e){var t,n,r,i,s,o;e=this._normalizeKeyName(e),n=this._userKeyName(e),this._written&&(t=this._written[n]);if(SC.browser.msie=="7.0"){r=document.body;try{r.load("SC.UserDefaults")}catch(u){SC.Logger.error("Couldn't load userDefaults in IE7: "+u.description)}}else this.HTML5DB_noLocalStorage?o=this._safari3DB:(r=window.localStorage,!r&&window.globalStorage&&(r=window.globalStorage[window.location.hostname]));if(r||o){i=["SC.UserDefaults",n].join("-at-"),SC.browser.msie=="7.0"?t=r.getAttribute(i.replace(/\W/gi,"")):o?t=this.dataHash[i]:t=r[i];if(!SC.none(t))try{t=SC.json.decode(t)}catch(a){}}return s=this.delegate,s&&s.userDefaultsNeedsDefault&&(t=s.userDefaultsNeedsDefault(this,e,n)),t===undefined&&this._defaults&&(t=this._defaults[n]||this._defaults[e]),t},writeDefault:function(
e,t){var n,r,i,s,o,u;e=this._normalizeKeyName(e),n=this._userKeyName(e),r=this._written,r||(r=this._written={}),r[n]=t,SC.browser.msie=="7.0"?i=document.body:this.HTML5DB_noLocalStorage?u=this._safari3DB:(i=window.localStorage,!i&&window.globalStorage&&(i=window.globalStorage[window.location.hostname])),s=["SC.UserDefaults",n].join("-at-");if(i||u){var a=SC.json.encode(t);if(SC.browser.msie=="7.0")i.setAttribute(s.replace(/\W/gi,""),a),i.save("SC.UserDefaults");else if(u){var f=this;u.transaction(function(e){e.executeSql("delete from SCLocalStorage where key = ?",[s],function(){e.executeSql("insert into SCLocalStorage(key, value) VALUES ('"+s+"', '"+a+"');",[],f._nullDataHandler,f.killTransaction)})}),this.dataHash[s]=a}else try{i[s]=a}catch(l){SC.Logger.error("Failed using localStorage. "+l)}}return o=this.delegate,o&&o.userDefaultsDidChange&&o.userDefaultsDidChange(this,e,t,n),this},resetDefault:function(e){var t,n,r,i,s,o;t=this._normalizeKeyName(e),n=this._userKeyName(t),this.propertyWillChange(e),this.propertyWillChange(t),r=this._written,r&&delete r[n],SC.browser.msie=="7.0"?i=document.body:this.HTML5DB_noLocalStorage?o=this._safari3DB:(i=window.localStorage,!i&&window.globalStorage&&(i=window.globalStorage[window.location.hostname])),s=["SC.UserDefaults",n].join("-at-");if(i)if(SC.browser.msie=="7.0")i.setAttribute(s.replace(/\W/gi,""),null),i.save("SC.UserDefaults");else if(o){var u=this;o.transaction(function(e){e.executeSql("delete from SCLocalStorage where key = ?",[s],null)}),delete this.dataHash[s]}else try{delete i[s]}catch(a){SC.Logger.warn("Deleting local storage encountered a problem. "+
a)}return this.propertyDidChange(e),this.propertyDidChange(t),this},unknownProperty:function(e,t){return t===undefined?this.readDefault(e):(this.writeDefault(e,t),t)},_normalizeKeyName:function(e){if(e.indexOf(":")<0){var t=this.get("appDomain")||"app";e=[t,e].join(":")}return e},_userKeyName:function(e){var t=this.get("userDomain")||"(anonymous)";return[t,e].join("-at-")},_domainDidChange:function(){var e=NO;this.get("userDomain")!==this._scud_userDomain&&(this._scud_userDomain=this.get("userDomain"),e=YES),this.get("appDomain")!==this._scud_appDomain&&(this._scud_appDomain=this.get("appDomain"),e=YES),e&&this.allPropertiesDidChange()}.observes("userDomain","appDomain"),init:function(){arguments.callee.base.apply(this,arguments),jQuery.readyWait++;if(SC.userDefaults&&SC.userDefaults.get("dataHash")){var e=SC.userDefaults.get("dataHash");e&&(this.dataHash=SC.userDefaults.get("dataHash"))}this._scud_userDomain=this.get("userDomain"),this._scud_appDomain=this.get("appDomain"),SC.browser.msie=="7.0"&&document.body.addBehavior("#default#userData"),this.HTML5DB_noLocalStorage=parseInt(SC.browser.webkit,0)>523&&parseInt(SC.browser.webkit,0)<528;if(this.HTML5DB_noLocalStorage){var t;try{if(!window.openDatabase){SC.Logger.error("Trying to load a database with safari version 3.1 to get SC.UserDefaults to work. You are either in a previous version or there is a problem with your browser.");return}var n="scdb",r="1.0",i="SproutCore database",s=65536;t=openDatabase(n,r,i,s)}catch(o){SC.Logger.error("Trying to load a database with safari version 3.1 to get SC.UserDefaults to work. You are either in a previous version or there is a problem with your browser."
);return}if(t){var u=this;t.transaction(function(e){e.executeSql("CREATE TABLE IF NOT EXISTS SCLocalStorage(key TEXT NOT NULL PRIMARY KEY, value TEXT NOT NULL);",[],u._nullDataHandler,u.killTransaction)}),t.transaction(function(e){e.parent=u,e.executeSql("SELECT * from SCLocalStorage;",[],function(e,t){var n={},r;for(var i=0,s=t.rows.length;i<s;i++)r=t.rows.item(i),n[r.key]=r.value;e.parent.dataHash=n,SC.run(function(){jQuery.ready(!0)})},u.killTransaction)}),this._safari3DB=t}}else jQuery.ready(!0)},_killTransaction:function(e,t){return!0},_nullDataHandler:function(e,t){}}),SC.userDefaults=SC.UserDefaults.create(),SC.mixin({convertHsvToHex:function(e,t,n){var r=0,i=0,s=0;if(n>0){var o=e==1?0:Math.floor(e*6),u=e==1?0:e*6-o,a=n*(1-t),f=n*(1-t*u),l=n*(1-t*(1-u)),c=[[n,l,a],[f,n,a],[a,n,l],[a,f,n],[l,a,n],[n,a,f]];r=Math.round(255*c[o][0]),i=Math.round(255*c[o][1]),s=Math.round(255*c[o][2])}return this.parseColor("rgb("+r+","+i+","+s+")")},convertHexToHsv:function(e){var t=this.expandColor(e),n=0,r=0,i=0;if(t){var s=Math.max(Math.max(t[0],t[1]),t[2]),o=Math.min(Math.min(t[0],t[1]),t[2]);r=s===0?0:1-o/s,i=s/255,n=s==o?0:s==t[0]?(t[1]-t[2])/(s-o)/6:s==t[1]?(t[2]-t[0])/(s-o)/6+1/3:(t[0]-t[1])/(s-o)/6+2/3,n=n<0?n+1:n>1?n-1:n}return[n,r,i]},PARSE_COLOR_RGBRE:/^rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/i,PARSE_COLOR_HEXRE:/^\#([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/,expandColor:function(e){var t,n,r,i;t=this.parseColor(e);if(t)return n=parseInt(t.slice(1,3),16),r=parseInt(t.slice(3,5),16),i=parseInt(t.slice(5,7),16),[n,r,i]},parseColor:function(e){var t=0,n="#",r,i;if(r=this.PARSE_COLOR_RGBRE
.exec(e)){for(t=1;t<=3;t++)i=Math.max(0,Math.min(255,parseInt(r[t],0))),n+=this.toColorPart(i);return n}if(r=this.PARSE_COLOR_HEXRE.exec(e)){if(r[1].length==3){for(t=0;t<3;t++)n+=r[1].charAt(t)+r[1].charAt(t);return n}return"#"+r[1]}return!1},toColorPart:function(e){e>255&&(e=255);var t=e.toString(16);return e<16?"0"+t:t}}),SC.mixin({_downloadFrames:0,download:function(e){var t=document.createElement("iframe"),n="DownloadFrame_"+this._downloadFrames;SC.$(t).attr("id",n),t.style.border="10px",t.style.width="0px",t.style.height="0px",t.style.position="absolute",t.style.top="-10000px",t.style.left="-10000px",SC.browser.isSafari||SC.$(t).attr("src",e),document.getElementsByTagName("body")[0].appendChild(t),SC.browser.isSafari&&SC.$(t).attr("src",e),this._downloadFrames=this._downloadFrames+1;if(!SC.browser.isSafari){var r=function(){document.body.removeChild(document.getElementById(n)),n=null};r.invokeLater(null,2e3)}t=null},getStyle:function(e,t){var n="";return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,"").getPropertyValue(t):e.currentStyle&&(t=t.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()}),n=e.currentStyle[t]),n},uniJapaneseConvert:function(e){var t,n="",r,i;for(r=0,i=e.length;r<i;r++)t=e.charCodeAt(r),t=t>=65281&&t<=65392?t-65248:t,t=t===12540?45:t,n+=String.fromCharCode(t);return n},pointInElement:function(e,t,n,r){var i,s,o,u;return t=jQuery(t),n=n||"border",i=SC.offset(t,r),n==="padding"?(s=t.innerWidth(),o=t.innerHeight(),i.x+=window.parseInt(t.css("border-top-width").replace("px","")),i.y+=window.parseInt
(t.css("border-left-width").replace("px",""))):(s=t.outerWidth(n==="margin"),o=t.outerHeight(n==="margin"),n==="margin"&&(i.x-=window.parseInt(t.css("margin-top").replace("px","")),i.y-=window.parseInt(t.css("margin-left").replace("px","")))),u={x:i.x,y:i.y,width:s,height:o},SC.pointInRect(e,u)},switchScale:function(){$("head meta[name=viewport]").remove(),window.innerWidth===window.screen.width?$("head").prepend('<meta name="viewport" content="width=device-width, initial-scale=0.5, maximum-scale=0.5, minimum-scale=0.5, user-scalable=0" />'):$("head").prepend('<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=0" />')}}),SC.mixin({ZERO_RANGE:{start:0,length:0},RANGE_NOT_FOUND:{start:0,length:-1},valueInRange:function(e,t){return e>=0&&e>=t.start&&e<t.start+t.length},minRange:function(e){return e.start},maxRange:function(e){return e.length<0?-1:e.start+e.length},unionRanges:function(e,t){if(e==null||e.length<0)return t;if(t==null||t.length<0)return e;var n=Math.min(e.start,t.start),r=Math.max(SC.maxRange(e),SC.maxRange(t));return{start:n,length:r-n}},intersectRanges:function(e,t){if(e==null||t==null)return SC.RANGE_NOT_FOUND;if(e.length<0||t.length<0)return SC.RANGE_NOT_FOUND;var n=Math.max(SC.minRange(e),SC.minRange(t)),r=Math.min(SC.maxRange(e),SC.maxRange(t));return r<n?SC.RANGE_NOT_FOUND:{start:n,length:r-n}},subtractRanges:function(e,t){if(e==null||t==null)return SC.RANGE_NOT_FOUND;if(e.length<0||t.length<0)return SC.RANGE_NOT_FOUND;var n=Math.max(SC.minRange(e),SC.minRange(t)),r=Math.min(SC.maxRange(e),SC.
maxRange(t));return n<r?SC.RANGE_NOT_FOUND:{start:r,length:n-r}},cloneRange:function(e){return{start:e.start,length:e.length}},rangesEqual:function(e,t){return e===t?!0:e==null?t.length<0:t==null?e.length<0:e.start==t.start&&e.length==t.length}}),SC.mixin({bestStringMetricsForMaxWidth:function(e,t,n,r,i){if(!t)return SC.warn("When calling bestMetricsForWidth, the second argument, maxWidth, is required. There's no reason to call this without a maxWidth."),undefined;t=Math.ceil(parseFloat(t));var s=arguments.callee,o=SC.typeOf(n||(n=""))!==SC.T_STRING,u=o?n.style.maxWidth:undefined,a=!o||n.cacheableForMetrics?SC.cacheSlotFor(n,r,i,e):undefined,f=o?s._applyMaxToEl||(s._applyMaxToEl=function(e,t){return e.style.maxWidth=t+"px",e}):s._applyMaxToStr||(s._applyMaxToStr=function(e,t){return e.replace(/max-width:[^;]*;/g,"")+" max-width:"+t+"px"}),l=o?s._removeMaxFromEl||(s._removeMaxFromEl=function(e){return e.style.maxWidth="none",e}):s._removeMaxFromStr||(s._removeMaxFromStr=function(e){return e.replace(/max-width:[^;]*;/g,"")+" max-width:none"}),c=!1;if(a){a.list||(a.list=[{width:Infinity,height:0}]);for(var h=1,p=a.list.length,d,v,m;h<p&&!m;h++){d=a.list[h],v=a.list[h-1];if(!d||!d.width)continue;if(t>=d.width){if(v&&v.width||t<=d.maxWidth)return d;m=d}}}var g=f(n,t),y=SC.metricsForString(e,g,r,i),b=y.height,w=a?a.parent.height||(a.parent.height=SC.metricsForString("W",g,r).height):SC.metricsForString("W",g,r).height,E=Math.round(b/w);c&&(E--,b=E*w);if(b>w){var S=c?Math.ceil(y.width*2.5):y.width,x=c?y.width:Math.floor(y.width/2.5),T,N=new Date*1,C=0;while(S-x>1||y.height>b&&!c||y
.height<b&&c)C++,T=(S+x)/2,g=f(g,T),y=SC.metricsForString(e,g,r,i),y.height>b?x=T:S=T;y.width=Math.ceil(T),y.height=b,y.maxWidth=t,y.lineHeight=w,y.lines=E,y.searchPerformed=!0,y.searchTime=new Date*1-N,y.searchCount=C}else c&&(y=SC.metricsForString(e,g=l(g),r,i)),y.maxWidth=t,y.lineHeight=w,y.lines=E,y.searchPerformed=!1;y.browserCorrection=0,SC.browser.msie&&(y.browserCorrection=1),SC.browser.mozilla&&(y.browserCorrection=1),y.width=Math.min(t,y.width+y.browserCorrection);if(a){var k=a.list[E];k&&k.maxWidth<t&&(k.maxWidth=t),k||(k=a.list[E]=y)}return o&&(g.style.maxWidth=u),m=c?m:y,m},cacheSlotFor:function(){var e=arguments.callee.caller,t=e.cache||(e.cache={});if(!arguments.length)return t;var n=arguments[0],r=n&&(n instanceof Array||n.callee)?n:arguments,i=r.length,s,o;for(o=0;o<i;o++)typeof (s=r[o])=="object"&&(s=SC.guidFor(s)),t=t[s]||(t[s]={parent:t});return t},cachedVersionOf:function(){var e=function(e){var t=function(){var e=SC.cacheSlotFor(arguments);return e.result||(e.result=arguments.callee.func.apply(this,arguments))};return t.func=e,t};return e(e)}()}),SC.didPreloadBundle=function(){},SC.PreloadBundleTask=SC.Task.extend({bundle:null,target:"SC",action:"preloaded",run:function(e){var t;if(t=this.get("bundle")){var n=Date.now();SC.Module.loadModule(this.get("bundle"),this.get("target"),this.get("action"))}}}),SC.VALIDATE_OK=YES,SC.VALIDATE_NO_CHANGE=NO,SC.Validator=SC.Object.extend({fieldValueForObject:function(e,t,n){return e},objectForFieldValue:function(e,t,n){return e},validate:function(e,t){return!0},validateError:function(e,t){return SC.$error(SC.String.loc
("Invalid.General(%@)",t.get("fieldValue")),t.get("fieldKey"))},validateChange:function(e,t,n){return this.validate(e,t)?SC.VALIDATE_OK:this.validateError(e,t)},validateSubmit:function(e,t){return this.validate(e,t)?SC.VALIDATE_OK:this.validateError(e,t)},validatePartial:function(e,t){return t.get("isValid")?SC.VALIDATE_NO_CHANGE:this.validate(e,t)?SC.VALIDATE_OK:this.validateError(e,t)},validateKeyDown:function(e,t,n){return!0},attachTo:function(e,t){},detachFrom:function(e,t){}}),SC.Validator.mixin({OK:!0,NO_CHANGE:!1,findFor:function(e,t,n){var r;if(!n)return;if(n instanceof SC.Validator)r=n;else if(n.isClass)r=n.create();else if(SC.typeOf(n)===SC.T_STRING){var i=null,s=n.match(/^(.+)\[(.*)\]/);s&&(n=s[1],i=s[2]),n=SC.String.classify(n);var o=SC.Validator[n];if(SC.none(o))throw"validator %@ not found for %@".fmt(n,t);if(i){if(!e)throw"named validator (%@) could not be found for field %@ because the field does not belong to a form".fmt(i,t);e._validatorHash||(e._validatorHash={}),r=i?e._validatorHash[i]:null,r||(r=o.create()),i&&(e._validatorHash[i]=r)}else r=o.create()}return r},fieldValueForObject:function(e,t,n){return this.prototype&&this.prototype.fieldValueForObject?this.prototype.fieldValueForObject(e,t,n):null},objectForFieldValue:function(e,t,n){return this.prototype&&this.prototype.objectForFieldValue?this.prototype.objectForFieldValue(e,t,n):null}}),SC.Validator.CreditCard=SC.Validator.extend({fieldValueForObject:function(e,t,n){return typeof e=="string"&&e.length==16&&(e=[e.slice(0,4),e.slice(4,8),e.slice(8,12),e.slice(12,16)].join(" ")),e},objectForFieldValue:
function(e,t,n){return e.replace(/[\s-\.\:]/g,"")},validate:function(e,t){return this.checkNumber(t.get("fieldValue"))},validateError:function(e,t){var n=t.get("errorLabel")||"Field";return SC.$error(SC.String.loc("Invalid.CreditCard(%@)",n),n)},validateKeyDown:function(e,t,n){return!!n.match(/[0-9\- ]/)},checkNumber:function(e){if(!e||e.length===0)return YES;e=e.replace(/[^0-9]/g,"");var t="0123456789",n=e.length,r=parseInt(e,0),i=e.toString();i=i.replace(/^\s+|\s+$/g,"");var s=0,o=!0,u=!1,a,f;for(var l=0;l<n;l++)a=""+i.substring(l,l+1),t.indexOf(a)=="-1"&&(o=!1);o||(u=!1);if(n===0&&u)u=!1;else if(n>=15){for(var c=n;c>0;c--){f=parseInt(r,0)%10,f=parseInt(f,0),s+=f,c--,r/=10,f=parseInt(r,0)%10,f*=2;switch(f){case 10:f=1;break;case 12:f=3;break;case 14:f=5;break;case 16:f=7;break;case 18:f=9;break;default:f=f}r/=10,s+=f}s%10===0?u=!0:u=!1}return u}}),SC.Validator.Date=SC.Validator.extend({format:"%b %d, %Y %i:%M:%S %p",fieldValueForObject:function(e,t,n){var r=this.get("format"),i;return SC.typeOf(e)===SC.T_NUMBER?i=SC.DateTime.create(e):e instanceof Date&&(i=e.getTime()),i&&(e=i.toFormattedString(r)),e},objectForFieldValue:function(e,t,n){var r=this.get("format"),i;return e&&(i=SC.DateTime.parse(e,r),e=i?i._ms:null),e}}),SC.Validator.DateTime=SC.Validator.extend({format:"%d/%m/%Y",fieldValueForObject:function(e,t,n){return SC.kindOf(e,SC.DateTime)?e=e.toFormattedString(this.get("format")):e=null,e},objectForFieldValue:function(e,t,n){return e&&(e=SC.DateTime.parse(e,this.get("format"))),e}}),SC.Validator.Email=SC.Validator.extend({validate:function(e,t){return(t.get("fieldValue"
)||"").match(/.+@.+\...+/)},validateError:function(e,t){var n=t.get("errorLabel")||"Field";return SC.$error(SC.String.loc("Invalid.Email(%@)",n),n)}}),SC.Validator.EmailOrEmpty=SC.Validator.Email.extend({validate:function(e,t){var n=t.get("fieldValue");return n&&n.length>0?n.match(/.+@.+\...+/):!0}}),SC.Validator.NotEmpty=SC.Validator.extend({validate:function(e,t){var n=t.get("fieldValue");return SC.none(n)?NO:SC.none(n.length)?YES:n.length>0},validateError:function(e,t){var n=t.get("errorLabel")||"Field";return SC.$error(SC.String.loc("Invalid.NotEmpty(%@)",SC.String.capitalize(n)),t.get("errorLabel"))}}),SC.Validator.Number=SC.Validator.extend({places:0,fieldValueForObject:function(e,t,n){switch(SC.typeOf(e)){case SC.T_NUMBER:e=e.toFixed(this.get("places"));break;case SC.T_NULL:case SC.T_UNDEFINED:e=""}return e},objectForFieldValue:function(e,t,n){var r;e=e.replace(/,/g,"");switch(SC.typeOf(e)){case SC.T_STRING:e.length===0?e=null:this.get("places")>0?e=parseFloat(e):e.length==1&&e.match(/-/)?e=null:(r=parseInt(e,0),isNaN(r)?(e=SC.uniJapaneseConvert(e),e=parseInt(e,0),isNaN(e)&&(e="")):e=r);break;case SC.T_NULL:case SC.T_UNDEFINED:e=null}return e},validate:function(e,t){var n=t.get("fieldValue");return n===""||!isNaN(n)&&!isNaN(parseFloat(n))},validateError:function(e,t){var n=t.get("errorLabel")||"Field";return SC.$error(SC.String.loc("Invalid.Number(%@)",n),n)},validateKeyDown:function(e,t,n){var r=t.$input().val();return r||(r=""),r+=n,this.get("places")===0?n.length===0?!0:r.match(/^[\-{0,1}]?[0-9,\0]*/)[0]===r:n.length===0?!0:r.match(/^[\-{0,1}]?[0-9,\0]*\.?[0-9\0]+/
)===r}}),SC.Validator.Password=SC.Validator.extend({attachTo:function(e,t){arguments.callee.base.apply(this,arguments),this.fields||(this.fields=[]),this.fields.push(t)},validate:function(e){if(!this.fields||this.fields.length===0)return!0;var t=!1,n=!1,r=!0,i=this.fields[0].get("fieldValue");return this.fields.forEach(function(e){var s=e.get("fieldValue");s!=i&&(r=!1);if(!s||s.length===0)t=!0;s&&s.length>0&&(n=!0)}),e?n===!1?!1:r:t===!0?!0:r},updateFields:function(e,t){if(!this.fields||this.fields.length===0)return!0;var n=SC.String.loc("Invalid.Password"),r=this._field;return this.fields.forEach(function(i){var s=t?null:i==r?n:"";e.setErrorFor(i,s)}),t?SC.VALIDATE_OK:n},validateChange:function(e,t,n){return this.updateFields(e,this.validate(!1))},validateSubmit:function(e,t){return this.updateFields(e,this.validate(!0))},validatePartial:function(e,t){var n=!this._field.get("isValid");return n?this.updateFields(e,this.validate(!1)):SC.VALIDATE_NO_CHANGE}}),SC.Validator.PositiveInteger=SC.Validator.extend({defaultValue:null,fieldValueForObject:function(e,t,n){switch(SC.typeOf(e)){case SC.T_NUMBER:e=e.toFixed(0);break;case SC.T_NULL:case SC.T_UNDEFINED:e=this.get("defaultValue")}return e},objectForFieldValue:function(e,t,n){e=e.replace(/,/g,"");switch(SC.typeOf(e)){case SC.T_STRING:e.length===0?e=this.get("defaultValue"):e=parseInt(e,0);break;case SC.T_NULL:case SC.T_UNDEFINED:e=this.get("defaultValue")}return isNaN(e)?this.get("defaultValue"):e},validate:function(e,t){var n=t.get("fieldValue");return n===""||!isNaN(n)},validateError:function(e,t){var n=t.get("errorLabel")||"Field"
;return SC.$error(SC.String.loc("Invalid.Number(%@)",n),n)},validateKeyDown:function(e,t,n){var r=t.$input().val();return r||(r=""),r+=n,n.length===0?!0:r.match(/^[0-9\0]*/)[0]===r}}),SC.ContainerView=SC.View.extend({classNames:["sc-container-view"],renderDelegateName:"containerRenderDelegate",nowShowing:null,contentView:null,contentViewBindingDefault:SC.Binding.single(),replaceContent:function(e){this.removeAllChildren(),e&&this.appendChild(e)},createChildViews:function(){var e=this.get("contentView");e&&(e=this.contentView=this.createChildView(e),this.childViews=[e])},awake:function(){arguments.callee.base.apply(this,arguments);var e=this.get("nowShowing");e&&e.length>0&&this.nowShowingDidChange()},nowShowingDidChange:function(){var e=this.get("nowShowing");if(e===SC.CONTENT_SET_DIRECTLY)return;var t=this._instantiatedLastView===YES?this.get("contentView"):null;this._instantiatedLastView=NO;if(SC.typeOf(e)===SC.T_STRING&&e.length>0)if(e.indexOf(".")>0)e=SC.objectForPropertyPath(e);else{var n=this.getPath(e);e=SC.kindOf(n,SC.CoreView)?n:SC.objectForPropertyPath(e,this.get("page"))}SC.typeOf(e)===SC.T_CLASS&&(e.kindOf(SC.CoreView)?(e=this.createChildView(e),this._instantiatedLastView=YES):e=null),e&&!(e instanceof SC.CoreView)&&(e=null),this.set("contentView",e),t&&t.destroy()}.observes("nowShowing"),contentViewDidChange:function(){this.replaceContent(this.get("contentView"))}.observes("contentView")}),SC.FieldView=SC.View.extend(SC.Control,SC.Validatable,{isTextArea:NO,_field_isMouseDown:NO,fieldValue:function(){var e=this.get("value");return SC.typeOf(e)===SC.T_ERROR&&(e=e
.get("errorValue")),this.fieldValueForObject(e)}.property("value","validator").cacheable(),$input:function(){return this.get("isTextArea")?this.$("textarea").andSelf().filter("textarea"):this.$("input").andSelf().filter("input")},setFieldValue:function(e){SC.none(e)&&(e="");var t=this.$input();return t.val()!==e&&t.val(e),this},getFieldValue:function(){return this.$input().val()},_field_fieldValueDidChange:function(e){SC.run(function(){this.fieldValueDidChange(NO)},this)},fieldValueDidChange:function(e){var t=this.getFieldValue(),n=this.objectForFieldValue(t,e);this.setIfChanged("value",n)},_field_valueDidChange:function(){this.setFieldValue(this.get("fieldValue"))}.observes("fieldValue"),didCreateLayer:function(){this.setFieldValue(this.get("fieldValue")),SC.Event.add(this.$input(),"change",this,this._field_fieldValueDidChange)},didAppendToDocument:function(){this.get("isTextArea")&&(this.setFieldValue(this.get("fieldValue")),SC.Event.add(this.$input(),"change",this,this._field_fieldValueDidChange))},willDestroyLayer:function(){SC.Event.remove(this.$input(),"change",this,this._field_fieldValueDidChange)},mouseDown:function(e){return this._field_isMouseDown=YES,e.allowDefault(),YES},mouseExited:function(e){return this._field_isMouseDown&&this.set("isActive",NO),e.allowDefault(),YES},mouseEntered:function(e){return this.set("isActive",this._field_isMouseDown),e.allowDefault(),YES},mouseUp:function(e){return this._field_isMouseDown&&this.set("isActive",NO),this._field_isMouseDown=NO,e.allowDefault(),YES},keyDown:function(e){if(e.which===9||e.keyCode===9){var t=e.shiftKey?this.
get("previousValidKeyView"):this.get("nextValidKeyView");return t?t.becomeFirstResponder():e.allowDefault(),YES}return this.performValidateKeyDown(e)?(this._isKeyDown=YES,e.allowDefault()):e.stop(),YES},acceptsFirstResponder:function(){return SC.FOCUS_ALL_CONTROLS?this.get("isEnabled"):NO}.property("isEnabled"),_field_setFieldValue:function(e){this.propertyWillChange("fieldValue"),this.fieldValueForObject&&(e=this.fieldValueForObject(e));var t=this.setFieldValue(e);return this.propertyDidChange("fieldValue"),t},_field_getFieldValue:function(){var e=this.getFieldValue();return this.objectForFieldValue&&(e=this.objectForFieldValue(e)),e}}),SC.IMAGE_STATE_NONE="none",SC.IMAGE_STATE_LOADING="loading",SC.IMAGE_STATE_LOADED="loaded",SC.IMAGE_STATE_FAILED="failed",SC.IMAGE_TYPE_NONE="NONE",SC.IMAGE_TYPE_URL="URL",SC.IMAGE_TYPE_CSS_CLASS="CSS_CLASS",SC.BLANK_IMAGE_DATAURL="data:image/gif;base64,R0lGODlhAQABAJAAAP///wAAACH5BAUQAAAALAAAAAABAAEAAAICBAEAOw==",SC.BLANK_IMAGE_URL=SC.browser.msie&&SC.browser.msie<8?"/devicemanagement/console/sproutcore/foundation/en/65d39373bd9195da07a4270dc2f7d0ecc39ffec6/source/resources/blank.gif":SC.BLANK_IMAGE_DATAURL,SC.BLANK_IMAGE=new Image,SC.BLANK_IMAGE.src=SC.BLANK_IMAGE_URL,SC.BLANK_IMAGE.width=SC.BLANK_IMAGE.height=1,SC.ImageView=SC.View.extend(SC.Control,SC.InnerFrame,{classNames:"sc-image-view",displayProperties:["frame","image","innerFrame","toolTip","imageValue","type"],renderDelegateName:function(){return(this.get("useCanvas")?"canvasImage":"image")+"RenderDelegate"}.property("useCanvas").cacheable(),tagName:function(){return this.get("useCanvas"
)?"canvas":"div"}.property("useCanvas").cacheable(),canLoadInBackground:NO,image:SC.BLANK_IMAGE,imageValue:function(){var e=this.get("value");return e&&e.isEnumerable?e.firstObject():e}.property("value").cacheable(),innerFrame:function(){var e=this.get("image"),t=e.width,n=e.height,r=this.get("frame");return SC.none(r)?{x:0,y:0,width:0,height:0}:this.innerFrameForSize(t,n,r.width,r.height)}.property("align","image","scale","frame").cacheable(),localize:YES,status:SC.IMAGE_STATE_NONE,type:function(){var e=this.get("imageValue");return SC.ImageView.valueIsUrl(e)?SC.IMAGE_TYPE_URL:SC.none(e)?SC.IMAGE_TYPE_NONE:SC.IMAGE_TYPE_CSS_CLASS}.property("imageValue").cacheable(),useCanvas:function(){return SC.platform.supportsCanvas&&!this.get("useStaticLayout")&&this.get("type")!==SC.IMAGE_TYPE_CSS_CLASS}.property("useStaticLayout","type").cacheable(),useImageQueue:YES,value:null,viewDidResize:function(){var e=this.get("layer"),t,n;if(e){t=e.offsetWidth,n=e.offsetHeight;if(this._cachedWidth!==t||this._cachedHeight!==n)this.notifyPropertyChange("frame"),this._cachedWidth=t,this._cachedHeight=n}},init:function(){arguments.callee.base.apply(this,arguments),this._image_valueDidChange(),this.get("useImageCache")!==undefined&&(SC.Logger.warn("%@ has useImageCache set, please set useImageQueue instead".fmt(this)),this.set("useImageQueue",this.get("useImageCache")))},layerDidChange:function(){this.get("useCanvas")&&this.set("layerNeedsUpdate",YES)}.observes("layer"),_image_valueDidChange:function(){var e=this.get("imageValue"),t=this.get("type");e!==this._iv_value&&(this._iv_value=e,this.set("image"
,SC.BLANK_IMAGE),t!==SC.IMAGE_TYPE_CSS_CLASS&&(this.set("status",SC.IMAGE_STATE_LOADING),this._loadImageUsingCache()||this._loadImage()))}.observes("imageValue"),_loadImageUsingCache:function(){var e=this.get("imageValue"),t=this.get("type");if(t===SC.IMAGE_TYPE_URL&&this.get("useImageQueue")){var n=this.get("isVisibleInWindow")||this.get("canLoadInBackground");return SC.imageQueue.loadImage(e,this,this._loadImageUsingCacheDidComplete,n),YES}return NO},_loadImageUsingCacheDidComplete:function(e,t){var n=this.get("imageValue");n===e&&(SC.ok(t)?this.didLoad(t):this.didError(t))},_loadImage:function(){var e=this.get("imageValue"),t=this.get("type"),n=this,r,i;if(t===SC.IMAGE_TYPE_URL){r=new Image;var s=function(){SC.run(function(){n._loadImageDidComplete(e,SC.$error("SC.Image.FailedError","Image",-101))})},o=function(){SC.run(function(){n._loadImageDidComplete(e,r)})};return i=$(r),i.bind("error",s),i.bind("abort",s),i.bind("load",o),r.src=e,YES}return NO},_loadImageDidComplete:function(e,t){var n=this.get("imageValue");n===e&&(SC.ok(t)?this.didLoad(t):this.didError(t))},didLoad:function(e){this.set("status",SC.IMAGE_STATE_LOADED),e||(e=SC.BLANK_IMAGE),this.set("image",e)},didError:function(e){this.set("status",SC.IMAGE_STATE_FAILED),this.set("image",SC.BLANK_IMAGE)}}),SC.ImageView.valueIsUrl=function(e){return e&&SC.typeOf(e)===SC.T_STRING?e.indexOf("/")>=0:NO},SC.TextFieldView=SC.FieldView.extend(SC.StaticLayout,SC.Editable,{classNames:["sc-text-field-view"],isTextField:YES,escapeHTML:NO,applyImmediately:YES,commitOnBlur:YES,isPassword:NO,isTextArea:NO,hint:"",type:"text",isBrowserFocusable
:YES,autoCorrect:!0,autoCapitalize:!0,formattedHint:function(){var e=this.get("hint");return typeof e=="string"&&(this.get("localize")&&(e=SC.String.loc(e)),this.get("escapeHTML")&&(e=SC.RenderContext.escapeHTML(e)),e=e.replace(/\"/g,"&#34;")),e}.property("hint","localize","escapeHTML").cacheable(),hintOnFocus:YES,localize:YES,isEditing:NO,defaultTabbingEnabled:YES,isContextMenuEnabled:YES,continuouslyUpdatesValue:null,allowsErrorAsValue:YES,leftAccessoryView:null,rightAccessoryView:null,spellCheckEnabled:YES,maxLength:5096,shouldRenderBorder:YES,supportsAutoResize:YES,autoResizeLayer:function(){return this.$input()[0]}.property("layer").cacheable(),autoResizeText:function(){return this.get("value")}.property("value").cacheable(),autoResizePadding:SC.propertyFromRenderDelegate("autoResizePadding",20),_hintON:YES,init:function(){var e=this.get("value");this._hintON=(!e||e&&e.length===0)&&!this.get("hintOnFocus")?YES:NO;var t=this.get("continouslyUpdatesValue");return t!==null&&t!==undefined&&this.set("applyImmediately",t),arguments.callee.base.apply(this,arguments)},isEditable:YES,selection:function(e,t){var n=this.$input()[0],r,i,s;if(t===undefined){if(n){i=null,s=null;if(!n.value)i=s=0;else{try{"selectionStart"in n&&(i=n.selectionStart),"selectionEnd"in n&&(s=n.selectionEnd)}catch(o){return null}if(i===null||s===null){var u=document.selection;if(u){var a=u.type;if(a&&(a==="None"||a==="Text")){r=u.createRange();if(!this.get("isTextArea")){var f=r.text.length;i=Math.abs(r.moveStart("character",0-(n.value.length+1))),s=i+f}else{var l=r.duplicate();l.moveToElementText(n),l.setEndPoint
("EndToStart",r),i=l.text.length,s=i+r.text.length}}}}}return SC.TextSelection.create({start:i,end:s})}return null}if(!t||!t.kindOf||!t.kindOf(SC.TextSelection))throw"When setting the selection, you must specify an SC.TextSelection instance.";if(n)if(n.setSelectionRange)n.setSelectionRange(t.get("start"),t.get("end"));else{r=n.createTextRange(),i=t.get("start"),r.move("character",i),r.moveEnd("character",t.get("end")-i);try{r.select()}catch(o){SC.Error("Failed selecting, this is a know bug with IE8, error 800a025e. Ignoring")}}return t}.property("fieldValue").cacheable(),displayProperties:["isBrowserFocusable","formattedHint","fieldValue","isEditing","isEditable","leftAccessoryView","rightAccessoryView","isTextArea"],createChildViews:function(){arguments.callee.base.apply(this,arguments),this.accessoryViewObserver()},acceptsFirstResponder:function(){return this.get("isEnabled")}.property("isEnabled"),accessoryViewObserver:function(){var e,t=["leftAccessoryView","rightAccessoryView"],n=t.length,r,i,s,o;for(r=0;r<n;r++){i=t[r],s=this["_"+i],o=this.get(i);if(!s||!o||s!==o){s&&(e=s.get("classNames"),e=e.without("sc-text-field-accessory-view"),s.set("classNames",e),this.removeChild(s),s=null,this["_"+i]=null);if(o){o.isClass&&(o=o.create({layoutView:this})),e=o.get("classNames");var u="sc-text-field-accessory-view";e.indexOf(u)<0&&(e=SC.clone(e),e.push(u),o.set("classNames",e)),this.appendChild(o),this["_"+i]=o}}}}.observes("leftAccessoryView","rightAccessoryView"),layoutChildViewsIfNeeded:function(e){e||(e=this.get("isVisibleInWindow"));if(e&&this.get("childViewsNeedLayout")){var t=
this.get("rightAccessoryView");if(t&&t.get){var n=t.get("layout");n&&(n.left=null,n.right||(n.right=0),t.adjust({layout:n}))}}arguments.callee.base.apply(this,arguments)},render:function(e,t){arguments.callee.base.apply(this,arguments);var n,r,i,s;n=this.get("fieldValue"),SC.none(n)&&(n=""),n=String(n),e.setClass("not-empty",n.length>0),r=this._getAccessoryViewWidths(),i=r.left,s=r.right,i&&(i+="px"),s&&(s+="px"),this._renderField(e,t,n,i,s)},_forceRenderFirstTime:NO,_renderFieldLikeFirstTime:function(){this.set("_forceRenderFirstTime",YES)}.observes("isTextArea"),_renderField:function(e,t,n,r,i){var s=this.get("formattedHint"),o=this.get("hintOnFocus"),u="",a=this.get("maxLength"),f=this.get("isTextArea"),l=this.get("isEnabled"),c=this.get("isEditable"),h=this.get("autoCorrect"),p=this.get("autoCapitalize"),d=this.get("isBrowserFocusable"),v="",m="",g="",y,b,w,E,S,x,T,N,C,k;n&&(this.get("escapeHTML")&&(n=SC.RenderContext.escapeHTML(n)),n=n.replace(/\"/g,"&#34;")),e.setClass("text-area",f),e.setClass("text-field",!f),N=SC.browser.isWebkit&&parseInt(SC.browser.webkit,0)<532,e.setClass("oldWebKitFieldPadding",N);if(t||this._forceRenderFirstTime){this._forceRenderFirstTime=NO,C=l?c?"":'readonly="readonly"':'disabled="disabled"',y=this.get("layerId"),v=this.get("spellCheckEnabled")?' spellcheck="true"':' spellcheck="false"',SC.browser.mobileSafari&&(g=h?"":' autocorrect="off"',m=p?"":' autocapitalize="off"'),d&&(k='tabindex="-1"'),SC.platform.input.placeholder&&!o&&(u=' placeholder="'+s+'"'),this.get("shouldRenderBorder")&&e.push('<div class="border"></div>'),b="";if(r||i)b='style="'
,r&&(b+="left: "+r+"; "),i&&(b+="right: "+i+";"),b+='"';e.push('<div class="padding" '+b+">"),this._hintON&&!SC.platform.input.placeholder&&(!n||n&&n.length===0)&&(n=s,e.setClass("sc-hint",YES));if(o){var L='<div aria-hidden="true" class="hint '+(f?"":"ellipsis")+'%@">'+s+"</div>";e.push(L.fmt(n?" sc-hidden":""))}T="field",f?e.push('<textarea aria-label="'+s+'" aria-multiline="true" class="'+T+'" name="'+y+'" '+C+u+v+g+k+m+' maxlength="'+a+'">'+n+"</textarea></div>"):(w=this.get("type"),this.get("isPassword")&&(w="password"),e.push('<input aria-label="'+s+'" class="'+T+'" type="'+w+'" name="'+y+'" '+C+' value="'+n+'"'+u+v+k+' maxlength="'+a+'" '+g+" "+m+"/></div>"))}else{var A=this.$input(),O=A[0],M=this.get("value");o?this.$(".hint")[0].innerHTML=s:o||(O.placeholder=s);if(!M||M&&M.length===0)this.get("isPassword")&&(O.type="password"),!SC.platform.input.placeholder&&this._hintON&&(this.get("isFirstResponder")?(e.setClass("sc-hint",NO),A.val("")):(e.setClass("sc-hint",YES),A.val(s)));SC.browser.mobileSafari&&(A.attr("autoCapitalize",p?"true":"off"),A.attr("autoCorrect",h?"true":"off")),!o&&SC.platform.input.placeholder&&A.attr("placeholder",s),d?A.removeAttr("tabindex"):A.attr("tabindex","-1"),S=A[0],S&&(l?c?(S.disabled=null,S.readOnly=null):(S.disabled=null,S.readOnly="true"):(S.disabled="true",S.readOnly=null),x=S.parentNode.style,r?x.left!==r&&(x.left=r):x.left=null,i?x.right!==i&&(x.right=i):x.right=null)}},_getAccessoryViewWidths:function(){var e={},t=["left","right"],n=t.length,r,i,s,o,u,a,f,l;for(r=0;r<n;r++)i=t[r],s=this.get(i+"AccessoryView"),s&&(s.isClass&&(s=s.create
({layoutView:this})),s.get&&(l=s.get("frame"),l&&(u=l.width,u&&(a=s.get("layout"),a&&(f=a[i],u+=f),e[i]=u))));return e},didCreateLayer:function(){arguments.callee.base.apply(this,arguments),SC.platform.input.placeholder||this.invokeLast(this._setInitialPlaceHolderIE);if(this.get("isTextArea"))this.invokeLast(this._addTextAreaEvents);else{this._addTextAreaEvents();if(SC.browser.mozilla){var e=this.$input();SC.Event.add(e,"keypress",this,this._firefox_dispatch_keypress)}}},_setInitialPlaceHolderIE:function(){if(!SC.platform.input.placeholder&&this._hintON){var e=this.$input(),t=e.val();(!t||t&&t.length===0)&&e.val(this.get("formattedHint"))}},_addTextAreaEvents:function(){var e=this.$input();SC.Event.add(e,"focus",this,this._textField_fieldDidFocus),SC.Event.add(e,"blur",this,this._textField_fieldDidBlur),SC.Event.add(e,"select",this,this._textField_selectionDidChange),SC.Event.add(e,"input",this,this._html5input),SC.Event.add(e,"compositionstart",this,this._IMECompositionStart)},willDestroyLayer:function(){arguments.callee.base.apply(this,arguments);var e=this.$input();SC.Event.remove(e,"focus",this,this._textField_fieldDidFocus),SC.Event.remove(e,"blur",this,this._textField_fieldDidBlur),SC.Event.remove(e,"select",this,this._textField_selectionDidChange),SC.Event.remove(e,"keypress",this,this._firefox_dispatch_keypress),SC.Event.remove(e,"input",this,this._html5input),SC.Event.remove(e,"compositionstart",this,this._IMECompositionStart)},_textField_fieldDidFocus:function(e){SC.run(function(){this.set("focused",YES),this.fieldDidFocus(e);var t=this.get("value");!SC.platform.input
.placeholder&&(!t||t&&t.length===0)&&(this._hintON=NO)},this)},_textField_fieldDidBlur:function(e){SC.run(function(){this.set("focused",NO),this.fieldDidBlur(this._origEvent||e);var t=this.get("value");!SC.platform.input.placeholder&&!this.get("hintOnFocus")&&(!t||t&&t.length===0)&&(this._hintON=YES)},this)},fieldDidFocus:function(e){this.becomeFirstResponder(),this.beginEditing(e),this._field_valueHasChanged=NO,this._didHideInterceptForPane&&(this._didHideInterceptForPane.showTouchIntercept(),this._didHideInterceptForPane=null);var t=this.get("pane");t&&t.get("hasTouchIntercept")&&(t.hideTouchIntercept(),this._didHideInterceptForPane=this.get("pane"))},fieldDidBlur:function(e){this.resignFirstResponder(e),this._field_valueHasChanged&&(this.fieldValueDidChange(NO),this._field_valueHasChanged=NO),this.get("commitOnBlur")&&this.commitEditing(e);var t=this._didHideInterceptForPane;t&&(t.showTouchIntercept(),t=null)},_field_fieldValueDidChange:function(e){this.get("focused")&&SC.run(function(){this.fieldValueDidChange(NO)},this),this.updateHintOnFocus()},_html5input:function(e){SC.run(function(){this.get("applyImmediately")||!this.get("focused")?this.fieldValueDidChange(YES):this._field_valueHasChanged=YES},this),this.updateHintOnFocus()},_IMECompositionStart:function(e){this.updateHintOnFocus(YES)},updateHintOnFocus:function(e){var t=this.get("hintOnFocus");if(!t)return;var n=this.getFieldValue();n!==undefined&&n!==null&&n.length>0||e&&SC.typeOf(e)===SC.T_BOOL?this.$(".hint").addClass("sc-hidden"):this.$(".hint").removeClass("sc-hidden")}.observes("value"),_topOffsetForFirefoxCursorFix
:3,_firefox_dispatch_keypress:function(e){var t=this.get("selection"),n=this.get("value"),r=n?n.length:0,i;if(!t||t.get("length")===0&&t.get("start")===0||t.get("end")===r){i=SC.RootResponder.responder;if(e.keyCode===9)return;i.keypress.call(i,e),e.stopPropagation()}},_textField_selectionDidChange:function(){this.notifyPropertyChange("selection")},didBecomeKeyResponderFrom:function(e){if(this.get("isVisibleInWindow")){var t=this.$input()[0];try{t&&t.focus()}catch(n){}this._txtFieldMouseDown||this.invokeLast(this._selectRootElement)}},_selectRootElement:function(){var e=this.$input()[0];e?(!SC.browser.isSafari||!SC.browser.isLion||SC.buildLocale!=="ko-kr")&&e.select():this._textField_selectionDidChange()},didLoseKeyResponderTo:function(e){var t=this.$input()[0];t&&t.blur(),this.invokeLater("scrollToOriginIfNeeded",100)},scrollToOriginIfNeeded:function(){var e=this.get("pane");if(!e)return;var t=e.get("firstResponder");if(!t||!t.get("isTextField"))document.body.scrollTop=document.body.scrollLeft=0},keyDown:function(e){var t=e.which,n=e.keyCode,r=!1,i,s;if(t===SC.Event.KEY_RETURN&&!e.isIMEInput&&!this.get("isTextArea"))return NO;if(t===SC.Event.KEY_ESC)return NO;if(t!==SC.Event.KEY_TAB&&n!==SC.Event.KEY_TAB||!this.get("defaultTabbingEnabled")){if(!SC.platform.input.maxlength&&this.get("isTextArea")){var o=this.get("value");o&&(!SC.browser.mozilla&&t>47||SC.browser.mozilla&&(t>32&&t<43||t>47)&&!(n>36&&n<41))&&o.length>=this.get("maxLength")&&(r=!0)}(this.performValidateKeyDown(e)||SC.platform.touch)&&!r||SC.isFunctionOrNonPrintableKey(e)?(this._isKeyDown=YES,e.allowDefault()):e.
stop();if(this.get("applyImmediately")){var u=this;setTimeout(function(){u.fieldValueDidChange()},10)}else this._field_valueHasChanged=YES;return YES}return s=e.shiftKey?this.get("previousValidKeyView"):this.get("nextValidKeyView"),s?s.becomeFirstResponder():e.allowDefault(),YES},keyUp:function(e){return SC.browser.mozilla&&e.keyCode===SC.Event.KEY_RETURN&&this.fieldValueDidChange(),this.notifyPropertyChange("selection"),this._isKeyDown=NO,e.allowDefault(),YES},mouseDown:function(e){var t=this.get("fieldValue"),n=this.$input();return n&&(n=n[0]),this._txtFieldMouseDown=YES,document.activeElement!==n&&(SC.browser.isIE8OrLower?this.invokeLater(this.becomeFirstResponder,50):this.becomeFirstResponder()),this.get("isEnabled")?e.target!==n?(e.stop(),SC.browser.isIE8OrLower&&setTimeout(function(){n.focus()},0),YES):arguments.callee.base.apply(this,arguments):(e.stop(),YES)},mouseUp:function(e){return this._txtFieldMouseDown=NO,this.notifyPropertyChange("selection"),this.get("isEnabled")?arguments.callee.base.apply(this,arguments):(e.stop(),YES)},doubleClick:function(e){return SC.browser.isIE8OrLower?this.mouseDown(e)|this.mouseUp(e):NO},touchStart:function(e){return this.mouseDown(e)},touchEnd:function(e){return this.mouseUp(e)},mouseWheel:function(e){return this.get("isTextArea")?(e.allowDefault(),YES):NO},selectStart:function(e){return YES},_valueObserver:function(){var e=this.get("value"),t;e&&e.length>0?(this._hintON=NO,t=this.get("maxLength"),!SC.platform.input.maxlength&&e.length>t&&this.set("value",e.substr(0,t))):this.get("hintOnFocus")||(this._hintON=YES)}.observes("value"
)}),SC.InlineTextFieldView=SC.TextFieldView.extend(SC.InlineEditor,{classNames:["inline-editor"],_topOffsetForFirefoxCursorFix:0,blurOnMouseDown:YES,_updateViewStyle:function(e){var t="",n=SC.getStyle(e,"font-size");return n&&n.length>0&&(t=t+"font-size: "+n+" !important; "),n=SC.getStyle(e,"font-family"),n&&n.length>0&&(t=t+"font-family: "+n+" !important; "),n=SC.getStyle(e,"font-weight"),n&&n.length>0&&(t=t+"font-weight: "+n+" !important; "),n=SC.getStyle(e,"z-index"),n&&n.length>0&&(t=t+"z-index: "+n+" !important; "),n=SC.getStyle(e,"line-height"),n&&n.length>0&&(t=t+"line-height: "+n+" !important; "),n=SC.getStyle(e,"text-align"),n&&n.length>0&&(t=t+"text-align: "+n+" !important; "),n=SC.getStyle(e,"top-margin"),n&&n.length>0&&(t=t+"top-margin: "+n+" !important; "),n=SC.getStyle(e,"bottom-margin"),n&&n.length>0&&(t=t+"bottom-margin: "+n+" !important; "),n=SC.getStyle(e,"left-margin"),n&&n.length>0&&(t=t+"left-margin: "+n+" !important; "),n=SC.getStyle(e,"right-margin"),n&&n.length>0&&(t=t+"right-margin: "+n+" !important; "),t},_updateViewPaddingStyle:function(e){var t="",n=SC.getStyle(e,"padding-top");return n&&n.length>0&&(t=t+"top: "+n+" !important; "),n=SC.getStyle(e,"padding-bottom"),n&&n.length>0&&(t=t+"bottom: "+n+" !important; "),n=SC.getStyle(e,"padding-left"),n&&n.length>0&&(t=t+"left: "+n+" !important; "),n=SC.getStyle(e,"padding-right"),n&&n.length>0&&(t=t+"right: "+n+" !important; "),t},updateStyle:function(e){e.length&&(e=e[0]);var t=document.getElementById("sc-inline-text-field-style"),n=this._updateViewStyle(e),r=this._updateViewPaddingStyle(e),i=".inline-editor input{"+
n+"}"+".inline-editor textarea{"+n+"}"+".inline-editor .padding{"+r+"}";if(!t){var s=document.getElementsByTagName("head")[0];t=document.createElement("style"),t.type="text/css",t.media="screen",t.id="sc-inline-text-field-style",s.appendChild(t)}t.styleSheet?t.styleSheet.cssText=i:t.innerHTML=i},positionOverTargetView:function(e,t,n,r,i){n||(n=e.get("pane")),i||(i=e.$()[0]);if(!r){var s=e.get("frame");r=SC.offset(i),r.height=s.height,r.width=s.width}var o={},u=n.$()[0],a=e.get("layout");o.height=r.height,o.width=r.width,t&&a.left?(o.left=r.x-a.left-u.offsetLeft-1,SC.browser.msie==7&&o.left--):(o.left=r.x-u.offsetLeft-1,SC.browser.msie==7&&o.left--),t&&a.top?(o.top=r.y-a.top-u.offsetTop,SC.browser.msie==7&&(o.top=o.top-2)):(o.top=r.y-u.offsetTop,SC.browser.msie==7&&(o.top=o.top-2)),this.set("layout",o)},multiline:NO,isTextArea:function(){return this.get("multiline")}.property("multiline").cacheable(),beginEditing:function(e,t){if(!e(t))return NO;var n=t.get("pane"),r=this.get("exampleElement");return this.beginPropertyChanges(),r?r.length&&(r=r[0]):r=t.$()[0],this.updateStyle(r),this.positionOverTargetView(t,this.get("isCollection"),n,this.get("exampleFrame"),r),this._previousFirstResponder=n?n.get("firstResponder"):null,this.becomeFirstResponder(),this.endPropertyChanges(),YES}.enhance(),blurEditor:function(e){return this.get("isEditing")?this.commitOnBlur?this.commitEditing():this.discardEditing():YES},_endEditing:function(e){var t=e();if(this.get("isFirstResponder")){var n=this.get("pane");n&&this._previousFirstResponder?n.makeFirstResponder(this._previousFirstResponder):this
.resignFirstResponder()}return this._previousFirstResponder=null,t}.enhance(),mouseDown:function(e){return arguments.callee.base.call(this,e),this.get("isEditing")},touchStart:function(e){this.mouseDown(e)},keyDown:function(e){if(e.isIMEInput===!0&&e.which===13)return!0;var t=this.interpretKeyEvents(e);return this.fieldValueDidChange(!0),t?t:NO},insertText:null,_scitf_blurInput:function(){var e=this.$input()[0];e&&e.blur(),e=null},willRemoveFromParent:function(){return this._scitf_blurInput()},willLoseFirstResponder:function(e,t){if(e!==this)return;return this._previousFirstResponder=null,this._origEvent=t,this._scitf_blurInput(),this.blurEditor(t)},cancel:function(){return this.discardEditing(),YES},fieldValueDidChange:function(e){arguments.callee.base.call(this,e)},insertNewline:function(e){return this.get("isTextArea")?(e.allowDefault(),arguments.callee.base.call(this,e)):(this.get("value")!=this.$input().val()&&this.set("value",this.$input().val()),this.commitEditing(),YES)},insertTab:function(e){var t=this.target;this.resignFirstResponder(),this.commitEditing();if(t){var n=t.get("nextValidKeyView");n&&n.beginEditing&&n.beginEditing()}return YES},insertBacktab:function(e){var t=this.target;this.resignFirstResponder(),this.commitEditing();if(t){var n=t.get("previousValidKeyView");n&&n.beginEditing&&n.beginEditing()}return YES},deleteForward:function(e){return e.allowDefault(),YES},deleteBackward:function(e){return e.allowDefault(),YES}}),SC.mixin(SC.InlineTextFieldView,{inlineEditorDelegate:SC.InlineTextFieldDelegate,label:null,editor:null,beginEditing:function(e){var t,n
,r,i,s;if(SC.typeOf(e)===SC.T_HASH){r=e;if(!r.delegate||!r.exampleElement||!r.frame)return SC.error("Delegate, exampleElement, and frame options are required."),NO;e=r.delegate,i=r.value}else i=e.get("value");return s=SC.beget(e),s.mixin({inlineEditorWillBeginEditing:function(){e.inlineEditorWillBeginEditing&&e.inlineEditorWillBeginEditing.apply(e,arguments)},inlineEditorDidBeginEditing:function(){e.inlineEditorDidBeginEditing&&e.inlineEditorDidBeginEditing.apply(e,arguments)},inlineEditorWillCommitEditing:function(t,n,r){e.inlineEditorWillCommitEditing&&e.inlineEditorWillCommitEditing(t,n,r),e.inlineEditorWillEndEditing&&e.inlineEditorWillEndEditing(t,n)},inlineEditorDidCommitEditing:function(t,n,r){e.inlineEditorDidCommitEditing&&e.inlineEditorDidCommitEditing(t,n,r),e.inlineEditorDidEndEditing&&e.inlineEditorDidEndEditing(t,n),SC.InlineTextFieldView._endEditing()},inlineEditorWillDiscardEditing:function(t,n){e.inlineEditorWillDiscardEditing&&e.inlineEditorWillDiscardEditing(t,n),e.inlineEditorWillEndEditing&&e.inlineEditorWillEndEditing(t,this.get("value"))},inlineEditorDidDiscardEditing:function(t,n){e.inlineEditorDidDiscardEditing&&e.inlineEditorDidDiscardEditing(t,n),e.inlineEditorDidEndEditing&&e.inlineEditorDidEndEditing(t,this.get("value")),SC.InlineTextFieldView._endEditing()}}),e.inlineEditorShouldBeginEditing&&!e.inlineEditorShouldBeginEditing(e,i)?NO:(this.editor=n=this.inlineEditorDelegate.acquireEditor(e),n.set("value",i),r&&(n.set("exampleElement",r.exampleElement),n.set("exampleFrame",r.frame),n.set("multiline",r.multiline),n.set("escapeHTML",r.escapeHTML),n
.set("isCollection",r.isCollection),n.set("commitOnBLur",r.commitOnBlur),n.set("validator",r.validator)),n?n.beginEditing(s):NO)},commitEditing:function(){return this.inlineEditorDelegate.editor?this.inlineEditorDelegate.editor.commitEditing():NO},discardEditing:function(){return this.inlineEditorDelegate.editor?this.inlineEditorDelegate.editor.discardEditing():NO},_endEditing:function(){this.inlineEditorDelegate.releaseEditor(this.editor),this.editor=null}}),SC.REGULAR_WEIGHT="normal",SC.BOLD_WEIGHT="bold",SC.LabelView=SC.View.extend(SC.Control,SC.InlineEditable,{classNames:["sc-label-view"],displayProperties:["displayTitle","textAlign","fontWeight","icon","escapeHTML","needsEllipsis","hint"],inlineEditorDelegate:SC.InlineTextFieldDelegate,isEditable:NO,exampleEditor:SC.InlineTextFieldView,fontWeight:null,escapeHTML:YES,escapeHTMLBindingDefault:SC.Binding.oneWay().bool(),localize:NO,localizeBindingDefault:SC.Binding.oneWay().bool(),formatter:null,value:"",hint:null,hintEnabled:function(){return this.get("isEditable")}.property("isEditable").cacheable(),icon:null,textAlign:null,supportsAutoResize:YES,autoResizeLayer:function(){return this.get("layer")}.property("layer").cacheable(),autoResizeText:function(){return this.get("displayTitle")}.property("displayTitle").cacheable(),autoResizePadding:SC.propertyFromRenderDelegate("autoResizePadding",10),renderDelegateName:"labelRenderDelegate",displayTitle:function(){var e,t;e=this.get("value"),t=this.getDelegateProperty("formatter",this.displayDelegate);if(t){var n=SC.typeOf(t)===SC.T_FUNCTION?t(e,this):t.fieldValueForObject(e,this
);SC.none(n)||(e=n)}if(SC.typeOf(e)===SC.T_ARRAY){var r=[];for(var i=0,s=e.get("length");i<s;i++){var o=e.objectAt(i);!SC.none(o)&&o.toString&&(o=o.toString()),r.push(o)}e=r.join(",")}return!SC.none(e)&&e.toString&&(e=e.toString()),e&&this.getDelegateProperty("localize",this.displayDelegate)&&(e=SC.String.loc(e)),e}.property("value","localize","formatter").cacheable(),hintValue:function(){var e=this.get("hint");return e}.property("hint").cacheable(),doubleClick:function(e){return this.beginEditing()},inlineEditorDidBeginEditing:function(e,t,n,r){this._oldOpacity=this.get("layout").opacity||1,this.adjust("opacity",0),e(t,n,r)}.enhance(),inlineEditorDidEndEditing:function(){this.adjust("opacity",this._oldOpacity),this._oldOpacity=null}}),SC.allowsBackspaceToPreviousPage=NO,SC.HORIZONTAL_ORIENTATION="horizontal",SC.VERTICAL_ORIENTATION="vertical",SC.BORDER_BEZEL="sc-bezel-border",SC.BORDER_BLACK="sc-black-border",SC.BORDER_GRAY="sc-gray-border",SC.BORDER_TOP="sc-top-border",SC.BORDER_BOTTOM="sc-bottom-border",SC.BORDER_NONE=null,SC.Border={borderTop:0,borderRight:0,borderBottom:0,borderLeft:0,borderStyle:SC.BORDER_GRAY,hasBorder:YES,displayProperties:["borderStyle"],_BORDER_REGEXP:/-border$/,initMixin:function(){console.warn("SC.Border is deprecated, please set border in your layout"),this._sc_border_borderStyleDidChange(),this._sc_border_borderDimensionsDidChange()},renderMixin:function(e,t){var n=this.get("borderStyle");n&&(this._BORDER_REGEXP.exec(n)?e.addClass(n):e.addStyle("border","1px "+n+" solid"))},_sc_border_borderStyleDidChange:function(){var e=this.get("borderStyle"
),t=SC.Border.dimensions[e];t&&(this.beginPropertyChanges(),this.set("borderTop",t),this.set("borderRight",t),this.set("borderBottom",t),this.set("borderLeft",t),this.endPropertyChanges())},_sc_border_borderDimensionsDidChange:function(){var e=this.get("borderTop"),t=this.get("borderRight"),n=this.get("borderBottom"),r=this.get("borderLeft");this.adjust({borderTop:e,borderRight:t,borderBottom:n,borderLeft:r})}.observes("borderTop","borderRight","borderBottom","borderLeft")},SC.mixin(SC.Border,{dimensions:{"sc-bezel-border":1,"sc-black-border":1,"sc-gray-border":1,"sc-top-border":1,"sc-bottom-border":1}}),SC.CollectionFastPath={initMixin:function(){this._indexMap={}},poolForExampleView:function(e){var t="_pool_"+SC.guidFor(e);return this[t]||(this[t]=[]),this[t]},createItemViewFromExampleView:function(e,t){var n=this.createItemView(e,null,t);return n.isPoolable&&(n.owningPool=this.poolForExampleView(e)),n.createdFromExampleView=e,n},configureItemView:function(e,t){e.beginPropertyChanges(),e.setIfChanged("content",t.content),e.setIfChanged("contentIndex",t.contentIndex),e.setIfChanged("parentView",t.parentView),e.setIfChanged("layerId",t.layerId),e.setIfChanged("isEnabled",t.isEnabled),e.setIfChanged("isSelected",t.isSelected),e.setIfChanged("outlineLevel",t.outlineLevel),e.setIfChanged("layout",t.layout),e.setIfChanged("disclosureState",t.disclosureState),e.setIfChanged("isVisibleInWindow",t.isVisibleInWindow),e.setIfChanged("isGroupView",t.isGroupView),e.setIfChanged("page",this.page),e.endPropertyChanges()},wakePooledView:function(e,t){this.configureItemView(e,t),e.awakeFromPool&&
e.awakeFromPool(e.owningPool,this)},allocateItemView:function(e,t){var n;if(e.prototype.isPoolable){var r=this.poolForExampleView(e);r.length>0&&(n=r.pop(),this.wakePooledView(n,t))}return n||(n=this.createItemViewFromExampleView(e,t)),n},releaseItemView:function(e){if(!e.isPoolable){e.destroy();return}var t=e.owningPool;t.push(e),e.hibernateInPool&&e.hibernateInPool(t,this)},contentIndexIsGroup:function(e,t,n){var r=this.get("contentDelegate"),i=this.get("_contentGroupIndexes"),s=NO;return s=i&&i.contains(n),s&&(s=r.contentIndexIsGroup(this,this.get("content"),n)),s},exampleViewForItem:function(e,t){var n=this.get("contentDelegate"),r=this.get("_contentGroupIndexes"),i,s,o=this.contentIndexIsGroup(this,this.get("content"),t);return o?(i=this.get("contentGroupExampleViewKey"),i&&e&&(s=e.get(i)),s||(s=this.get("groupExampleView")||this.get("exampleView"))):(i=this.get("contentExampleViewKey"),i&&e&&(s=e.get(i)),s||(s=this.get("exampleView"))),s},setAttributesForItem:function(e,t,n){var r=this.get("contentDelegate"),i=this.contentIndexIsGroup(this,this.get("content"),t),s=this.exampleViewForItem(e,t),o=this.get("content");n.createdFromExampleView=s,n.parentView=this.get("containerView")||this,n.contentIndex=t,n.owner=n.displayDelegate=this,n.content=e,n.page=this.page,n.layerId=this.layerIdFor(t),n.isEnabled=r.contentIndexIsEnabled(this,o,t),n.isSelected=r.contentIndexIsSelected(this,o,t),n.outlineLevel=r.contentIndexOutlineLevel(this,o,t),n.disclosureState=r.contentIndexDisclosureState(this,o,t),n.isVisibleInWindow=this.get("isVisibleInWindow"),n.isGroupView=i,n.layout=this.layoutForContentIndex
(t),n.layout||(n.layout=s.prototype.layout)},mappedViewsForItem:function(e,t){return t||(t=this._viewMap),t[SC.guidFor(e)]},mappedViewForItem:function(e,t,n){n||(n=this._viewMap);var r=n[SC.guidFor(e)];return r?r[t]:undefined},mapView:function(e,t,n,r){r||(r=this._viewMap);var i=SC.guidFor(e),s=r[i];s||(s=r[i]={_length:0}),s[t]=n,s._length++},unmapView:function(e,t,n){n||(n=this._viewMap);var r=SC.guidFor(e),i=n[r];if(!i)return;if(i[t]){var s=i[t];delete i[t],i._length--,i._length<=0&&delete n[r]}},itemViewForContentIndex:function(e){var t=this.get("content");if(!t)return;var n=t.objectAt(e);if(!n)return null;var r=this.exampleViewForItem(n,e),i=this._indexMap[e];return i&&i.createdFromExampleView!==r&&(this.removeItemView(i),this.unmapView(n,e),i=null),i||(i=this.addItemView(r,n,e)),i},nearestMappedViewIndexForItem:function(e,t,n){var r=this.mappedViewsForItem(e,n);if(!r)return null;var i=null,s=-1,o=0;for(var u in r){u=parseInt(u,10);if(isNaN(u))continue;o=Math.abs(t-u);if(s<0||o<s)s=o,i=u}return i},remapItemViews:function(e){var t=this._viewMap||{},n=this._viewMap={},r=this._indexMap={},i=[],s=this.get("content"),o;if(!s)return;var u=this._itemsToAdd;e.forEach(function(e){o=s.objectAt(e);var a=this.mappedViewsForItem(o,t);if(a)if(a[e]){var f=a[e];this.unmapView(o,e,t),this.mapView(o,e,f,n),r[e]=f}else i.push(e);else u.push(e)},this);for(var a=0,f=i.length;a<f;a++){var l=i[a];o=s.objectAt(l);var c=this.nearestMappedViewIndexForItem(o,l,t),h;if(!SC.none(c)){h=this.mappedViewForItem(o,c,t);var p=this.exampleViewForItem(o,l);p===h.createdFromExampleView?(this.unmapView(o,c,t)
,this.mapView(o,l,h,n),r[l]=h):u.push(l)}else u.push(l)}return t},reloadIfNeeded:function(e,t){var n=this.get("content"),r;if(!e||!e.isIndexSet)e=this.get("nowShowing");if(!t){r=this._invalidIndexes;if(!r||!this.get("isVisibleInWindow"))return this;this._invalidIndexes=NO,r.isIndexSet&&r.contains(e)&&(r=YES),this.willReload&&this.willReload(r===YES?null:r)}var i=this._itemsToAdd||(this._itemsToAdd=[]),s=this.remapItemViews(e);this.processRemovals(s);if(r){var o=e;r.isIndexSet&&e.contains(r)&&(o=r),this.processUpdates(o)}this.processAdds(),t||this.clearDOMPools(),i.length=0;if(!t){var u=this.computeLayout();u&&this.adjust(u),this.didReload&&this.didReload(r===YES?null:r)}return this},processRemovals:function(e){var t=this.get("content");for(var n in e){var r=e[n];for(var i in r){i=parseInt(i,10);if(isNaN(i))continue;var s=r[i];this._indexMap[i]===s&&delete this._indexMap[i],s._isInCollection=NO,this.removeItemView(s)}}},processUpdates:function(e){var t=this._itemsToUpdate,n=this.get("content"),r,i;e.forEach(function(e){r=n.objectAt(e);if(i=this.mappedViewForItem(r,e)){if(!i._isInCollection)return;var t=this.exampleViewForItem(r,e);this.updateItemView(i,t,r,e)}},this)},processAdds:function(){var e=this.get("content"),t=this._itemsToAdd,n,r=t.length,i,s;for(n=0;n<r;n++){i=t[n],s=e.objectAt(i);var o=this.exampleViewForItem(s,i),u=this.addItemView(o,s,i)}},clearDOMPools:function(){var e=this._domPools||(this._domPools={});for(var t in e)this.clearDOMPool(e[t])},domPoolSize:10,clearDOMPool:function(e){var t,n=e.length,r;for(t=this.domPoolSize;t<n;t++)r=e[t],this.removeChild(r),this
.releaseItemView(r);e.length=Math.min(e.length,this.domPoolSize)},domPoolForExampleView:function(e){var t=this._domPools||(this._domPools={}),n=SC.guidFor(e),r=t[n];return r||(r=t[n]=[]),r},itemFromDOMPool:function(e){var t=this.domPoolForExampleView(e);if(t.length<1)return null;var n=t.shift();return n.wakeFromDOMPool&&n.wakeFromDOMPool(),n},sendToDOMPool:function(e){var t=this.domPoolForExampleView(e.createdFromExampleView);t.push(e);var n=e.get("frame");e.adjust({top:-n.height}),e.set("layerId",SC.guidFor(e)),e.sleepInDOMPool&&e.sleepInDOMPool()},addItemView:function(e,t,n){var r,i=this._TMP_ATTRS||(this._TMP_ATTRS={});return this.setAttributesForItem(t,n,i),(r=this.itemFromDOMPool(e))?(this.configureItemView(r,i),r._isInCollection=YES,this.mapView(t,n,r),this._indexMap[n]=r,r):(r=this.allocateItemView(e,i),this.appendChild(r),r._isInCollection=YES,this.mapView(t,n,r),this._indexMap[n]=r,r)},removeItemView:function(e){e.get("layerIsCacheable")?this.sendToDOMPool(e):(this.removeChild(e),e.destroyLayer()),e._isInCollection=NO},updateItemView:function(e,t,n,r){if(!e.get("layerIsCacheable")||e.createdFromExampleView!==t){this.unmapView(e,r),delete this._indexMap[r],this.removeItemView(e,n,r);var i=this.addItemView(t,n,r)}else{var s=this._TMP_ATTRS||(this._TMP_ATTRS={});this.setAttributesForItem(n,r,s),this.configureItemView(e,s)}},_lastTopUpdate:0,_lastLeftUpdate:0,_tolerance:100,touchScrollDidChange:function(e,t){if(Date.now()-this._lastTouchScrollTime<25)return;var n=this.get("clippingFrame"),r=this._inScrollClippingFrame||(this._inScrollClippingFrame={x:0,y:0,width:0,height
:0});r.x=n.x,r.y=n.y,r.width=n.width,r.height=n.height,r.x=e,r.y=t;var i=this.contentIndexesInRect(r);if(!i)return;var s=this.get("length"),o=i.get("max"),u=i.get("min");if(o>s||u<0)i=i.copy(),i.remove(s,o-s).remove(u,0-u).freeze();if(this._lastNowShowing&&i.contains(this._lastNowShowing)&&this._lastNowShowing.contains(i))return;this._lastNowShowing=i,this.reloadIfNeeded(i,YES),this._lastTouchScrollTime=Date.now()}},SC.CollectionGroup={classNames:["sc-collection-group"]},SC.CollectionRowDelegate={isCollectionRowDelegate:YES,itemHeight:24,rowSpacing:0,rowPadding:0,rowHeight:function(e,t){var n=this.get("rowPadding"),r=this.get("itemHeight");return t!==undefined?(this.set("itemHeight",t-n*2),t):r+n*2}.property("itemHeight","rowPadding"),customRowHeightIndexes:null,contentIndexRowHeight:function(e,t,n){return this.get("rowHeight")}},SC.CollectionViewDelegate={isCollectionViewDelegate:YES,collectionViewSelectionForProposedSelection:function(e,t){return t},collectionViewShouldSelectIndexes:function(e,t,n){return t},collectionViewShouldDeselectIndexes:function(e,t){return t},collectionViewShouldDeleteIndexes:function(e,t){return t},collectionViewDeleteContent:function(e,t,n){return t?SC.typeOf(t.destroyAt)===SC.T_FUNCTION?(t.destroyAt(n),e.selectPreviousItem(NO,1),YES):SC.typeOf(t.removeAt)===SC.T_FUNCTION?(t.removeAt(n),e.selectPreviousItem(NO,1),YES):NO:NO},collectionViewShouldBeginDrag:function(e){return YES},collectionViewDragDataTypes:function(e){return[]},collectionViewDragDataForType:function(e,t,n){return null},collectionViewComputeDragOperations:function(e,t,n){return n},
collectionViewValidateDragOperation:function(e,t,n,r,i){return i&SC.DROP_ON?SC.DRAG_NONE:n},collectionViewPerformDragOperation:function(e,t,n,r,i){return SC.DRAG_NONE},collectionViewDragViewFor:function(e,t){return null},ghostActsLikeCursor:NO},SC.NavigationBuilder={isNavigationBuilder:YES,navigationTransitions:NO,initMixin:function(){var e=SC.Animatable;e&&!this.isAnimatable?this.mixin(e):e||SC.Logger.error("SC.NavigationView and SC.NavigationBuilder require SC.Animatable to perform animations, but it is not present. Please ensure your app or framework references it.");var t=this.get("navigationTransitions");!t&&SC.Animatable&&(t={left:{duration:.25,timing:SC.Animatable.TRANSITION_EASE_IN_OUT,action:"navigationBuildDidFinish"},transform:{duration:.25,timing:SC.Animatable.TRANSITION_EASE_IN_OUT,action:"navigationBuildDidFinish"}}),SC.Animatable&&SC.mixin(this.transitions,t)},metrics:function(){var e=this.computeFrameWithParentFrame();return e},transform:function(e){SC.platform.supportsCSS3DTransforms?this.adjust("transform","translate3d("+e+"px,0px,0px)"):this.adjust("transform","translate("+e+"px,0px)")},buildInNavigation:function(){var e=this.metrics();this.disableAnimation(),this.transform(this.get("buildDirection")===SC.TO_LEFT?e.width:-e.width),this.enableAnimation(),this.invokeLater("transform",10,0)},buildOutNavigation:function(){var e=this.metrics();this.transform(this.get("buildDirection")===SC.TO_LEFT?-e.width:e.width)},buildIn:function(){this.buildInNavigation()},buildOut:function(){this.buildOutNavigation()},resetBuild:function(){this.transform(0)},navigationBuildDidFinish
:function(){this.isBuildingIn?this.buildInDidFinish():this.isBuildingOut&&this.buildOutDidFinish()}},SC.Scrollable={isScrollable:!0,verticalLineScroll:20,horizontalLineScroll:20,verticalPageScroll:function(){return this.get("innerFrame").height}.property("innerFrame"),horizontalPageScroll:function(){return this.get("innerFrame").width}.property("innerFrame"),hasVerticalScroller:function(){return this.get("scrollFrame").height>this.get("innerFrame").height}.property("scrollFrame"),hasHorizontalScroller:function(){return this.get("scrollFrame").width>this.get("innerFrame").width}.property("scrollFrame"),scrollBy:function(e){var t=this.get("scrollFrame"),n=this.get("innerFrame");this.get("hasVerticalScroller")||(e.y=0),t.height<=n.height&&(e.y=0),this.get("hasHorizontalScroller")||(e.x=0),t.width<=n.width&&(e.x=0);var r={x:t.x-(e.x||0),y:t.y-(e.y||0)};return this.set("scrollFrame",r),r=this.get("scrollFrame"),{x:r.x-t.x,y:r.y-t.y}},scrollTo:function(e,t){this.set("scrollFrame",{x:0-e,y:0-t})},scrollToVisible:function(e){var t=this.get("innerFrame"),n=this.get("scrollFrame"),r=this.convertFrameFromView(e.get("frame"),e);r.x-=t.x+n.x,r.y-=t.y+n.y;var i={x:0-n.x,y:0-n.y,width:t.width,height:t.height};i.y-=Math.max(0,SC.minY(i)-SC.minY(r)),i.x-=Math.max(0,SC.minX(i)-SC.minX(r)),i.y+=Math.max(0,SC.maxY(r)-SC.maxY(i)),i.x+=Math.max(0,SC.maxX(r)-SC.maxX(i)),this.scrollTo(i.x,i.y)},scrollDownLine:function(e){return e===undefined&&(e=1),this.scrollBy({y:this.get("verticalLineScroll")*e}).y},scrollUpLine:function(e){return e===undefined&&(e=1),0-this.scrollBy({y:0-this.get("verticalLineScroll"
)*e}).y},scrollRightLine:function(e){return e===undefined&&(e=1),this.scrollTo({y:this.get("horizontalLineScroll")*e}).x},scrollLeftLine:function(e){return e===undefined&&(e=1),0-this.scrollTo({y:0-this.get("horizontalLineScroll")*e}).x},scrollDownPage:function(e){return e===undefined&&(e=1),this.scrollBy({y:this.get("verticalPageScroll")*e}).y},scrollUpPage:function(e){return e===undefined&&(e=1),0-this.scrollBy({y:0-this.get("verticalPageScroll")*e}).y},scrollRightPage:function(e){return e===undefined&&(e=1),this.scrollTo({y:this.get("horizontalPageScroll")*e}).x},scrollLeftPage:function(e){return e===undefined&&(e=1),0-this.scrollTo({y:0-this.get("horizontalPageScroll")*e}).x}},SC.ModalPane=SC.Pane.extend({classNames:"sc-modal",_openPaneCount:0,paneWillAppend:function(e){var t,n=SC.RootResponder.responder.panes;this._openPaneCount++,this.get("isVisibleInWindow")||this.append();for(var r=0,i=n.length;r<i;r++)t=n[r],t!==e&&t.set("ariaHidden",YES);return this},paneDidRemove:function(e){var t,n=SC.RootResponder.responder.panes;this._openPaneCount--,this._openPaneCount<=0&&(this._openPaneCount=0,this.get("isVisibleInWindow")&&this.remove());for(var r=0,i=n.length;r<i;r++)t=n[r],t!==e&&t.set("ariaHidden",NO)},mouseDown:function(e){var t=this.get("owner");t&&t.modalPaneDidClick&&t.modalPaneDidClick(e)},touchStart:function(e){this.mouseDown(e)}}),SC.PanelPane=SC.Pane.extend({isPanelPane:YES,classNames:["sc-panel"],acceptsKeyPane:YES,ariaRole:"dialog",ariaLabel:null,ariaLabelledBy:null,ariaDescribedBy:null,isModal:YES,modalPane:SC.ModalPane.extend({classNames:"for-sc-panel"}),contentView
:null,contentViewBindingDefault:SC.Binding.single(),replaceContent:function(e){this.removeAllChildren(),e&&this.appendChild(e)},createChildViews:function(){var e=this.contentView;e&&(e=this.contentView=this.createChildView(e),this.childViews=[e])},contentViewDidChange:function(){this.replaceContent(this.get("contentView"))}.observes("contentView"),renderDelegateName:"panelRenderDelegate",_modalPane:function(){var e=this.get("modalPane");return e&&e.isClass&&(e=e.create({owner:this}),this.set("modalPane",e)),e},appendTo:function(e){var t;return!this.get("isVisibleInWindow")&&this.get("isModal")&&(t=this._modalPane())&&(this._isShowingModal=YES,t.paneWillAppend(this)),arguments.callee.base.apply(this,arguments)},remove:function(){var e,t=arguments.callee.base.apply(this,arguments);return this._isShowingModal&&(this._isShowingModal=NO,(e=this._modalPane())&&e.paneDidRemove(this)),t},destroy:function(){var e=this.get("modalPane");e&&!e.isClass&&e.destroy(),arguments.callee.base.apply(this,arguments)},_isModalDidChange:function(){var e,t=this.get("isModal");t?!this._isShowingModal&&this.get("isVisibleInWindow")&&(e=this._modalPane())&&(this._isShowingModal=YES,e.paneWillAppend(this)):this._isShowingModal&&(e=this._modalPane())&&(this._isShowingModal=NO,e.paneDidRemove(this))}.observes("isModal"),paneDidAttach:function(){var e=arguments.callee.base.apply(this,arguments);return this.becomeKeyPane(),e},displayProperties:["ariaLabel","ariaLabelledBy","ariaDescribedBy"]}),SC.TOGGLE_BEHAVIOR="toggle",SC.PUSH_BEHAVIOR="push",SC.TOGGLE_ON_BEHAVIOR="on",SC.TOGGLE_OFF_BEHAVIOR="off",SC.HOLD_BEHAVIOR="hold"
,SC.ButtonView=SC.View.extend(SC.Control,{acceptsFirstResponder:function(){return SC.FOCUS_ALL_CONTROLS?this.get("isEnabled"):NO}.property("isEnabled"),classNames:["sc-button-view"],themeName:"square",value:null,toggleOnValue:YES,toggleOffValue:NO,localize:NO,localizeBindingDefault:SC.Binding.bool(),title:"",tooltip:"",contentTitleKey:null,icon:null,contentIconKey:null,needsEllipsis:YES,displayTitle:function(){var e=this.get("title");return e&&this.get("localize")?SC.String.loc(e):e||""}.property("title","localize").cacheable(),keyEquivalent:null,isBorderless:NO,buttonBehavior:SC.PUSH_BEHAVIOR,holdInterval:100,isDefault:NO,isDefaultBindingDefault:SC.Binding.oneWay().bool(),isCancel:NO,isCancelBindingDefault:SC.Binding.oneWay().bool(),action:null,target:null,supportFocusRing:NO,supportsAutoResize:YES,autoResizeLayer:function(){var e=this.invokeRenderDelegateMethod("getRenderedAutoResizeLayer",this.$());return e||this.get("layer")}.property("layer").cacheable(),autoResizeText:function(){return this.get("displayTitle")}.property("displayTitle").cacheable(),autoResizePadding:SC.propertyFromRenderDelegate("autoResizePadding",10),_labelMinWidthIE7:0,triggerActionAfterDelay:function(e){return this.get("isEnabled")?(this.set("isActive",YES),this.invokeLater("triggerAction",200,e),YES):NO},triggerAction:function(e){this._action(e,YES),this.didTriggerAction(),this.set("isActive",NO)},didTriggerAction:function(){},init:function(){arguments.callee.base.apply(this,arguments);var e=this.get("keyEquivalent");e&&(this._defaultKeyEquivalent=e),SC.none(this.get("value"))||this._button_valueDidChange
()},ariaRole:"button",displayProperties:["icon","displayTitle","value","displayToolTip","isDefault","isCancel","escapeHTML","needsEllipsis","tooltip","supportFocusRing","buttonBehavior","isBorderless"],renderDelegateName:"buttonRenderDelegate",contentKeys:{contentValueKey:"value",contentTitleKey:"title",contentIconKey:"icon"},_button_displayObserver:function(){this.displayDidChange()}.observes("title","icon","value"),performKeyEquivalent:function(e,t){if(!this.get("isVisibleInWindow"))return NO;if(!this.get("isEnabled"))return NO;var n=this.get("keyEquivalent");if(n){if(n===e)return this.triggerAction(t)}else if(this.get("isDefault")&&e==="return"||this.get("isCancel")&&e==="escape")return this.triggerAction(t);return NO},computeIsSelectedForValue:function(e){var t=this.get("toggleOnValue"),n,r;return SC.typeOf(e)===SC.T_ARRAY?e.length===1?n=e[0]==t:(n=null,e.find(function(e){return r=e==t,n===null?n=r:r!==n&&(n=SC.MIXED_STATE),n===SC.MIXED_STATE})):e===SC.MIXED_STATE?n=SC.MIXED_STATE:n=e===t,n},_button_valueDidChange:function(){var e=this.get("value"),t=this.computeIsSelectedForValue(e);this.set("isSelected",t)}.observes("value"),_button_isSelectedDidChange:function(){var e=this.get("isSelected"),t=this.computeIsSelectedForValue(this.get("value"));if(e!==SC.MIXED_STATE&&t!==e){var n=e?"toggleOnValue":"toggleOffValue";this.set("value",this.get(n))}}.observes("isSelected"),_defaultKeyEquivalent:null,_isDefaultOrCancelDidChange:function(){var e=!!this.get("isDefault"),t=!e&&this.get("isCancel");e?this.set("keyEquivalent","return"):t?this.set("keyEquivalent","escape"):this.set("keyEquivalent"
,this._defaultKeyEquivalent)}.observes("isDefault","isCancel"),mouseDown:function(e){var t=this.get("buttonBehavior");return this.get("isEnabled")?(this.set("isActive",YES),this._isMouseDown=YES,t===SC.HOLD_BEHAVIOR?this._action(e):!this._isFocused&&t!==SC.PUSH_BEHAVIOR&&(this._isFocused=YES,this.becomeFirstResponder()),YES):YES},mouseExited:function(e){return this._isMouseDown&&this.set("isActive",NO),YES},mouseEntered:function(e){return this._isMouseDown&&this.set("isActive",YES),YES},mouseUp:function(e){this._isMouseDown&&this.set("isActive",NO),this._isMouseDown=!1;if(this.get("buttonBehavior")!==SC.HOLD_BEHAVIOR){var t=this.$().within(e.target);t&&this.get("isEnabled")&&this._action(e)}return YES},touchStart:function(e){var t=this.get("buttonBehavior");return this.get("isEnabled")?(this.set("isActive",YES),t===SC.HOLD_BEHAVIOR?this._action(e):!this._isFocused&&t!==SC.PUSH_BEHAVIOR&&(this._isFocused=YES,this.becomeFirstResponder()),e.preventDefault(),YES):YES},touchesDragged:function(e,t){return this.touchIsInBoundary(e)?(this._touch_exited&&this.set("isActive",YES),this._touch_exited=NO):(this._touch_exited||this.set("isActive",NO),this._touch_exited=YES),e.preventDefault(),YES},touchEnd:function(e){return this._touch_exited=NO,this.set("isActive",NO),this.get("buttonBehavior")!==SC.HOLD_BEHAVIOR&&this.touchIsInBoundary(e)&&this.get("isEnabled")&&this._action(),e.preventDefault(),YES},keyDown:function(e){if(!this.get("isEnabled"))return YES;if(e.which===9||e.keyCode===9){var t=e.shiftKey?this.get("previousValidKeyView"):this.get("nextValidKeyView");return t?t.becomeFirstResponder
():e.allowDefault(),YES}return e.which===32?(this.triggerActionAfterDelay(e),YES):(e.allowDefault(),NO)},_action:function(e,t){switch(this.get("buttonBehavior")){case SC.TOGGLE_BEHAVIOR:var n=this.get("isSelected");n?this.set("value",this.get("toggleOffValue")):this.set("value",this.get("toggleOnValue"));break;case SC.TOGGLE_ON_BEHAVIOR:this.set("value",this.get("toggleOnValue"));break;case SC.TOGGLE_OFF_BEHAVIOR:this.set("value",this.get("toggleOffValue"));break;case SC.HOLD_BEHAVIOR:this._runHoldAction(e,t);break;default:this._runAction(e)}},_runAction:function(e){var t=this.get("action"),n=this.get("target")||null,r;if(t){if(t&&SC.typeOf(t)===SC.T_FUNCTION){this.action(e);return}r=this.getPath("pane.rootResponder"),r&&r.sendAction(t,n,this,this.get("pane"),null,this)}},_runHoldAction:function(e,t){this.get("isActive")&&(this._runAction(),t||(SC.RunLoop.begin(),this.invokeLater("_runHoldAction",this.get("holdInterval"),e),SC.RunLoop.end()))},didBecomeKeyResponderFrom:function(e){this._isFocused||(this._isFocused=YES,this.becomeFirstResponder(),this.get("isVisibleInWindow")&&this.$().focus())},willLoseKeyResponderTo:function(e){this._isFocused&&(this._isFocused=NO)},didAppendToDocument:function(){if(parseInt(SC.browser.msie,0)===7&&this.get("useStaticLayout")){var e=this.get("layout"),t=this.$(),n=0;if(t&&t[0]&&(n=t[0].clientWidth)&&n!==0&&this._labelMinWidthIE7===0){var r=this.$(".sc-button-label"),i=parseInt(r.css("paddingRight"),0),s=parseInt(r.css("paddingLeft"),0),o=parseInt(r.css("marginRight"),0),u=parseInt(r.css("marginLeft"),0);o=="auto"&&SC.Logger.log(o+","+u+","+
i+","+s),!i&&isNaN(i)&&(i=0),!s&&isNaN(s)&&(s=0),!o&&isNaN(o)&&(o=0),!u&&isNaN(u)&&(u=0),this._labelMinWidthIE7=n-(i+s)-(o+u),r.css("minWidth",this._labelMinWidthIE7+"px")}else this.invokeLater(this.didAppendToDocument,1)}}}),SC.ButtonView.CLICK_AND_HOLD_DELAY=SC.browser.msie?600:300,SC.REGULAR_BUTTON_HEIGHT=24,SC.BUTTON1_STATUS="button1",SC.BUTTON2_STATUS="button2",SC.BUTTON3_STATUS="button3",SC.AlertPane=SC.PanelPane.extend({classNames:["sc-alert"],ariaRole:"alertdialog",delegate:null,icon:"sc-icon-alert-48",message:"",ariaLabel:function(){return this.get("message")}.property("message").cacheable(),description:"",displayDescription:function(){var e=this.get("description");return!e||e.length===0?e:(e=SC.RenderContext.escapeHTML(e),'<p class="description">'+e.split("\n").join('</p><p class="description">')+"</p>")}.property("description").cacheable(),caption:"",displayCaption:function(){var e=this.get("caption");return!e||e.length===0?e:(e=SC.RenderContext.escapeHTML(e),'<p class="caption">'+e.split("\n").join('</p><p class="caption">')+"</p>")}.property("caption").cacheable(),button1:SC.outlet("contentView.childViews.1.childViews.1"),button2:SC.outlet("contentView.childViews.1.childViews.0"),button3:SC.outlet("contentView.childViews.2.childViews.0"),buttonThreeWrapper:SC.outlet("contentView.childViews.2"),layout:{top:.3,centerX:0,width:500},contentView:SC.View.extend({useStaticLayout:YES,layout:{left:0,right:0,top:0,height:"auto"},childViews:[SC.View.extend(SC.StaticLayout,{classNames:["info"],render:function(e,t){var n=this.get("pane");n.get("icon")=="blank"&&e.addClass("plain"
),e.push('<img src="'+SC.BLANK_IMAGE_URL+'" class="icon '+n.get("icon")+'" />'),e.begin("h1").attr("class","header").text(n.get("message")||"").end(),e.push(n.get("displayDescription")||""),e.push(n.get("displayCaption")||""),e.push('<div class="separator"></div>')}}),SC.View.extend({layout:{bottom:13,height:24,right:18,width:466},childViews:["cancelButton","okButton"],classNames:["text-align-right"],cancelButton:SC.ButtonView.extend({useStaticLayout:YES,actionKey:SC.BUTTON2_STATUS,localize:YES,layout:{right:5,height:"auto",width:"auto",bottom:0},isCancel:YES,action:"dismiss",isVisible:NO}),okButton:SC.ButtonView.extend({useStaticLayout:YES,actionKey:SC.BUTTON1_STATUS,localize:YES,layout:{left:0,height:"auto",width:"auto",bottom:0},isDefault:YES,action:"dismiss",isVisible:NO})}),SC.View.extend({layout:{bottom:13,height:24,left:18,width:150},childViews:[SC.ButtonView.extend({useStaticLayout:YES,actionKey:SC.BUTTON3_STATUS,localize:YES,layout:{left:0,height:"auto",width:"auto",bottom:0},action:"dismiss",isVisible:NO})]})]}),dismiss:function(e){var t=this.delegate,n,r,i;t&&t.alertPaneDidDismiss&&t.alertPaneDidDismiss(this,e.get("actionKey"));if(r=e&&e.get("customAction"))SC.typeOf(r)===SC.T_FUNCTION?r.call(r):(n=this.getPath("pane.rootResponder"),n&&(i=e.get("target"),n.sendAction(r,i||t,this,this,null,this)));this.remove()},alertInfoDidChange:function(){var e=this.getPath("contentView.childViews.0");e&&e.displayDidChange()}.observes("icon","message","displayDescription","displayCaption")}),SC.AlertPane.mixin({show:function(e){e=SC.AlertPane._argumentsCall.apply(this,arguments)
;var t=this.create(e),n=0,r=e.buttons,i,s,o,u,a;r?r.forEach(function(r){n++;if(!r)return;i=t.get("button%@".fmt(n)),s=r.title,o=r.action,u=r.target,a=e.themeName||"capsule",i.set("title".fmt(n),s),o&&i.set("customAction".fmt(n),o),u&&i.set("target".fmt(n),u),i.set("isVisible",!!s),i.set("themeName",a)}):(i=t.get("button1"),i.set("title","OK"),i.set("isVisible",YES));var f=t.append();return t.adjust("height",t.childViews[0].$().height()),t.updateLayout(),f},warn:function(e){return e=SC.AlertPane._argumentsCall.apply(this,arguments),e.icon="sc-icon-alert-48",this.show(e)},info:function(e){return e=SC.AlertPane._argumentsCall.apply(this,arguments),e.icon="sc-icon-info-48",this.show(e)},error:function(e){return e=SC.AlertPane._argumentsCall.apply(this,arguments),e.icon="sc-icon-error-48",this.show(e)},plain:function(e){return e=SC.AlertPane._argumentsCall.apply(this,arguments),e.icon="blank",this.show(e)},_argumentsCall:function(e){var t=e;if(SC.typeOf(e)!==SC.T_HASH){var n=this._normalizeArguments(arguments);t={message:n[0],description:n[1],caption:n[2],delegate:n[7],icon:n[6]||"sc-icon-alert-48",themeName:"capsule"};if(SC.typeOf(n[3])===SC.T_STRING||SC.typeOf(n[4])===SC.T_STRING||SC.typeOf(n[5])===SC.T_STRING)t.buttons=[{title:n[3]},{title:n[4]},{title:n[5]}]}return t},_normalizeArguments:function(e){e=SC.A(e);var t=e.length,n=e[t-1];return SC.typeOf(n)!==SC.T_STRING?e[t-1]=null:n=null,e[7]=n,e}}),SC.PalettePane=SC.PanelPane.extend({classNames:["sc-palette"],isModal:NO,modalPane:SC.ModalPane,isAnchored:NO,_mouseOffsetX:null,_mouseOffsetY:null,mouseDown:function(e){var t=this.get
("frame");return this._mouseOffsetX=t?t.x-e.pageX:0,this._mouseOffsetY=t?t.y-e.pageY:0,YES},mouseDragged:function(e){return this.isAnchored||(this.set("layout",{width:this.layout.width,height:this.layout.height,left:this._mouseOffsetX+e.pageX,top:this._mouseOffsetY+e.pageY}),this.updateLayout()),YES},touchStart:function(e){return this.mouseDown(e)},touchesDragged:function(e){return this.mouseDragged(e)}}),SC.PICKER_MENU="menu",SC.PICKER_FIXED="fixed",SC.PICKER_POINTER="pointer",SC.PICKER_MENU_POINTER="menu-pointer",SC.POINTER_LAYOUT=["perfectRight","perfectLeft","perfectTop","perfectBottom"],SC.PickerPane=SC.PalettePane.extend({classNames:["sc-picker"],isAnchored:YES,isModal:YES,pointerPos:"perfectRight",pointerPosX:0,pointerPosY:0,anchorElement:null,anchorCached:null,preferType:null,preferMatrix:null,pointerOffset:null,extraRightOffset:0,removeTarget:null,removeAction:null,repositionOnWindowResize:YES,_anchorView:null,_anchorHTMLElement:null,popup:function(e,t,n,r){return e&&(e.isView?(this._anchorView=e,this._anchorHTMLElement=null,this._setupScrollObservers(e)):(this._anchorHTMLElement=e,this._anchorView=null)),this.beginPropertyChanges(),t&&this.set("preferType",t),n&&this.set("preferMatrix",n),r&&this.set("pointerOffset",r),this.endPropertyChanges(),this.positionPane(),this._hideOverflow(),this.append()},positionPane:function(e){e=e&&this.get("anchorCached");var t=e?this.get("anchorCached"):this.get("anchorElement"),n=this.get("preferType"),r=this.get("preferMatrix"),i=this.get("layout"),s;if(t){e||(t=this.computeAnchorRect(t),this.set("anchorCached",t));if(t.x===0&&t.y===0
)return;s=SC.cloneRect(t);if(n)switch(n){case SC.PICKER_MENU:case SC.PICKER_FIXED:(!r||r.length!==3)&&this.set("preferMatrix",[1,4,3]),s.x+=(this.preferMatrix[2]===0?s.width:0)+this.preferMatrix[0],s.y+=(this.preferMatrix[2]===3?s.height:0)+this.preferMatrix[1];break;default:s.y+=s.height}else s.y+=s.height;s=this.fitPositionToScreen(s,this.get("frame"),t),this.adjust({width:s.width,height:s.height,left:s.x,top:s.y})}else this.adjust({width:i.width,height:i.height,centerX:0,centerY:0});return this.updateLayout(),this},computeAnchorRect:function(e){var t,n,r,i=SC.RootResponder.responder.computeWindowSize();if(e.getBoundingClientRect){if(SC.browser.isIE)try{t=e.getBoundingClientRect()}catch(s){t={left:0,top:0,width:0,height:0}}else t=e.getBoundingClientRect();n={x:t.left,y:t.top,width:t.width,height:t.height};if(n.width===undefined||n.height===undefined)r=SC.$(e),n.width=r.outerWidth(),n.height=r.outerHeight()}else n=SC.offset(e),r=SC.$(e),n.width=r.outerWidth(),n.height=r.outerHeight();return n.height=i.height-n.y<n.height?i.height-n.y:n.height,!SC.browser.msie&&window.scrollX>0||window.scrollY>0?(n.x+=window.scrollX,n.y+=window.scrollY):SC.browser.msie&&(document.documentElement.scrollTop>0||document.documentElement.scrollLeft>0)&&(n.x+=document.documentElement.scrollLeft,n.y+=document.documentElement.scrollTop),n},fitPositionToScreen:function(e,t,n){var r=SC.RootResponder.responder.computeWindowSize(),i={x:0,y:0,width:r.width,height:r.height},s=SC.RootResponder.responder.mainPane;if(s){var o=s.layout.minWidth,u=s.layout.minHeight;o&&i.width<o&&(i.width=s.layout.minWidth),u&&
i.height<u&&(i.height=s.layout.minHeight)}t.x=e.x,t.y=e.y;if(this.preferType)switch(this.preferType){case SC.PICKER_MENU:t=this.fitPositionToScreenMenu(i,t,this.get("isSubMenu"));break;case SC.PICKER_MENU_POINTER:this.setupPointer(n),t=this.fitPositionToScreenMenuPointer(i,t,n);break;case SC.PICKER_POINTER:this.setupPointer(n),t=this.fitPositionToScreenPointer(i,t,n);break;case SC.PICKER_FIXED:break;default:}else t=this.fitPositionToScreenDefault(i,t,n);return this.displayDidChange(),t},fitPositionToScreenDefault:function(e,t,n){if(SC.maxX(t)>e.width){var r=Math.max(SC.maxX(n),t.width);t.x=Math.min(r,e.width)-t.width}return SC.minX(t)<0&&(t.x=SC.minX(Math.max(n,0)),SC.maxX(t)>e.width&&(t.x=Math.max(0,e.width-t.width))),SC.maxY(t)>e.height&&(r=Math.max(n.y-t.height,0),r>e.height?t.y=Math.max(0,e.height-t.height):t.y=r),SC.minY(t)<0&&(r=Math.min(SC.maxY(n),e.height-n.height),t.y=Math.max(r,0)),t},fitPositionToScreenMenu:function(e,t,n){return n&&(t.x-=this.get("submenuOffsetX"),t.y-=Math.floor(this.get("menuHeightPadding")/2)),t.x+t.width>e.width-20&&(n?t.x=t.x-t.width*2:t.x=e.width-t.width-20),t.x<7&&(t.x=7),t.y<7&&(t.height+=t.y,t.y=7),t.height+t.y+35>=e.height&&(t.height+50>=e.height?(t.y=SC.MenuPane.VERTICAL_OFFSET,t.height=e.height-SC.MenuPane.VERTICAL_OFFSET*2):t.y+=e.height-(t.height+t.y+35)),t},fitPositionToScreenMenuPointer:function(e,t,n){return t=this.fitPositionToScreenPointer(e,t,n),t.y>=0&&t.height+t.y+35>=e.height&&(t.height=e.height-t.y-SC.MenuPane.VERTICAL_OFFSET*2),t.y<0&&t.height>=e.height&&(t.y=SC.MenuPane.VERTICAL_OFFSET,t.height=e.height-SC.MenuPane.VERTICAL_OFFSET*2
,this.set("pointerPosY",n.y-t.y-26)),t},fitPositionToScreenPointer:function(e,t,n){var r=[this.pointerOffset[0],this.pointerOffset[1],this.pointerOffset[2],this.pointerOffset[3]],i=[[n.x+n.width+r[0],n.y+parseInt(n.height/2,0)-40],[n.x-t.width+r[1],n.y+parseInt(n.height/2,0)-40],[n.x+parseInt(n.width/2-t.width/2,0),n.y-t.height+r[2]],[n.x+parseInt(n.width/2-t.width/2,0),n.y+n.height+r[3]]],s=[[n.x+n.width+t.width+r[0],n.y+parseInt(n.height/2,0)+t.height-24],[n.x+r[1],n.y+parseInt(n.height/2,0)+t.height-24],[n.x+parseInt(n.width/2-t.width/2,0)+t.width,n.y+r[2]],[n.x+parseInt(n.width/2-t.width/2,0)+t.width,n.y+n.height+t.height+r[3]]],o=[[i[0][1]>0?0:0-i[0][1],s[0][0]<e.width?0:s[0][0]-e.width,s[0][1]<e.height?0:s[0][1]-e.height,i[0][0]>0?0:0-i[0][0]],[i[1][1]>0?0:0-i[1][1],s[1][0]<e.width?0:s[1][0]-e.width,s[1][1]<e.height?0:s[1][1]-e.height,i[1][0]>0?0:0-i[1][0]],[i[2][1]>0?0:0-i[2][1],s[2][0]<e.width?0:s[2][0]-e.width,s[2][1]<e.height?0:s[2][1]-e.height,i[2][0]>0?0:0-i[2][0]],[i[3][1]>0?0:0-i[3][1],s[3][0]<e.width?0:s[3][0]-e.width,s[3][1]<e.height?0:s[3][1]-e.height,i[3][0]>0?0:0-i[3][0]]],u=this.preferMatrix;u[4]===-1?(t.x=n.x+parseInt(n.width/2,0),t.y=n.y+parseInt(n.height/2,0)-parseInt(t.height/2,0),this.set("pointerPos",SC.POINTER_LAYOUT[0]+" fallback"),this.set("pointerPosY",parseInt(t.height/2,0)-40)):(t.x=i[u[4]][0],t.y=i[u[4]][1],this.set("pointerPos",SC.POINTER_LAYOUT[u[4]]),this.set("pointerPosY",0)),this.set("pointerPosX",0);for(var a=0,f,l=SC.POINTER_LAYOUT.length;a<l;a++)f=u[a],o[f][0]===0&&o[f][1]===0&&o[f][2]===0&&o[f][3]===0?(u[4]!==f&&(t.x=i[f][0],t.y=i[f]
[1],this.set("pointerPosY",0),this.set("pointerPos",SC.POINTER_LAYOUT[f])),a=SC.POINTER_LAYOUT.length):(f===0||f===1)&&o[f][0]===0&&o[f][1]===0&&o[f][2]<t.height-91&&o[f][3]===0?(u[4]!==f&&(t.x=i[f][0],this.set("pointerPos",SC.POINTER_LAYOUT[f])),t.y=i[f][1]-o[f][2],this.set("pointerPosY",o[f][2]),a=SC.POINTER_LAYOUT.length):(f===0||f===1)&&o[f][0]===0&&o[f][1]===0&&o[f][2]<=t.height-51&&o[f][3]===0?(u[4]!==f&&(t.x=i[f][0]),t.y=i[f][1]-(t.height-51),this.set("pointerPosY",t.height-53),this.set("pointerPos",SC.POINTER_LAYOUT[f]+" extra-low"),a=SC.POINTER_LAYOUT.length):(f===2||f===3)&&o[f][0]===0&&o[f][1]<=parseInt(t.width/2,0)-this.get("extraRightOffset")&&o[f][2]===0&&o[f][3]===0?(u[4]!==f&&(t.y=i[f][1]),t.x=i[f][0]-(parseInt(t.width/2,0)-this.get("extraRightOffset")),this.set("pointerPos",SC.POINTER_LAYOUT[f]+" extra-right"),a=SC.POINTER_LAYOUT.length):(f===2||f===3)&&o[f][0]===0&&o[f][1]===0&&o[f][2]===0&&o[f][3]<=parseInt(t.width/2,0)-this.get("extraRightOffset")&&(u[4]!==f&&(t.y=i[f][1]),t.x=i[f][0]+(parseInt(t.width/2,0)-this.get("extraRightOffset")),this.set("pointerPos",SC.POINTER_LAYOUT[f]+" extra-left"),a=SC.POINTER_LAYOUT.length);return t},setupPointer:function(e){var t=this.pointerOffset,n=SC.PickerPane;if(!t||t.length!==4)if(this.get("preferType")==SC.PICKER_MENU_POINTER)switch(this.get("controlSize")){case SC.TINY_CONTROL_SIZE:this.set("pointerOffset",n.TINY_PICKER_MENU_POINTER_OFFSET),this.set("extraRightOffset",n.TINY_PICKER_MENU_EXTRA_RIGHT_OFFSET);break;case SC.SMALL_CONTROL_SIZE:this.set("pointerOffset",n.SMALL_PICKER_MENU_POINTER_OFFSET),this.set("extraRightOffset"
,n.SMALL_PICKER_MENU_EXTRA_RIGHT_OFFSET);break;case SC.REGULAR_CONTROL_SIZE:this.set("pointerOffset",n.REGULAR_PICKER_MENU_POINTER_OFFSET),this.set("extraRightOffset",n.REGULAR_PICKER_MENU_EXTRA_RIGHT_OFFSET);break;case SC.LARGE_CONTROL_SIZE:this.set("pointerOffset",n.LARGE_PICKER_MENU_POINTER_OFFSET),this.set("extraRightOffset",n.LARGE_PICKER_MENU_EXTRA_RIGHT_OFFSET);break;case SC.HUGE_CONTROL_SIZE:this.set("pointerOffset",n.HUGE_PICKER_MENU_POINTER_OFFSET),this.set("extraRightOffset",n.HUGE_PICKER_MENU_EXTRA_RIGHT_OFFSET)}else{var r=e.width<16?e.width<4?9:6:0,i=e.height<16?e.height<4?9:6:0,s=n.PICKER_POINTER_OFFSET,o=[s[0]+r,s[1]-r,s[2]-i,s[3]+i];this.set("pointerOffset",o),this.set("extraRightOffset",n.PICKER_EXTRA_RIGHT_OFFSET)}(!this.preferMatrix||this.preferMatrix.length!==5)&&this.set("preferMatrix",this.get("preferType")===SC.PICKER_MENU_POINTER?[3,2,1,0,3]:[0,1,2,3,2])},displayProperties:["preferType","pointerPos","pointerPosY"],renderDelegateName:"pickerRenderDelegate",modalPaneDidClick:function(e){var t=this.get("frame"),n=this.get("removeTarget")||null,r=this.get("removeAction"),i=this.get("rootResponder");return this.clickInside(t,e)?NO:(r?i.sendAction(r,n,this,this,null,this):this.remove(),YES)},mouseDown:function(e){return this.modalPaneDidClick(e)},clickInside:function(e,t){return SC.pointInRect({x:t.pageX,y:t.pageY},e)},windowSizeDidChange:function(e,t){this.repositionOnWindowResize&&this.positionPane()},remove:function(){return this.get("isVisibleInWindow")&&this.get("isPaneAttached")&&this._withdrawOverflowRequest(),this._removeScrollObservers(),arguments.
callee.base.apply(this,arguments)},anchorElement:function(e,t){var n;if(t===undefined)return n=this._anchorView,n?n.get("layer"):this._anchorHTMLElement;if(!t)throw"You must set 'anchorElement' to either a view or a DOM element";t.isView?(this._anchorView=t,this._anchorHTMLElement=null):(this._anchorView=null,this._anchorHTMLElement=t)}.property("layer").cacheable(),_hideOverflow:function(){var e=SC.$(document.body),t=SC.$(".sc-main"),n=parseInt(t.css("minWidth"),0),r=parseInt(t.css("minHeight"),0),i=SC.RootResponder.responder.get("currentWindowSize");i.width>=n&&i.height>=r&&SC.bodyOverflowArbitrator.requestHidden(this)},_withdrawOverflowRequest:function(){SC.bodyOverflowArbitrator.withdrawRequest(this)},_getScrollViewOfView:function(e){var t=e;while(YES){if(!t)return null;if(t.isScrollable)return t;t=t.get("parentView")}},_setupScrollObservers:function(e){var t=this._getScrollViewOfView(e);t&&(t.addObserver("horizontalScrollOffset",this,this._scrollOffsetDidChange),t.addObserver("verticalScrollOffset",this,this._scrollOffsetDidChange),this._scrollView=t)},_removeScrollObservers:function(){var e=this._scrollView;e&&(e.removeObserver("horizontalScrollOffset",this,this._scrollOffsetDidChange),e.removeObserver("verticalScrollOffset",this,this._scrollOffsetDidChange))},_scrollOffsetDidChange:function(){this.positionPane()}}),SC.PickerPane.PICKER_POINTER_OFFSET=[9,-9,-18,18],SC.PickerPane.PICKER_EXTRA_RIGHT_OFFSET=20,SC.PickerPane.TINY_PICKER_MENU_POINTER_OFFSET=[9,-9,-14,14],SC.PickerPane.TINY_PICKER_MENU_EXTRA_RIGHT_OFFSET=12,SC.PickerPane.SMALL_PICKER_MENU_POINTER_OFFSET=[9,-9
,-4,4],SC.PickerPane.SMALL_PICKER_MENU_EXTRA_RIGHT_OFFSET=11,SC.PickerPane.REGULAR_PICKER_MENU_POINTER_OFFSET=[9,-9,-8,8],SC.PickerPane.REGULAR_PICKER_MENU_EXTRA_RIGHT_OFFSET=12,SC.PickerPane.LARGE_PICKER_MENU_POINTER_OFFSET=[9,-9,-12,12],SC.PickerPane.LARGE_PICKER_MENU_EXTRA_RIGHT_OFFSET=17,SC.PickerPane.HUGE_PICKER_MENU_POINTER_OFFSET=[9,-9,-14,14],SC.PickerPane.HUGE_PICKER_MENU_EXTRA_RIGHT_OFFSET=12,SC.SeparatorView=SC.View.extend({classNames:["sc-separator-view"],tagName:"span",layoutDirection:SC.LAYOUT_HORIZONTAL,render:function(e,t){t&&e.push("<span></span>"),e.addClass(this.get("layoutDirection"))}}),SC.MenuItemView=SC.View.extend(SC.ContentDisplay,{classNames:["sc-menu-item"],displayProperties:["title","isEnabled","isSeparator","isChecked"],ariaRole:"menuitem",escapeHTML:YES,acceptsFirstResponder:YES,blocksIEDeactivate:YES,isContextMenuEnabled:NO,content:null,isSeparator:function(){return this.getContentProperty("itemSeparatorKey")===YES}.property("content").cacheable(),isEnabled:function(){return this.getContentProperty("itemIsEnabledKey")!==NO&&this.getContentProperty("itemSeparatorKey")!==YES}.property("content.isEnabled").cacheable(),isChecked:function(){return this.getContentProperty("itemCheckboxKey")}.property(),subMenu:function(){var e=this.get("content"),t,n;return e?(n=this.get("parentMenu"),t=e.get(n.itemSubMenuKey),t?SC.kindOf(t,SC.MenuPane)?(t.set("isModal",NO),t.set("isSubMenu",YES),t.set("parentMenu",n),t):SC.MenuPane.create({layout:{width:200},items:t,isModal:NO,isSubMenu:YES,parentMenu:n,controlSize:n.get("controlSize"),exampleView:n.get("exampleView"
)}):null):null}.property("content").cacheable(),hasSubMenu:function(){return!!this.get("subMenu")}.property("subMenu").cacheable(),init:function(){arguments.callee.base.apply(this,arguments),this.contentDidChange()},render:function(e,t){var n=this.get("content"),r,i,s=this.get("parentMenu"),o=this.get("itemWidth")||s.layout.width,u=this.get("itemHeight")||SC.DEFAULT_MENU_ITEM_HEIGHT;this.set("itemWidth",o),this.set("itemHeight",u),this.get("isSeparator")?e.attr("role","separator"):this.get("isChecked")&&(e.attr("role","menuitemcheckbox"),e.attr("aria-checked",!0)),e=e.begin("a").addClass("menu-item"),this.get("isSeparator")?(e.push('<span class="separator"></span>'),e.addClass("disabled")):(i=n.get(s.itemIconKey),i&&(this.renderImage(e,i),e.addClass("has-icon")),i=this.get("title"),SC.typeOf(i)!==SC.T_STRING&&(i=i.toString()),this.renderLabel(e,i),this.get("isChecked")&&e.push('<div class="checkbox"></div>'),this.get("hasSubMenu")&&this.renderBranch(e),i=this.getContentProperty("itemShortCutKey"),i&&this.renderShortcut(e,i)),e=e.end()},renderImage:function(e,t){var n,r;t&&SC.ImageView.valueIsUrl(t)?(n=t,r=""):(r=t,n=SC.BLANK_IMAGE_URL),e.begin("img").addClass("image").addClass(r).attr("src",n).end()},renderLabel:function(e,t){this.get("escapeHTML")&&(t=SC.RenderContext.escapeHTML(t)),e.push("<span class='value ellipsis'>"+t+"</span>")},renderBranch:function(e){e.push('<span class="has-branch"></span>')},renderShortcut:function(e,t){e.push('<span class = "shortcut">'+t+"</span>")},showSubMenu:function(){var e=this.get("subMenu");e&&(e.set("mouseHasEntered",NO),e.popup(this,[0
,0,0])),this._subMenuTimer=null},title:function(){var e=this.getContentProperty("itemTitleKey"),t=this.getPath("parentMenu.localize");return t&&e&&(e=SC.String.loc(e)),e||""}.property("content.title").cacheable(),getContentProperty:function(e){var t=this.get("content"),n=this.get("parentMenu");if(t)return t.get(n.get(e))},mouseUp:function(e){var t;return t=this.getPath("parentMenu.rootMenu.targetMenuItem"),t&&t.performAction(),YES},performAction:function(){if(!this.get("isEnabled"))return this.getPath("parentMenu.rootMenu").remove(),YES;if(this.get("hasSubMenu"))return NO;var e=this.getContentProperty("itemDisableMenuFlashKey"),t;return e?this.sendAction():(this._flashCounter=0,t=this.getPath("parentMenu.rootMenu"),t._isFlashing=YES,this.invokeLater(this.flashHighlight,25),this.invokeLater(this.sendAction,150)),YES},sendAction:function(){var e=this.getContentProperty("itemActionKey"),t=this.getContentProperty("itemTargetKey"),n=this.getPath("parentMenu.rootMenu"),r;this.getPath("parentMenu.rootMenu").remove(),n._isFlashing=NO,e=e===undefined?n.get("action"):e,t=t===undefined?n.get("target"):t,n.set("selectedItem",this.get("content")),SC.typeOf(e)===SC.T_FUNCTION?e.apply(t,[n]):(r=this.getPath("pane.rootResponder")||SC.RootResponder.responder,r&&r.sendAction(e,t,n))},flashHighlight:function(){var e=this._flashCounter,t=this.$();e%2===0?t.addClass("focus"):t.removeClass("focus"),e<=2&&(this.invokeLater(this.flashHighlight,50),this._flashCounter++)},mouseDown:function(e){if(!this.get("mouseHasEntered")){var t=this.get("parentMenu");t.set("mouseHasEntered",YES),this.set("mouseHasEntered"
,YES),t.set("currentMenuItem",this),this.get("isEnabled")&&this.becomeFirstResponder(),this.get("hasSubMenu")&&(this._subMenuTimer=this.invokeLater(this.showSubMenu,100))}return YES},mouseEntered:function(e){var t=this.get("parentMenu"),n=t.get("rootMenu");if(n._isFlashing)return;return t.set("mouseHasEntered",YES),this.set("mouseHasEntered",YES),t.set("currentMenuItem",this),this.get("isEnabled")&&this.becomeFirstResponder(),this.get("hasSubMenu")&&(this._subMenuTimer=this.invokeLater(this.showSubMenu,100)),YES},mouseExited:function(e){var t,n;return this.get("hasSubMenu")?(n=this._subMenuTimer,n?n.invalidate():this.invokeLater(this.checkMouseLocation,100)):(t=this.get("parentMenu"),t.get("currentMenuItem")===this&&t.set("currentMenuItem",null)),YES},touchStart:function(e){return this.mouseEntered(e),YES},touchEnd:function(e){return this.mouseUp(e)},touchEntered:function(e){return this.mouseEntered(e)},touchExited:function(e){return this.mouseExited(e)},checkMouseLocation:function(){var e=this.get("subMenu"),t=this.get("parentMenu"),n,r;if(!e.get("mouseHasEntered")){n=t.get("currentMenuItem");if(n===this||n===null)r=t.get("previousMenuItem"),r&&r.resignFirstResponder(),this.resignFirstResponder(),e.remove()}},moveUp:function(e,t){var n=this.get("parentMenu");return n&&n.moveUp(this),YES},moveDown:function(e,t){var n=this.get("parentMenu");return n&&n.moveDown(this),YES},moveRight:function(e,t){return this.showSubMenu(),YES},insertText:function(e,t){var n=this.get("parentMenu");n&&n.insertText(e,t)},keyDown:function(e){return this.interpretKeyEvents(e)},keyUp:function(e){return YES
},cancel:function(e){return this.getPath("parentMenu.rootMenu").remove(),YES},didBecomeFirstResponder:function(e){if(e!==this)return;var t=this.get("parentMenu");t&&t.set("currentSelectedMenuItem",this)},willLoseFirstResponder:function(e){if(e!==this)return;var t=this.get("parentMenu");t&&(t.set("currentSelectedMenuItem",null),t.set("previousSelectedMenuItem",this))},insertNewline:function(e,t){this.mouseUp(t)},closeParent:function(){this.$().removeClass("focus");var e=this.get("parentMenu");e&&e.remove()},clickInside:function(e,t){return SC.pointInRect({x:t.pageX,y:t.pageY},e)},contentDidChange:function(){var e=this.get("content"),t=this._content;if(e===t)return;var n=this.contentPropertyDidChange;t&&t.removeObserver&&t.removeObserver("*",this,n),this._content=e,e&&e.addObserver&&e.addObserver("*",this,n),this.contentPropertyDidChange(e,"*")}.observes("content"),contentPropertyDidChange:function(e,t){var n=this.get("parentMenu");if(!n)return;var r=SC.MenuItemView._contentPropertyToMenuItemPropertyMapping,i=SC.keys(r),s,o,u,a;if(t==="*")for(s=0,o=i.length;s<o;++s)u=i[s],a=r[u],this.notifyPropertyChange(a);else for(s=0,o=i.length;s<o;++s)u=i[s],n.get(u)===t&&(a=r[u],this.notifyPropertyChange(a))}}),SC.MenuItemView._contentPropertyToMenuItemPropertyMapping={itemTitleKey:"title",itemIsEnabledKey:"isEnabled",itemSeparatorKey:"isSeparator",itemSubMenuKey:"subMenu"},SC.MenuPane=SC.PickerPane.extend({classNames:["sc-menu"],ariaRole:"menu",items:[],controlSize:SC.REGULAR_CONTROL_SIZE,itemHeight:SC.propertyFromRenderDelegate("itemHeight",20),itemSeparatorHeight:SC.propertyFromRenderDelegate
("itemSeparatorHeight",9),menuHeight:0,menuHeightPadding:SC.propertyFromRenderDelegate("menuHeightPadding",6),submenuOffsetX:SC.propertyFromRenderDelegate("submenuOffsetX",2),selectedItem:null,exampleView:SC.MenuItemView,anchor:null,isSubMenu:NO,localize:YES,acceptsMenuPane:YES,isContextMenuEnabled:NO,popup:function(e,t){var n;this.beginPropertyChanges(),e&&(e.isView?(this._anchorView=e,this._setupScrollObservers(e)):this._anchorHTMLElement=e),t&&this.set("preferMatrix",t),this.adjust("height",this.get("menuHeight")),this.positionPane(),this.set("defaultResponder",this),this.endPropertyChanges(),this._hideOverflow(),this.append()},remove:function(){var e=this.get("parentMenu");return this._isRemoving=!0,this.set("currentMenuItem",null),this._isRemoving=!1,this.closeOpenMenus(),this.resignMenuPane(),e&&e.becomeMenuPane(),arguments.callee.base.apply(this,arguments)},itemTitleKey:"title",itemIsEnabledKey:"isEnabled",itemValueKey:"value",itemIconKey:"icon",itemHeightKey:"height",itemSubMenuKey:"subMenu",itemSeparatorKey:"separator",itemTargetKey:"target",itemActionKey:"action",itemCheckboxKey:"checkbox",itemShortCutKey:"shortcut",itemKeyEquivalentKey:"keyEquivalent",itemDisableMenuFlashKey:"disableMenuFlash",itemLayerIdKey:"layerId",itemExampleViewKey:"exampleView",menuItemKeys:["itemTitleKey","itemValueKey","itemIsEnabledKey","itemIconKey","itemSeparatorKey","itemActionKey","itemCheckboxKey","itemShortCutKey","itemHeightKey","itemSubMenuKey","itemKeyEquivalentKey","itemTargetKey","itemLayerIdKey"],preferType:SC.PICKER_MENU,isModal:YES,_menuView:null,init:function(){return arguments
.callee.base.apply(this,arguments)},displayProperties:["controlSize"],renderDelegateName:"menuRenderDelegate",createChildViews:function(){var e,t,n;return e=this.createChildView(SC.MenuScrollView,{borderStyle:SC.BORDER_NONE,controlSize:this.get("controlSize")}),t=this._menuView=SC.View.create({parentViewDidResize:function(){this.notifyPropertyChange("frame")},viewDidResize:function(){}}),n=this.get("menuItemViews"),t.set("layout",{top:0,left:0,height:this.get("menuHeight")}),t.replaceAllChildren(n),e.set("contentView",t),this.childViews=[e],this},paneDidAttach:function(){var e=this.rootResponder=SC.RootResponder.responder;return e.panes.add(this),this.set("currentWindowSize",e.computeWindowSize()),this.set("isPaneAttached",YES),this.parentViewDidChange(),this._notifyDidAppendToDocument(),this.becomeMenuPane(),this},becomeMenuPane:function(){return this.rootResponder&&this.rootResponder.makeMenuPane(this),this},resignMenuPane:function(){return this.rootResponder&&this.rootResponder.makeMenuPane(null),this},menuItemViews:function(){return this.createMenuItemViews()}.property("displayItems").cacheable(),createMenuItemViews:function(){var e=[],t=this.get("displayItems"),n=this.get("exampleView"),r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b;if(!t)return e;u=this.get("itemHeightKey"),a=this.get("itemSeparatorKey"),exampleViewKey=this.get("itemExampleViewKey"),f=this.get("itemHeight"),p=this.get("itemKeyEquivalentKey"),l=this.get("itemSeparatorHeight"),g=this.get("itemLayerIdKey"),h=Math.floor(this.get("menuHeightPadding")/2),c=h,v=this.menuItemKeys.map(SC._menu_fetchKeys,this),b=t.get("length"
);for(m=0;m<b;m++)r=t[m],o=r.get(u),o||(o=r.get(a)?l:f),y={layout:{height:o,top:c},contentDisplayProperties:v,content:r,parentMenu:this},r.get(g)&&(y.layerId=r.get(g)),itemExampleView=r.get(exampleViewKey),itemExampleView?i=itemExampleView:i=n,s=this._menuView.createChildView(i,y),e[m]=s,c+=o,d=r.get(p),d&&(SC.typeOf(d)===SC.T_ARRAY?d.forEach(function(e){this._keyEquivalents[e]=s},this):this._keyEquivalents[d]=s);return this.set("menuHeight",c+h),e},menuItemViewForContentIndex:function(e){var t=this.get("menuItemViews");return t?t.objectAt(e):undefined},_keyEquivalents:{},_rootMenuBinding:SC.Binding.oneWay("*parentMenu.rootMenu"),rootMenu:function(){return this.get("isSubMenu")?this.get("_rootMenu"):this}.property("isSubMenu","_rootMenu").cacheable(),windowSizeDidChange:function(e,t){return this.remove(),arguments.callee.base.apply(this,arguments)},displayItems:function(){var e=this.get("items"),t=this.get("localize"),n=this.get("itemHeight"),r,i=[],s,o,u;if(!e)return null;r=e.get("length");for(s=0;s<r;s++){o=e.objectAt(s);if(!o)continue;u=SC.typeOf(o),u===SC.T_STRING?o=SC.Object.create({title:o,value:o,isEnabled:YES}):u===SC.T_HASH?o=SC.Object.create(o):u===SC.T_ARRAY&&(o=this.convertArrayMenuItemToObject(o)),o.contentIndex=s,i.push(o)}return i}.property("items").cacheable(),_sc_menu_itemsDidChange:function(){var e=this.get("menuItemViews");this._menuView.replaceAllChildren(e),this._menuView.adjust("height",this.get("menuHeight"))}.observes("items"),convertArrayMenuItemToObject:function(e){SC.Logger.warn("Support for Array-based menu items has been deprecated.  Please update your menus to use a hash."
);var t,n=SC._menu_fetchKeys,r=SC._menu_fetchItem,i,s=SC.Object.create(),o,u;return t=this.menuItemKeys.map(n,this),s[t[0]]=e[0],s[t[1]]=e[1],s[t[2]]=e[2],s[t[3]]=e[3],s[t[4]]=e[4],s[t[5]]=e[5],s[t[6]]=e[6],s[t[7]]=e[7],s[t[8]]=e[8],s[t[9]]=e[9],s[t[10]]=e[10],s[t[11]]=e[11],s[t[12]]=e[12],s},currentMenuItem:function(e,t){return t!==undefined?(this._currentMenuItem!==null&&this.set("previousMenuItem",this._currentMenuItem),this._currentMenuItem=t,(!this._isRemoving||!this.get("isSubMenu"))&&this.setPath("rootMenu.targetMenuItem",t),t):this._currentMenuItem}.property().cacheable(),_sc_menu_currentMenuItemDidChange:function(){var e=this.get("currentMenuItem"),t=this.get("previousMenuItem");t&&(!t.get("hasSubMenu")||e!==null)&&(t.resignFirstResponder(),this.closeOpenMenusFor(t)),e&&e.get("isEnabled")&&e.scrollToVisible()}.observes("currentMenuItem"),closeOpenMenusFor:function(e){if(!e)return;var t=e.get("parentMenu");while(t&&e)t=e.get("subMenu"),t&&(t.remove(),e.resignFirstResponder(),e=t.get("previousMenuItem"))},closeOpenMenus:function(){this.closeOpenMenusFor(this.get("previousMenuItem"))},mouseDown:function(e){return this.modalPaneDidClick(e),YES},mouseEntered:function(e){this.set("mouseHasEntered",YES)},keyUp:function(e){var t=this.interpretKeyEvents(e);return t?t:NO},moveUp:function(){var e=this.get("currentMenuItem"),t=this.get("menuItemViews"),n,r,i;if(!e)i=t.get("length")-1;else{n=e.getPath("content.contentIndex");if(n===0)return YES;i=n-1}while(i>=0){if(t[i].get("isEnabled")){this.set("currentMenuItem",t[i]),t[i].becomeFirstResponder();break}i--}return YES},moveDown:
function(){var e=this.get("currentMenuItem"),t=this.get("menuItemViews"),n=t.get("length"),r,i,s;if(!e)s=0;else{r=e.getPath("content.contentIndex");if(r===n)return YES;s=r+1}while(s<n){if(t[s].get("isEnabled")){this.set("currentMenuItem",t[s]),t[s].becomeFirstResponder();break}s++}return YES},insertText:function(e,t){var n=this._timer,r=this._keyBuffer;return n&&n.invalidate(),n=this._timer=SC.Timer.schedule({target:this,action:"clearKeyBuffer",interval:500,isPooled:NO}),r=r||"",r+=e.toUpperCase(),this.selectMenuItemForString(r),this._keyBuffer=r,YES},performKeyEquivalent:function(e,t,n){if(!n&&!this.get("isVisibleInWindow"))return NO;var r=this._keyEquivalents[e];return r?(r.performAction(YES),YES):e==="escape"||e==="return"?(this.remove(),YES):NO},selectMenuItemForString:function(e){var t=this.get("menuItemViews"),n,r,i,s,o;if(!t)return;o=e.length,s=t.get("length");for(i=0;i<s;i++){n=t.objectAt(i),r=n.get("title");if(!r)continue;r=r.replace(/ /g,"").substr(0,o).toUpperCase();if(r===e){this.set("currentMenuItem",n),n.becomeFirstResponder();break}}},clearKeyBuffer:function(){this._keyBuffer=""},modalPaneDidClick:function(e){return this.remove(),YES}}),SC._menu_fetchKeys=function(e){return this.get(e)},SC._menu_fetchItem=function(e){return e?this.get?this.get(e):this[e]:null},SC.MenuPane.VERTICAL_OFFSET=23,SC.MenuPane.TINY_MENU_ITEM_HEIGHT=10,SC.MenuPane.TINY_MENU_ITEM_SEPARATOR_HEIGHT=2,SC.MenuPane.TINY_MENU_HEIGHT_PADDING=2,SC.MenuPane.TINY_SUBMENU_OFFSET_X=0,SC.MenuPane.SMALL_MENU_ITEM_HEIGHT=16,SC.MenuPane.SMALL_MENU_ITEM_SEPARATOR_HEIGHT=7,SC.MenuPane.SMALL_MENU_HEIGHT_PADDING=4
,SC.MenuPane.SMALL_SUBMENU_OFFSET_X=2,SC.MenuPane.REGULAR_MENU_ITEM_HEIGHT=22,SC.MenuPane.REGULAR_MENU_ITEM_SEPARATOR_HEIGHT=9,SC.MenuPane.REGULAR_MENU_HEIGHT_PADDING=6,SC.MenuPane.REGULAR_SUBMENU_OFFSET_X=2,SC.MenuPane.LARGE_MENU_ITEM_HEIGHT=31,SC.MenuPane.LARGE_MENU_ITEM_SEPARATOR_HEIGHT=20,SC.MenuPane.LARGE_MENU_HEIGHT_PADDING=0,SC.MenuPane.LARGE_SUBMENU_OFFSET_X=4,SC.MenuPane.HUGE_MENU_ITEM_HEIGHT=20,SC.MenuPane.HUGE_MENU_ITEM_SEPARATOR_HEIGHT=9,SC.MenuPane.HUGE_MENU_HEIGHT_PADDING=0,SC.MenuPane.HUGE_SUBMENU_OFFSET_X=0,SC.SheetPane=SC.PanelPane.extend({classNames:["sc-sheet"],modalPane:SC.ModalPane,transitionDuration:200,_state:"NO_VIEW",init:function(){arguments.callee.base.apply(this,arguments),SC.Animatable&&(SC.SheetPane.ANIMATABLE_AVAILABLE=YES,this.mixin(SC.Animatable),this.transitions||(this.transitions={}),this.transitions.top||(this.transitions.top={duration:this.transitionDuration===200?.3:this.transitionDuration/1e3,action:"_complete",target:this}))},append:function(){var e=this.get("layout");if(!e.height||!e.top)e=SC.View.convertLayoutToAnchoredLayout(e,this.computeParentDimensions());return e.top=-1*e.height,this.disableAnimation&&this.disableAnimation(),this.adjust(e),this.updateLayout(),this.enableAnimation&&this.enableAnimation(),arguments.callee.base.apply(this,arguments)},remove:function(){var e=this,t=arguments;return this.invokeLater(function(){t.callee.base.apply(e,t)},this.transitionDuration),this.slideUp(),this},paneDidAttach:function(){var e=arguments.callee.base.apply(this,arguments);return this.slideDown(),e},slideDown:function(){this._state=SC.
SheetPane.ANIMATING,this._direction=SC.SheetPane.SLIDE_DOWN,SC.SheetPane.ANIMATABLE_AVAILABLE?(this.transitions.top.timing=SC.Animatable.TRANSITION_EASE_OUT,this.adjust("top",0)):(this._start=Date.now(),this._end=this._start+this.get("transitionDuration"),this.tick())},slideUp:function(){this._state=SC.SheetPane.ANIMATING,this._direction=SC.SheetPane.SLIDE_UP;if(SC.SheetPane.ANIMATABLE_AVAILABLE){var e=this.get("layout");this.transitions.top.timing=SC.Animatable.TRANSITION_EASE_IN,this.adjust("top",-1*e.height)}else this._start=Date.now(),this._end=this._start+this.get("transitionDuration"),this.tick()},_complete:function(){var e=this._direction;if(e===SC.SheetPane.SLIDE_DOWN)SC.SheetPane.ANIMATABLE_AVAILABLE||this.adjust("top",0),this.adjust({centerX:0,left:null}),SC.browser.mozilla&&this.parentViewDidChange();else{var t=this.get("layout");SC.SheetPane.ANIMATABLE_AVAILABLE||this.adjust("top",-1*t.height)}this._state=SC.SheetPane.READY,this.updateLayout()},blurTo:function(e){this.setFirstResponder("")},tick:function(){this._timer=null;var e=Date.now(),t=(e-this._start)/(this._end-this._start),n=this,r=this._direction,i=this.get("layout"),s,o;return t<0&&(t=0),t>=1?(this._complete(),this):(o=Math.floor(i.height*t),r==SC.SheetPane.SLIDE_DOWN?n.adjust("top",0-(i.height-o)):r==SC.SheetPane.SLIDE_UP&&n.adjust("top",0-o),this._timer=this.invokeLater(this.tick,20),n.updateLayout(),this)}}),SC.SheetPane.mixin({ANIMATABLE_AVAILABLE:NO,NO_VIEW:"NO_VIEW",ANIMATING:"ANIMATING",READY:"READY",SLIDE_DOWN:"SLIDEDOWN",SLIDE_UP:"SLIDEUP"}),SC.BaseTheme.buttonRenderDelegate=SC.RenderDelegate.create
({className:"button","sc-small-size":{height:18,autoResizePadding:{width:15,height:0}},"sc-regular-size":{height:24,autoResizePadding:{width:20,height:0}},"sc-huge-size":{height:30,autoResizePadding:{width:30,height:0}},"sc-jumbo-size":{height:44,autoResizePadding:{width:50,height:0}},render:function(e,t){this.addSizeClassName(e,t);var n,r=e.get("toolTip"),i=e.get("value"),s=e.get("isSelected")||NO,o=e.get("isActive")||NO,u=e.get("isDefault")||NO,a=e.get("isCancel")||NO,f=e.get("isToggle")||NO,l=SC.guidFor(e)+"-label",c=e.get("isBorderless")||NO;t.setClass({icon:!!e.get("icon"),def:u,cancel:a&&!u,active:o,sel:s}),r&&(t.attr("title",r),t.attr("alt",r)),c||this.includeSlices(e,t,SC.THREE_SLICE),e.get("isSegment")?t.attr("aria-selected",s.toString()):f&&t.attr("aria-pressed",o.toString()),i?t.attr("aria-labelledby",l):r?t.attr("aria-label",r):t.attr("aria-label",e.get("displayTitle")),t=t.begin("label").addClass("sc-button-label").id(l),e.get("theme").labelRenderDelegate.render(e,t),t=t.end(),e.get("supportFocusRing")&&(t=t.begin("div").addClass("focus-ring"),this.includeSlices(e,t,SC.THREE_SLICE),t=t.end())},update:function(e,t){var n=e.get("buttonBehavior")===SC.TOGGLE_BEHAVIOR;this.updateSizeClassName(e,t),e.get("isActive")&&t.addClass("active");var r=e.get("isDefault"),i=e.get("isCancel");e.get("isSegment")?t.attr("aria-selected",e.get("isSelected").toString()):n&&t.attr("aria-pressed",e.get("isActive").toString()),t.attr("title",e.get("toolTip")),t.setClass("icon",!!e.get("icon")),t.setClass("def",!!r),t.setClass("cancel",!!i&&!r),e.get("theme").labelRenderDelegate.update(
e,t.find("label"))},getRenderedAutoResizeLayer:function(e,t){return t.find(".sc-button-label")[0]}}),SC.BaseTheme.checkboxRenderDelegate=SC.RenderDelegate.create({className:"checkbox",render:function(e,t){this.addSizeClassName(e,t);var n=e.get("theme"),r,i;i=SC.guidFor(e)+"-label";var s=e.get("isSelected")||NO,o=e.get("isActive"),u=!e.get("isEnabled"),a;s===SC.MIXED_STATE?a="mixed":s?a="true":a="false",t.attr("role","checkbox"),t.attr("aria-checked",a),t.attr("aria-labelledby",i),t.setClass({sel:s,active:o,disabled:u}),t.push('<span class = "button"></span>'),t=t.begin("span").addClass("label").id(i),n.labelRenderDelegate.render(e,t),t=t.end()},update:function(e,t){this.updateSizeClassName(e,t);var n=e.get("theme"),r=e.get("isSelected"),i=e.get("isActive"),s=!e.get("isEnabled"),o;r===SC.MIXED_STATE?o="mixed":r?o="true":o="false",t.attr("aria-checked",o),n.labelRenderDelegate.update(e,t.find("span.label")),t.setClass({sel:r,active:i,disabled:s})},isEventWithinActiveArea:function(e,t){var n=t.target||t.srcElement,r=n===e.$(".button")[0]||n===e.$(".icon img")[0]||n===e.$(".label")[0];return!r&&document.activeElement===e.$()[0]&&t.pageX===0&&t.pageY===0&&(r=!0),n&&r}}),SC.BaseTheme.collectionRenderDelegate=SC.RenderDelegate.create({className:"collection",render:function(e,t){t.setClass("focus",e.get("hasFirstResponder")),t.setClass("disabled",!e.get("isEnabled")),t.setClass("active",e.get("isActive"))},update:function(e,t){t.setClass("focus",e.get("hasFirstResponder")),t.setClass("disabled",!e.get("isEnabled")),t.setClass("active",e.get("isActive"))}}),SC.BaseTheme.disclosureRenderDelegate=
SC.RenderDelegate.create({className:"disclosure",render:function(e,t){this.addSizeClassName(e,t);var n=e.get("theme"),r=e.get("value"),i=e.get("title"),s=SC.guidFor(e)+"-label",o=r?"true":"false";t.attr("role","disclosure checkbox"),t.attr("aria-labelledby",s),t.attr("aria-checked",o),e.get("isSelected")&&t.addClass("sel");var u="";u+=e.get("isSelected")?"open":"closed",e.get("isActive")&&(u+=" active"),t.push('<img src = "'+SC.BLANK_IMAGE_URL+'" class = "disclosure button '+u+'" />'),t=t.begin("span").addClass("sc-button-label").id(s),n.labelRenderDelegate.render(e,t),t=t.end()},update:function(e,t){this.updateSizeClassName(e,t);var n=e.get("theme"),r=e.get("value"),i=e.get("title"),s=r?"true":"false";t.attr("role","disclosure checkbox"),t.attr("aria-checked",s),e.get("isSelected")&&t.addClass("sel"),t.find("img").setClass({open:e.get("isSelected"),closed:!e.get("isSelected"),active:e.get("isActive")}),n.labelRenderDelegate.update(e,t.find("span.sc-button-label"))}}),SC.THREE_SLICE=["left","middle","right"],SC.NINE_SLICE=["top-left","top","top-right","left","middle","right","bottom-left","bottom","bottom-right"],SC.RenderDelegate.reopen({includeSlices:function(e,t,n){for(var r=0,i=n.length;r<i;r++)t.push('<div class="'+n[r]+'"></div>')}}),SC.BaseTheme.imageButtonRenderDelegate=SC.RenderDelegate.create({className:"image-button",render:function(e,t){var n=e.get("image"),r=e.get("toolTip");this.addSizeClassName(e,t),t.addClass("no-min-width"),r&&(t.attr("title",r),t.attr("alt",r)),n?t.push("<div class='img "+n+"'></div>"):t.push("<div class='img'></div>")},update:function(e,t)
{var n,r;this.updateSizeClassName(e,t),e.didChangeFor("imageButtonRenderDelegate","toolTip")&&(r=e.get("toolTip"),t.attr("title",r),t.attr("aria-label",r)),n=e.get("image"),n&&e.didChangeFor("imageButtonRenderDelegate","image")&&(t.children()[0].className="img "+n)}}),SC.BaseTheme.MASTER_DETAIL_DIVIDER_WIDTH=1,SC.BaseTheme.masterDetailRenderDelegate=SC.RenderDelegate.create({className:"master-detail",dividerWidth:1,render:function(e,t){t.setClass("round-toolbars",SC.platform.touch)},update:function(e,t){t.setClass("round-toolbars",SC.platform.touch)}}),SC.BaseTheme.panelRenderDelegate=SC.RenderDelegate.create({className:"panel",render:function(e,t){t=t.begin("div").addClass("panel-background"),this.includeSlices(e,t,SC.NINE_SLICE),t=t.end();var n=e.get("ariaLabel"),r=e.get("ariaLabelledBy"),i=e.get("ariaDescribedBy");n&&t.attr("aria-label",n),r&&t.attr("aria-labelledby",r),i&&t.attr("aria-describedby",i)},update:function(e,t){var n=e.get("ariaLabel"),r=e.get("ariaLabelledBy"),i=e.get("ariaDescribedBy");n&&t.attr("aria-label",n),r&&t.attr("aria-labelledby",r),i&&t.attr("aria-describedby",i)}}),SC.BaseTheme.pickerRenderDelegate=SC.RenderDelegate.create({className:"picker",render:function(e,t){var n=e.get("theme").panelRenderDelegate;n.render(e,t);var r=e.get("preferType"),i=e.get("pointerPos"),s=e.get("pointerPosY");if(r==SC.PICKER_POINTER||r==SC.PICKER_MENU_POINTER)t.push('<div class="sc-pointer '+i+'" style="margin-top: '+s+'px"></div>'),t.addClass(i)},update:function(e,t){var n=e.get("theme").panelRenderDelegate;n.update(e,t);var r=e.get("preferType"),i=e.get("pointerPos"),
s=e.get("pointerPosY");if(r==SC.PICKER_POINTER||r==SC.PICKER_MENU_POINTER){var o=t.find(".sc-pointer");o.attr("class","sc-pointer "+i),o.attr("style","margin-top: "+s+"px"),t.addClass(i)}}}),SC.BaseTheme.menuRenderDelegate=SC.BaseTheme.pickerRenderDelegate.create({className:"menu",render:function(e,t,n){this.addSizeClassName(t,n),e(t,n)}.enhance(),update:function(e,t,n){this.updateSizeClassName(t,n),e(t,n)}.enhance(),itemHeight:26,itemSeparatorHeight:9,menuHeightPadding:6,menuWidthPadding:50,minimumMenuWidth:50,submenuOffsetX:2,verticalOffset:23,"sc-tiny-size":{itemHeight:22,itemSeparatorHeight:2,menuHeightPadding:4,submenuOffsetX:0},"sc-small-size":{itemHeight:26,itemSeparatorHeight:7,menuHeightPadding:0,submenuOffsetX:4},"sc-large-size":{itemHeight:30,itemSeparatorHeight:20,menuHeightPadding:0,submenuOffsetX:4},"sc-huge-size":{itemHeight:30,itemSeparatorHeight:9,menuHeightPadding:0,submenuOffsetX:0}}),SC.BaseTheme.popupButtonRenderDelegate=SC.BaseTheme.buttonRenderDelegate.create({render:function(e,t){t.attr("aria-haspopup","true"),arguments.callee.base.apply(this,arguments)},update:function(e,t){arguments.callee.base.apply(this,arguments)}}),SC.BaseTheme.progressRenderDelegate=SC.RenderDelegate.create({className:"progress",render:function(e,t){this.addSizeClassName(e,t);var n=e.get("theme"),r=e.get("maximum"),i=e.get("minimum"),s=e.get("ariaValue"),o;e.get("isIndeterminate")?o=120:o=e.get("value"),t.attr("aria-valuemax",r),t.attr("aria-valuemin",i),t.attr("aria-valuenow",s),t.setClass({indeterminate:e.get("isIndeterminate"),running:e.get("isRunning"),disabled:!e.get("isEnabled"
),"sc-empty":o<=0,"sc-complete":o>=100}),t=t.begin("div").addClass("track"),this.includeSlices(e,t,SC.THREE_SLICE),t=t.end(),t=t.begin("div").addClass("content"),t.css("width",o*100+"%"),this.includeSlices(e,t,SC.THREE_SLICE),t=t.end()},update:function(e,t){this.updateSizeClassName(e,t);var n=e.get("theme"),r=e.get("maximum"),i=e.get("minimum"),s=e.get("ariaValue");t.attr("aria-valuemax",r),t.attr("aria-valuemin",i),t.attr("aria-valuenow",s);var o;e.get("isIndeterminate")?o=120:o=e.get("value"),t.setClass({indeterminate:e.get("isIndeterminate"),running:e.get("isRunning"),disabled:!e.get("isEnabled"),"sc-empty":o<=0,"sc-complete":o>=100}),t.find(".content").css("width",o*100+"%")}}),SC.BaseTheme.radioRenderDelegate=SC.RenderDelegate.create({className:"radio",render:function(e,t){this.addSizeClassName(e,t);var n=e.get("theme"),r=e.get("isSelected"),i=e.get("width"),s=SC.guidFor(e)+"-label";t.setClass({active:e.get("isActive"),mixed:e.get("isMixed"),sel:e.get("isSelected"),disabled:!e.get("isEnabled")}),t.attr("role","radio"),t.attr("aria-checked",r),t.attr("aria-labelledby",s),t.attr("aria-disabled",e.get("isEnabled")?"false":"true"),i&&t.css("width",i),t.push('<span class = "button"></span>'),t=t.begin("span").addClass("sc-button-label").id(s),n.labelRenderDelegate.render(e,t),t=t.end()},update:function(e,t){this.updateSizeClassName(e,t);var n=e.get("theme"),r=e.get("isSelected"),i=e.get("width"),s=e.get("value");t.setClass({active:e.get("isActive"),mixed:e.get("isMixed"),sel:e.get("isSelected"),disabled:!e.get("isEnabled")}),t.attr("aria-disabled",e.get("isEnabled")?"false":"true"
),t.attr("aria-checked",r),t.css("width",i?i:null),n.labelRenderDelegate.update(e,t.find(".sc-button-label"))}}),SC.BaseTheme.radioGroupRenderDelegate=SC.RenderDelegate.create({className:"radio-group",render:function(e,t){this.addSizeClassName(e,t);var n=e.get("theme"),r=SC.guidFor(this),i=e.get("items"),s,o=i.length,u;t.addClass(e.get("layoutDirection")),t.attr("role","radiogroup"),t.attr("aria-disabled",e.get("isEnabled")?"false":"true");for(s=0;s<o;s++)u=i[s],t=t.begin("div").addClass("radio-"+s).attr("index",s).addClass(n.classNames).addClass(n.radioRenderDelegate.className).addClass("sc-radio-button"),n.radioRenderDelegate.render(u,t),t=t.end();e.get("renderState").radioCount=s},update:function(e,t){this.updateSizeClassName(e,t);var n=e.get("theme"),r=SC.guidFor(this),i=e.get("items"),s,o=i.length,u;t.addClass(e.get("layoutDirection")),t.attr("aria-disabled",e.get("isEnabled")?"false":"true");if(e.get("renderState").radioCount!==o){var a=SC.RenderContext(t[0]);this.render(e,a),a.update();return}for(s=0;s<o;s++)u=i[s],n.radioRenderDelegate.update(u,t.find(".radio-"+s))},updateRadioAtIndex:function(e,t,n){var r=e.get("items")[n];e.get("theme").radioRenderDelegate.update(r,t.find(".radio-"+n))},indexForEvent:function(e,t,n){var r=$(n.target).closest(".sc-radio-button").attr("index");return isNaN(r)?undefined:parseInt(r,0)}}),SC.BaseTheme.segmentRenderDelegate=SC.RenderDelegate.create({className:"segment",render:function(e,t){var n=e.get("theme"),r,i;i={"sc-first-segment":e.get("isFirstSegment"),"sc-middle-segment":e.get("isMiddleSegment"),"sc-last-segment":e.get("isLastSegment"
),"sc-overflow-segment":e.get("isOverflowSegment")},SC.none(e.get("index"))||(i["sc-segment-"+e.get("index")]=YES),t.setClass(i),t.attr("tabindex",e.get("isSelected")?0:-1),r=n.buttonRenderDelegate,r.render(e,t)},update:function(e,t){var n=e.get("theme"),r,i={};i={"sc-first-segment":e.get("isFirstSegment"),"sc-middle-segment":e.get("isMiddleSegment"),"sc-last-segment":e.get("isLastSegment"),"sc-overflow-segment":e.get("isOverflowSegment")||NO},SC.none(e.get("index"))||(i["sc-segment-"+e.get("index")]=YES),t.setClass(i),t.attr("tabindex",e.get("isSelected")?0:-1),r=n.buttonRenderDelegate,r.update(e,t)}}),SC.BaseTheme.segmentedRenderDelegate=SC.RenderDelegate.create({className:"segmented",render:function(e,t){this.addSizeClassName(e,t),t.addStyle("text-align",e.get("align"))},update:function(e,t){this.updateSizeClassName(e,t),t.css("text-align",e.get("align"))},segmentWidths:function(e){var t=e.$(".sc-segment-view"),n,r=[];for(var i=0,s=t.length;i<s-1;i++)n=t[i],r[i]=n.getBoundingClientRect().width;return r},overflowSegmentWidth:function(e){var t=e.$(".sc-segment-view"),n;return n=t[t.length-1],n.getBoundingClientRect().width},indexForClientPosition:function(e,t,n){var r=e.$(".sc-segment-view"),i,s,o,u,a;a={x:t,y:n};for(s=0,i=r.length;s<i;s++){o=r[s],u=o.getBoundingClientRect(),u={x:u.left,y:u.top,width:u.right-u.left,height:u.bottom-u.top};if(SC.pointInRect(a,u))return s}return-1}}),SC.BaseTheme.sliderRenderDelegate=SC.RenderDelegate.create({className:"slider",render:function(e,t){this.addSizeClassName(e,t);var n=SC.BLANK_IMAGE_URL,r=e.get("maximum"),i=e.get("minimum"),s=e.get
("ariaValue"),o=e.get("layoutDirection")===SC.LAYOUT_HORIZONTAL,u=e.get("value"),a=e.get("isEnabled")?'tabindex="0"':"",f;t.attr("aria-valuemax",r),t.attr("aria-valuemin",i),t.attr("aria-valuenow",s),o?(t.attr("aria-orientation","horizontal"),t.addClass("sc-horizontal"),f="left"):(t.attr("aria-orientation","vertical"),t.addClass("sc-vertical"),f="top",u=100-u),t=t.begin("span").addClass("track"),this.includeSlices(e,t,SC.THREE_SLICE),t.push('<img src="'+n+'" class="sc-handle" '+a+'style="'+f+": "+u+'%" />'+"</span>"),t=t.end(),e.get("renderState")._cachedHandle=null},update:function(e,t){this.updateSizeClassName(e,t);var n=e.get("maximum"),r=e.get("minimum"),i=e.get("ariaValue"),s=Math.round(i*10)/10,o=e.get("layoutDirection")===SC.LAYOUT_HORIZONTAL,u=e.didChangeFor("sliderRenderDelegate","layoutDirection");t.attr("aria-valuemax",n),t.attr("aria-valuemin",r),t.attr("aria-valuenow",s),t.attr("aria-orientation",o?"horizontal":"vertical"),t.addClass(o?"sc-horizontal":"sc-vertical");if(u||e.didChangeFor("sliderRenderDelegate","value")){var a=e.get("renderState")._cachedHandle;a||(a=e.get("renderState")._cachedHandle=t.find(".sc-handle")),e.get("isEnabled")?a.attr("tabindex",0):a.removeAttr("tabindex");var f=e.get("frame"),l=e.get("value");u&&a.css(o?"top":"left",null),o?a.css("left",l+"%"):a.css("top",100-l+"%")}}}),SC.BaseTheme.SourceList=SC.BaseTheme.subtheme("source-list"),SC.BaseTheme.toolbarRenderDelegate=SC.RenderDelegate.create({className:"toolbar",render:function(e,t){},update:function(){}}),SC.BaseTheme.wellRenderDelegate=SC.RenderDelegate.create({className:"well",render
:function(e,t){},update:function(){}}),SC.BaseTheme.workspaceRenderDelegate=SC.RenderDelegate.create({className:"workspace",render:function(){},update:function(){}}),SC.DRAG_LINK=4,SC.DRAG_COPY=1,SC.DRAG_MOVE=2,SC.DRAG_NONE=0,SC.DRAG_ANY=15,SC.DRAG_DATA=8,SC.DRAG_AUTOSCROLL_ZONE_THICKNESS=20,SC.View.reopen({init:function(e){e(),this.get("isDropTarget")&&SC.Drag.addDropTarget(this),this.get("isScrollable")&&SC.Drag.addScrollableView(this)}.enhance(),destroy:function(e){return this.get("isDropTarget")&&SC.Drag.removeDropTarget(this),this.get("isScrollable")&&SC.Drag.removeScrollableView(this),e()}.enhance()}),SC.Drag=SC.Object.extend({source:null,ghostView:null,ghostActsLikeCursor:NO,dragView:null,ghost:YES,sourceIsDraggable:YES,slideBack:YES,ghostOffset:{x:0,y:0},location:{},dataTypes:function(){if(this.dataSource)return this.dataSource.get("dragDataTypes")||[];var e=this.data;if(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}var r=this.get("source");return r&&r.dragDataTypes?r.get("dragDataTypes")||[]:[]}.property().cacheable(),hasDataType:function(e){return this.get("dataTypes").indexOf(e)>=0},dataForType:function(e){if(this.dataSource)return this.dataSource.dragDataForType(this,e);if(this.data)return this.data[e];var t=this.get("source");return t&&SC.typeOf(t.dragDataForType)==SC.T_FUNCTION?t.dragDataForType(this,e):null},dataSource:null,data:null,allowedDragOperations:SC.DRAG_ANY,_dragInProgress:YES,_dragViewWasVisible:null,startDrag:function(){this.get("sourceIsDraggable")&&this._createGhostView();var e=this.event,t={x:e.pageX,y:e.pageY};this.set("location"
,t);if(this.get("sourceIsDraggable")){var n=this._getDragView(),r=n.get("parentView"),i=r?r.convertFrameToView(n.get("frame"),null):n.get("frame");this.get("ghost")&&(this._dragViewWasVisible=n.get("isVisible"),n.set("isVisible",NO)),this.ghostActsLikeCursor?this.ghostOffset={x:14,y:14}:this.ghostOffset={x:t.x-i.x,y:t.y-i.y},this._ghostViewHidden||this._positionGhostView(e);if(e.makeTouchResponder){var s=this;SC.Timer.schedule({target:e,action:function(){e.hasEnded||e.makeTouchResponder(s,YES)},interval:1})}else this.ghostView.rootResponder.dragDidStart(this,e)}var o=this.source;o&&o.dragDidBegin&&o.dragDidBegin(this,t);var u=this._dropTargets();for(var a=0,f=u.length;a<f;a++)u[a].tryToPerform("dragStarted",this,e)},cancelDrag:function(){var e=this._lastTarget,t=this.get("location");e&&e.dragExited&&e.dragExited(this,this._lastMouseDraggedEvent),this.get("sourceIsDraggable")&&(this._destroyGhostView(),this.get("ghost")&&(this._dragViewWasVisible&&this._getDragView().set("isVisible",YES),this._dragViewWasVisible=null));var n=this.source;n&&n.dragDidEnd&&n.dragDidEnd(this,t,SC.DRAG_NONE),this._lastTarget=null,this._dragInProgress=NO},touchStart:function(e){return YES},mouseDragged:function(e){var t=this._autoscroll(e),n=this.get("location");if(!t&&e.pageX===n.x&&e.pageY===n.y)return;n={x:e.pageX,y:e.pageY},this.set("location",n),this._lastMouseDraggedEvent=e;var r=this.source,i=this._lastTarget,s=this._findDropTarget(e),o=SC.DRAG_NONE;while(s&&s!==i&&o===SC.DRAG_NONE)s&&r&&r.dragSourceOperationMaskFor?o=r.dragSourceOperationMaskFor(this,s):o=SC.DRAG_ANY,o!==SC.DRAG_NONE&&s&&s.
computeDragOperations?o&=s.computeDragOperations(this,e,o):o=SC.DRAG_NONE,this.allowedDragOperations=o,o===SC.DRAG_NONE&&(s=this._findNextDropTarget(s));s!==i?(i&&i.dragExited&&i.dragExited(this,e),s&&(s.dragEntered&&s.dragEntered(this,e),s.dragUpdated&&s.dragUpdated(this,e)),this._lastTarget=s):s&&s.dragUpdated&&s.dragUpdated(this,e),r&&r.dragDidMove&&r.dragDidMove(this,n),this.get("sourceIsDraggable")&&!this._ghostViewHidden&&this._positionGhostView(e)},touchesDragged:function(e){this.mouseDragged(e)},mouseUp:function(e){var t={x:e.pageX,y:e.pageY},n=this._lastTarget,r=this.allowedDragOperations;this.set("location",t);try{n&&n.acceptDragOperation&&n.acceptDragOperation(this,r)?r=n.performDragOperation?n.performDragOperation(this,r):SC.DRAG_NONE:r=SC.DRAG_NONE}catch(i){SC.Logger.error("Exception in SC.Drag.mouseUp(acceptDragOperation|performDragOperation): %@".fmt(i))}try{n&&n.dragExited&&n.dragExited(this,e)}catch(s){SC.Logger.error("Exception in SC.Drag.mouseUp(target.dragExited): %@".fmt(s))}var o=this._dropTargets();for(var u=0,a=o.length;u<a;u++)try{o[u].tryToPerform("dragEnded",this,e)}catch(f){SC.Logger.error("Exception in SC.Drag.mouseUp(dragEnded on %@): %@".fmt(o[u],f))}this.get("sourceIsDraggable")&&(this._destroyGhostView(),this.get("ghost")&&(this._dragViewWasVisible&&this._getDragView().set("isVisible",YES),this._dragViewWasVisible=null));var l=this.source;l&&l.dragDidEnd&&l.dragDidEnd(this,t,r),this._lastTarget=null,this._dragInProgress=NO},touchEnd:function(e){this.mouseUp(e)},_getDragView:function(){if(!this.dragView){if(!this.source||!this.source.isView)throw"Source can't be used as dragView, because it's not a view."
;this.dragView=this.source}return this.dragView},_createGhostView:function(){var e=this,t=this._getDragView(),n=t.get("frame"),r;r=this.ghostView=SC.Pane.create({classNames:["sc-ghost-view"],layout:{top:n.y,left:n.x,width:n.width,height:n.height},owner:this,didCreateLayer:function(){if(t){var e=t.get("layer");e&&(e=e.cloneNode(!0),e.style.top="0px",e.style.left="0px",this.get("layer").appendChild(e))}}}),r.append()},_positionGhostView:function(e){var t=this.get("location");t.x-=this.ghostOffset.x,t.y-=this.ghostOffset.y;var n=this.ghostView;n&&(n.adjust({top:t.y,left:t.x}),n.invokeOnce("updateLayout"))},_ghostViewHidden:NO,hideGhostView:function(){this.ghostView&&!this._ghostViewHidden&&(this.ghostView.remove(),this._ghostViewHidden=YES)},unhideGhostView:function(){this._ghostViewHidden&&(this._ghostViewHidden=NO,this._createGhostView())},_destroyGhostView:function(){this.ghostView&&(this.ghostView.remove(),this.ghostView=null,this._ghostViewHidden=NO)},_dropTargets:function(){if(this._cachedDropTargets)return this._cachedDropTargets;var e=[],t=SC.Drag._dropTargets;for(var n in t)t.hasOwnProperty(n)&&e.push(t[n]);var r={},i=SC.Drag._dropTargets,s=function(e){if(!e)return 0;var t=SC.guidFor(e),n=r[t];if(!n){n=1;while(e=e.get("parentView"))i[SC.guidFor(e)]!==undefined&&n++;r[t]=n}return n};return e.sort(function(e,t){return e===t?0:(e=s(e),t=s(t),e>t?-1:1)}),this._cachedDropTargets=e,e},_findDropTarget:function(e){var t={x:e.pageX,y:e.pageY},n,r,i=this._dropTargets();for(var s=0,o=i.length;s<o;s++){n=i[s];if(!n.get("isVisibleInWindow"))continue;r=n.convertFrameToView(n.get("clippingFrame"
),null);if(SC.pointInRect(t,r))return n}return null},_findNextDropTarget:function(e){var t=SC.Drag._dropTargets;while(e=e.get("parentView"))if(t[SC.guidFor(e)])return e;return null},_autoscroll:function(e){e||(e=this._lastAutoscrollEvent);if(!this._dragInProgress)return NO;var t=e?{x:e.pageX,y:e.pageY}:this.get("location"),n=this._findScrollableView(t),r=null,i,s,o,u,a,f,l;while(n&&!r){i=n.get("canScrollVertical")?1:0,s=n.get("canScrollHorizontal")?1:0;if(i||s)f=n.get("containerView"),f?l=n.convertFrameToView(f.get("frame"),null):i=s=0;i&&(u=SC.maxY(l),o=u-SC.DRAG_AUTOSCROLL_ZONE_THICKNESS,t.y>=o&&t.y<=u?i=1:(o=SC.minY(l),u=o+SC.DRAG_AUTOSCROLL_ZONE_THICKNESS,t.y>=o&&t.y<=u?i=-1:i=0)),s&&(u=SC.maxX(l),o=u-SC.DRAG_AUTOSCROLL_ZONE_THICKNESS,t.x>=o&&t.x<=u?s=1:(o=SC.minX(l),u=o+SC.DRAG_AUTOSCROLL_ZONE_THICKNESS,t.x>=o&&t.x<=u?s=-1:s=0)),i||s?r=n:n=this._findNextScrollableView(n)}r&&this._lastScrollableView===r?Date.now()-this._hotzoneStartTime>100&&(this._horizontalScrollAmount*=1.05,this._verticalScrollAmount*=1.05):(this._lastScrollableView=r,this._horizontalScrollAmount=15,this._verticalScrollAmount=15,this._hotzoneStartTime=r?Date.now():null,s=i=0);if(r&&(s||i)){var c={x:s*this._horizontalScrollAmount,y:i*this._verticalScrollAmount};r.scrollBy(c)}return r?(e&&(this._lastAutoscrollEvent={pageX:e.pageX,pageY:e.pageY}),this.invokeLater(this._autoscroll,100,null),YES):(this._lastAutoscrollEvent=null,NO)},_scrollableViews:function(){if(this._cachedScrollableView)return this._cachedScrollableView;var e=[],t=SC.Drag._scrollableViews;for(var n in t)t.hasOwnProperty(n)&&e.push(t[n])
;return e=e.sort(function(e,t){var n=e;while(n=n.get("parentView"))if(t==n)return-1;return 1}),this._cachedScrollableView=e,e},_findScrollableView:function(e){var t=this._scrollableViews(),n=t?t.length:0,r,i,s;for(s=0;s<n;s++){r=t[s];if(!r.get("isVisibleInWindow"))continue;i=r.convertFrameToView(r.get("clippingFrame"),null);if(SC.pointInRect(e,i))return r}return null},_findNextScrollableView:function(e){var t=SC.Drag._scrollableViews;while(e=e.get("parentView"))if(t[SC.guidFor(e)])return e;return null}}),SC.Drag.mixin({start:function(e){var t=this.create(e);return t.startDrag(),t},_dropTargets:{},_scrollableViews:{},addDropTarget:function(e){this._dropTargets[SC.guidFor(e)]=e},removeDropTarget:function(e){delete this._dropTargets[SC.guidFor(e)]},addScrollableView:function(e){this._scrollableViews[SC.guidFor(e)]=e},removeScrollableView:function(e){delete this._scrollableViews[SC.guidFor(e)]}}),SC.MODIFIED_KEY_BINDINGS={"ctrl_.":"cancel",shift_tab:"insertBacktab",shift_left:"moveLeftAndModifySelection",shift_right:"moveRightAndModifySelection",shift_up:"moveUpAndModifySelection",shift_down:"moveDownAndModifySelection",alt_left:"moveLeftAndModifySelection",alt_right:"moveRightAndModifySelection",alt_up:"moveUpAndModifySelection",alt_down:"moveDownAndModifySelection",ctrl_a:"selectAll"},SC.BASE_KEY_BINDINGS={escape:"cancel",backspace:"deleteBackward","delete":"deleteForward","return":"insertNewline",tab:"insertTab",left:"moveLeft",right:"moveRight",up:"moveUp",down:"moveDown",home:"moveToBeginningOfDocument",end:"moveToEndOfDocument",pagedown:"pageDown",pageup:"pageUp"},SC.UndoManager=
SC.Object.extend({undoActionName:function(){return this.undoStack?this.undoStack.name:null}.property("undoStack"),redoActionName:function(){return this.redoStack?this.redoStack.name:null}.property("redoStack"),canUndo:function(){return this.undoStack!=null}.property("undoStack"),canRedo:function(){return this.redoStack!=null}.property("redoStack"),undo:function(){this._undoOrRedo("undoStack","isUndoing")},redo:function(){this._undoOrRedo("redoStack","isRedoing")},isUndoing:NO,isRedoing:NO,groupingLevel:0,registerUndo:function(e,t){this.beginUndoGroup(t),this._activeGroup.actions.push(e),this.endUndoGroup(t)},beginUndoGroup:function(e){if(this._activeGroup)this.groupingLevel++;else{var t=this.isUndoing?"redoStack":"undoStack";this._activeGroup={name:e,actions:[],prev:this.get(t)},this.set(t,this._activeGroup),this.groupingLevel=1}},endUndoGroup:function(e){this._activeGroup||raise("endUndoGroup() called outside group."),this.groupingLevel>1?this.groupingLevel--:(this._activeGroup=null,this.groupingLevel=0),this.propertyDidChange(this.isUndoing?"redoStack":"undoStack")},setActionName:function(e){this._activeGroup||raise("setActionName() called outside group."),this._activeGroup.name=e},_activeGroup:null,undoStack:null,redoStack:null,_undoOrRedo:function(e,t){if(this._activeGroup)return!1;if(this.get(e)==null)return!0;this.set(t,!0);var n=this.get(e);this.set(e,n.prev);var r,i=n.actions.length>1;i&&this.beginUndoGroup(n.name);while(r=n.actions.pop())r();i&&this.endUndoGroup(n.name),this.set(t,!1)}}),SC.CheckboxView=SC.ButtonView.extend(SC.StaticLayout,{classNames:["sc-checkbox-view"
,"sc-checkbox-control"],ariaRole:"checkbox",themeName:null,renderDelegateName:"checkboxRenderDelegate",needsEllipsis:NO,acceptsFirstResponder:function(){return SC.FOCUS_ALL_CONTROLS?this.get("isEnabled"):NO}.property("isEnabled"),_toggleValue:function(){var e=this.get("value")===this.get("toggleOnValue");this.set("value",e?this.get("toggleOffValue"):this.get("toggleOnValue"))},mouseDown:function(e){if(!this.get("isEnabled"))return YES;var t=NO,n=this.get("renderDelegate"),r;return n?t=n.isEventWithinActiveArea(this,e):t=YES,t?(this.set("isActive",YES),this._isMouseDown=YES,e&&this.get("acceptsFirstResponder")&&e.allowDefault(),r=YES):r=NO,r},mouseUp:function(e){return this.get("isEnabled")?(this.set("isActive",NO),this._isMouseDown=NO,this.get("buttonBehavior")!==SC.HOLD_BEHAVIOR&&this.$().within(e.target)&&(this._toggleValue(),this._action(e)),YES):YES},keyDown:function(e){if(!this.get("isEnabled"))return YES;if(e.which===9||e.keyCode===9){var t=e.shiftKey?this.get("previousValidKeyView"):this.get("nextValidKeyView");return t?t.becomeFirstResponder():e.allowDefault(),YES}return e.which===13||e.which===32?(this._toggleValue(),this.get("buttonBehavior")!==SC.HOLD_BEHAVIOR&&this.$().within(e.target)&&this._action(e),YES):(e.allowDefault(),NO)},touchStart:function(e){return this.mouseDown(e)},touchEnd:function(e){return this.mouseUp(e)}}),SC.LIST_ITEM_ACTION_CANCEL="sc-list-item-cancel-action",SC.LIST_ITEM_ACTION_REFRESH="sc-list-item-cancel-refresh",SC.LIST_ITEM_ACTION_EJECT="sc-list-item-cancel-eject",SC.ListItemView=SC.View.extend(SC.InlineEditable,SC.Control,{classNames:["sc-list-item-view"
],displayProperties:["disclosureState","escapeHTML"],content:null,contentIndex:null,hasContentIcon:NO,hasContentRightIcon:NO,hasContentBranch:NO,contentCheckboxKey:null,icon:null,contentIconKey:null,rightIcon:null,contentRightIconKey:null,contentValueKey:null,escapeHTML:YES,contentUnreadCountKey:null,contentIsBranchKey:null,outlineIndent:16,outlineLevel:0,disclosureState:SC.LEAF_NODE,validator:null,contentKeys:{contentValueKey:"title",contentCheckboxKey:"checkbox",contentIconKey:"icon",contentRightIconKey:"rightIcon",contentUnreadCountKey:"count",contentIsBranchKey:"branch"},contentPropertyDidChange:function(){this.get("contentIsEditable")!==this.contentIsEditable()&&this.notifyPropertyChange("contentIsEditable"),this.displayDidChange()},contentIsEditable:function(){var e=this.get("content");return e&&(e.get?e.get("isEditable")!==NO:NO)}.property("content").cacheable(),inlineEditorDelegate:SC.InlineTextFieldDelegate,$label:function(){return this.$("label")},_isInsideElementWithClassName:function(e,t){var n=this.get("layer");if(!n)return NO;var r=SC.$(t.target),i=NO,s;while(!i&&r.length>0&&r[0]!==n)r.hasClass(e)&&(i=YES),r=r.parent();return r=n=null,i},_isInsideCheckbox:function(e){var t=this.displayDelegate,n=this.getDelegateProperty("contentCheckboxKey",t);return n&&this._isInsideElementWithClassName("sc-checkbox-view",e)},_isInsideDisclosure:function(e){return this.get("disclosureState")===SC.LEAF_NODE?NO:this._isInsideElementWithClassName("sc-disclosure-view",e)},_isInsideRightIcon:function(e){var t=this.displayDelegate,n=this.getDelegateProperty("hasContentRightIcon",t)||!
SC.none(this.rightIcon);return n&&this._isInsideElementWithClassName("right-icon",e)},mouseDown:function(e){return this.get("contentIsEditable")?this._isInsideCheckbox(e)?(this._addCheckboxActiveState(),this._isMouseDownOnCheckbox=YES,this._isMouseInsideCheckbox=YES,YES):this._isInsideDisclosure(e)?(this._addDisclosureActiveState(),this._isMouseDownOnDisclosure=YES,this._isMouseInsideDisclosure=YES,YES):this._isInsideRightIcon(e)?(this._addRightIconActiveState(),this._isMouseDownOnRightIcon=YES,this._isMouseInsideRightIcon=YES,YES):NO:NO},mouseUp:function(e){var t=NO,n,r,i,s,o,u;if(this._isMouseDownOnCheckbox){if(this._isInsideCheckbox(e)){n=this.displayDelegate,r=this.getDelegateProperty("contentCheckboxKey",n),i=this.get("content");if(i&&i.get){var a=i.get(r);a=a===SC.MIXED_STATE?YES:!a,i.set(r,a),this.displayDidChange()}}this._removeCheckboxActiveState(),t=YES}else this._isMouseDownOnDisclosure?(this._isInsideDisclosure(e)&&(s=this.get("disclosureState"),o=this.get("contentIndex"),u=SC.none(o)?null:SC.IndexSet.create(o),n=this.get("displayDelegate"),s===SC.BRANCH_OPEN?(u&&n&&n.collapse?n.collapse(u):this.set("disclosureState",SC.BRANCH_CLOSED),this.displayDidChange()):s===SC.BRANCH_CLOSED&&(u&&n&&n.expand?n.expand(u):this.set("disclosureState",SC.BRANCH_OPEN),this.displayDidChange())),this._removeDisclosureActiveState(),t=YES):this._isMouseDownOnRightIcon&&(this._removeRightIconActiveState(),t=YES);return this._isMouseInsideCheckbox=this._isMouseDownOnCheckbox=NO,this._isMouseDownOnDisclosure=this._isMouseInsideDisclosure=NO,this._isMouseInsideRightIcon=this._isMouseDownOnRightIcon=
NO,t},mouseMoved:function(e){return this._isMouseDownOnCheckbox&&this._isInsideCheckbox(e)?(this._addCheckboxActiveState(),this._isMouseInsideCheckbox=YES):this._isMouseDownOnCheckbox?(this._removeCheckboxActiveState(),this._isMouseInsideCheckbox=NO):this._isMouseDownOnDisclosure&&this._isInsideDisclosure(e)?(this._addDisclosureActiveState(),this._isMouseInsideDisclosure=YES):this._isMouseDownOnDisclosure?(this._removeDisclosureActiveState(),this._isMouseInsideDisclosure=NO):this._isMouseDownOnRightIcon&&this._isInsideRightIcon(e)?(this._addRightIconActiveState(),this._isMouseInsideRightIcon=YES):this._isMouseDownOnRightIcon&&(this._removeRightIconActiveState(),this._isMouseInsideRightIcon=NO),NO},touchStart:function(e){return this.mouseDown(e)},touchEnd:function(e){return this.mouseUp(e)},touchEntered:function(e){return this.mouseEntered(e)},touchExited:function(e){return this.mouseExited(e)},_addCheckboxActiveState:function(){if(this.get("isEnabled"))if(this._checkboxRenderDelegate){var e=this._checkboxRenderSource;e.set("isActive",YES),this._checkboxRenderDelegate.update(e,this.$(".sc-checkbox-view"))}else this.$(".sc-checkbox-view").addClass("active")},_removeCheckboxActiveState:function(){if(this._checkboxRenderer){var e=this._checkboxRenderSource;e.set("isActive",NO),this._checkboxRenderDelegate.update(e,this.$(".sc-checkbox-view"))}else this.$(".sc-checkbox-view").removeClass("active")},_addDisclosureActiveState:function(){if(this.get("isEnabled"))if(this._disclosureRenderDelegate){var e=this._disclosureRenderSource;e.set("isActive",YES),this._disclosureRenderDelegate
.update(e,this.$(".sc-disclosure-view"))}else this.$(".sc-disclosure-view").addClass("active")},_removeDisclosureActiveState:function(){if(this._disclosureRenderer){var e=this._disclosureRenderSource;e.set("isActive",NO),this._disclosureRenderDelegate.update(e,this.$(".sc-disclosure-view"))}else this.$(".sc-disclosure-view").addClass("active")},_addRightIconActiveState:function(){this.$("img.right-icon").setClass("active",YES)},_removeRightIconActiveState:function(){this.$("img.right-icon").removeClass("active")},contentHitTest:function(e){var t=this.displayDelegate,n=this.getDelegateProperty("contentValueKey",t);if(!n)return NO;var r=this.$label()[0];if(!r)return NO;var i=e.target,s=this.get("layer");while(i&&i!==s&&i!==window){if(i===r)return YES;i=i.parentNode}return NO},beginEditing:function(e,t){var n=this.$label(),r=this.get("parentView");if(t&&this.scrollToVisible()){var i=this.get("owner"),s=this.get("contentIndex");return this.invokeLast(function(){var e=i.itemViewForContentIndex(s);e&&e.beginEditing&&e.beginEditing(NO)}),YES}return!r||!n||n.get("length")===0?NO:e()}.enhance(),inlineEditorWillBeginEditing:function(e,t,n){var r=this.get("content"),i=this.get("displayDelegate"),s=this.getDelegateProperty("contentValueKey",i),o=this.get("parentView"),u=this.$label(),a=this.get("validator"),f,l,c,h,p,d,v,m,g,y;l=s&&r?r.get?r.get(s):r[s]:r,f=this.computeFrameWithParentFrame(null),d=this._oldLineHeight=u.css("lineHeight"),h=u.css("fontSize"),p=this.$().css("top"),p?p=parseInt(p.substring(0,p.length-2),0):p=0,m=0,h&&d&&(g=h*1.5,g<d?(u.css({lineHeight:"1.5"}),m=(d-g)/2):oldLineHeight=
null),u=u[0],c=SC.offset(u),f.x=c.x,f.y=c.y+p+m,f.height=u.offsetHeight,f.width=u.offsetWidth,v=this.get("escapeHTML"),e.set({value:l,exampleFrame:f,exampleElement:u,multiline:NO,isCollection:YES,validator:a,escapeHTML:v})},inlineEditorShouldBeginEditing:function(e){return YES},inlineEditorDidBeginEditing:function(e,t,n,r){e(t,n,r);var i=this.$label();this._oldOpacity=i.css("opacity"),i.css("opacity",0),this._oldLineHeight&&i.css({lineHeight:this._oldLineHeight})}.enhance(),inlineEditorDidCommitEditing:function(e,t,n){var r=this.get("content"),i=this.displayDelegate,s=this.getDelegateProperty("contentValueKey",i);s&&r?r.set?r.set(s,t):r[s]=t:this.set("content",t),this.displayDidChange(),this._endEditing()},_endEditing:function(e){this.$label().css("opacity",this._oldOpacity),e()}.enhance(),render:function(e,t){var n=this.get("content"),r=this.displayDelegate,i=this.get("outlineLevel"),s=this.get("outlineIndent"),o,u,a,f=[];f.push(this.get("contentIndex")%2===0?"even":"odd"),e.setClass("disabled",!this.get("isEnabled")),a=e.begin("div").addClass("sc-outline"),i>=0&&s>0&&a.addStyle("left",s*(i+1)),u=this.get("disclosureState"),u!==SC.LEAF_NODE&&(this.renderDisclosure(a,u),f.push("has-disclosure")),o=this.getDelegateProperty("contentCheckboxKey",r),o&&(u=n?n.get?n.get(o):n[o]:NO,u!==null&&(this.renderCheckbox(a,u),f.push("has-checkbox"))),this.getDelegateProperty("hasContentIcon",r)?(o=this.getDelegateProperty("contentIconKey",r),u=o&&n?n.get?n.get(o):n[o]:null,this.renderIcon(a,u),f.push("has-icon")):this.get("icon")&&(u=this.get("icon"),this.renderIcon(a,u),f.push("has-icon")
),o=this.getDelegateProperty("contentValueKey",r),u=o&&n?n.get?n.get(o):n[o]:n,u&&SC.typeOf(u)!==SC.T_STRING&&(u=u.toString()),this.get("escapeHTML")&&(u=SC.RenderContext.escapeHTML(u)),this.renderLabel(a,u),this.getDelegateProperty("hasContentRightIcon",r)&&(o=this.getDelegateProperty("contentRightIconKey",r),u=o&&n?n.get?n.get(o):n[o]:null,this.renderRightIcon(a,u),f.push("has-right-icon")),o=this.getDelegateProperty("contentUnreadCountKey",r),u=o&&n?n.get?n.get(o):n[o]:null;if(!SC.none(u)&&u!==0){this.renderCount(a,u);var l=["zero","one","two","three","four","five"],c=u.toString().length,h=l.length,p=c<h?l[c]:l[h-1];f.push("has-count "+p+"-digit")}o=this.getDelegateProperty("listItemActionProperty",r),u=o&&n?n.get?n.get(o):n[o]:null,u&&(this.renderAction(a,u),f.push("has-action")),this.getDelegateProperty("hasContentBranch",r)&&(o=this.getDelegateProperty("contentIsBranchKey",r),u=o&&n?n.get?n.get(o):n[o]:NO,this.renderBranch(a,u),f.push("has-branch")),e.addClass(f),e=a.end()},renderDisclosure:function(e,t){var n=this.get("theme").disclosureRenderDelegate;e=e.begin("div").addClass("sc-disclosure-view").addClass("sc-regular-size").addClass(this.get("theme").classNames).addClass(n.get("className"));var r=this._disclosureRenderSource;r||(this._disclosureRenderSource=r=SC.Object.create({renderState:{},theme:this.get("theme")})),r.set("isSelected",t===SC.BRANCH_OPEN).set("isEnabled",this.get("isEnabled")).set("title",""),n.render(r,e),e=e.end(),this._disclosureRenderDelegate=n},renderCheckbox:function(e,t){var n=this.get("theme").checkboxRenderDelegate;e=e.begin("div").addClass
("sc-checkbox-view").addClass("sc-regular-size").addClass(this.get("theme").classNames).addClass(n.get("className"));var r=this._checkboxRenderSource;r||(r=this._checkboxRenderSource=SC.Object.create({renderState:{},theme:this.get("theme")})),r.set("isSelected",t&&t!==SC.MIXED_STATE).set("isEnabled",this.get("isEnabled")&&this.get("contentIsEditable")).set("isActive",this._checkboxIsActive).set("title",""),n.render(r,e),e=e.end(),this._checkboxRenderDelegate=n},renderIcon:function(e,t){var n=null,r=null,i=[];t&&SC.ImageView.valueIsUrl(t)?(n=t,r=""):(r=t,n=SC.BLANK_IMAGE_URL),i.push(r,"icon"),e.begin("img").addClass(i).attr("src",n).end()},renderLabel:function(e,t){e.push("<label>",t||"","</label>")},renderRightIcon:function(e,t){var n=null,r=null,i=[];t&&SC.ImageView.valueIsUrl(t)?(n=t,r=""):(r=t,n=SC.BLANK_IMAGE_URL),i.push("right-icon",r),e.begin("img").addClass(i).attr("src",n).end()},renderCount:function(e,t){e.push('<span class="count"><span class="inner">',t.toString(),"</span></span>")},renderAction:function(e,t){e.push('<img src="',SC.BLANK_IMAGE_URL,'" class="action" />')},renderBranch:function(e,t){var n=[];n.push("branch",t?"branch-visible":"branch-hidden"),e.begin("span").addClass(n).push("&nbsp;").end()}}),SC.ListItemView._deprecatedRenderWarningHasBeenIssued=!1,SC.DRAG_REORDER=16,SC.BENCHMARK_RELOAD=NO,SC.CollectionView=SC.View.extend(SC.CollectionViewDelegate,SC.CollectionContent,{classNames:["sc-collection-view"],displayProperties:["hasFirstResponder","isEnabled","isActive"],renderDelegateName:"collectionRenderDelegate",ACTION_DELAY:200,useFastPath:NO,content
:null,contentBindingDefault:SC.Binding.multiple(),length:0,nowShowing:function(){return this.computeNowShowing()}.property("length","clippingFrame").cacheable(),selection:null,isSelectable:YES,isSelectableBindingDefault:SC.Binding.bool(),isEnabled:YES,isEnabledBindingDefault:SC.Binding.bool(),isEditable:YES,isEditableBindingDefault:SC.Binding.bool(),canReorderContent:NO,canReorderContentBindingDefault:SC.Binding.bool(),canDeleteContent:NO,canDeleteContentBindingDefault:SC.Binding.bool(),canEditContent:NO,canEditContentBindingDefault:SC.Binding.bool(),isDropTarget:NO,useToggleSelection:NO,actOnSelect:NO,selectOnMouseDown:YES,exampleView:SC.ListItemView,contentExampleViewKey:null,groupExampleView:null,contentGroupExampleViewKey:null,action:null,target:null,contentValueKey:null,acceptsFirstResponder:NO,isActive:NO,calculatedHeight:0,calculatedWidth:0,computeLayout:function(){return null},layoutForContentIndex:function(e){return null},allContentIndexes:function(){return SC.IndexSet.create(0,this.get("length")).freeze()}.property("length").cacheable(),contentIndexesInRect:function(e){return null},computeNowShowing:function(){var e=this.contentIndexesInRect(this.get("clippingFrame"));if(!e)e=this.get("allContentIndexes");else{var t=this.get("length"),n=e.get("max");n>t&&(e=e.copy().remove(t,n-t).freeze())}return e},showInsertionPoint:function(e,t){},hideInsertionPoint:function(){},delegate:null,selectionDelegate:function(){var e=this.get("delegate"),t=this.get("content");return this.delegateFor("isCollectionViewDelegate",e,t)}.property("delegate","content").cacheable(),contentDelegate
:function(){var e=this.get("delegate"),t=this.get("content");return this.delegateFor("isCollectionContent",e,t)}.property("delegate","content").cacheable(),_contentGroupIndexes:function(){return this.get("contentDelegate").contentGroupIndexes(this,this.get("content"))}.property("contentDelegate","content").cacheable(),contentRangeDidChange:function(e,t,n,r){!t&&n==="[]"?(this.notifyPropertyChange("_contentGroupIndexes"),this.reload(r)):this.contentPropertyDidChange(t,n,r)},contentPropertyDidChange:function(e,t,n){},updateContentRangeObserver:function(){var e=this.get("nowShowing"),t=this._cv_contentRangeObserver,n=this.get("content");if(!n)return;if(t)n.updateRangeObserver(t,e);else{var r=this.contentRangeDidChange;t=n.addRangeObserver(e,this,r,null),this._cv_contentRangeObserver=t}},removeContentRangeObserver:function(){var e=this.get("content"),t=this._cv_contentRangeObserver;t&&(e&&e.removeRangeObserver(t),this._cv_contentRangeObserver=null)},contentLengthDidChange:function(){var e=this.get("content");this.set("length",e?e.get("length"):0)},_cv_contentDidChange:function(){var e=this.get("content"),t=this.contentLengthDidChange;if(e===this._content)return;this.removeContentRangeObserver(),this._content&&this._content.removeObserver("length",this,t),this._content=e,e&&e.addObserver("length",this,t),this.contentLengthDidChange(),this.contentRangeDidChange(e,null,"[]",null)}.observes("content"),_invalidIndexes:NO,reload:function(e){var t=this._invalidIndexes;return e&&t!==YES?t?t.add(e):t=this._invalidIndexes=e.clone():this._invalidIndexes=YES,this.get("isVisibleInWindow")&&this
.invokeOnce(this.reloadIfNeeded),this},reloadIfNeeded:function(){var e=this._invalidIndexes;if(!e||!this.get("isVisibleInWindow"))return this;this._invalidIndexes=NO;var t=this.get("content"),n,r,i,s=this.computeLayout(),o=SC.BENCHMARK_RELOAD,u=this.get("nowShowing"),a=this._sc_itemViews,f=this.get("containerView")||this,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C;e.isIndexSet&&e.contains(u)&&(e=YES),this.willReload&&this.willReload(e===YES?null:e),l=this.get("exampleView"),h=l?l.isReusableInCollections:NO,c=this.get("groupExampleView"),p=c?c.isReusableInCollections:NO;if(e.isIndexSet){o&&SC.Benchmark.start(o="%@#reloadIfNeeded (Partial)".fmt(this),YES),v=[],m=[],g=[],e.forEach(function(e){i=a?a[e]:null,u.contains(e)?i&&i.parentView===f?m.push(e):g.push(e):i&&i.parentView===f&&v.push(e)},this);for(n=0,r=v.length;n<r;++n)b=v[n],i=a?a[b]:null,delete a[b],T=this.get("contentDelegate"),N=this.get("_contentGroupIndexes"),C=N&&N.contains(b),C&&(C=T.contentIndexIsGroup(this,t,b)),d=C?p:h,d&&(x=C?this._GROUP_VIEW_POOL:this._VIEW_POOL,x.push(i),i.destroyLayer()),E=i.get("layer"),E&&E.parentNode&&E.parentNode.removeChild(E),f.removeChild(i),d||i.destroy();for(n=0,r=m.length;n<r;++n)b=m[n],i=a?a[b]:null,i.destroyLayer(),w=this.itemViewForContentIndex(b,YES),f.replaceChild(w,i);for(n=0,r=g.length;n<r;++n)b=g[n],w=this.itemViewForContentIndex(b,YES),f.insertBefore(w,null);o&&SC.Benchmark.end(o)}else{o&&SC.Benchmark.start(o="%@#reloadIfNeeded (Full)".fmt(this),YES),a&&(a.length=0),y=f.get("childViews"),y&&(y=y.copy()),f.beginPropertyChanges(),this.willRemoveAllChildren&&this.willRemoveAllChildren()
,f.destroyLayer().removeAllChildren();if(y)for(n=0,r=y.length;n<r;++n)w=y[n],C=w.get("isGroupView"),d=C?p:h,d?(x=C?this._GROUP_VIEW_POOL:this._VIEW_POOL,x.push(w),w.destroyLayer()):w.destroy();y=[],u.forEach(function(e){y.push(this.itemViewForContentIndex(e,YES))},this),f.set("childViews",y),f.replaceLayer(),f.endPropertyChanges(),o&&SC.Benchmark.end(o)}return s&&this.adjust(s),this.didReload&&this.didReload(e===YES?null:e),this},_TMP_ATTRS:{},_COLLECTION_CLASS_NAMES:["sc-collection-item"],_GROUP_COLLECTION_CLASS_NAMES:["sc-collection-item","sc-group-item"],_VIEW_POOL:null,_GROUP_VIEW_POOL:null,itemViewForContentIndex:function(e,t){var n,r=this._sc_itemViews;if(!r)r=this._sc_itemViews=[];else if(!t&&(n=r[e]))return n;var i=this.get("content"),s=i.objectAt(e),o=this.get("contentDelegate"),u=this.get("_contentGroupIndexes"),a=NO,f,l,c,h,p,d,v,m,g,y,b,w,E;a=u&&u.contains(e),a&&(a=o.contentIndexIsGroup(this,i,e)),a?(f=this.get("contentGroupExampleViewKey"),f&&s&&(l=s.get(f)),l||(l=this.get("groupExampleView")||this.get("exampleView")),p="_GROUP_VIEW_POOL"):(f=this.get("contentExampleViewKey"),f&&s&&(l=s.get(f)),l||(l=this.get("exampleView")),p="_VIEW_POOL"),m=this.get("containerView")||this,h=this.layerIdFor(e),g=o.contentIndexIsEnabled(this,i,e),y=o.contentIndexIsSelected(this,i,e),b=o.contentIndexOutlineLevel(this,i,e),w=o.contentIndexDisclosureState(this,i,e),E=this.isVisibleInWindow,c=this.layoutForContentIndex(e),l&&l.isReusableInCollections&&(d=this[p],d||(d=this[p]=[]),d.length>0&&(n=d.pop(),v=n.prepareForReuse,v&&v.call(n),n.beginPropertyChanges(),n.set("contentIndex",e)
,n.set("layerId",h),n.set("isEnabled",g),n.set("isSelected",y),n.set("outlineLevel",b),n.set("disclosureState",w),n.set("isVisibleInWindow",E),n.set("parentView",m),SC.View.views[h]=n,c?n.set("layout",c):n.set("layout",l.prototype.layout),n.set("content",s),n.endPropertyChanges()));if(!n){var S=this._TMP_ATTRS;S.contentIndex=e,S.content=s,S.owner=S.displayDelegate=this,S.parentView=m,S.page=this.page,S.layerId=h,S.isEnabled=g,S.isSelected=y,S.outlineLevel=b,S.disclosureState=w,S.isGroupView=a,S.isVisibleInWindow=E,a?S.classNames=this._GROUP_COLLECTION_CLASS_NAMES:S.classNames=this._COLLECTION_CLASS_NAMES,c?S.layout=c:delete S.layout,n=this.createItemView(l,e,S)}return r[e]=n,n},itemViewForContentObject:function(e){return this.itemViewForContentIndex(this.get("content").indexOf(e))},_TMP_LAYERID:[],createItemView:function(e,t,n){return e.create(n)},layerIdFor:function(e){var t=this._TMP_LAYERID;return t[0]=SC.guidFor(this),t[1]=e,t.join("-")},contentIndexForLayerId:function(e){if(!e||!(e=e.toString()))return null;var t=this._baseLayerId;t||(t=this._baseLayerId=SC.guidFor(this)+"-");if(e.length<=t.length||e.indexOf(t)!==0)return null;var n=Number(e.slice(e.lastIndexOf("-")+1));return isNaN(n)?null:n},itemViewForEvent:function(e){var t=this.getPath("pane.rootResponder");if(!t)return null;var n=SC.guidFor(this)+"-",r=n.length,i=e.target,s=this.get("layer"),o=null,u,a,f;while(i&&i!==document&&i!==s){u=i?SC.$(i).attr("id"):null;if(u&&(o=this.contentIndexForLayerId(u))!==null)break;i=i.parentNode}if(o===null||i===s)return i=s=null,null;if(o>=this.get("length"))throw"layout for item view %@ was found when item view does not exist (%@)"
.fmt(u,this);return this.itemViewForContentIndex(o)},expand:function(e){if(!e)return this;var t=this.get("contentDelegate"),n=this.get("content");return e.forEach(function(e){var r=t.contentIndexDisclosureState(this,n,e);r===SC.BRANCH_CLOSED&&t.contentIndexExpand(this,n,e)},this),this},collapse:function(e){if(!e)return this;var t=this.get("contentDelegate"),n=this.get("content");return e.forEach(function(e){var r=t.contentIndexDisclosureState(this,n,e);r===SC.BRANCH_OPEN&&t.contentIndexCollapse(this,n,e)},this),this},_cv_selectionDidChange:function(){var e=this.get("selection"),t=this._cv_selection,n=this._cv_selectionContentDidChange;if(e===t)return;t&&t.removeObserver("[]",this,n),e&&e.addObserver("[]",this,n),this._cv_selection=e,this._cv_selectionContentDidChange()}.observes("selection"),_cv_selectionContentDidChange:function(){var e=this.get("selection"),t=this._cv_selindexes,n=this.get("content"),r;this._cv_selindexes=e?e.frozenCopy():null,t&&(t=t.indexSetForSource(n)),e&&(e=e.indexSetForSource(n)),e&&t?r=e.without(t).add(t.without(e)):r=e||t,r&&r.get("length")>0&&this.reloadSelectionIndexes(r)},_invalidSelection:NO,reloadSelectionIndexes:function(e){var t=this._invalidSelection;return e&&t!==YES?t?t.add(e):t=this._invalidSelection=e.copy():this._invalidSelection=YES,this.get("isVisibleInWindow")&&this.invokeOnce(this.reloadSelectionIndexesIfNeeded),this},reloadSelectionIndexesIfNeeded:function(){var e=this._invalidSelection;if(!e||!this.get("isVisibleInWindow"))return this;var t=this.get("nowShowing"),n=this._invalidIndexes,r=this.get("content"),i=this.get("selection"
);return this._invalidSelection=NO,n===YES||!t?this:(e===YES&&(e=t),n&&n.isIndexSet&&(e=e.without(n)),e.forEach(function(e){if(!t.contains(e))return;var n=this.itemViewForContentIndex(e,NO);n&&n.set("isSelected",i?i.contains(r,e):NO)},this),this)},select:function(e,t){var n=this.get("content"),r=this.get("selectionDelegate"),i=this.get("_contentGroupIndexes"),s;if(!this.get("isSelectable")||!this.get("isEnabled"))return this;SC.typeOf(e)===SC.T_NUMBER&&(e=SC.IndexSet.create(e,1));if(e&&e.get("length")>0){i&&i.get("length")>0&&(e=e.copy().remove(i)),e=r.collectionViewShouldSelectIndexes(this,e,t);if(!e||e.get("length")===0)return this}else e=null;return t&&(s=this.get("selection"))?s=s.copy():s=SC.SelectionSet.create(),e&&e.get("length")>0&&(e.get("length")===1?s.addObject(n.objectAt(e.get("firstObject"))):s.add(n,e)),s=r.collectionViewSelectionForProposedSelection(this,s),s||(s=SC.SelectionSet.create()),this._selectionAnchor=null,this.set("selection",s.freeze()),this},deselect:function(e){var t=this.get("selection"),n=this.get("content"),r=this.get("selectionDelegate");return!this.get("isSelectable")||!this.get("isEnabled")?this:!t||t.get("length")===0?this:(SC.typeOf(e)===SC.T_NUMBER&&(e=SC.IndexSet.create(e,1)),e=r.collectionViewShouldDeselectIndexes(this,e),!e||e.get("length")===0?this:(t=t.copy().remove(n,e),t=r.collectionViewSelectionForProposedSelection(this,t),t||(t=SC.SelectionSet.create()),this.set("selection",t.freeze()),this))},_findNextSelectableItemFromIndex:function(e,t){var n=this.get("length"),r=SC.IndexSet.create(),i=this.get("content"),s=this.get("selectionDelegate"
),o=this.get("_contentGroupIndexes"),u,a;if(!o&&s.collectionViewShouldSelectIndexes===SC.CollectionView.prototype.collectionViewShouldSelectIndexes)return e;while(e<n){if(!o||!o.contains(e)){r.add(e),u=s.collectionViewShouldSelectIndexes(this,r);if(u&&u.get("length")>=1)return e;r.remove(e)}e++}return t===undefined&&(a=this.get("selection"),t=a?a.get("max"):-1),t},_findPreviousSelectableItemFromIndex:function(e,t){var n=SC.IndexSet.create(),r=this.get("content"),i=this.get("selectionDelegate"),s=this.get("_contentGroupIndexes"),o;SC.none(e)&&(e=-1);if(!s&&i.collectionViewShouldSelectIndexes===SC.CollectionView.prototype.collectionViewShouldSelectIndexes)return e;while(e>=0){if(!s||!s.contains(e)){n.add(e),o=i.collectionViewShouldSelectIndexes(this,n);if(o&&o.get("length")>=1)return e;n.remove(e)}e--}if(t===undefined){var u=this.get("selection");t=u?u.get("min"):-1}return SC.none(t)&&(t=-1),t},selectPreviousItem:function(e,t){SC.none(t)&&(t=1),SC.none(e)&&(e=!1);var n=this.get("selection"),r=this.get("content");n&&(n=n.indexSetForSource(r));var i=n?n.get("min"):-1,s=n?n.get("max")-1:-1,o=this._selectionAnchor;SC.none(o)&&(o=i);if(e){s>o?s-=t:i=this._findPreviousSelectableItemFromIndex(i-t);if(SC.none(i)||i<0)i=0;r.objectAt(i)||(i=n?n.get("min"):-1),s<i&&(s=i)}else{i=this._findPreviousSelectableItemFromIndex(i-t);if(SC.none(i)||i<0)i=0;r.objectAt(i)||(i=n?n.get("min"):-1),s=i,o=null}var u=i;return n=SC.IndexSet.create(i,s+1-i),this.scrollToContentIndex(u),this.select(n),this._selectionAnchor=o,this},selectNextItem:function(e,t){SC.none(t)&&(t=1),SC.none(e)&&(e=!1);var n=this.get
("selection"),r=this.get("content");n&&(n=n.indexSetForSource(r));var i=n?n.get("min"):-1,s=n?n.get("max")-1:-1,o=this._selectionAnchor,u=this.get("length");SC.none(o)&&(o=i),e?(i<o?i+=t:s=this._findNextSelectableItemFromIndex(s+t,s),s>=u&&(s=u-1),r.objectAt(s)||(s=n?n.get("max")-1:-1),i>s&&(i=s)):(s=this._findNextSelectableItemFromIndex(s+t,s),s>=u&&(s=u-1),r.objectAt(s)||(s=n?n.get("max")-1:-1),i=s,o=null);var a=s;return n=SC.IndexSet.create(i,s-i+1),this.scrollToContentIndex(a),this.select(n),this._selectionAnchor=o,this},deleteSelection:function(){if(!this.get("canDeleteContent"))return NO;var e=this.get("selection"),t=this.get("content"),n=this.get("selectionDelegate"),r=e&&t?e.indexSetForSource(t):null;return!t||!r||r.get("length")===0?NO:(r=n.collectionViewShouldDeleteIndexes(this,r),!r||r.get("length")===0?NO:(n.collectionViewDeleteContent(this,this.get("content"),r),YES))},scrollToContentIndex:function(e){var t=this.itemViewForContentIndex(e);return t&&this.scrollToItemView(t),this},scrollToItemView:function(e){return e&&e.scrollToVisible(),this},keyDown:function(e){var t=this.interpretKeyEvents(e);return t?t:NO},keyUp:function(){return!0},insertText:function(e,t){if(e===" "){var n=this.get("selection");return n&&n.get("length")>0&&this.invokeLater(this._cv_action,0,null,t),YES}return NO},selectAll:function(e){var t=this.get("content"),n=t?SC.IndexSet.create(0,t.get("length")):null;return this.select(n,NO),YES},deselectAll:function(){var e=this.get("content"),t=e?SC.IndexSet.create(0,e.get("length")):null;return this.deselect(t,NO),YES},deleteBackward:function(e){return this
.deleteSelection()},deleteForward:function(e){return this.deleteSelection()},moveDown:function(e,t){return this.selectNextItem(!1,this.get("itemsPerRow")||1),this._cv_performSelectAction(null,t,this.ACTION_DELAY),!0},moveUp:function(e,t){return this.selectPreviousItem(!1,this.get("itemsPerRow")||1),this._cv_performSelectAction(null,t,this.ACTION_DELAY),!0},moveLeft:function(e){if(e.ctrlKey||e.metaKey)return NO;if((this.get("itemsPerRow")||1)>1)this.selectPreviousItem(!1,1),this._cv_performSelectAction(null,e,this.ACTION_DELAY);else{var t=this.get("selection"),n=this.get("content"),r=t?t.indexSetForSource(n):null;if(r){var i=undefined,s=!1,o=undefined;if(r.get("length")===1){o=r.get("firstObject"),i=this.get("contentDelegate");var u=i.contentIndexDisclosureState(this,n,o);u!==SC.BRANCH_OPEN&&(s=!0)}if(s){var a=i.contentIndexOutlineLevel(this,n,o)-1;if(a>=0){var f=-1;while(f<0){var l=this._findPreviousSelectableItemFromIndex(o-1);if(l<0)return!1;o=l;var c=i.contentIndexOutlineLevel(this,n,o);c===a&&(f=l)}f!==-1&&this.select(o)}}else this.collapse(r)}}return!0},moveRight:function(e){if(e.ctrlKey||e.metaKey)return NO;if((this.get("itemsPerRow")||1)>1)this.selectNextItem(!1,1),this._cv_performSelectAction(null,e,this.ACTION_DELAY);else{var t=this.get("selection"),n=this.get("content"),r=t?t.indexSetForSource(n):null;r&&this.expand(r)}return!0},moveDownAndModifySelection:function(e,t){return this.selectNextItem(!0,this.get("itemsPerRow")||1),this._cv_performSelectAction(null,t,this.ACTION_DELAY),!0},moveUpAndModifySelection:function(e,t){return this.selectPreviousItem(!0,this.get("itemsPerRow"
)||1),this._cv_performSelectAction(null,t,this.ACTION_DELAY),!0},moveLeftAndModifySelection:function(e,t){return(this.get("itemsPerRow")||1)>1&&(this.selectPreviousItem(!0,1),this._cv_performSelectAction(null,t,this.ACTION_DELAY)),!0},moveRightAndModifySelection:function(e,t){return(this.get("itemsPerRow")||1)>1&&(this.selectNextItem(!0,1),this._cv_performSelectAction(null,t,this.ACTION_DELAY)),!0},insertNewline:function(e,t){var n=this.get("isEditable")&&this.get("canEditContent"),r,i,s,o,u;return n&&(r=this.get("selection"),i=this.get("content"),r&&r.get("length")===1&&(s=r.indexSetForSource(i),o=s?s.get("min"):-1,n=o>=0)),n&&(u=this.itemViewForContentIndex(o),n=u&&SC.typeOf(u.beginEditing)===SC.T_FUNCTION),n?(this.scrollToContentIndex(o),u=this.itemViewForContentIndex(o),u.beginEditing()):this.invokeLater(this._cv_action,0,u,null),YES},insertTab:function(e){var t=this.get("nextValidKeyView");return t?t.becomeFirstResponder():e.allowDefault(),YES},insertBacktab:function(e){var t=this.get("previousValidKeyView");return t?t.becomeFirstResponder():e.allowDefault(),YES},mouseDown:function(e){var t=this.itemViewForEvent(e),n=this.get("content"),r=t?t.get("contentIndex"):-1,i,s,o,u,a,f=NO,l=n.get("allowsMultipleSelection");if(!this.get("isEnabled"))return r>-1;if(!this.get("isSelectable"))return NO;this.becomeFirstResponder();if(this.get("useToggleSelection")){if(this.get("selectOnMouseDown")){if(!t)return;o=this.get("selection"),u=o&&o.containsObject(t.get("content")),u?this.deselect(r):l?(this.select(r,YES),f=YES):(this.select(r,NO),f=YES),f&&this.get("actOnSelect")&&this._cv_performSelectAction
(t,e)}return YES}return t?(o=this.get("selection"),o&&(o=o.indexSetForSource(n)),i=this.mouseDownInfo={event:e,itemView:t,contentIndex:r,at:Date.now()},u=o?o.contains(r):NO,i.modifierKeyPressed=a=e.ctrlKey||e.metaKey,a&&u?i.shouldDeselect=r>=0:e.shiftKey&&o&&o.get("length")>0&&l?(o=this._findSelectionExtendedByShift(o,r),s=this._selectionAnchor,this.select(o),this._selectionAnchor=s):!a&&u?i.shouldReselect=r>=0:((e.shiftKey||a)&&!l&&this.select(null,!1),this.get("selectOnMouseDown")?this.select(r,a):i.shouldSelect=r>=0),i.previousContentIndex=r,YES):(this.get("allowDeselectAll")&&this.select(null,!1),YES)},mouseUp:function(e){var t=this.itemViewForEvent(e),n=this.mouseDownInfo,r=this.get("content"),i=t?t.get("contentIndex"):-1,s,o,u,a,f,l=r.get("allowsMultipleSelection");if(!this.get("isEnabled"))return i>-1;if(!this.get("isSelectable"))return NO;if(this.get("useToggleSelection")){if(!t||this.get("selectOnMouseDown"))return NO;s=this.get("selection"),o=s&&s.containsObject(t.get("content")),o?this.deselect(i):l?this.select(i,YES):this.select(i,NO)}else n&&(f=n.contentIndex,i=t?t.get("contentIndex"):-1,n.shouldSelect&&this.select(f,n.modifierKeyPressed),n.shouldDeselect&&this.deselect(f),n.shouldReselect&&(u=this.get("isEditable")&&this.get("canEditContent"),u&&(s=this.get("selection"),u=s&&s.get("length")===1),u&&(a=this.itemViewForContentIndex(f),u=a&&(!a.contentHitTest||a.contentHitTest(e)),u=u&&a.beginEditing?a.beginEditing():NO),u||(this._cv_reselectTimer&&this._cv_reselectTimer.invalidate(),this._cv_reselectTimer=this.invokeLater(this.select,300,f,!1))),this._cleanupMouseDown
());return this._cv_performSelectAction(t,e,0,e.clickCount),NO},_cleanupMouseDown:function(){var e=this.mouseDownInfo,t;if(e)for(t in e){if(!e.hasOwnProperty(t))continue;delete e[t]}this.mouseDownInfo=null},mouseMoved:function(e){var t=this.itemViewForEvent(e),n=this._lastHoveredItem;return t!==n&&(n&&n.mouseExited&&n.mouseExited(e),t&&t.mouseEntered&&t.mouseEntered(e)),this._lastHoveredItem=t,t&&t.mouseMoved&&t.mouseMoved(e),YES},mouseExited:function(e){var t=this._lastHoveredItem;return this._lastHoveredItem=null,t&&t.mouseExited&&t.mouseExited(e),YES},touchStart:function(e,t){var n=this.itemViewForEvent(e),r=n?n.get("contentIndex"):-1;return this.get("isEnabled")?(this.becomeFirstResponder(),this._touchSelectedView=n,this.get("useToggleSelection")||n&&!n.get("isSelected")&&n.set("isSelected",YES),YES):r>-1},touchesDragged:function(e,t){t.forEach(function(e){(Math.abs(e.pageX-e.startX)>5||Math.abs(e.pageY-e.startY)>5)&&e.makeTouchResponder(e.nextTouchResponder)},this)},touchEnd:function(e){var t=this._touchSelectedView,n=t?t.get("contentIndex"):-1,r=NO,i;if(!this.get("isEnabled"))return n>-1;t&&t.set("isSelected",NO),n>-1&&(this.get("useToggleSelection")&&(i=this.get("selection"),r=i&&i.containsObject(t.get("content"))),r?this.deselect(n):(this.select(n,NO),this._cv_performSelectAction(t,e,0))),this._touchSelectedView=null},touchCancelled:function(e){this._touchSelectedView&&(this._touchSelectedView.set("isSelected",NO),this._touchSelectedView=null)},_findSelectionExtendedByShift:function(e,t){if(!e||e.get("length")===0)return SC.IndexSet.create(t);var n=this.get("content"
),r=n.get("length")-1,i=e.get("min"),s=e.get("max")-1,o=this.mouseDownInfo,u=this._selectionAnchor;return SC.none(u)&&(u=-1),t<i?(i=t,u<0&&(this._selectionAnchor=u=s)):t>s?(s=t,u<0&&(this._selectionAnchor=u=i)):t>=i&&t<=s&&(u<0&&(this._selectionAnchor=u=i),t===u?i=s=t:t>u?(i=u,s=t):t<u&&(i=t,s=u)),SC.IndexSet.create(i,s-i+1)},reorderDataType:function(){return"SC.CollectionView.Reorder."+SC.guidFor(this)}.property().cacheable(),dragContent:null,proposedInsertionIndex:null,proposedDropOperation:null,mouseDragged:function(e){var t=this.get("selectionDelegate"),n=this.get("content"),r=this.get("selection"),i=this.mouseDownInfo,s=this.get("_contentGroupIndexes"),o,u,a,f,l;if(!i||i.contentIndex<0)return YES;if(Date.now()-i.at<123)return YES;if(t.collectionViewShouldBeginDrag(this))return this.get("selectOnMouseDown")?(o=r?r.indexSetForSource(n):null,l=r):(o=SC.IndexSet.create(i.contentIndex),f=r?r.indexSetForSource(n):null,f&&f.contains(o)?(o=f,l=r):(l=SC.SelectionSet.create(),l.addObjects([i.itemView.get("content")]))),o&&s&&s.get("length")>0&&(o=o.copy().remove(s),o.get("length")===0?o=null:o.freeze()),o?(o=o.frozenCopy(),o={content:n,indexes:o,contentDragged:l},this.set("dragContent",o),u=this.get("dragDataTypes"),u&&u.get("length")>0?(a=t.collectionViewDragViewFor(this,o.indexes),a||(a=this._cv_dragViewFor(o.indexes)),a.createLayer(),SC.Drag.start({event:i.event,source:this,dragView:a,ghost:NO,ghostActsLikeCursor:t.ghostActsLikeCursor,slideBack:YES,dataSource:this}),this._cleanupMouseDown(),this._lastInsertionIndex=null):this.set("dragContent",null),YES):YES},_cv_dragViewFor:function(
e){var t=this.get("nowShowing").without(e),n=this.get("layer").cloneNode(!1),r=SC.View.create({layer:n,parentView:this}),i=0,s;return t=this.get("nowShowing").without(t),SC.$(n).css("backgroundColor","transparent").css("border","none").css("top",0).css("left",0),t.forEach(function(e){var t=this.itemViewForContentIndex(e),r,o;t&&(r=t.get("isSelected"),t.set("isSelected",NO),t.updateLayerIfNeeded(),o=t.get("layer"),o&&(o=o.cloneNode(!0)),t.set("isSelected",r),t.updateLayerIfNeeded()),o&&(n.appendChild(o),s=t.get("layout"),s.height+s.top>i&&(i=s.height+s.top)),o=null},this),r.set("layout",{height:i}),n=null,r},dragDataTypes:function(){var e=this.get("selectionDelegate"),t=e.collectionViewDragDataTypes(this),n;return this.get("canReorderContent")&&(t=t?t.copy():[],n=this.get("reorderDataType"),t.indexOf(n)<0&&t.push(n)),t?t:[]}.property(),dragDataForType:function(e,t){if(this.get("canReorderContent")&&t===this.get("reorderDataType"))return this.get("dragContent");var n=this.get("selectionDelegate");return n.collectionViewDragDataForType(this,e,t)},computeDragOperations:function(e,t){var n=SC.DRAG_NONE,r=this.get("selectionDelegate");return this.get("canReorderContent")&&e.get("dataTypes").indexOf(this.get("reorderDataType"))>=0&&(n=SC.DRAG_REORDER),n=r.collectionViewComputeDragOperations(this,e,n),n&SC.DRAG_REORDER&&(n=SC.DRAG_MOVE),n},_computeDropOperationState:function(e,t,n){var r=this.convertFrameFromView(e.get("location"),null),i=SC.DROP_BEFORE,s=this.get("selectionDelegate"),o=this.get("canReorderContent"),u,a,f,l,c,h,p=this.insertionIndexForLocation(r,SC.DROP_ON);SC.typeOf
(p)===SC.T_ARRAY&&(i=p[1],p=p[0]);if(i===SC.DROP_ON){this.set("proposedInsertionIndex",p),this.set("proposedDropOperation",i),h=s.collectionViewValidateDragOperation(this,e,n,p,i),p=this.get("proposedInsertionIndex"),i=this.get("proposedDropOperation"),this._dropInsertionIndex=this._dropOperation=null;if(h!==SC.DRAG_NONE)return[p,i,h];i=SC.DROP_BEFORE,p=this.insertionIndexForLocation(r,SC.DROP_BEFORE),SC.typeOf(p)===SC.T_ARRAY&&(i=p[1],p=p[0])}if(p>=0&&o&&i!==SC.DROP_ON){u=e.dataForType(this.get("reorderDataType"));if(u){a=this.get("content"),i===SC.DROP_BEFORE?(f=u.indexes.contains(p-1),l=u.indexes.contains(p)):(f=u.indexes.contains(p),l=u.indexes.contains(p-1));if(f&&l)if(SC.none(this._lastInsertionIndex))if(i===SC.DROP_BEFORE)while(p>=0&&u.indexes.contains(p))p--;else{c=a?a.get("length"):0;while(p<c&&u.indexes.contains(p))p++}else p=this._lastInsertionIndex;p>=0&&(n=SC.DRAG_REORDER)}}return this.set("proposedInsertionIndex",p),this.set("proposedDropOperation",i),n=s.collectionViewValidateDragOperation(this,e,n,p,i),p=this.get("proposedInsertionIndex"),i=this.get("proposedDropOperation"),this._dropInsertionIndex=this._dropOperation=null,[p,i,n]},dragUpdated:function(e,t){var n=e.get("allowedDragOperations"),r=this._computeDropOperationState(e,t,n),i=r[0],s=r[1],o=r[2];if(o!==SC.DRAG_NONE){if(this._lastInsertionIndex!==i||this._lastDropOperation!==s){var u=this.itemViewForContentIndex(i);this.showInsertionPoint(u,s)}this._lastInsertionIndex=i,this._lastDropOperation=s}else this.hideInsertionPoint(),this._lastInsertionIndex=this._lastDropOperation=null;return o&SC.DRAG_REORDER?
SC.DRAG_MOVE:o},dragExited:function(){this.hideInsertionPoint(),this._lastInsertionIndex=this._lastDropOperation=null},acceptDragOperation:function(e,t){return YES},performDragOperation:function(e,t){var n=this._computeDropOperationState(e,null,t),r=n[0],i=n[1],s=n[2],o=this.get("selectionDelegate"),u,a,f,l,c,h;s&SC.DRAG_REORDER?t=t&SC.DRAG_MOVE?SC.DRAG_REORDER:SC.DRAG_NONE:t&=s;if(t===SC.DRAG_NONE)return t;u=o.collectionViewPerformDragOperation(this,e,t,r,i);if(u===SC.DRAG_NONE&&t&SC.DRAG_REORDER){f=e.dataForType(this.get("reorderDataType"));if(!f)return SC.DRAG_NONE;l=this.get("content"),h=f.indexes;if(h.get("length")===1&&(i===SC.DROP_BEFORE||i===SC.DROP_AFTER)&&h.get("min")===r)return SC.DRAG_MOVE;l.beginPropertyChanges(),a=[],c=0,f.indexes.forEach(function(e){a.push(l.objectAt(e-c)),l.removeAt(e-c),c++,e<r&&r--},this),i===SC.DROP_AFTER&&r++,l.replace(r,0,a,i),this.select(SC.IndexSet.create(r,a.length)),l.endPropertyChanges(),t=SC.DRAG_MOVE}return t},collectionViewShouldBeginDrag:function(e){return this.get("canReorderContent")},insertionIndexForLocation:function(e,t){return-1},_cv_isVisibleInWindowDidChange:function(){this.get("isVisibleInWindow")&&(this._invalidIndexes&&this.invokeOnce(this.reloadIfNeeded),this._invalidSelection&&this.invokeOnce(this.reloadSelectionIndexesIfNeeded))}.observes("isVisibleInWindow"),collectionViewShouldSelectItem:function(e,t){return this.get("isSelectable")},_TMP_DIFF1:SC.IndexSet.create(),_TMP_DIFF2:SC.IndexSet.create(),_cv_nowShowingDidChange:function(){var e=this.get("nowShowing"),t=this._sccv_lastNowShowing,n,r,i;t!==e&&(t&&e?(r=this
._TMP_DIFF1.add(t).remove(e),i=this._TMP_DIFF2.add(e).remove(t),n=r.add(i)):n=t||e),n&&n.get("length")>0&&(this._sccv_lastNowShowing=e?e.frozenCopy():null,this.updateContentRangeObserver(),this.reload(n)),r&&r.clear(),i&&i.clear()}.observes("nowShowing"),init:function(){arguments.callee.base.apply(this,arguments),this.useFastPath&&this.mixin(SC.CollectionFastPath),this.get("canReorderContent")&&this._cv_canReorderContentDidChange(),this._sccv_lastNowShowing=this.get("nowShowing").clone(),this.content&&this._cv_contentDidChange(),this.selection&&this._cv_selectionDidChange()},_cv_canReorderContentDidChange:function(){this.get("canReorderContent")&&(this.get("isDropTarget")||this.set("isDropTarget",YES),SC.Drag.addDropTarget(this))}.observes("canReorderContent"),_cv_performSelectAction:function(e,t,n,r){var i;n===undefined&&(n=0),r===undefined&&(r=1);if(r>1||this.get("actOnSelect"))this._cv_reselectTimer&&this._cv_reselectTimer.invalidate(),i=this.get("selection"),i=i?i.toArray():[],this._cv_actionTimer&&this._cv_actionTimer.invalidate(),this._cv_actionTimer=this.invokeLater(this._cv_action,n,e,t,i)},_cv_action:function(e,t,n){var r=this.get("action"),i=this.get("target")||null;this._cv_actionTimer=null;if(r){if(SC.typeOf(r)===SC.T_FUNCTION)return this.action(e,t);var s=this.get("pane");s&&s.rootResponder.sendAction(r,i,this,s,n)}else{if(!e)return;if(SC.typeOf(e._action)==SC.T_FUNCTION)return e._action(t);if(SC.typeOf(e.action)==SC.T_FUNCTION)return e.action(t)}}}),SC.DateFieldView=SC.TextFieldView.extend({value:null,showDate:YES,showTime:NO,formatTime:"%I:%M %p",formatDate:"%d/%m/%Y"
,formatDateTime:"%d/%m/%Y %I:%M %p",_dtConstants:["%a","%b","%d","%H","%I","%j","%m","%M","%p","%S","%U","%W","%y","%Y"],_wtConstants:[3,3,2,2,2,3,2,2,2,2,2,2,2,4],activeSelection:0,format:function(){var e=this.get("showTime"),t=this.get("showDate");return e===YES&&t===YES?this.get("formatDateTime"):e===YES?this.get("formatTime"):this.get("formatDate")}.property("showTime","showDate").cacheable(),validator:function(){return SC.Validator.DateTime.extend({format:this.get("format")})}.property("format").cacheable(),tabsSelections:function(){var e=[],t=this.get("format"),n=this.get("_dtConstants"),r=this.get("_wtConstants");if(SC.empty(t))throw"The format string is empty, and must be a valid string.";var i,s,o,u=0,a=0,f=0;while(u<t.length&&t.indexOf("%",u)!==-1){i=t.indexOf("%",u),s=t.substring(i,i+2),u=i+2,o=n.indexOf(s);if(o===-1)throw"SC.DateFieldView: The format's key '%@' is not supported.".fmt(s);a=a+i-f,e.push(SC.Object.create({key:s,textSelection:SC.TextSelection.create({start:a,end:a+r[o]})})),a+=r[o],f=u}return i=s=o=null,e}.property("format").cacheable(),updateTextSelectionObserver:function(){var e=this.get("activeSelection"),t=this.get("tabsSelections");this.get("isEditing")&&this.selection(null,t[e].get("textSelection"))}.observes("activeSelection","value"),updateValue:function(e,t){var n=t===0?-1:1,r=this.get("value"),i;switch(e){case"%a":case"%d":case"%j":this.set("value",r.advance({day:n}));break;case"%b":case"%m":this.set("value",r.advance({month:n}));break;case"%H":case"%I":this.set("value",r.advance({hour:n}));break;case"%M":this.set("value",r.advance({minute:
n}));break;case"%p":i=r.get("hour")>=12?-12:12,this.set("value",r.advance({hour:i}));break;case"%S":this.set("value",r.advance({second:n}));break;case"%U":this.set("value",r.advance({week1:n}));break;case"%W":this.set("value",r.advance({week0:n}));break;case"%y":case"%Y":this.set("value",r.advance({year:n}))}},_selectRootElement:function(){},keyDown:function(e){return this.interpretKeyEvents(e)?(e.stop(),YES):arguments.callee.base.apply(this,arguments)},ctrl_a:function(){return YES},moveUp:function(e){var t=this.get("activeSelection"),n=this.get("tabsSelections");return this.updateValue(n[t].get("key"),1),YES},moveDown:function(e){var t=this.get("activeSelection"),n=this.get("tabsSelections");return this.updateValue(n[t].get("key"),0),YES},insertText:function(e){return YES},moveRight:function(e){var t=this.get("tabsSelections"),n=this.get("activeSelection")+1;return n===t.length&&(n=0),this.set("activeSelection",n),YES},moveLeft:function(e){var t=this.get("tabsSelections"),n=this.get("activeSelection")-1;return n===-1&&(n=t.length-1),this.set("activeSelection",n),YES},insertTab:function(e){var t=this.get("tabsSelections"),n=this.get("activeSelection")+1;return n<t.length?(this.set("activeSelection",n),YES):NO},insertBacktab:function(e){var t=this.get("activeSelection")-1;return t!==-1?(this.set("activeSelection",t),YES):NO},mouseUp:function(e){var t=arguments.callee.base.apply(this,arguments),n=this.get("selection");if(SC.none(n))this.set("activeSelection",0);else{var r=n.get("start"),i=this.get("tabsSelections"),s=i.length,o;for(var u=0;u<s;u++)o=i[u].get("textSelection"),r>=
o.get("start")&&r<=o.get("end")&&this.set("activeSelection",u)}return t},deleteBackward:function(e){return YES},deleteForward:function(e){return YES}}),SC.DisclosureView=SC.ButtonView.extend({classNames:["sc-disclosure-view"],renderDelegateName:"disclosureRenderDelegate",buttonBehavior:SC.TOGGLE_BEHAVIOR,toggleOnValue:YES,toggleOffValue:NO,valueBindingDefault:SC.Binding.bool(),keyDown:function(e){if(e.which===37||e.which===38)return this.set("value",this.get("toggleOffValue")),YES;if(e.which===39||e.which===40)return this.set("value",this.get("toggleOnValue")),YES;arguments.callee.base.apply(this,arguments)}}),SC.ListView=SC.CollectionView.extend(SC.CollectionRowDelegate,{classNames:["sc-list-view"],acceptsFirstResponder:YES,showAlternatingRows:NO,render:function(e,t){return e.setClass("alternating",this.get("showAlternatingRows")),arguments.callee.base.apply(this,arguments)},rowDelegate:function(){var e=this.delegate,t=this.get("content");return this.delegateFor("isCollectionRowDelegate",e,t)}.property("delegate","content").cacheable(),_sclv_rowDelegateDidChange:function(){var e=this._sclv_rowDelegate,t=this.get("rowDelegate"),n=this._sclv_rowHeightDidChange,r=this._sclv_customRowHeightIndexesDidChange;if(e===t)return this;this._sclv_rowDelegate=t,e&&(e.removeObserver("rowHeight",this,n),e.removeObserver("customRowHeightIndexes",this,r));if(!t)throw"Internal Inconsistancy: ListView must always have CollectionRowDelegate";return t.addObserver("rowHeight",this,n),t.addObserver("customRowHeightIndexes",this,r),this._sclv_rowHeightDidChange()._sclv_customRowHeightIndexesDidChange
(),this}.observes("rowDelegate"),_sclv_rowHeightDidChange:function(){var e=this.get("rowDelegate"),t=e.get("rowHeight"),n;return t===this._sclv_rowHeight?this:(this._sclv_rowHeight=t,n=SC.IndexSet.create(0,this.get("length")),this.rowHeightDidChangeForIndexes(n),this)},_sclv_customRowHeightIndexesDidChange:function(){var e=this.get("rowDelegate"),t=e.get("customRowHeightIndexes"),n=this._sclv_customRowHeightIndexes,r=this._sclv_customRowHeightIndexesContentDidChange;return t===n||n&&n.isEqual(t)?this:(n&&this._sclv_isObservingCustomRowHeightIndexes&&n.removeObserver("[]",this,r),(this._sclv_isObservingCustomRowHeightIndexes=t&&!t.get("isFrozen"))&&t.addObserver("[]",this,r),this._sclv_customRowHeightIndexesContentDidChange(),this)},_sclv_customRowHeightIndexesContentDidChange:function(){var e=this.get("rowDelegate"),t=e.get("customRowHeightIndexes"),n=this._sclv_customRowHeightIndexes,r;return t&&n?r=t.copy().add(n):r=t||n,this._sclv_customRowHeightIndexes=t?t.frozenCopy():null,this.rowHeightDidChangeForIndexes(r),this},rowOffsetForContentIndex:function(e){if(e===0)return 0;var t=this.get("rowDelegate"),n=t.get("rowHeight"),r,i,s,o,u,a,f;return i=e*n,r=this.get("rowSpacing"),r&&(i+=e*r),t.customRowHeightIndexes&&(s=t.get("customRowHeightIndexes"))&&(o=this._sclv_offsetCache,o||(o=[],u=a=0,s.forEach(function(e){u+=this.rowHeightForContentIndex(e)-n,o[e+1]=u,a=e},this),this._sclv_max=a+1,this._sclv_offsetCache=o),u=o[e],u===undefined&&(u=o[e]=o[e-1],u===undefined&&(a=this._sclv_max,e<a&&(a=s.indexBefore(e)+1),u=o[e]=o[a]||0)),i+=u),i},rowHeightForContentIndex:function(e){var t=
this.get("rowDelegate"),n,r,i,s;return t.customRowHeightIndexes&&(s=t.get("customRowHeightIndexes"))?(r=this._sclv_heightCache,r||(r=[],i=this.get("content"),s.forEach(function(e){r[e]=t.contentIndexRowHeight(this,i,e)},this),this._sclv_heightCache=r),n=r[e],n===undefined&&(n=t.get("rowHeight"))):n=t.get("rowHeight"),n},rowHeightDidChangeForIndexes:function(e){var t=this.get("length");return this._sclv_heightCache=this._sclv_offsetCache=null,e&&e.isIndexSet&&(e=e.get("min")),this.reload(SC.IndexSet.create(e,t-e)),this},_sclv_lengthDidChange:function(){this.adjust(this.computeLayout())}.observes("length"),computeLayout:function(){var e=this._sclv_layout;return e||(e=this._sclv_layout={}),e.minHeight=this.rowOffsetForContentIndex(this.get("length")),this.set("calculatedHeight",e.minHeight),e},layoutForContentIndex:function(e){var t=this.get("rowDelegate");return{top:this.rowOffsetForContentIndex(e),height:this.rowHeightForContentIndex(e)-t.get("rowPadding")*2,left:0,right:0}},contentIndexesInRect:function(e){var t=this.get("rowDelegate").get("rowHeight"),n=SC.minY(e),r=SC.maxY(e),i=e.height||0,s=this.get("length"),o,u,a;u=(n-n%t)/t,o=this.rowOffsetForContentIndex(u);while(u>0&&o>n)u--,o-=this.rowHeightForContentIndex(u);o+=this.rowHeightForContentIndex(u);while(u<s&&o<=n)u++,o+=this.rowHeightForContentIndex(u);u<0&&(u=0),u>=s&&(u=s),a=u+(i-i%t)/t,a>s&&(a=s),o=this.rowOffsetForContentIndex(a);while(a>=u&&o>=r)a--,o-=this.rowHeightForContentIndex(a);o+=this.rowHeightForContentIndex(a);while(a<s&&o<r)a++,o+=this.rowHeightForContentIndex(a);return a++,a<u&&(a=u),a>s&&(a=s),SC.IndexSet
.create(u,a-u)},insertionPointView:SC.View.extend({classNames:"sc-list-insertion-point",render:function(e,t){t&&e.push('<div class="anchor"></div>')}}),showInsertionPoint:function(e,t){var n=this._insertionPointView;n||(n=this._insertionPointView=this.get("insertionPointView").create());var r=e.get("contentIndex"),i=this.get("length"),s=SC.clone(e.get("layout")),o=e.get("outlineLevel"),u=e.get("outlineIndent")||0,a;r>=i&&r>0&&(a=this.itemViewForContentIndex(i-1),a.get("isGroupView")&&(o=1,u=a.get("outlineIndent"))),SC.none(o)&&(o=-1),t&SC.DROP_ON?(this.hideInsertionPoint(),e.set("isSelected",YES),this._lastDropOnView=e):(this._lastDropOnView&&(this._lastDropOnView.set("isSelected",NO),this._lastDropOnView=null),t&SC.DROP_AFTER&&(s.top+=s.height),s.height=2,s.right=0,s.left=(o+1)*u+12,delete s.width,n.set("layout",s),this.appendChild(n))},hideInsertionPoint:function(){this._lastDropOnView&&(this._lastDropOnView.set("isSelected",NO),this._lastDropOnView=null);var e=this._insertionPointView;e&&e.removeFromParent().destroy(),this._insertionPointView=null},insertionIndexForLocation:function(e,t){var n={x:e.x,y:e.y,width:1,height:1},r=this.contentIndexesInRect(n),i=r.get("min"),s=this.get("length"),o,u,a,f,l,c,h,p,d;if(SC.none(i)||i<0)s===0||e.y<=this.rowOffsetForContentIndex(0)?i=0:e.y>=this.rowOffsetForContentIndex(s)&&(i=s);o=this.rowOffsetForContentIndex(i),u=o+this.rowHeightForContentIndex(i);if(t==SC.DROP_ON){this.get("isEditable")?a=Math.min(Math.floor((u-o)*.2),5):a=0;if(e.y>=o+a||e.y<=u+a)return[i,SC.DROP_ON]}i>0&&(p=this.itemViewForContentIndex(i-1),h=(p?p.get("outlineIndent"
):0)||0,c=p?p.get("outlineLevel"):0,i<s?(p=this.itemViewForContentIndex(i),f=p?p.get("outlineLevel"):0,l=(p?p.get("outlineIndent"):0)||0,l*=f):(f=p.get("isGroupView")?1:0,l=h*f),h*=c,f!==c&&l!==h&&h>l&&(i--,t=SC.DROP_AFTER));if(t===SC.DROP_BEFORE){p=i<s?this.itemViewForContentIndex(i):null;if(!p||p.get("isGroupView"))i>0?(p=this.itemViewForContentIndex(i-1),!p.get("isGroupView")||p.get("disclosureState")===SC.BRANCH_OPEN?(i-=1,t=SC.DROP_AFTER):i=-1):i=-1;i<0&&(t=SC.DRAG_NONE)}return[i,t]},mouseWheel:function(e){var t=SC.InlineTextFieldView.editor;return t&&t.get("isEditing")&&t.get("delegate").get("displayDelegate")===this&&SC.InlineTextFieldView.commitEditing(),NO},init:function(){arguments.callee.base.apply(this,arguments),this._sclv_rowDelegateDidChange()}}),SC.GridView=SC.ListView.extend({classNames:["sc-grid-view"],layout:{left:0,right:0,top:0,bottom:0},rowHeight:48,columnWidth:64,exampleView:SC.LabelView,insertionOrientation:SC.HORIZONTAL_ORIENTATION,itemsPerRow:function(){var e=this.get("frame"),t=this.get("columnWidth")||0;return t<=0?1:Math.floor(e.width/t)}.property("clippingFrame","columnWidth").cacheable(),contentIndexesInRect:function(e){var t=this.get("rowHeight")||48,n=this.get("itemsPerRow"),r=Math.floor(SC.minY(e)/t)*n,i=Math.ceil(SC.maxY(e)/t)*n;return SC.IndexSet.create(r,i-r)},layoutForContentIndex:function(e){var t=this.get("rowHeight")||48,n=this.get("clippingFrame").width,r=this.get("itemsPerRow"),i=Math.floor(n/r),s=Math.floor(e/r),o=e-r*s;return{left:o*i,top:s*t,height:t,width:i}},computeLayout:function(){var e=this.get("content"),t=e?e.get("length")
:0,n=this.get("rowHeight")||48,r=this.get("itemsPerRow"),i=Math.ceil(t/r),s=this._cachedLayoutHash;return s||(s=this._cachedLayoutHash={}),s.minHeight=i*n,this.calculatedHeight=s.minHeight,s},insertionPointClass:SC.View.extend({classNames:["grid-insertion-point"],render:function(e,t){t&&e.push('<span class="anchor"></span>')}}),showInsertionPoint:function(e,t){if(!e)return;if(t===SC.DROP_ON)e!==this._dropOnInsertionPoint&&(this.hideInsertionPoint(),this._dropOnInsertionPoint=e);else{this._dropOnInsertionPoint&&(this._dropOnInsertionPoint=null),this._insertionPointView||(this._insertionPointView=this.insertionPointClass.create());var n=this._insertionPointView,r=e.get("frame"),i={height:r.height-6,x:r.x,y:r.y+6,width:0};SC.rectsEqual(n.get("frame"),i)||n.set("frame",i),n.parentNode!==e.parentNode&&e.parentNode.appendChild(n)}},hideInsertionPoint:function(){var e=this._insertionPointView;e&&e.removeFromParent(),this._dropOnInsertionPoint&&(this._dropOnInsertionPoint=null)},insertionIndexForLocation:function(e,t){var n=this.get("frame"),r=this.get("clippingFrame"),i=this.get("itemsPerRow"),s=Math.floor(n.width/i),o=Math.floor((e.y-n.y-r.y)/this.get("rowHeight")),u=SC.DROP_BEFORE,a=e.x-n.x-r.x,f=Math.floor(a/s),l=a/s-f;t===SC.DROP_ON?(l>.8&&f++,l>=.2&&l<=.8&&(u=SC.DROP_ON)):l>.45&&f++;var c=o*i+f;return[c,u]},_gv_clippingFrameDidChange:function(){var e=this.get("nowShowing"),t,n,r;this.notifyPropertyChange("itemsPerRow"),r=e.get("length");for(n=0;n<r;n++)t=this.itemViewForContentIndex(n),t.adjust(this.layoutForContentIndex(n))}.observes("clippingFrame")}),SC.ImageButtonView=SC.ButtonView
.extend({classNames:["sc-image-button-view"],themeName:null,renderDelegateName:"imageButtonRenderDelegate",displayProperties:["image"],image:null}),SC.ANCHOR_TOP={top:0},SC.ANCHOR_LEFT={left:0},SC.ANCHOR_TOP_LEFT={top:0,left:0},SC.ANCHOR_BOTTOM={bottom:0},SC.ANCHOR_RIGHT={right:0},SC.ANCHOR_BOTTOM_RIGHT={bottom:0,right:0},SC.ToolbarView=SC.View.extend({classNames:["sc-toolbar-view"],ariaRole:"toolbar",renderDelegateName:"toolbarRenderDelegate",anchorLocation:null,layout:{left:0,height:32,right:0},init:function(){this.anchorLocation&&(this.layout=SC.merge(this.layout,this.anchorLocation)),arguments.callee.base.apply(this,arguments)}}),SC.WorkspaceView=SC.View.extend({classNames:["sc-workspace-view"],displayProperties:["hasTopToolbar","hasBottomToolbar"],renderDelegateName:"workspaceRenderDelegate",topToolbar:SC.ToolbarView.extend(),bottomToolbar:null,contentView:SC.View.extend(),autoResizeToolbars:NO,defaultToolbarSize:44,largeToolbarSize:44,smallToolbarSize:30,toolbarSize:function(){return this.get("autoResizeToolbars")?this.get("orientation")===SC.HORIZONTAL_ORIENTATION?this.get("smallToolbarSize"):this.get("largeToolbarSize"):this.get("defaultToolbarSize")}.property("autoHideMaster","orientation"),orientation:function(){var e=this.get("frame");return e.width>e.height?SC.HORIZONTAL_ORIENTATION:SC.VERTICAL_ORIENTATION}.property("frame").cacheable(),masterIsHidden:NO,masterIsHiddenDidChange:function(){var e,t=this.get("masterIsHidden");(e=this.get("topToolbar"))&&e.set("masterIsHidden",t),(e=this.get("bottomToolbar"))&&e.set("masterIsHidden",t)}.observes("masterIsHidden"),_scmd_tilePropertyDidChange
:function(){this.invokeOnce("_scws_tile")}.observes("toolbarSize"),createChildViews:function(){arguments.callee.base.apply(this,arguments);var e=this.get("topToolbar");e&&(e=this.topToolbar=this.activeTopToolbar=this.createChildView(e),this.appendChild(e));var t=this.get("bottomToolbar");t&&(t=this.bottomToolbar=this.activeBottomToolbar=this.createChildView(t),this.appendChild(t));var n=this.get("contentView");n=this.contentView=this.activeContentView=this.createChildView(n),this.appendChild(n),this.invokeOnce("_scws_tile")},_scws_tile:function(){var e=0,t=0,n=this.get("topToolbar"),r=this.get("bottomToolbar"),i=this.get("contentView"),s=this.get("toolbarSize");n&&(n.set("layout",{left:0,right:0,top:0,height:s}),e+=s),r&&(r.set("layout",{left:0,right:0,bottom:0,height:s}),t+=s),this.contentView.set("layout",{left:0,right:0,top:e,bottom:t})},hasTopToolbar:function(){return this.get("topToolbar")?YES:NO}.property("topToolbar").cacheable(),hasBottomToolbar:function(){return this.get("bottomToolbar")?YES:NO}.property("bottomToolbar").cacheable(),childDidChange:function(){this._scws_tile()},activeTopToolbar:null,activeBottomToolbar:null,activeContentView:null,topToolbarDidChange:function(){var e=this.activeTopToolbar,t=this.get("topToolbar");e&&this.removeChild(e),t&&this.appendChild(t),this.activeTopToolbar=t,this.invokeLast("childDidChange")}.observes("topToolbar"),bottomToolbarDidChange:function(){var e=this.activeBottomToolbar,t=this.get("bottomToolbar");e&&this.removeChild(e),t&&this.appendChild(t),this.activeBottomToolbar=t,this.invokeLast("childDidChange")}.observes("bottomToolbar"
),contentViewDidChange:function(){var e=this.activeContentView,t=this.get("contentView");e&&this.removeChild(e),t&&this.appendChild(t),this.activeContentView=t,this.invokeLast("childDidChange")}.observes("contentView")}),SC.MasterDetailView=SC.View.extend({classNames:["sc-master-detail-view"],renderDelegateName:"masterDetailRenderDelegate",masterView:SC.WorkspaceView.extend({topToolbar:SC.ToolbarView.extend({}),contentView:SC.View.extend({})}),detailView:SC.WorkspaceView.extend({topToolbar:SC.ToolbarView.extend({childViews:["showHidePicker"],showHidePicker:SC.ButtonView.extend({layout:{left:7,centerY:0,height:30,width:100},controlSize:SC.AUTO_CONTROL_SIZE,title:"Picker",action:"toggleMasterPicker",isVisible:NO,isVisibleBinding:".parentView.masterIsHidden"})})}),autoHideMaster:function(){return SC.platform.touch?YES:NO}.property().cacheable(),masterWidth:250,dividerWidth:SC.propertyFromRenderDelegate("dividerWidth",1),masterIsHidden:function(){return this.get("autoHideMaster")?this.get("orientation")===SC.HORIZONTAL_ORIENTATION?NO:YES:NO}.property("autoHideMaster","orientation"),orientation:SC.VERTICAL_ORIENTATION,_scmd_frameDidChange:function(){var e=this.get("frame"),t;e.width>e.height?t=SC.HORIZONTAL_ORIENTATION:t=SC.VERTICAL_ORIENTATION,this.setIfChanged("orientation",t)}.observes("frame"),init:function(){arguments.callee.base.apply(this,arguments),this._scmd_frameDidChange(),this._scmd_masterIsHiddenDidChange()},toggleMasterPicker:function(e){if(!this.get("masterIsHidden"))return;this._picker&&this._picker.get("isVisibleInWindow")?this.hideMasterPicker():this.showMasterPicker
(e)},showMasterPicker:function(e){if(this._picker&&this._picker.get("isVisibleInWindow"))return;if(!this._picker){var t=this.get("pickerPane");this._picker=t.create({})}this._picker.set("contentView",this.get("masterView")),this._picker.set("extraRightOffset",this.get("pointerDistanceFromEdge")),this.showPicker(this._picker,e)},hideMasterPicker:function(){this._picker&&this._picker.get("isVisibleInWindow")&&this.hidePicker(this._picker)},showPicker:function(e,t){e.popup(t,SC.PICKER_POINTER,[3,0,1,2,3],[9,-9,-18,18])},hidePicker:function(e){e.remove()},pickerPane:SC.PickerPane.extend({layout:{width:250,height:480},themeName:"popover"}),_picker:null,pointerDistanceFromEdge:46,_scmd_masterIsHiddenDidChange:function(){var e=this.get("masterIsHidden");this.get("masterView").set("masterIsHidden",e),this.get("detailView").set("masterIsHidden",e)}.observes("masterIsHidden"),_scmd_orientationDidChange:function(){this.invokeOnce("_scmd_tile")}.observes("orientation"),_scmd_retileProperties:function(){this.invokeOnce("_scmd_tile")}.observes("masterIsHidden","masterWidth"),createChildViews:function(){var e=this.get("masterView");e=this.masterView=this.createChildView(e);var t=this.get("detailView");t=this.detailView=this.createChildView(t),this.appendChild(t),this.invokeOnce("_scmd_tile")},_masterIsDrawn:NO,_scmd_tile:function(){var e=!this.get("masterIsHidden"),t=this.get("masterWidth"),n=this.get("masterView"),r=this.get("detailView");if(e){this.hideMasterPicker(),this._masterIsDrawn||(this._picker&&this._picker.set("contentView",null),this.appendChild(n),this._masterIsDrawn=YES),n.set
("layout",{left:0,top:0,bottom:0,width:t});var i=this.get("dividerWidth");r.set("layout",{left:t+i,right:0,top:0,bottom:0})}else this._masterIsDrawn&&(this.removeChild(n),this._masterIsDrawn=NO),r.set("layout",{left:0,right:0,top:0,bottom:0})}}),SC.ScrollerView=SC.View.extend({classNames:["sc-scroller-view"],displayProperties:["thumbPosition","thumbLength","isEnabled","controlsHidden"],ariaRole:"scrollbar",shouldScrollToClick:NO,_touchScrollValue:NO,value:function(e,t){var n=this.get("minimum");return t!==undefined&&(this._scs_value=t),t=this._scs_value||n,Math.max(Math.min(t,this.get("maximum")),n)}.property("maximum","minimum").cacheable(),displayValue:function(){var e;return this.get("_touchScrollValue")?e=this.get("_touchScrollValue"):e=this.get("value"),e}.property("value","_touchScrollValue").cacheable(),proportion:0,maximum:100,minimum:0,isEnabled:function(e,t){return t!==undefined&&(this._scsv_isEnabled=t),this._scsv_isEnabled!==undefined?this._scsv_isEnabled:this.get("proportion")<1}.property("proportion").cacheable(),_scsv_isEnabled:undefined,layoutDirection:SC.LAYOUT_VERTICAL,hasButtons:YES,scrollbarThickness:14,capLength:18,capOverlap:14,buttonLength:41,buttonOverlap:11,minimumThumbLength:20,_classNames:{},render:function(e,t){var n=this._classNames,r="",i=this.get("parentView"),s=this.get("layoutDirection"),o,u,a,f,l,c,h,p,d;n["sc-vertical"]=s===SC.LAYOUT_VERTICAL,n["sc-horizontal"]=s===SC.LAYOUT_HORIZONTAL,n.disabled=!this.get("isEnabled"),n["controls-hidden"]=this.get("controlsHidden"),e.setClass(n),u=this.get("thumbLength"),o=this.get("thumbPosition");if(t)e.
push('<div class="track"></div>'),this.renderButtons(e,this.get("hasButtons")),this.renderThumb(e,s,u,o),e.attr("aria-orientation","vertical"),e.attr("aria-valuemax",this.get("maximum")),e.attr("aria-valuemin",this.get("minimum")),e.attr("aria-valuenow",this.get("value")),e.attr("aria-controls",i.getPath("contentView.layerId"));else{if(this.get("controlsHidden"))return;f=this.$(".thumb"),this.adjustThumb(f,o,u),e.attr("aria-valuenow",this.get("value"))}},renderThumb:function(e,t,n,r){var i;t===SC.LAYOUT_HORIZONTAL?i="width: "+n+"px; left: "+r+"px;":i="height: "+n+"px; top: "+r+"px;",e.push('<div class="thumb" style="%@">'.fmt(i),'<div class="thumb-center"></div></div>')},renderButtons:function(e,t){t&&e.push('<div class="button-bottom"></div><div class="button-top"></div>')},touchScrollDidStart:function(e){this.set("_touchScrollValue",e)},touchScrollDidEnd:function(e){this.set("_touchScrollValue",NO)},touchScrollDidChange:function(e){this.set("_touchScrollValue",e)},adjustThumb:function(e,t,n){this.adjustThumbPosition(e,t),this.adjustThumbSize(e,n)},adjustThumbPosition:function(e,t){if(this._thumbPosition===t)return;switch(this.get("layoutDirection")){case SC.LAYOUT_VERTICAL:e.css("top",t);break;case SC.LAYOUT_HORIZONTAL:e.css("left",t)}this._thumbPosition=t},adjustThumbSize:function(e,t){t=Math.max(t,this.get("minimumThumbLength"));if(this._thumbSize===t)return;switch(this.get("layoutDirection")){case SC.LAYOUT_VERTICAL:e.css("height",t);break;case SC.LAYOUT_HORIZONTAL:e.css("width",t)}this._thumbSize=t},trackLength:function(){var e=this.get("scrollerLength");return e-=this
.capLength-this.capOverlap,e-=this.buttonLength-this.buttonOverlap,e}.property("scrollerLength").cacheable(),scrollerLength:function(){switch(this.get("layoutDirection")){case SC.LAYOUT_VERTICAL:return this.get("frame").height;case SC.LAYOUT_HORIZONTAL:return this.get("frame").width}return 0}.property("frame").cacheable(),thumbLength:function(){var e;return e=Math.floor(this.get("trackLength")*this.get("proportion")),e=isNaN(e)?0:e,Math.max(e,this.get("minimumThumbLength"))}.property("trackLength","proportion").cacheable(),thumbPosition:function(){var e=this.get("displayValue"),t=this.get("maximum"),n=this.get("trackLength"),r=this.get("thumbLength"),i=this.get("capLength"),s=this.get("capOverlap"),o;return o=e/t*(n-r),o+=i-s,Math.floor(isNaN(o)?0:o)}.property("displayValue","maximum","trackLength","thumbLength").cacheable(),controlsHidden:function(){return this.get("proportion")>=1}.property("proportion").cacheable(),valueForPosition:function(e){var t=this.get("maximum"),n=this.get("trackLength"),r=this.get("thumbLength"),i=this.get("capLength"),s=this.get("capOverlap"),o;return o=e-(i-s),o/=n-r,o*=t,o},mouseDown:function(e){if(!this.get("isEnabled"))return NO;this._altIsDown=e.altKey,this._shiftIsDown=e.shiftKey;var t=e.target,n=this.get("thumbPosition"),r,i,s,o=this.get("scrollerLength");if(t.className.indexOf("thumb")>=0)i=this.convertFrameFromView({x:e.pageX,y:e.pageY}),i.x-=n,i.y-=n,this._thumbDragging=YES,this._thumbOffset=i,this._mouseDownLocation={x:e.pageX,y:e.pageY},this._thumbPositionAtDragStart=this.get("thumbPosition"),this._valueAtDragStart=this.get("value");else if(
t.className.indexOf("button-top")>=0)this.decrementProperty("value",this._altIsDown?o:30),this.makeButtonActive(".button-top"),this.startMouseDownTimer("scrollUp"),this._isScrollingUp=YES;else if(t.className.indexOf("button-bottom")>=0)this.incrementProperty("value",this._altIsDown?o:30),this.makeButtonActive(".button-bottom"),this.startMouseDownTimer("scrollDown"),this._isScrollingDown=YES;else{var u=this.get("shouldScrollToClick");e.altKey&&(u=!u);var a=this.get("trackLength"),f=this.get("thumbLength"),l=this.convertFrameFromView({x:e.pageX,y:e.pageY}),c;switch(this.get("layoutDirection")){case SC.LAYOUT_VERTICAL:this._mouseDownLocation=c=l.y;break;case SC.LAYOUT_HORIZONTAL:this._mouseDownLocation=c=l.x}u?(this.set("value",this.valueForPosition(c-f/2)),n=this.get("thumbPosition"),this._thumbDragging=YES,this._thumbOffset={x:l.x-n,y:l.y-n},this._mouseDownLocation={x:e.pageX,y:e.pageY},this._thumbPositionAtDragStart=n,this._valueAtDragStart=this.get("value")):c<n?(this.decrementProperty("value",o),this.startMouseDownTimer("page")):(this.incrementProperty("value",o),this.startMouseDownTimer("page"))}return YES},mouseUp:function(e){var t=this._scs_buttonActive,n=NO,r;return t&&(t.removeClass("active"),n=YES),r=this._mouseDownTimer,r&&(r.invalidate(),this._mouseDownTimer=null),this._thumbDragging=NO,this._isScrollingDown=NO,this._isScrollingUp=NO,n},mouseDragged:function(e){var t,n,r,i,s=e.target,o=this._thumbPositionAtDragStart,u=this._isScrollingUp,a=this._isScrollingDown,f=this._scs_buttonActive,l;if(this._thumbDragging){switch(this.get("layoutDirection")){case SC.LAYOUT_VERTICAL
:r=e.pageY-this._mouseDownLocation.y;break;case SC.LAYOUT_HORIZONTAL:r=e.pageX-this._mouseDownLocation.x}if(e.altKey){if(!this._altIsDown||this._shiftIsDown!==e.shiftKey)o=this._thumbPositionAtDragStart=o+r,r=0,this._mouseDownLocation={x:e.pageX,y:e.pageY},this._valueAtDragStart=this.get("value");e.shiftKey&&(r=-r),this.set("value",Math.round(this._valueAtDragStart+r*2))}else i=o+r,n=this.get("trackLength")-this.get("thumbLength"),this.set("value",Math.round(i/n*this.get("maximum")))}else if(u||a){var c=NO,h=NO,p=this.$(".button-top")[0].getBoundingClientRect(),d=this.$(".button-bottom")[0].getBoundingClientRect();switch(this.get("layoutDirection")){case SC.LAYOUT_VERTICAL:e.clientY<p.bottom?c=YES:h=YES;break;case SC.LAYOUT_HORIZONTAL:e.clientX<p.right?c=YES:h=YES}(c||h)&&c!==u&&(f&&f.removeClass("active"),this._mouseDownTimerAction=c?"scrollUp":"scrollDown",c?this.makeButtonActive(".button-top"):h&&this.makeButtonActive(".button-bottom"),this._isScrollingUp=c,this._isScrollingDown=h)}return this._altIsDown=e.altKey,this._shiftIsDown=e.shiftKey,YES},startMouseDownTimer:function(e,t){var n;this._mouseDownTimerAction=e,this._mouseDownTimer=SC.Timer.schedule({target:this,action:this.mouseDownTimerDidFire,interval:t?0:300})},mouseDownTimerDidFire:function(){var e=this.get("scrollerLength"),t=SC.device.get("mouseLocation"),n=this.get("thumbPosition"),r=this.get("thumbLength"),i=50;switch(this.get("layoutDirection")){case SC.LAYOUT_VERTICAL:t=this.convertFrameFromView(t).y;break;case SC.LAYOUT_HORIZONTAL:t=this.convertFrameFromView(t).x}switch(this._mouseDownTimerAction){case"scrollDown"
:this.incrementProperty("value",this._altIsDown?e:30);break;case"scrollUp":this.decrementProperty("value",this._altIsDown?e:30);break;case"page":i=150,t<n?this.decrementProperty("value",e):t>n+r&&this.incrementProperty("value",e)}this._mouseDownTimer=SC.Timer.schedule({target:this,action:this.mouseDownTimerDidFire,interval:i})},makeButtonActive:function(e){this._scs_buttonActive=this.$(e).addClass("active")}}),SC.TouchScrollerView=SC.ScrollerView.extend({classNames:["sc-touch-scroller-view"],scrollbarThickness:12,capLength:5,capOverlap:0,hasButtons:NO,buttonOverlap:36,adjustThumb:function(e,t,n){var r=this.$(".thumb-inner"),i=this.get("scrollerLength"),s=this.get("minimum");t+n>i&&(t=Math.min(i-20,t),n=i-t),t<s&&(n-=s-t,t=s);switch(this.get("layoutDirection")){case SC.LAYOUT_VERTICAL:this._thumbPosition!==t&&e.css("-webkit-transform","translate3d(0px,"+t+"px,0px)"),this._thumbSize!==n&&r.css("-webkit-transform","translate3d(0px,"+Math.round(n-1044)+"px,0px)");break;case SC.LAYOUT_HORIZONTAL:this._thumbPosition!==t&&e.css("-webkit-transform","translate3d("+t+"px,0px,0px)"),this._thumbSize!==n&&r.css("-webkit-transform","translate3d("+Math.round(n-1044)+"px,0px,0px)")}this._thumbPosition=t,this._thumbSize=n},render:function(e,t){var n=this._classNames,r=this.get("layoutDirection"),i,s,o,u,a,f,l,c,h;n["sc-vertical"]=r===SC.LAYOUT_VERTICAL,n["sc-horizontal"]=r===SC.LAYOUT_HORIZONTAL,n.disabled=!this.get("isEnabled"),n["controls-hidden"]=this.get("controlsHidden"),e.setClass(n),s=this.get("thumbLength"),i=this.get("thumbPosition");if(t)e.push('<div class="track"></div>'),this.renderButtons
(e,this.get("hasButtons")),this.renderThumb(e,this.get("layoutDirection"),s);else{if(this.get("controlsHidden"))return;u=this.$(".thumb"),this.adjustThumb(u,i,s)}},renderThumb:function(e,t,n){n-=1044,t=t===SC.LAYOUT_HORIZONTAL?"X":"Y",e.push('<div class="thumb"><div class="thumb-top"></div><div class="thumb-clip">'+'<div class="thumb-inner" style="-webkit-transform: translate%@(%@px);">'.fmt(t,n)+'<div class="thumb-center"></div>'+'<div class="thumb-bottom"></div></div></div></div>')}}),SC.NORMAL_SCROLL_DECELERATION=.95,SC.FAST_SCROLL_DECELERATION=.85,SC.ScrollView=SC.View.extend({classNames:["sc-scroll-view"],isScrollable:YES,contentView:null,horizontalAlign:SC.ALIGN_LEFT,verticalAlign:SC.ALIGN_TOP,horizontalScrollOffset:function(e,t){if(t!==undefined){var n=this.minimumHorizontalScrollOffset(),r=this.get("maximumHorizontalScrollOffset");this._scroll_horizontalScrollOffset=Math.max(n,Math.min(r,t)),this.childViews&&this.horizontalScrollerView&&this.horizontalScrollerView.isObject&&this.horizontalScrollerView.set("value",this._scroll_horizontalScrollOffset||0)}return this._scroll_horizontalScrollOffset||0}.property().cacheable(),verticalScrollOffset:function(e,t){if(t!==undefined){var n=this.get("minimumVerticalScrollOffset"),r=this.get("maximumVerticalScrollOffset");this._scroll_verticalScrollOffset=Math.max(n,Math.min(r,t)),this.childViews&&this.verticalScrollerView&&this.verticalScrollerView.isObject&&this.verticalScrollerView.set("value",this._scroll_verticalScrollOffset||0)}return this._scroll_verticalScrollOffset||0}.property().cacheable(),maximumScrollOffset:function(
e,t,n){return e>=t?e-t:n===SC.ALIGN_LEFT||n===SC.ALIGN_TOP?0:n===SC.ALIGN_MIDDLE||n===SC.ALIGN_CENTER?0-Math.round((t-e)/2):0-(t-e)},minimumScrollOffset:function(e,t,n){return e>t?0:n===SC.ALIGN_LEFT||n===SC.ALIGN_TOP?0:n===SC.ALIGN_MIDDLE||n===SC.ALIGN_CENTER?0-Math.round((t-e)/2):0-(t-e)},maximumHorizontalScrollOffset:function(){var e=this.get("contentView"),t=e?e.get("frame").width:0,n=e?e.get("calculatedWidth"):0;n&&(t=e.calculatedWidth),t*=this._scale;var r=this.get("containerView").get("frame").width;return this.get("canScrollHorizontal")||(t=Math.min(t,r)),this.maximumScrollOffset(t,r,this.get("horizontalAlign"))}.property(),maximumVerticalScrollOffset:function(){var e=this.get("contentView"),t=e&&e.get("frame")?e.get("frame").height:0,n=e?e.get("calculatedHeight"):0;n&&(t=n),t*=this._scale;var r=this.get("containerView").get("frame").height;return this.get("canScrollVertical")||(t=Math.min(t,r)),this.maximumScrollOffset(t,r,this.get("verticalAlign"))}.property(),minimumHorizontalScrollOffset:function(){var e=this.get("contentView"),t=e?e.get("frame").width:0,n=e?e.get("calculatedWidth"):0;n&&(t=n),t*=this._scale;var r=this.get("containerView").get("frame").width;return this.get("canScrollHorizontal")||(t=Math.min(t,r)),this.minimumScrollOffset(t,r,this.get("horizontalAlign"))}.property(),minimumVerticalScrollOffset:function(){var e=this.get("contentView"),t=e&&e.get("frame")?e.get("frame").height:0,n=e?e.get("calculatedHeight"):0;n&&(t=e.calculatedHeight),t*=this._scale;var r=this.get("containerView").get("frame").height;return this.get("canScrollVertical")||(t=Math.
min(t,r)),this.minimumScrollOffset(t,r,this.get("verticalAlign"))}.property(),verticalLineScroll:20,horizontalLineScroll:20,verticalPageScroll:function(){return this.get("frame").height}.property("frame"),horizontalPageScroll:function(){return this.get("frame").width}.property("frame"),hasHorizontalScroller:YES,horizontalScrollerView:SC.ScrollerView,horizontalTouchScrollerView:SC.TouchScrollerView,isHorizontalScrollerVisible:YES,canScrollHorizontal:function(){return!!(this.get("hasHorizontalScroller")&&this.get("horizontalScrollerView")&&this.get("isHorizontalScrollerVisible"))}.property("isHorizontalScrollerVisible").cacheable(),autohidesHorizontalScroller:YES,hasVerticalScroller:YES,verticalScrollerView:SC.ScrollerView,verticalTouchScrollerView:SC.TouchScrollerView,isVerticalScrollerVisible:YES,canScrollVertical:function(){return!!(this.get("hasVerticalScroller")&&this.get("verticalScrollerView")&&this.get("isVerticalScrollerVisible"))}.property("isVerticalScrollerVisible").cacheable(),autohidesVerticalScroller:YES,verticalScrollerBottom:0,verticalOverlay:function(){return SC.platform.touch?YES:NO}.property().cacheable(),horizontalOverlay:function(){return SC.platform.touch?YES:NO}.property().cacheable(),verticalScrollerLayout:null,horizontalScrollerLayout:null,containerView:SC.ContainerView.extend({}),scrollTo:function(e,t){return t===undefined&&SC.typeOf(e)===SC.T_HASH&&(t=e.y,e=e.x),SC.none(e)||this.set("horizontalScrollOffset",e),SC.none(t)||this.set("verticalScrollOffset",t),this},scrollBy:function(e,t){return t===undefined&&SC.typeOf(e)===SC.T_HASH&&(t=e.y,e=e.x),e=e?
this.get("horizontalScrollOffset")+e:null,t=t?this.get("verticalScrollOffset")+t:null,this.scrollTo(e,t)},scrollToVisible:function(e){if(arguments.length===0)return arguments.callee.base.apply(this,arguments);var t=this.get("contentView");if(!t)return NO;var n=e.get("frame");return n?(n=t.convertFrameFromView(n,e.get("parentView")),this.scrollToRect(n)):NO},scrollToRect:function(e){var t=SC.cloneRect(this.get("containerView").get("frame"));t.x=this.get("horizontalScrollOffset"),t.y=this.get("verticalScrollOffset");var n=t.x,r=t.y;return t.y-=Math.max(0,SC.minY(t)-SC.minY(e)),t.x-=Math.max(0,SC.minX(t)-SC.minX(e)),t.y+=Math.max(0,SC.maxY(e)-SC.maxY(t)),t.x+=Math.max(0,SC.maxX(e)-SC.maxX(t)),n!==t.x||r!==t.y?(this.scrollTo(t.x,t.y),YES):NO},scrollDownLine:function(e){return e===undefined&&(e=1),this.scrollBy(null,this.get("verticalLineScroll")*e)},scrollUpLine:function(e){return e===undefined&&(e=1),this.scrollBy(null,0-this.get("verticalLineScroll")*e)},scrollRightLine:function(e){return e===undefined&&(e=1),this.scrollTo(this.get("horizontalLineScroll")*e,null)},scrollLeftLine:function(e){return e===undefined&&(e=1),this.scrollTo(0-this.get("horizontalLineScroll")*e,null)},scrollDownPage:function(e){return e===undefined&&(e=1),this.scrollBy(null,this.get("verticalPageScroll")*e)},scrollUpPage:function(e){return e===undefined&&(e=1),this.scrollBy(null,0-this.get("verticalPageScroll")*e)},scrollRightPage:function(e){return e===undefined&&(e=1),this.scrollBy(this.get("horizontalPageScroll")*e,null)},scrollLeftPage:function(e){return e===undefined&&(e=1),this.scrollBy(0-this.get
("horizontalPageScroll")*e,null)},tile:function(){var e=this.get("hasHorizontalScroller")?this.get("horizontalScrollerView"):null,t=e&&this.get("isHorizontalScrollerVisible"),n=this.get("hasVerticalScroller")?this.get("verticalScrollerView"):null,r=n&&this.get("isVerticalScrollerVisible"),i=this.get("containerView"),s={left:0,top:0},o,u,a,f,l,c,h=t?e.get("scrollbarThickness"):0,p=r?n.get("scrollbarThickness"):0;t?(c=this.get("horizontalScrollerLayout"),u={left:c?c.left:0,bottom:c?c.bottom:0,right:c?c.right+p-1:p-1,height:h},e.set("layout",u),f=this.get("horizontalOverlay"),s.bottom=f?0:u.bottom+h):s.bottom=0,e&&e.set("isVisible",t),r?(h+=this.get("verticalScrollerBottom"),l=this.get("verticalScrollerLayout"),u={top:l?l.top:0,bottom:l?l.bottom+h:h,right:l?l.right:0,width:p},n.set("layout",u),a=this.get("verticalOverlay"),s.right=a?0:u.right+p):s.right=0,n&&n.set("isVisible",r),i.adjust(s)},scrollerVisibilityDidChange:function(){this.tile()}.observes("isVerticalScrollerVisible","isHorizontalScrollerVisible"),_scroll_wheelDeltaX:0,_scroll_wheelDeltaY:0,mouseWheel:function(e){return this._scroll_wheelDeltaX+=e.wheelDeltaX,this._scroll_wheelDeltaY+=e.wheelDeltaY,this.invokeLater(this._scroll_mouseWheel,10),this.get("canScrollHorizontal")||this.get("canScrollVertical")},_scroll_mouseWheel:function(){this.scrollBy(this._scroll_wheelDeltaX,this._scroll_wheelDeltaY),SC.WHEEL_MOMENTUM&&this._scroll_wheelDeltaY>0?(this._scroll_wheelDeltaY=Math.floor(this._scroll_wheelDeltaY*.95),this._scroll_wheelDeltaY=Math.max(this._scroll_wheelDeltaY,0),this.invokeLater(this._scroll_mouseWheel,10)):
SC.WHEEL_MOMENTUM&&this._scroll_wheelDeltaY<0?(this._scroll_wheelDeltaY=Math.ceil(this._scroll_wheelDeltaY*.95),this._scroll_wheelDeltaY=Math.min(this._scroll_wheelDeltaY,0),this.invokeLater(this._scroll_mouseWheel,10)):(this._scroll_wheelDeltaY=0,this._scroll_wheelDeltaX=0)},_handleDomScrollEvent:function(e){var t=this.$(e.target);this.setIfChanged("verticalScrollOffset",t.scrollTop()),this.setIfChanged("horizontalScrollOffset",t.scrollLeft())},didCreateLayer:function(){var e=this.containerView.$()[0];SC.Event.add(e,"scroll",this,this._handleDomScrollEvent)},willDestroyLayer:function(){var e=this.containerView.$()[0];SC.Event.remove(e,"scroll",this,this._handleDomScrollEvent)},canScale:NO,_scale:1,scale:function(e,t){return t!==undefined&&(this._scale=Math.min(Math.max(this.get("minimumScale"),t),this.get("maximumScale"))),this._scale}.property().cacheable(),minimumScale:.25,maximumScale:2,autoScaleRange:NO,_scale_css:"",updateScale:function(e){var t=this.get("contentView");if(!t)return;t.isScalable?(this.get("contentView").applyScale(e),this._scale_css=""):this._scale_css="scale3d("+e+", "+e+", 1)"},acceptsMultitouch:YES,decelerationRate:SC.NORMAL_SCROLL_DECELERATION,alwaysBounceHorizontal:NO,alwaysBounceVertical:YES,delaysContentTouches:YES,_touchScrollDidChange:function(){this.get("contentView").touchScrollDidChange&&this.get("contentView").touchScrollDidChange(this._scroll_horizontalScrollOffset,this._scroll_verticalScrollOffset),this.verticalScrollerView&&this.verticalScrollerView.touchScrollDidChange&&this.verticalScrollerView.touchScrollDidChange(this._scroll_verticalScrollOffset
),this.horizontalScrollerView&&this.horizontalScrollerView.touchScrollDidChange&&this.horizontalScrollerView.touchScrollDidChange(this._scroll_horizontalScrollOffset)},_touchScrollDidStart:function(){this.get("contentView").touchScrollDidStart&&this.get("contentView").touchScrollDidStart(this._scroll_horizontalScrollOffset,this._scroll_verticalScrollOffset),this.verticalScrollerView&&this.verticalScrollerView.touchScrollDidStart&&this.verticalScrollerView.touchScrollDidStart(this._touch_verticalScrollOffset),this.horizontalScrollerView&&this.horizontalScrollerView.touchScrollDidStart&&this.horizontalScrollerView.touchScrollDidStart(this._touch_horizontalScrollOffset)},_touchScrollDidEnd:function(){this.get("contentView").touchScrollDidEnd&&this.get("contentView").touchScrollDidEnd(this._scroll_horizontalScrollOffset,this._scroll_verticalScrollOffset),this.verticalScrollerView&&this.verticalScrollerView.touchScrollDidEnd&&this.verticalScrollerView.touchScrollDidEnd(this._touch_verticalScrollOffset),this.horizontalScrollerView&&this.horizontalScrollerView.touchScrollDidEnd&&this.horizontalScrollerView.touchScrollDidEnd(this._touch_horizontalScrollOffset)},_applyCSSTransforms:function(e){var t="";this.updateScale(this._scale),t+="translate3d("+ -this._scroll_horizontalScrollOffset+"px, "+ -Math.round(this._scroll_verticalScrollOffset)+"px,0) ",t+=this._scale_css;if(e){var n=e.style;n.webkitTransform=t,n.webkitTransformOrigin="top left"}},captureTouch:function(e){return YES},touchGeneration:0,touchStart:function(e){var t=++this.touchGeneration;return!this.tracking&&this.get("delaysContentTouches"
)?this.invokeLater(this.beginTouchesInContent,150,t):this.tracking||this.invokeLater(this.beginTouchesInContent,1,t),this.beginTouchTracking(e,YES),YES},beginTouchesInContent:function(e){if(e!==this.touchGeneration)return;var t=this.touch,n;t&&this.tracking&&!this.dragging&&!t.touch.scrollHasEnded&&(t.touch.captureTouch(this,YES),t.touch.touchResponder?t.needsScrollEnd&&this._touchScrollDidEnd():t.touch.makeTouchResponder(this))},beginTouchTracking:function(e,t){var n=e.averagedTouchesForView(this,t),r=this._scroll_verticalScrollOffset||0,i=this._scroll_horizontalScrollOffset||0,s=i,o=r,u=NO,a=0,f=0,l,c;this.touch&&this.touch.timeout&&(clearTimeout(this.touch.timeout),this.touch.timeout=null,s=this.touch.startClipOffset.x,o=this.touch.startClipOffset.y,u=YES),c=this.get("contentView"),c&&(l=c.get("frame"),a=l.width,f=l.height),c.calculatedWidth&&c.calculatedWidth!==0&&(a=c.calculatedWidth),c.calculatedHeight&&c.calculatedHeight!==0&&(f=c.calculatedHeight);var h=this.get("containerView").get("frame"),p=h.width,d=h.height,v=this.convertFrameToView(this.get("frame"),null),m=(i+(n.x-v.x))/this._scale,g=(r+(n.y-v.y))/this._scale;this.touch={startTime:e.timeStamp,notCalculated:YES,enableScrolling:{x:a*this._scale>p||this.get("alwaysBounceHorizontal"),y:f*this._scale>d||this.get("alwaysBounceVertical")},scrolling:{x:NO,y:NO},enableBouncing:SC.platform.bounceOnScroll,startClipOffset:{x:s,y:o},lastScrollOffset:{x:i,y:r},startTouchOffset:{x:n.x,y:n.y},scrollVelocity:{x:0,y:0},startTouchOffsetInContent:{x:m,y:g},containerSize:{width:p,height:d},contentSize:{width:a,height:f},startScale
:this._scale,startDistance:n.d,canScale:this.get("canScale")&&SC.platform.pinchToZoom,minimumScale:this.get("minimumScale"),maximumScale:this.get("maximumScale"),globalFrame:v,layer:c.get("layer"),resistanceCoefficient:.998,resistanceAsymptote:320,decelerationFromEdge:.05,accelerationToEdge:.1,scrollTolerance:{x:15,y:15},scaleTolerance:5,secondaryScrollTolerance:30,scrollLock:500,decelerationRate:this.get("decelerationRate"),lastEventTime:e.timeStamp,touch:t?e:this.touch?this.touch.touch:null,needsScrollEnd:u},this.tracking||(this.tracking=YES,this.dragging=NO)},_adjustForEdgeResistance:function(e,t,n,r,i){var s;if(e<t)s=e-t;else{if(!(e>n))return e;s=n-e}return s=Math.pow(r,Math.abs(s))*i,e<t?s-=i:s=-s+i,Math.min(Math.max(t,e),n)+s},touchesDragged:function(e,t){var n=e.averagedTouchesForView(this);this.updateTouchScroll(n.x,n.y,n.d,e.timeStamp)},updateTouchScroll:function(e,t,n,r){var i=this.touch,s=e-i.globalFrame.x,o=t-i.globalFrame.y,u,a,f,l,c,h,p=i.scrolling,d=this.get("horizontalAlign"),v=this.get("verticalAlign"),m=((this._scroll_horizontalScrollOffset||0)+s)/this._scale,g=((this._scroll_verticalScrollOffset||0)+o)/this._scale,y=m-i.startTouchOffset.x,b=g-i.startTouchOffset.y,w=i.dragging;!p.x&&Math.abs(y)>i.scrollTolerance.x&&i.enableScrolling.x&&(w=YES,p.x=YES,i.scrollTolerance.y=i.secondaryScrollTolerance,i.startTouchOffset.x=e,y=0),!p.y&&Math.abs(b)>i.scrollTolerance.y&&i.enableScrolling.y&&(w=YES,p.y=YES,i.scrollTolerance.x=i.secondaryScrollTolerance,i.startTouchOffset.y=t,b=0),w&&!i.dragging&&(i.dragging=YES,this.dragging=YES,this._touchScrollDidStart());if(!p.x&&!
p.y&&!i.canScale)return;p.x&&!p.y&&y>i.scrollLock&&!p.y&&(i.enableScrolling.y=NO),p.y&&!p.x&&b>i.scrollLock&&!p.x&&(i.enableScrolling.x=NO);if(i.canScale){var E=i.startDistance,S=n-E;if(Math.abs(S)>i.scaleTolerance){p.y=YES,p.x=YES;var x=i.startScale*(n/Math.max(E,50)),T=this._adjustForEdgeResistance(x,i.minimumScale,i.maximumScale,i.resistanceCoefficient,i.resistanceAsymptote);this.dragging=YES,this._scale=T;var N=m*this._scale,C=g*this._scale}}c=this.minimumScrollOffset(i.contentSize.width*this._scale,i.containerSize.width,d),h=this.minimumScrollOffset(i.contentSize.height*this._scale,i.containerSize.height,v),l=this.maximumScrollOffset(i.contentSize.width*this._scale,i.containerSize.width,d),a=this.maximumScrollOffset(i.contentSize.height*this._scale,i.containerSize.height,v),f=i.startTouchOffsetInContent.x*this._scale-s,u=i.startTouchOffsetInContent.y*this._scale-o,i.enableBouncing?(f=this._adjustForEdgeResistance(f,c,l,i.resistanceCoefficient,i.resistanceAsymptote),u=this._adjustForEdgeResistance(u,h,a,i.resistanceCoefficient,i.resistanceAsymptote)):(f=Math.max(c,Math.min(l,f)),u=Math.max(h,Math.min(a,u))),p.x&&(this._scroll_horizontalScrollOffset=f),p.y&&(this._scroll_verticalScrollOffset=u),this._applyCSSTransforms(i.layer),this._touchScrollDidChange();if(r-i.lastEventTime>=1||i.notCalculated){i.notCalculated=NO;var k=this._scroll_horizontalScrollOffset,L=this._scroll_verticalScrollOffset;i.scrollVelocity.x=(k-i.lastScrollOffset.x)/Math.max(1,r-i.lastEventTime),i.scrollVelocity.y=(L-i.lastScrollOffset.y)/Math.max(1,r-i.lastEventTime),i.lastScrollOffset.x=k,i.lastScrollOffset
.y=L,i.lastEventTime=r}},touchEnd:function(e){var t=this.touch,n=e.averagedTouchesForView(this);e.scrollHasEnded=YES,n.touchCount>0?this.beginTouchTracking(e,NO):(this.dragging?(t.dragging=NO,t.lastEventTime=e.timeStamp,this.startDecelerationAnimation()):(t.needsScrollEnd&&this._touchScrollDidEnd(),e.captureTouch(this,YES),e.touchResponder&&e.touchResponder!==this?e.end():(!e.touchResponder||e.touchResponder===this)&&e.nextTouchResponder&&e.makeTouchResponder(e.nextTouchResponder),this.touch=null),this.tracking=NO,this.dragging=NO)},touchCancelled:function(e){var t=this.touch,n=e.averagedTouchesForView(this);if(!this.touch||!this.touch.timeout)this.beginPropertyChanges(),this.set("scale",this._scale),this.set("verticalScrollOffset",this._scroll_verticalScrollOffset),this.set("horizontalScrollOffset",this._scroll_horizontalScrollOffset),this.endPropertyChanges(),this.tracking=NO,this.dragging&&this._touchScrollDidEnd(),this.dragging=NO,this.touch=null},startDecelerationAnimation:function(e){var t=this.touch;t.decelerationVelocity={x:t.scrollVelocity.x*10,y:t.scrollVelocity.y*10},this.decelerateAnimation()},bouncyBounce:function(e,t,n,r,i,s,o){return t<n?e<0?e+=(n-t)*i:e=Math.min((n-t)*s+o,n-t-.01):t>r&&(e>0?e-=(t-r)*i:e=-Math.min((t-r)*s+o,t-r-.01)),e},decelerateAnimation:function(){var e=this.touch,t=this._scale,n=e.contentSize,r=e.containerSize,i=this.get("horizontalAlign"),s=this.get("verticalAlign"),o=this.minimumScrollOffset(n.width*this._scale,r.width,i),u=this.minimumScrollOffset(n.height*this._scale,r.height,s),a=this.maximumScrollOffset(n.width*this._scale,r.width,i)
,f=this.maximumScrollOffset(n.height*this._scale,r.height,s),l=Date.now(),c=Math.max(l-e.lastEventTime,1),h=this._scroll_horizontalScrollOffset+e.decelerationVelocity.x*(c/10),p=this._scroll_verticalScrollOffset+e.decelerationVelocity.y*(c/10),d=e.decelerationFromEdge,v=e.accelerationToEdge,m=!e.enableBouncing,g=!e.enableBouncing;h>=o&&h<=a&&(m=YES),p>=u&&p<=f&&(g=YES),h/=this._scale,p/=this._scale;var y=0;y=this.bouncyBounce(y,t,e.minimumScale,e.maximumScale,d,v,0),this._scale=t+=y,h*=this._scale,p*=this._scale,o=this.minimumScrollOffset(n.width*this._scale,r.width,i),u=this.minimumScrollOffset(n.height*this._scale,r.height,s),a=this.maximumScrollOffset(n.width*this._scale,r.width,i),f=this.maximumScrollOffset(n.height*this._scale,r.height,s),m&&(h<o||h>a)&&(h=Math.max(o,Math.min(h,a)),e.decelerationVelocity.x=0),g&&(p<u||p>f)&&(p=Math.max(u,Math.min(p,f)),e.decelerationVelocity.y=0),this._scroll_horizontalScrollOffset=h,this._scroll_verticalScrollOffset=p,this._applyCSSTransforms(e.layer),this._touchScrollDidChange();var b=e.decelerationRate,w=Math.pow(b,c/10);e.decelerationVelocity.y*=w,e.decelerationVelocity.x*=w,e.decelerationVelocity.x=this.bouncyBounce(e.decelerationVelocity.x,h,o,a,d,v,.3),e.decelerationVelocity.y=this.bouncyBounce(e.decelerationVelocity.y,p,u,f,d,v,.3);var E=Math.abs(e.decelerationVelocity.x),S=Math.abs(e.decelerationVelocity.y);if(S<.05&&E<.05&&Math.abs(y)<.05){e.timeout=null,this.touch=null,this._touchScrollDidEnd(),this.beginPropertyChanges(),this.set("scale",this._scale),this.set("verticalScrollOffset",this._scroll_verticalScrollOffset),this.set
("horizontalScrollOffset",this._scroll_horizontalScrollOffset),this.endPropertyChanges();return}var x=this;e.lastEventTime=Date.now(),this.touch.timeout=setTimeout(function(){SC.run(x.decelerateAnimation(),x)},30)},createChildViews:function(){var e=[],t;SC.none(t=this.containerView)&&(t=SC.ContainerView),e.push(this.containerView=this.createChildView(t,{contentView:this.contentView,isScrollContainer:YES})),this.contentView=this.containerView.get("contentView"),t=SC.platform.touch?this.get("horizontalTouchScrollerView"):this.get("horizontalScrollerView"),t&&(this.get("hasHorizontalScroller")?(t=this.horizontalScrollerView=this.createChildView(t,{layoutDirection:SC.LAYOUT_HORIZONTAL,valueBinding:"*owner.horizontalScrollOffset"}),e.push(t)):this.horizontalScrollerView=null),t=SC.platform.touch?this.get("verticalTouchScrollerView"):this.get("verticalScrollerView"),t&&(this.get("hasVerticalScroller")?(t=this.verticalScrollerView=this.createChildView(t,{layoutDirection:SC.LAYOUT_VERTICAL,valueBinding:"*owner.verticalScrollOffset"}),e.push(t)):this.verticalScrollerView=null),this.childViews=e,this.contentViewDidChange(),this.tile()},init:function(){arguments.callee.base.apply(this,arguments),this._scroll_contentView=this.get("contentView");var e=this._scroll_contentView;e&&(e.addObserver("frame",this,this.contentViewFrameDidChange),e.addObserver("calculatedWidth",this,this.contentViewFrameDidChange),e.addObserver("calculatedHeight",this,this.contentViewFrameDidChange)),this.get("isVisibleInWindow")&&this._scsv_registerAutoscroll()},_scsv_registerAutoscroll:function(){this.get("isVisibleInWindow"
)?SC.Drag.addScrollableView(this):SC.Drag.removeScrollableView(this)}.observes("isVisibleInWindow"),contentViewDidChange:function(){var e=this.get("contentView"),t=this._scroll_contentView,n=this.contentViewFrameDidChange,r=this.contentViewLayerDidChange;e!==t&&(t&&(t.removeObserver("calculatedWidth",this,this.contentViewFrameDidChange),t.removeObserver("calculatedHeight",this,this.contentViewFrameDidChange),t.removeObserver("frame",this,n),t.removeObserver("layer",this,r)),this._scroll_contentView=e,e&&(e.addObserver("frame",this,n),e.addObserver("calculatedWidth",this,this.contentViewFrameDidChange),e.addObserver("calculatedHeight",this,this.contentViewFrameDidChange),e.addObserver("layer",this,r)),this.containerView.set("contentView",e),this.contentViewFrameDidChange())}.observes("contentView"),render:function(e,t){return this.invokeLast(this.adjustElementScroll),t&&e.push('<div class="corner"></div>'),arguments.callee.base.apply(this,arguments)},oldMaxHOffset:0,oldMaxVOffset:0,contentViewFrameDidChange:function(e){var t=this.get("contentView"),n=t?t.get("frame"):null,r=this._scale,i=0,s=0,o,u,a,f,l;if(!t||!n)return;i=t.get("calculatedWidth")||n.width||0,s=t.get("calculatedHeight")||n.height||0,i*=r,s*=r;if(!e&&i===this._scroll_contentWidth&&s===this._scroll_contentHeight)return;this._scroll_contentWidth=i,this._scroll_contentHeight=s,o=this.getPath("containerView.frame"),u=o.width,a=o.height,this.get("hasHorizontalScroller")&&(t=this.get("horizontalScrollerView"))&&(this.get("autohidesHorizontalScroller")&&this.set("isHorizontalScrollerVisible",i>u),t.setIfChanged("maximum"
,i-u),t.setIfChanged("proportion",u/i)),this.get("hasVerticalScroller")&&(t=this.get("verticalScrollerView"))&&(this.get("autohidesVerticalScroller")&&this.set("isVerticalScrollerVisible",s>a),t.setIfChanged("maximum",s-a),t.setIfChanged("proportion",a/s)),!this.get("isVerticalScrollerVisible")&&this.get("verticalScrollOffset")!==0&&this.get("autohidesVerticalScroller")&&this.set("verticalScrollOffset",0),!this.get("isHorizontalScrollerVisible")&&this.get("horizontalScrollOffset")!==0&&this.get("autohidesHorizontalScroller")&&this.set("horizontalScrollOffset",0);var c=this.get("maximumVerticalScrollOffset"),h=this.get("verticalScrollOffset"),p=this.get("maximumHorizontalScrollOffset"),d=this.get("horizontalScrollOffset"),v=c<h,m=p<d;(v||m)&&this.forceDimensionsRecalculation(m,v,h,d),this.notifyPropertyChange("maximumVerticalScrollOffset"),this.notifyPropertyChange("maximumHorizontalScrollOffset")},frameDidChange:function(){this.contentViewFrameDidChange(YES)}.observes("frame"),contentViewLayerDidChange:function(){this._verticalScrollOffset!==0&&(this._verticalScrollOffset=-1),this._horizontalScrollOffset!==0&&(this._horizontalScrollOffset=-1),this.invokeLast(this.adjustElementScroll)},_scroll_horizontalScrollOffsetDidChange:function(){this.invokeLast(this.adjustElementScroll)}.observes("horizontalScrollOffset"),_scroll_verticalScrollOffsetDidChange:function(){this.invokeLast(this.adjustElementScroll)}.observes("verticalScrollOffset"),adjustElementScroll:function(){var e=this.get("containerView"),t=this.get("contentView"),n=this.get("verticalScrollOffset"),r=this.get("horizontalScrollOffset"
);t&&(SC.platform.touch&&this._applyCSSTransforms(t.get("layer")),t._viewFrameDidChange&&t._viewFrameDidChange()),e&&!SC.platform.touch&&(e=e.$()[0],e&&(n!==this._verticalScrollOffset&&(e.scrollTop=n,this._verticalScrollOffset=n),r!==this._horizontalScrollOffset&&(e.scrollLeft=r,this._horizontalScrollOffset=r)))},forceDimensionsRecalculation:function(e,t,n,r){var i=r,s=n;this.scrollTo(0,0),e&&t&&this.scrollTo(this.get("maximumHorizontalScrollOffset"),this.get("maximumVerticalScrollOffset")),e&&!t&&this.scrollTo(this.get("maximumHorizontalScrollOffset"),s),!e&&t&&this.scrollTo(i,this.get("maximumVerticalScrollOffset"))},_scroll_verticalScrollOffset:0,_scroll_horizontalScrollOffset:0}),SC.MenuScrollerView=SC.ScrollerView.extend({classNames:["sc-menu-scroller-view"],scrollDown:NO,value:function(e,t){if(t===undefined){var n=this._value||0;return Math.min(n,this.get("maximum"))}this._value=t}.property("maximum").cacheable(),maximum:0,isEnabled:YES,layoutDirection:SC.LAYOUT_VERTICAL,verticalLineScroll:20,ownerScrollValueKey:function(){return"verticalScrollOffset"}.property("layoutDirection").cacheable(),init:function(){switch(this.get("controlSize")){case SC.TINY_CONTROL_SIZE:this.set("scrollerThickness",SC.MenuScrollerView.TINY_SCROLLER_THICKNESS);break;case SC.SMALL_CONTROL_SIZE:this.set("scrollerThickness",SC.MenuScrollerView.SMALL_SCROLLER_THICKNESS);break;case SC.REGULAR_CONTROL_SIZE:this.set("scrollerThickness",SC.MenuScrollerView.REGULAR_SCROLLER_THICKNESS);break;case SC.LARGE_CONTROL_SIZE:this.set("scrollerThickness",SC.MenuScrollerView.LARGE_SCROLLER_THICKNESS);break;case SC
.HUGE_CONTROL_SIZE:this.set("scrollerThickness",SC.MenuScrollerView.HUGE_SCROLLER_THICKNESS)}return arguments.callee.base.apply(this,arguments)},render:function(e,t){e.addClass("sc-vertical"),e.addClass(this.get("controlSize"));if(t){var n=this.get("scrollDown")?"arrowDown":"arrowUp";e.push('<span class="scrollArrow '+n+'">&nbsp;</span>')}e.setClass("disabled",!this.get("isEnabled"))},didCreateLayer:function(){},willDestroyLayer:function(){var e=this._sc_scroller_scrollDidChange;SC.Event.remove(this.$(),"scroll",this,e)},mouseEntered:function(e){this.set("isMouseOver",YES),this._invokeScrollOnMouseOver()},mouseExited:function(e){this.set("isMouseOver",NO)},_sc_scroller_valueDidChange:function(){}.observes("value"),_sc_scroller_armScrollTimer:function(){if(!this._sc_scrollTimer){SC.RunLoop.begin();var e=this._sc_scroller_scrollDidChange;this._sc_scrollTimer=this.invokeLater(e,50),SC.RunLoop.end()}},_sc_scroller_scrollDidChange:function(){var e=Date.now(),t=this._sc_lastScroll,n=this.get("layer"),r=0;if(t&&e-t<50)return this._sc_scroller_armScrollTimer();this._sc_scrollTimer=null,this._sc_lastScroll=e,SC.RunLoop.begin();if(!this.get("isEnabled"))return;this._sc_scrollValue=r=n.scrollTop,this.set("value",r),SC.RunLoop.end()},_scrollMenu:function(){var e=this.get("value"),t;return this.get("scrollDown")?(t=e+this.verticalLineScroll,t<=this.get("maximum")?this.set("value",t):this.set("value",this.get("maximum"))):(t=e-this.verticalLineScroll,t>=0?this.set("value",t):e<=this.verticalLineScroll&&e>0&&this.set("value",0)),YES},_invokeScrollOnMouseOver:function(){this._scrollMenu(),this
.get("isMouseOver")&&this.invokeLater(this._invokeScrollOnMouseOver,50)}}),SC.MenuScrollerView.REGULAR_SCROLLER_THICKNESS=18,SC.MenuScrollerView.TINY_SCROLLER_THICKNESS=10,SC.MenuScrollerView.SMALL_SCROLLER_THICKNESS=14,SC.MenuScrollerView.LARGE_SCROLLER_THICKNESS=23,SC.MenuScrollerView.HUGE_SCROLLER_THICKNESS=26,SC.MenuScrollView=SC.ScrollView.extend({classNames:["sc-menu-scroll-view"],maximumHorizontalScrollOffset:0,hasHorizontalScroller:NO,horizontalScrollerView:SC.MenuScrollerView,isHorizontalScrollerVisible:NO,canScrollHorizontal:NO,autohidesHorizontalScroller:NO,hasVerticalScroller:YES,verticalScrollerView:SC.MenuScrollerView,verticalScrollerView2:SC.MenuScrollerView,isVerticalScrollerVisible:YES,canScrollVertical:YES,autohidesVerticalScroller:YES,verticalScrollerBottom:0,controlSize:SC.REGULAR_CONTROL_SIZE,containerView:SC.ContainerView,scrollToVisible:function(e){if(arguments.length===0)return arguments.callee.base.apply(this,arguments);var t=this.get("contentView");if(!t)return NO;var n=e.get("frame");if(!n)return NO;n=t.convertFrameFromView(n,e.get("parentView"));var r=this.get("verticalScrollerView2");r&&r.get("isVisible")&&(n.height+=r.get("frame").height);var i=this.get("verticalScrollerView");return i&&i.get("isVisible")&&(n.y-=i.get("frame").height),this.scrollToRect(n)},tile:function(){var e,t,n,r,i,s,o;e=this.get("hasVerticalScroller"),t=e?this.get("verticalScrollerView"):null,n=e?this.get("verticalScrollerView2"):null,r=t&&this.get("isVerticalScrollerVisible"),i=this.get("containerView"),s={left:0,top:0};if(r){o=0;var u=t.get("scrollerThickness")||n.get("scrollerThickness"
),a=this.get("contentView"),f,l=a?a.get("frame"):null,c=l?l.height:0,h=this.containerView.$()[0],p=this.get("verticalScrollOffset"),d={height:0,top:0,right:0,left:0},v={height:u,top:0,right:0,left:0},m={height:u,bottom:0,right:0,left:0},g={height:0,bottom:0,right:0,left:0};h&&(o=h.offsetHeight),p===0?(s.top=0,s.bottom=u,t.set("layout",d),n.set("layout",m)):p>=c-o-u?(s.top=u,s.bottom=0,t.set("layout",v),n.set("layout",g)):(s.top=u,s.bottom=u,t.set("layout",v),n.set("layout",m))}t&&(t.set("isVisible",r),n.set("isVisible",r)),i.set("layout",s)},scrollerVisibilityDidChange:function(){this.tile()}.observes("isVerticalScrollerVisible","isHorizontalScrollerVisible","verticalScrollOffset"),createChildViews:function(){var e=[],t,n,r=this.get("controlSize");SC.none(t=this.containerView)&&(t=SC.ContainerView),e.push(this.containerView=this.createChildView(t,{contentView:this.contentView})),this.contentView=this.containerView.get("contentView"),(t=this.verticalScrollerView)&&(n=this.verticalScrollerView2)&&(this.get("hasVerticalScroller")?(t=this.verticalScrollerView=this.createChildView(t,{layout:{top:0,left:0,right:0},controlSize:r,valueBinding:"*owner.verticalScrollOffset"}),e.push(t),n=this.verticalScrollerView2=this.createChildView(n,{scrollDown:YES,layout:{bottom:0,left:0,right:0},controlSize:r,valueBinding:"*owner.verticalScrollOffset"}),e.push(n)):(this.verticalScrollerView=null,this.verticalScrollerView2=null)),this.childViews=e,this.contentViewFrameDidChange(),this.tile()},init:function(){arguments.callee.base.apply(this,arguments),this._scroll_contentView=this.get("contentView"
);var e=this._scroll_contentView;e&&e.addObserver("frame",this,this.contentViewFrameDidChange),this.get("isVisibleInWindow")&&this._scsv_registerAutoscroll()},_scsv_registerAutoscroll:function(){this.get("isVisibleInWindow")?SC.Drag.addScrollableView(this):SC.Drag.removeScrollableView(this)}.observes("isVisibleInWindow"),contentViewFrameDidChange:function(){var e=this.get("contentView"),t,n=e?e.get("frame"):null,r=n?n.width:0,i=n?n.height:0,s=this.get("frame"),o,u;this._scroll_contentWidth=r,this._scroll_contentHeight=i,this.get("hasVerticalScroller")&&(e=this.get("verticalScrollerView"))&&(t=this.get("verticalScrollerView2"))&&(i-=1,this.get("autohidesVerticalScroller")&&this.set("isVerticalScrollerVisible",i>s.height),i-=this.get("verticalScrollerBottom"),o=0,u=this.containerView.$()[0],u&&(o=u.offsetHeight),i-=o,e.setIfChanged("maximum",i),t.setIfChanged("maximum",i))},_scroll_horizontalScrollOffsetDidChange:function(){},_scroll_verticalScrollOffsetDidChange:function(){this.adjustElementScroll()}.observes("verticalScrollOffset")}),SC.TO_LEFT="TOLEFT",SC.TO_RIGHT="TORIGHT",SC.NavigationView=SC.WorkspaceView.extend({_views:null,_current:null,navigationContentView:SC.View,init:function(){arguments.callee.base.apply(this,arguments),this._views=[]},createChildViews:function(){arguments.callee.base.apply(this,arguments);var e=this.get("navigationContentView");e.isClass&&(e=this.createChildView(e)),this._defaultContent=this.navigationContentView=e,this.contentView.appendChild(e)},changeNavigationContent:function(e){var t=null,n=null;e&&(t=e.get("topToolbar"),n=e.get("bottomToolbar"
)),t&&t.isClass&&e.set("topToolbar",t=t.create()),n&&n.isClass&&e.set("bottomToolbar",n=n.create()),this.beginPropertyChanges(),this._current=e,this.set("navigationContentView",e?e:this._defaultContent),this.set("topToolbar",t),this.set("bottomToolbar",n),this.endPropertyChanges()},push:function(e){this._currentDirection=this._current?SC.TO_LEFT:null,this._current&&this._views.push(this._current),this.changeNavigationContent(e)},pop:function(){this._currentDirection=SC.TO_RIGHT;var e=this._views.pop();this.changeNavigationContent(e)},popToView:function(e){this._currentDirection=SC.TO_RIGHT;var t=this._views,n=t.length-1,r=t[n];while(r&&r!==e)this._views.pop(),n--,r=t[n];this.changeNavigationContent(r)},topToolbarDidChange:function(){var e=this.activeTopToolbar,t=this.get("topToolbar");e&&(this._currentDirection!==null?(e.set("buildDirection",this._currentDirection),this.buildOutChild(e)):this.removeChild(e)),t&&(this._currentDirection!==null?(t.set("buildDirection",this._currentDirection),this.buildInChild(t)):this.appendChild(t)),this.activeTopToolbar=t,this.invokeOnce("childDidChange")}.observes("topToolbar"),bottomToolbarDidChange:function(){var e=this.activeBottomToolbar,t=this.get("bottomToolbar");e&&(this._currentDirection!==null?(e.set("buildDirection",this._currentDirection),this.buildOutChild(e)):this.removeChild(e)),t&&(this._currentDirection!==null?(t.set("buildDirection",this._currentDirection),this.buildInChild(t)):this.appendChild(t)),this.activeBottomToolbar=t,this.invokeOnce("childDidChange")}.observes("topToolbar"),contentViewDidChange:function(){var e=this.
activeNavigationContentView,t=this.get("navigationContentView");t.isNavigationBuilder||t.mixin(SC.NavigationBuilder),this._pendingBuildOut=e,this._pendingBuildIn=t,this.activeNavigationContentView=t,this.invokeOnce("childDidChange")}.observes("navigationContentView"),childDidChange:function(){var e=this._pendingBuildIn,t=this._pendingBuildOut;t&&(this._currentDirection!==null?(t.set("buildDirection",this._currentDirection),this.contentView.buildOutChild(t)):this.contentView.removeChild(t)),this._scws_tile(),e&&(this._currentDirection!==null?(e.set("buildDirection",this._currentDirection),this.contentView.buildInChild(e)):this.contentView.appendChild(e))}}),SC.NavigationBarView=SC.ToolbarView.extend(SC.Gesturable,{init:function(){arguments.callee.base.apply(this,arguments),SC.Animatable||SC.Logger.error("NavigationBarView requires SC.Animatable. Please make your app or framework require the animation framework. CRASH.")},mixinAnimatable:function(){this.mixin(SC.Animatable),this.transitions=this.navigationTransitions},navigationTransitions:{opacity:{duration:.25,action:"didFinishTransition"}},style:{opacity:1},gestures:["swipeGesture"],swipeGesture:SC.SwipeGesture,swipe:function(e,t,n){var r=n===SC.SWIPE_LEFT?"isSwipeLeft":"isSwipeRight",i=this.get("childViews"),s,o,u=i.get("length");for(o=0;o<u;o++){s=i[o];if(s.get(r)){t.makeTouchResponder(s),t.end();return}}},resetBuild:function(){this.isAnimatable||this.mixinAnimatable()},didFinishTransition:function(){this.isBuildingIn?this.buildInDidFinish():this.isBuildingOut&&this.buildOutDidFinish()},preBuildIn:function(){this.disableAnimation
(),this.adjust("opacity",0).updateLayout(),this.enableAnimation();var e=this.get("childViews"),t,n,r=e.get("length");for(n=0;n<r;n++){t=e[n];if(t.disableNavigationTransition)continue;t._nv_mixedIn||this.mixinNavigationChild(t),t.disableAnimation(),t.transform(this.buildDirection===SC.TO_LEFT?100:-100),t.enableAnimation()}},buildIn:function(){this.preBuildIn(),this.invokeLater("startBuildIn",10)},startBuildIn:function(){this.adjust("opacity",1);var e=this.get("childViews"),t,n,r=e.get("length");for(n=0;n<r;n++){t=e[n];if(t.disableNavigationTransition)continue;t.transform(0)}},buildOut:function(){this.adjust("opacity",0);var e=this.get("childViews"),t,n,r=e.get("length");for(n=0;n<r;n++){t=e[n];if(t.disableNavigationTransition)continue;t._nv_mixedIn||this.mixinNavigationChild(t),t.transform(this.buildDirection===SC.TO_LEFT?-100:100)}},mixinNavigationChild:function(e){if(e.isAnimatable)return;e.mixin(SC.Animatable),e.mixin({transitions:{transform:{timing:SC.Animatable.TRANSITION_EASE_IN_OUT,duration:.25}},naturalLayout:e.get("layout"),transform:function(e){SC.platform.supportsCSS3DTransforms?this.adjust("transform","translate3d("+e+"px,0px,0px)"):this.adjust("transform","translate("+e+"px,0px)")}}),e._nv_mixedIn=YES}}),SC.PopupButtonView=SC.ButtonView.extend({classNames:["sc-popup-button"],renderDelegateName:"popupButtonRenderDelegate",preferMatrix:null,menu:null,shouldLoadInBackground:NO,init:function(){arguments.callee.base.apply(this,arguments),this._setupMenu(),this.get("shouldLoadInBackground")&&SC.backgroundTaskQueue.push(SC.PopupButtonMenuLoader.create({popupButton:this}
))},_setupMenu:function(){var e=this.get("instantiatedMenu");this.isActiveBinding&&this.isActiveBinding.disconnect(),this.isActiveBinding=null,e&&!e.isClass&&(this.isActiveBinding=this.bind("isActive",e,"isVisibleInWindow"))},_popup_menuDidChange:function(){this._setupMenu()}.observes("menu"),isActive:NO,_instantiateMenu:function(){var e=this.get("menu");if(!e||!e.isClass)return;this.menu=e.create(),this._setupMenu()},instantiatedMenu:function(){var e=this.get("menu");return e&&e.isClass&&(this._instantiateMenu(),e=this.get("menu")),e}.property("menu").cacheable(),action:function(e){var t=this.get("instantiatedMenu");return t?(t.popup(this,this.get("preferMatrix")),YES):NO},mouseDown:function(e){if(!this.get("isEnabled"))return YES;this._isMouseDown=YES,this._action(),this._menuRenderedTimestamp=0;var t=this;return setTimeout(function(){SC.run(function(){t._menuRenderedTimestamp=Date.now()})},1),this.becomeFirstResponder(),YES},mouseUp:function(e){var t=(new Date).getTime(),n=this._menuRenderedTimestamp,r=this.get("instantiatedMenu"),i=SC.platform.touch,s;return n===0&&(n=Date.now()),r&&(s=r.getPath("rootMenu.targetMenuItem"),s?s.performAction()||r.remove():!i&&t-n>SC.ButtonView.CLICK_AND_HOLD_DELAY&&r.remove()),this._isMouseDown=NO,arguments.callee.base.apply(this,arguments),YES},mouseExited:function(e){return YES},performKeyEquivalent:function(e,t){if(!this.get("isEnabled"))return NO;var n=this.get("instantiatedMenu");return!!n&&n.performKeyEquivalent(e,t,YES)}}),SC.PopupButtonMenuLoader=SC.Task.extend({popupButton:null,run:function(){this.popupButton&&this.popupButton._instantiateMenu
()}}),SC.ProgressView=SC.View.extend(SC.Control,{classNames:["sc-progress-view"],displayProperties:["displayValue","ariaValue","minimum","maximum","isRunning","isEnabled","isIndeterminate","animatedBackgroundMatrix","offsetRange"],renderDelegateName:"progressRenderDelegate",value:.5,valueBindingDefault:SC.Binding.single().notEmpty(),displayValue:function(){var e=this.get("minimum")||0,t=this.get("maximum")||1,n=this.get("value")||0;n=(n-e)/(t-e),n>1&&(n=1),isNaN(n)&&(n=0),n<e&&(n=0),n>t&&(n=1);var r=this.$();return r.attr("aria-valuenow",n),r.attr("aria-valuemax",t),r.attr("aria-valuemin",e),n}.property("value","maximum","minimum").cacheable(),ariaRole:"progressbar",ariaValue:function(){return this.get("value")}.property("value").cacheable(),minimum:0,minimumBindingDefault:SC.Binding.single().notEmpty(),contentMinimumKey:null,maximum:1,maximumBindingDefault:SC.Binding.single().notEmpty(),offsetRange:undefined,contentMaximumKey:null,isIndeterminate:NO,isIndeterminateBindingDefault:SC.Binding.bool(),isRunning:NO,isRunningBindingDefault:SC.Binding.bool(),animatedBackgroundMatrix:null,contentIsIndeterminateKey:null,_backgroundOffset:0,_currentBackground:1,_nextBackground:1,init:function(){arguments.callee.base.apply(this,arguments),this.animateProgressBar()},animateProgressBar:function(){this.get("isRunning")&&this.get("isVisibleInWindow")&&this._animateProgressBar(500)}.observes("isRunning","isVisibleInWindow"),_animateProgressBar:function(e){e===0&&(e=1e3/30),this.get("isRunning")&&this.get("isVisibleInWindow")&&(this.displayDidChange(),this.invokeLater(this._animateProgressBar
,e,600))},contentPropertyDidChange:function(e,t){var n=this.get("content");this.beginPropertyChanges().updatePropertyFromContent("value",t,"contentValueKey",n).updatePropertyFromContent("minimum",t,"contentMinimumKey",n).updatePropertyFromContent("maximum",t,"contentMaximumKey",n).updatePropertyFromContent("isIndeterminate",t,"contentIsIndeterminateKey",n).endPropertyChanges()},updateAriaValuesWhenAppropriate:function(){var e=this.$();this.get("isIndeterminate")?e.removeAttr("aria-valuenow"):(e.attr("aria-valuenow",this.get("value")),e.attr("aria-valuemax",this.get("maximum")),e.attr("aria-valuemin",this.get("minimum")))}.observes("value","maximum","minimum","isIndeterminate")}),SC.RadioView=SC.View.extend(SC.Control,{acceptsFirstResponder:function(){return SC.FOCUS_ALL_CONTROLS?this.get("isEnabled"):NO}.property("isEnabled"),classNames:["sc-radio-view"],ariaRole:"radiogroup",displayProperties:["displayItems","isEnabled","layoutDirection"],renderDelegateName:"radioGroupRenderDelegate",itemAriaLabeledByKey:null,itemAriaLabelKey:null,value:null,layoutDirection:SC.LAYOUT_VERTICAL,escapeHTML:YES,items:[],itemTitleKey:null,itemWidthKey:null,itemValueKey:null,itemIsEnabledKey:null,itemIconKey:null,itemsDidChange:function(){this._items&&this._items.removeObserver("[]",this,this.itemContentDidChange),this._items=this.get("items"),this._items&&this._items.addObserver("[]",this,this.itemContentDidChange),this.itemContentDidChange()}.observes("items"),itemContentDidChange:function(){this._renderAsFirstTime=YES,this.notifyPropertyChange("displayItems")},displayItems:function(){var e=this
.get("items"),t=this.get("value"),n=SC.isArray(t),r=this.get("localize"),i=this.get("itemTitleKey"),s=this.get("itemValueKey"),o=this.get("itemWidthKey"),u=this.get("layoutDirection")===SC.LAYOUT_HORIZONTAL,a=this.get("itemIsEnabledKey"),f=this.get("itemIconKey"),l=this.get("itemAriaLabeledByKey"),c=this.get("itemAriaLabelKey"),h=this._displayItems||[],p=e?e.get("length"):0,d,v,m,g,y,b,w,E,S,x,T;for(y=0;y<p;y++)d=e.objectAt(y),SC.typeOf(d)===SC.T_ARRAY?(v=d[0],g=d[1]):d?(i?v=d.get?d.get(i):d[i]:v=d.toString?d.toString():null,o&&u&&(m=d.get?d.get(o):d[o]),s?g=d.get?d.get(s):d[s]:g=d,a?b=d.get?d.get(a):d[a]:b=YES,f?w=d.get?d.get(f):d[f]:w=null,l?x=d.get?d.get(l):d[l]:x=null,c?T=d.get?d.get(c):d[c]:T=null):(v=g=w=null,b=NO),b=b&&this.get("isEnabled"),d?E=n?t.indexOf(g)>=0:t===g:E=NO,r&&(v=SC.String.loc(v)),h.push(SC.Object.create({title:v,icon:w,width:m,value:g,isEnabled:b,isSelected:n&&t.indexOf(g)>=0&&t.length===1||t===g,isMixed:n&&t.indexOf(g)>=0,isActive:this._activeRadioButton===y,theme:this.get("theme"),renderState:{}}));return h}.property("isEnabled","value","items","itemTitleKey","itemWidthKey","itemValueKey","itemIsEnabledKey","localize","itemIconKey","itemAriaLabeledByKey","itemAriaLabelKey").cacheable(),mouseDown:function(e){if(!this.get("isEnabled"))return YES;var t=this.get("renderDelegate"),n=this.get("renderDelegateProxy"),r=this.$(),i=t.indexForEvent(n,r,e);return this._activeRadioButton=i,i!==undefined&&(this.get("displayItems")[i].set("isActive",YES),t.updateRadioAtIndex(n,r,i)),e.allowDefault(),YES},mouseUp:function(e){if(!this.get("isEnabled"))return YES;var t=
this.get("renderDelegate"),n=this.get("renderDelegateProxy"),r=this.$(),i=this.get("displayItems"),s=t.indexForEvent(n,r,e);return this._activeRadioButton!==undefined&&s!==this._activeRadioButton&&(i[this._activeRadioButton].set("isActive",NO),t.updateRadioAtIndex(n,r,this._activeRadioButton)),this._activeRadioButton=undefined,s!==undefined&&(i[s].set("isActive",NO),t.updateRadioAtIndex(n,r,s),this.set("value",i[s].value)),e.allowDefault(),YES},keyDown:function(e){if(!this.get("isEnabled"))return YES;if(e.which===9||e.keyCode===9){var t=e.shiftKey?this.get("previousValidKeyView"):this.get("nextValidKeyView");return t?t.becomeFirstResponder():e.allowDefault(),YES}if(e.which>=37&&e.which<=40){var n=this.get("renderDelegate"),r=this.get("renderDelegateProxy"),i=this.$(),s=this.get("displayItems"),o=this.get("value");for(var u=0,a=s.length;u<a;u++)if(o===s[u].value)break;if(e.which===37||e.which===38)u<=0?u=s.length-1:u--;if(e.which===39||e.which===40)u>=s.length-1?u=0:u++;n.updateRadioAtIndex(r,i,u),this.set("value",s[u].value)}return e.allowDefault(),NO},touchStart:function(e){return this.mouseDown(e)},touchEnd:function(e){return this.mouseUp(e)}}),SC.SceneView=SC.ContainerView.extend({scenes:["master","detail"],nowShowing:null,transitionDuration:200,_state:"NO_VIEW",replaceContent:function(e){return e&&this._state===this.READY?this.animateScene(e):this.replaceScene(e),this},replaceScene:function(e){var t=this._targetView,n=this.STANDARD_LAYOUT,r=this.get("scenes"),i=r?r.indexOf(this.get("nowShowing")):-1;this._targetView=e,this._targetIndex=i,this._timer&&this._timer.invalidate
(),this._leftView=this._rightView=this._start=this._end=null,this._timer=null,this.removeAllChildren(),t&&t.set("layout",n),e&&e.set("layout",n),e&&this.appendChild(e),this._state=e?this.READY:this.NO_VIEW},animateScene:function(e){var t=this._targetView,n=this._targetIndex,r=this.get("scenes"),i=r?r.indexOf(this.get("nowShowing")):-1,s;if(n<0||i<0||n===i)return this.replaceScene(e);this._targetView=e,this._targetIndex=i,i>n?(this._leftView=t,this._rightView=e,this._target=-1):(this._leftView=e,this._rightView=t,this._target=1),this.removeAllChildren(),t&&this.appendChild(t),e&&this.appendChild(e),this._start=Date.now(),this._end=this._start+this.get("transitionDuration"),this._state=this.ANIMATING,this.tick()},tick:function(){this._timer=null;var e=Date.now(),t=(e-this._start)/(this._end-this._start),n=this._target,r=this._leftView,i=this._rightView,s,o;return t<0&&(t=0),!this.get("isVisibleInWindow")||t>=1?this.replaceScene(this._targetView):(s=SC.clone(this.get("frame")),o=Math.floor(s.width*t),n>0?(s.left=0-(s.width-o),r.set("layout",s),s=SC.clone(s),s.left=o,i.set("layout",s)):(s.left=0-o,r.set("layout",s),s=SC.clone(s),s.left=s.width-o,i.set("layout",s)),this._timer=this.invokeLater(this.tick,20),this)},NO_VIEW:"NO_VIEW",ANIMATING:"ANIMATING",READY:"READY",STANDARD_LAYOUT:{top:0,left:0,bottom:0,right:0}}),SC.SegmentView=SC.View.extend(SC.Control,{ariaRole:"tab",isSegment:YES,classNames:["sc-segment-view"],toolTip:null,isEnabled:YES,isActive:NO,isSelected:NO,controlSize:null,supportFocusRing:NO,displayProperties:["icon","displayTitle","value","displayToolTip","isDefault"
,"isCancel","width","isSegment","isFirstSegment","isMiddleSegment","isLastSegment","isOverflowSegment","index","needsEllipsis","isBorderless"],renderDelegateName:"segmentRenderDelegate",useStaticLayout:YES,title:"",value:null,icon:null,localize:NO,keyEquivalent:null,escapeHTML:YES,needsEllipsis:YES,displayTitle:function(){var e=this.get("title");return this.get("localize")&&(e=SC.String.loc(e)),e}.property("title","localize").cacheable(),width:null,localItem:null,isBorderless:YES,widthDidChange:function(){this.adjust("width",this.get("width"))}.observes("width"),updateItem:function(e,t){var n=e.get("itemKeys"),r,i=e.get("viewKeys"),s,o;for(o=n.get("length")-1;o>=0;o--)r=e.get(n.objectAt(o)),s=i.objectAt(o),SC.none(t.get(r))||this.set(s,t.get(r));this.set("localItem",t)}}),SC.SegmentedView=SC.View.extend(SC.Control,{acceptsFirstResponder:function(){return SC.FOCUS_ALL_CONTROLS?this.get("isEnabled"):NO}.property("isEnabled").cacheable(),_focusSelectedChildView:function(){if(this.get("isFirstResponder")){var e=document.activeElement;e&&!$.isEmptyObject(e)&&e.blur();if(!SC.isArray(this.get("value"))){var t=this.get("childViews");for(var n=0;n<t.length;n++){var r=t[n];if(r.get("isSelected")){var i=r.get("layer");i&&i.focus();return}}}var s=this.get("layer");s&&s.focus()}}.observes("paneAttached"),didBecomeFirstResponder:function(){this._focusSelectedChildView()},ariaRole:"tablist",classNames:["sc-segmented-view"],themeName:"square",value:null,isEnabled:YES,allowsEmptySelection:NO,allowsMultipleSelection:NO,selectSegmentWhenTriggeringAction:NO,localize:YES,align:SC.ALIGN_CENTER,layoutDirection
:SC.LAYOUT_HORIZONTAL,items:null,itemTitleKey:null,itemValueKey:null,itemIsEnabledKey:null,itemIconKey:null,itemWidthKey:null,itemActionKey:null,itemTargetKey:null,itemLayerIdKey:null,itemKeyEquivalentKey:null,shouldHandleOverflow:NO,overflowTitle:"&raquo;",overflowToolTip:"More...",overflowIcon:null,segmentViewClass:SC.SegmentView,itemKeys:["itemTitleKey","itemValueKey","itemIsEnabledKey","itemIconKey","itemWidthKey","itemToolTipKey","itemKeyEquivalentKey","itemLayerIdKey"],viewKeys:["title","value","isEnabled","icon","width","toolTip","keyEquivalent","layerId"],init:function(){arguments.callee.base.apply(this,arguments);var e=this.get("overflowTitle"),t=this.get("overflowToolTip"),n=this.get("overflowIcon"),r;r=this.get("segmentViewClass").create({controlSize:this.get("controlSize"),localize:this.get("localize"),title:e,toolTip:t,icon:n,isLastSegment:YES,isOverflowSegment:YES,isVisible:this.get("shouldHandleOverflow")}),this.set("overflowView",r),this.appendChild(r),this.itemsDidChange()},shouldHandleOverflowDidChange:function(){this.get("shouldHandleOverflow")?this.invokeLast(this.remeasure):this.get("overflowView").set("isVisible",NO)}.observes("shouldHandleOverflow"),itemsDidChange:function(){var e=this.get("items")||[],t,n,r,i=this.get("childViews"),s,o=i.lastObject(),u=this.get("value"),a,f=this.get("itemKeys"),l,c=this.get("viewKeys"),h,p=this.get("segmentViewClass"),d,v;if(i.get("length")-1>e.get("length")){for(d=i.get("length")-2;d>=e.get("length");d--){s=i.objectAt(d),SC.isArray(u)?u.removeObject(s.get("value")):u===s.get("value")&&(u=null),n=s.get("localItem");for(
v=f.get("length")-1;v>=0;v--)l=this.get(f.objectAt(v)),l&&n.removeObserver(l,this,this.itemContentDidChange);this.removeChild(s)}this.set("value",u)}else if(i.get("length")-1<e.get("length"))for(d=i.get("length")-1;d<e.get("length");d++)s=p.create({controlSize:this.get("controlSize"),localize:this.get("localize")}),this.insertBefore(s,o);i=this.get("childViews");var m=this.get("isEnabled");for(d=0;d<e.get("length");d++){n=e.objectAt(d),s=i.objectAt(d),r=s.get("localItem");if(r&&!e.contains(r))for(v=f.get("length")-1;v>=0;v--)l=this.get(f.objectAt(v)),l&&r.removeObserver(l,this,this.itemContentDidChange);if(SC.none(n))continue;if(SC.typeOf(n)===SC.T_STRING)n=SC.Object.create({title:n.humanize().titleize(),value:n}),this.set("itemTitleKey","title"),this.set("itemValueKey","value");else if(SC.typeOf(n)===SC.T_HASH)n=SC.Object.create(n);else if(n instanceof SC.Object)for(v=f.get("length")-1;v>=0;v--)l=this.get(f.objectAt(v)),l&&(n.removeObserver(l,this,this.itemContentDidChange),n.addObserver(l,this,this.itemContentDidChange,d));else SC.Logger.error("SC.SegmentedView items may be Strings, Objects (ie. Hashes) or SC.Objects only");a=NO;if(SC.isArray(u)?u.indexOf(n.get(this.get("itemValueKey")))>=0:u===n.get(this.get("itemValueKey")))a=YES;s.set("isSelected",a),s.setIfChanged("isEnabled",m),s.set("index",d),s.set("isFirstSegment",d===0),s.set("isMiddleSegment",d<e.get("length")-1&&d>0),s.set("isLastSegment",d===e.get("length")-1),s.updateItem(this,n)}this.get("shouldHandleOverflow")&&this.invokeLast(this.remeasure)}.observes("*items.[]"),itemContentDidChange:function(e,t,n,r){var i=
this.get("items"),s=this.get("childViews"),o;o=s.objectAt(r),o?o.updateItem(this,e):SC.Logger.warn("Item content change was observed on item without matching segment child view."),this.get("shouldHandleOverflow")&&this.invokeLast(this.remeasure)},viewDidResize:function(){var e=this.$().width();this.get("shouldHandleOverflow")&&(this.isOverflowing||e<=this.cachedMinimumWidth)&&this.adjustOverflow()},isVisibleInWindowDidChange:function(){this.get("shouldHandleOverflow")&&this.invokeLast(this.remeasure)}.observes("isVisibleInWindow"),remeasure:function(){if(!this.get("shouldHandleOverflow"))return;var e=this.get("renderDelegate"),t=this.get("childViews"),n;if(this.get("isVisibleInWindow")){n=t.lastObject(),n.set("isVisible",YES);for(var r=t.get("length")-1;r>=0;r--)t.objectAt(r).set("isVisible",YES);this.cachedWidths=e.segmentWidths(this),this.cachedOverflowWidth=e.overflowSegmentWidth(this),this.adjustOverflow()}},adjustOverflow:function(){if(!this.get("shouldHandleOverflow"))return;var e=this.get("childViews"),t,n=this.get("value"),r=e.lastObject(),i=this.$().width(),s=0,o,u,a;this.isOverflowing=NO,r.set("isSelected",NO),this.overflowItems=[],u=e.length;for(a=0;a<u;a++)t=e.objectAt(a),s+=this.cachedWidths[a],o=a===u-1?s:s+this.cachedOverflowWidth,o>i?(this.overflowItems.pushObject(t.get("localItem")),this.isOverflowing=YES,t.set("isVisible",NO),a===0&&r.set("isFirstSegment",YES),(SC.isArray(n)?n.indexOf(t.get("value"))>=0:n===t.get("value"))&&r.set("isSelected",YES)):(t.set("isVisible",YES),a===0&&r.set("isFirstSegment",NO));this.isOverflowing?r.set("isVisible",YES):r.set("isVisible"
,NO),this.cachedMinimumWidth=s+this.cachedOverflowWidth},displayProperties:["align"],renderDelegateName:"segmentedRenderDelegate",displayItemIndexForEvent:function(e){var t=this.get("renderDelegate");if(t&&t.indexForClientPosition){var n=e.clientX,r=e.clientY;if(n===0&&r===0){var i=e.target;if(i){var s=SC.offset(i);n=s.x+Math.round(i.offsetWidth/2),r=s.y+Math.round(i.offsetHeight/2)}}return t.indexForClientPosition(this,n,r)}},keyDown:function(e){var t,n,r,i,s,o;if(e.which===9||e.keyCode===9){var u=e.shiftKey?this.get("previousValidKeyView"):this.get("nextValidKeyView");return u?u.becomeFirstResponder():e.allowDefault(),YES}if(!this.get("allowsMultipleSelection")){t=this.get("childViews"),i=t.get("length"),s=this.get("value"),o=SC.isArray(s);if(e.which===39||e.which===40){if(s)for(r=0;r<i-2;r++){n=t.objectAt(r);if(o?s.indexOf(n.get("value"))>=0:n.get("value")===s)this.triggerItemAtIndex(r+1),this._focusSelectedChildView()}else this.triggerItemAtIndex(0),this._focusSelectedChildView();return YES}if(e.which===37||e.which===38){if(s)for(r=1;r<i-1;r++){n=t.objectAt(r);if(o?s.indexOf(n.get("value"))>=0:n.get("value")===s)this.triggerItemAtIndex(r-1),this._focusSelectedChildView()}else this.triggerItemAtIndex(i-2),this._focusSelectedChildView();return YES}}return NO},mouseDown:function(e){var t=this.get("childViews"),n,r=t.get("length")-1,i;return this.get("isEnabled")?(i=this.displayItemIndexForEvent(e),i>=0&&(n=t.objectAt(i),n.set("isActive",YES),this.activeChildView=n,i===r?this.showOverflowMenu():this._isMouseDown=YES),YES):YES},mouseUp:function(e){var t,n;return n=this.displayItemIndexForEvent
(e),this._isMouseDown&&n>=0&&(this.triggerItemAtIndex(n),this.becomeFirstResponder(),this._focusSelectedChildView(),t=this.activeChildView,t.set("isActive",NO),this.activeChildView=null),this._isMouseDown=NO,YES},mouseMoved:function(e){var t=this.get("childViews"),n=t.get("length")-1,r,i,s;return this._isMouseDown&&(s=this.displayItemIndexForEvent(e),r=this.activeChildView,i=t.objectAt(s),i&&i!==r&&(r&&r.set("isActive",NO),i.set("isActive",YES),this.activeChildView=i,s===n&&(this.showOverflowMenu(),this._isMouseDown=NO))),YES},mouseEntered:function(e){var t=this.get("childViews"),n,r=t.get("length")-1,i;return this._isMouseDown&&(i=this.displayItemIndexForEvent(e),i===r?(this.showOverflowMenu(),this._isMouseDown=NO):i>=0&&(n=t.objectAt(i),n.set("isActive",YES),this.activeChildView=n)),YES},mouseExited:function(e){var t;return this._isMouseDown&&(t=this.activeChildView,t&&t.set("isActive",NO),this.activeChildView=null),YES},touchStart:function(e){var t=this.get("childViews"),n,r=t.get("length")-1,i;return this.get("isEnabled")?(i=this.displayItemIndexForEvent(e),i>=0&&(n=t.objectAt(i),n.set("isActive",YES),this.activeChildView=n,i===r?this.showOverflowMenu():this._isTouching=YES),YES):YES},touchEnd:function(e){var t,n;return n=this.displayItemIndexForEvent(e),this._isTouching&&n>=0&&(this.triggerItemAtIndex(n),this.becomeFirstResponder(),this._focusSelectedChildView(),t=this.activeChildView,t.set("isActive",NO),this.activeChildView=null,this._isTouching=NO),YES},touchesDragged:function(e,t){var n=this.touchIsInBoundary(e),r=this.get("childViews"),i=r.get("length")-1,s,o,u;return n?
(this._isTouching||this._touchDidEnter(e),u=this.displayItemIndexForEvent(e),s=this.activeChildView,o=r[u],o&&o!==s&&(s&&s.set("isActive",NO),o.set("isActive",YES),this.activeChildView=o,u===i&&(this.showOverflowMenu(),this._isMouseDown=NO))):this._isTouching&&this._touchDidExit(e),this._isTouching=n,YES},_touchDidExit:function(e){var t;return this.isTouching&&(t=this.activeChildView,t.set("isActive",NO),this.activeChildView=null),YES},_touchDidEnter:function(e){var t=this.get("childViews"),n,r=t.get("length")-1,i;return i=this.displayItemIndexForEvent(e),i===r?(this.showOverflowMenu(),this._isTouching=NO):i>=0&&(n=t.objectAt(i),n.set("isActive",YES),this.activeChildView=n),YES},triggerItemAtIndex:function(e){var t=this.get("childViews"),n,r,i,s,o,u;n=t.objectAt(e);if(!n.get("isEnabled"))return this;o=this.get("allowsEmptySelection"),u=this.get("allowsMultipleSelection"),r=n.get("value"),i=s=this.get("value"),SC.empty(i)?i=[]:SC.isArray(i)||(i=[i]);if(!u)o&&i.get("length")===1&&i.objectAt(0)===r?i=[]:i=[r];else if(i.indexOf(r)>=0){if(i.get("length")>1||i.objectAt(0)!==r||o)i=i.without(r)}else i=i.concat([r]);switch(i.get("length")){case 0:i=null;break;case 1:i=i.objectAt(0);break;default:}var a=this.get("itemActionKey"),f=this.get("itemTargetKey"),l,c=null,h=this.getPath("pane.rootResponder"),p;a&&(p=this.get("items").objectAt(e))&&(l=p.get?p.get(a):p[a],f&&(c=p.get?p.get(f):p[f]),h&&h.sendAction(l,c,this,this.get("pane"))),s!==undefined&&(!l||this.get("selectSegmentWhenTriggeringAction"))&&this.set("value",i),l=this.get("action"),l&&h&&h.sendAction(l,this.get("target"),this
,this.get("pane"))},selectOverflowItem:function(e){var t=e.get("selectedItem");this.triggerItemAtIndex(t.get("index")),e.removeObserver("selectedItem",this,"selectOverflowItem"),this.activeChildView&&this.activeChildView.set("isActive",NO),this.activeChildView=null},showOverflowMenu:function(){var e=this.get("childViews"),t=e.get("length")-1,n=this.overflowItems,r,i,s,o;r=n.get("length"),i=e.get("length")-1-r,o=this.get("value"),s=SC.isArray(o);for(var u=0;u<r;u++){var a=n.objectAt(u),f=this.get("itemValueKey");(s?o.indexOf(a.get(f))>=0:o===a.get(f))?a.set("isChecked",YES):a.set("isChecked",NO),a.set("index",i+u)}var l=this,c=SC.MenuPane.create({layout:{width:200},items:n,itemTitleKey:this.get("itemTitleKey"),itemIconKey:this.get("itemIconKey"),itemIsEnabledKey:this.get("itemIsEnabledKey"),itemKeyEquivalentKey:this.get("itemKeyEquivalentKey"),itemCheckboxKey:"isChecked",modalPaneDidClick:function(){arguments.callee.base.apply(this,arguments),this.removeObserver("selectedItem",l,"selectOverflowItem"),l.activeChildView.set("isActive",NO),l.activeChildView=null}}),h=this.get("layer"),p=h.childNodes[h.childNodes.length-1];c.popup(p),c.addObserver("selectedItem",this,"selectOverflowItem")},valueDidChange:function(){var e=this.get("value"),t,n=this.get("childViews"),r=Infinity,i=n.lastObject(),s,o;this.overflowItems&&(t=this.overflowItems.get("length"),r=n.get("length")-1-t,i.set("isSelected",NO));for(var u=n.get("length")-2;u>=0;u--)s=n.objectAt(u),(SC.isArray(e)?e.indexOf(s.get("value"))>=0:e===s.get("value"))?(s.set("isSelected",YES),u>=r&&i.set("isSelected",YES)):s.set("isSelected"
,NO)}.observes("value"),isEnabledDidChange:function(){var e=this.childViews,t=this.get("isEnabled");for(var n=0,r=e.length;n<r;n++)e[n].setIfChanged("isEnabled",t)}.observes("isEnabled")}),SC.SelectView=SC.ButtonView.extend({acceptsFirstResponder:function(){return this.get("isEnabled")}.property("isEnabled"),items:[],itemsBindingDefault:SC.Binding.multiple(),itemTitleKey:null,itemSortKey:null,itemValueKey:null,itemIconKey:null,itemSeparatorKey:"separator",itemIsEnabledKey:"isEnabled",localize:YES,disableSort:YES,classNames:["sc-select-view"],menu:null,_itemList:[],_itemIdx:null,value:null,checkboxEnabled:YES,showCheckbox:YES,_defaultVal:null,_defaultTitle:null,_defaultIcon:null,themeName:"dropdown",displayProperties:["icon","value","controlSize","items","titleForMixedValues"],preferMatrix:null,CUSTOM_MENU_ITEM_HEIGHT:20,isActiveBinding:"*menu.isVisibleInWindow",isDefaultPosition:NO,lastMenuWidth:null,exampleView:null,customViewMenuOffsetWidth:0,needsEllipsis:YES,menuPaneHeightPadding:0,menuItemPadding:35,isContextMenuEnabled:NO,supportFocusRing:YES,leftAlign:function(){switch(this.get("controlSize")){case SC.TINY_CONTROL_SIZE:return SC.SelectView.TINY_OFFSET_X;case SC.SMALL_CONTROL_SIZE:return SC.SelectView.SMALL_OFFSET_X;case SC.REGULAR_CONTROL_SIZE:return SC.SelectView.REGULAR_OFFSET_X;case SC.LARGE_CONTROL_SIZE:return SC.SelectView.LARGE_OFFSET_X;case SC.HUGE_CONTROL_SIZE:return SC.SelectView.HUGE_OFFSET_X}return 0}.property("controlSize"),sortObjects:function(e){if(!this.get("disableSort")){var t=this.get("itemSortKey")||this.get("itemTitleKey");e=e.sort(function(e,n){return t&&
(e=e.get?e.get(t):e[t],n=n.get?n.get(t):n[t]),e<n?-1:e>n?1:0})}return e},render:function(e,t){arguments.callee.base.apply(this,arguments);var n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E;r=this.get("items"),r=this.sortObjects(r),i=r.length,s=this.get("itemTitleKey"),o=this.get("itemIconKey"),u=this.get("itemValueKey"),a=this.get("itemSeparatorKey"),f=this.get("showCheckbox"),E=this.get("itemIsEnabledKey"),l=this.get("value"),c=this.get("localize"),p=[],d=YES,v=0;var S=null;r.forEach(function(e){if(e||e===0){m=s?e.get?e.get(s):e[s]:e.toString(),m=c?SC.String.loc(m):m,g=o?e.get?e.get(o):e[o]:null,SC.none(e[o])&&(g=null),y=u?e.get?e.get(u):e[u]:e,!SC.none(l)&&!SC.none(y)&&l===y&&(this.set("title",m),this.set("icon",g)),y===this.get("value")?(S=v,d=f?YES:NO):d=NO,w=e.get?e.get(E):e[E],NO!==w&&(w=YES),h=a?e.get?e.get(a):e[a]:NO,v===0&&(this._defaultVal=y,this._defaultTitle=m,this._defaultIcon=g);var t=SC.Object.create({separator:h,title:m,icon:g,value:y,isEnabled:w,checkbox:d,target:this,action:"displaySelectedItem"});p.push(t)}v+=1,this.set("_itemList",p)},this),this.set("_itemIdx",S),t&&this.invokeLast(function(){var e=this.get("value");SC.none(e)&&(this.set("value",this._defaultVal),this.set("title",this._defaultTitle),this.set("icon",this._defaultIcon))}),this.changeSelectPreferMatrix(this.get("_itemIdx"))},_action:function(e){var t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g=0,y=this.get("controlSize"),b=this.getPath("theme.classNames").toArray().join(" "),w=this.$(".sc-button-label")[0],E=SC.SelectView.MENU_WIDTH_OFFSET;if(!this.get("isDefaultPosition"))switch(y){case SC.TINY_CONTROL_SIZE:E+=
SC.SelectView.TINY_POPUP_MENU_WIDTH_OFFSET,m=SC.SelectView.TINY_ICON_PADDING;break;case SC.SMALL_CONTROL_SIZE:E+=SC.SelectView.SMALL_POPUP_MENU_WIDTH_OFFSET,m=SC.SelectView.SMALL_ICON_PADDING;break;case SC.REGULAR_CONTROL_SIZE:E+=SC.SelectView.REGULAR_POPUP_MENU_WIDTH_OFFSET,m=SC.SelectView.REGULAR_ICON_PADDING;break;case SC.LARGE_CONTROL_SIZE:E+=SC.SelectView.LARGE_POPUP_MENU_WIDTH_OFFSET,m=SC.SelectView.LARGE_ICON_PADDING;break;case SC.HUGE_CONTROL_SIZE:E+=SC.SelectView.HUGE_POPUP_MENU_WIDTH_OFFSET,m=SC.SelectView.HUGE_ICON_PADDING}t=this.get("layer").offsetWidth+E,t=this.get("layer").offsetWidth,n=w.scrollWidth,r=this.get("lastMenuWidth"),n&&(i=w.offsetWidth,n&&i&&(t=t+n-i));if(!r||t>r)r=t;s=this.get("_itemList");var S=this.get("customViewClassName"),x=this.get("customViewMenuOffsetWidth"),T="sc-view sc-pane sc-panel sc-palette sc-picker sc-menu select-button sc-scroll-view sc-menu-scroll-view sc-container-view menuContainer sc-button-view sc-menu-item "+b+" "+y;T=S?T+" "+S:T,SC.prepareStringMeasurement("",T);for(a=0,d=s.length;a<d;++a)u=s.objectAt(a),o=SC.measureString(u.title).width,u.icon&&(o+=m),o>g&&(g=o);SC.teardownStringMeasurement(),r=g+this.menuItemPadding>r?g+this.menuItemPadding:r;var N=SC.RootResponder.responder.get("currentWindowSize").width;return r>N&&(r=N-25),this.set("lastMenuWidth",r),f=this.get("value"),l=this.get("_itemList"),c=this.get("menuPaneHeightPadding"),h=this.get("exampleView")||SC.MenuItemView,p=SC.MenuPane.create({classNames:["select-button"],baseTheme:this.get("theme"),items:l,exampleView:h,isEnabled:YES,menuHeightPadding:c,preferType:SC.PICKER_MENU
,layout:{width:r},controlSize:y,itemWidth:r}),p?(p.popup(this,this.preferMatrix),this.set("menu",p),v=this._itemIdx,!SC.empty(v)&&v>-1&&(h=p.menuItemViewForContentIndex(v),h&&(h.becomeFirstResponder(),h.scrollToVisible())),this.set("isActive",YES),YES):NO},displaySelectedItem:function(e){var t=e.get("selectedItem");this.set("value",t.get("value")),this.set("title",t.get("title")),this.set("_itemIdx",t.get("contentIndex"))},changeSelectPreferMatrix:function(){var e=0,t=0;switch(this.get("controlSize")){case SC.TINY_CONTROL_SIZE:e=SC.SelectView.TINY_OFFSET_Y,t=SC.MenuPane.TINY_MENU_ITEM_HEIGHT;break;case SC.SMALL_CONTROL_SIZE:e=SC.SelectView.SMALL_OFFSET_Y,t=SC.MenuPane.SMALL_MENU_ITEM_HEIGHT;break;case SC.REGULAR_CONTROL_SIZE:e=SC.SelectView.REGULAR_OFFSET_Y,t=SC.MenuPane.REGULAR_MENU_ITEM_HEIGHT;break;case SC.LARGE_CONTROL_SIZE:e=SC.SelectView.LARGE_OFFSET_Y,t=SC.MenuPane.LARGE_MENU_ITEM_HEIGHT;break;case SC.HUGE_CONTROL_SIZE:e=SC.SelectView.HUGE_OFFSET_Y,t=SC.MenuPane.HUGE_MENU_ITEM_HEIGHT}var n=e,r=this.get("_itemIdx"),i=this.get("leftAlign"),s,o;this.get("isDefaultPosition")?(s=[1,0,3],this.set("preferMatrix",s)):(r&&(n=r*t+e),o=[i,-n,2],this.set("preferMatrix",o))},mouseDown:function(e){if(!this.get("isEnabled"))return YES;this.set("isActive",YES),this._isMouseDown=YES,this.becomeFirstResponder(),this._action();var t=this;return t._mouseDownTimestamp=0,setTimeout(function(){t._mouseDownTimestamp=Date.now()},1),YES},mouseUp:function(e){var t=this.get("menu"),n,r;return t&&(n=t.getPath("rootMenu.targetMenuItem"),this._mouseDownTimestamp===0&&(this._mouseDownTimestamp=Date.
now()),Date.now()-this._mouseDownTimestamp>400&&(n&&t.get("mouseHasEntered")&&this._mouseDownTimestamp?n.performAction()||t.remove():t.remove())),this._mouseDownTimestamp=undefined,this._isMouseDown=NO,this.set("isActive",NO),YES},mouseExited:function(){return YES},keyDown:function(e){if(e.which===9||e.keyCode===9){var t=e.shiftKey?this.get("previousValidKeyView"):this.get("nextValidKeyView");return t?t.becomeFirstResponder():e.allowDefault(),YES}return this.interpretKeyEvents(e)?YES:e.keyCode===13?NO:arguments.callee.base.apply(this,arguments)},interpretKeyEvents:function(e){return e&&(e.keyCode===38||e.keyCode===40?this._action():e.keyCode===27&&this.resignFirstResponder()),arguments.callee.base.apply(this,arguments)},_button_isSelectedDidChange:function(){}.observes("isSelected")}),SC.SelectView.TINY_OFFSET_X=0,SC.SelectView.TINY_OFFSET_Y=0,SC.SelectView.TINY_POPUP_MENU_WIDTH_OFFSET=0,SC.SelectView.SMALL_OFFSET_X=-18,SC.SelectView.SMALL_OFFSET_Y=3,SC.SelectView.SMALL_POPUP_MENU_WIDTH_OFFSET=7,SC.SelectView.REGULAR_OFFSET_X=-22,SC.SelectView.REGULAR_OFFSET_Y=0,SC.SelectView.REGULAR_POPUP_MENU_WIDTH_OFFSET=4,SC.SelectView.LARGE_OFFSET_X=-30,SC.SelectView.LARGE_OFFSET_Y=0,SC.SelectView.LARGE_POPUP_MENU_WIDTH_OFFSET=3,SC.SelectView.HUGE_OFFSET_X=0,SC.SelectView.HUGE_OFFSET_Y=0,SC.SelectView.HUGE_POPUP_MENU_WIDTH_OFFSET=0,SC.SelectView.MENU_WIDTH_OFFSET=-2,SC.SelectView.TINY_ICON_PADDING=16,SC.SelectView.SMALL_ICON_PADDING=16,SC.SelectView.REGULAR_ICON_PADDING=16,SC.SelectView.LARGE_ICON_PADDING=20,SC.SelectView.HUGE_ICON_PADDING=24,SC.SelectButtonView=SC.ButtonView.extend({init
:function(){arguments.callee.base.apply(this,arguments)},escapeHTML:YES,objects:[],objectsBindingDefault:SC.Binding.multiple(),nameKey:null,sortKey:null,valueKey:null,iconKey:null,isEnabledKey:"isEnabled",localize:YES,disableSort:YES,classNames:["select-button"],menu:null,itemList:[],itemIdx:null,value:null,checkboxEnabled:YES,separatorPosition:null,_defaultVal:null,_defaultTitle:null,_defaultIcon:null,themeName:"dropdown",displayProperties:["icon","value","controlSize","objects","objects.[]"],preferMatrix:null,SELECT_BUTTON_SPRITE_WIDTH:28,isActiveBinding:"*menu.isVisibleInWindow",isDefaultPosition:NO,lastMenuWidth:null,customView:null,customViewClassName:null,customViewMenuOffsetWidth:0,needsEllipsis:YES,menuPaneHeightPadding:0,supportFocusRing:YES,isContextMenuEnabled:NO,leftAlign:function(){switch(this.get("controlSize")){case SC.TINY_CONTROL_SIZE:return SC.SelectButtonView.TINY_OFFSET_X;case SC.SMALL_CONTROL_SIZE:return SC.SelectButtonView.SMALL_OFFSET_X;case SC.REGULAR_CONTROL_SIZE:return SC.SelectButtonView.REGULAR_OFFSET_X;case SC.LARGE_CONTROL_SIZE:return SC.SelectButtonView.LARGE_OFFSET_X;case SC.HUGE_CONTROL_SIZE:return SC.SelectButtonView.HUGE_OFFSET_X}return 0}.property("controlSize"),sortObjects:function(e){if(!this.get("disableSort")){var t=this.get("sortKey")||this.get("nameKey");e=e.sort(function(e,n){return t&&(e=e.get?e.get(t):e[t],n=n.get?n.get(t):n[t]),e<n?-1:e>n?1:0})}return e},render:function(e,t){arguments.callee.base.apply(this,arguments);var n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w;n=this.layout.width,t&&n&&this.adjust({width:n-this.SELECT_BUTTON_SPRITE_WIDTH
}),r=this.get("objects"),r=this.sortObjects(r),i=r.length,s=this.get("nameKey"),o=this.get("iconKey"),u=this.get("valueKey"),w=this.get("isEnabledKey"),a=this.get("checkboxEnabled"),f=this.get("value"),l=this.get("localize"),c=this.get("separatorPosition"),h=[],p=YES,d=0,r.forEach(function(e){if(e){v=s?e.get?e.get(s):e[s]:e.toString(),v=l?SC.String.loc(v):v,m=o?e.get?e.get(o):e[o]:null,SC.none(e[o])&&(m=null),g=u?e.get?e.get(u):e[u]:e,!SC.none(f)&&!SC.none(g)&&this._equals(f,g)&&(this.set("title",v),this.set("icon",m)),this._equals(g,this.get("value"))?(c>0&&c<i&&d>=i-c&&d++,this.set("itemIdx",d),p=a?YES:NO):p=NO,b=w?e.get?e.get(w):e[w]:e,NO!==b&&(b=YES),d===0&&(this._defaultVal=g,this._defaultTitle=v,this._defaultIcon=m);var t=SC.Object.create({title:v,icon:m,value:g,isEnabled:b,checkbox:p,target:this,action:"displaySelectedItem"});h.push(t)}d+=1;if(c&&d===i-c){var n=SC.Object.create({separator:YES});h.push(n)}this.set("itemList",h)},this),t&&(e.attr("aria-haspopup","true"),this.invokeLast(function(){var e=this.get("value");SC.none(e)&&(this.set("value",this._defaultVal),this.set("title",this._defaultTitle),this.set("icon",this._defaultIcon))})),this.changeSelectButtonPreferMatrix(this.itemIdx)},_equals:function(e,t){var n=YES;if(e&&SC.typeOf(e)===SC.T_HASH&&t&&SC.typeOf(t)===SC.T_HASH)for(var r in e)e[r]!==t[r]&&(n=NO);else n=e===t;return n},_action:function(e){var t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x;t=this.$(".sc-button-label")[0],S=SC.SelectButtonView.MENU_WIDTH_OFFSET;if(!this.get("isDefaultPosition"))switch(this.get("controlSize")){case SC.TINY_CONTROL_SIZE:S+=
SC.SelectButtonView.TINY_POPUP_MENU_WIDTH_OFFSET;break;case SC.SMALL_CONTROL_SIZE:S+=SC.SelectButtonView.SMALL_POPUP_MENU_WIDTH_OFFSET;break;case SC.REGULAR_CONTROL_SIZE:S+=SC.SelectButtonView.REGULAR_POPUP_MENU_WIDTH_OFFSET;break;case SC.LARGE_CONTROL_SIZE:S+=SC.SelectButtonView.LARGE_POPUP_MENU_WIDTH_OFFSET;break;case SC.HUGE_CONTROL_SIZE:S+=SC.SelectButtonView.HUGE_POPUP_MENU_WIDTH_OFFSET}n=this.get("layer").offsetWidth+S,r=t.scrollWidth,i=this.get("lastMenuWidth"),r&&(s=t.offsetWidth,r&&s&&(n=n+r-s));if(!i||n>i)i=n;o=this.get("itemList");var T=this.get("customViewClassName"),N=this.get("customViewMenuOffsetWidth"),C="sc-view sc-pane sc-panel sc-palette sc-picker sc-menu select-button menu sc-scroll-view sc-menu-scroll-view sc-container-view sc-menu-item menu-item value sc-regular-size";C=T?C+" "+T:C,w=(this.get("customView")||SC.MenuItemView).create(),E=w.get("escapeHTML"),x=document.body;for(c=0,b=o.length;c<b;++c){f=o.objectAt(c),l=document.createElement("div"),l.style.cssText="top:-10000px; left: -10000px;  position: absolute;",l.className=C,l.innerHTML=E?SC.RenderContext.escapeHTML(f.title):f.title,x.appendChild(l),u=l.offsetWidth+N;if(!a||u>a)a=u;x.removeChild(l)}a=a>i?a:i;var k=SC.RootResponder.responder.get("currentWindowSize").width;return a>k&&(a=k-25),this.set("lastMenuWidth",i),h=this.get("value"),p=this.get("itemList"),d=this.get("controlSize"),m=this.get("customView"),g=m?m:SC.MenuItemView,y=SC.MenuPane.create({classNames:["select-button"],items:p,exampleView:g,isEnabled:YES,preferType:SC.PICKER_MENU,itemHeightKey:"height",layout:{width:a},controlSize:d,itemWidth
:i,performKeyEquivalent:function(e,t){switch(e){case"tab":case"shift_tab":return YES;default:return arguments.callee.base.apply(this,arguments)}}}),y?(y.popup(this,this.preferMatrix),this.set("menu",y),m=y.menuItemViewForContentIndex(this.get("itemIdx")),y.set("currentMenuItem",m),m&&m.becomeFirstResponder(),this.set("isActive",YES),YES):NO},displaySelectedItem:function(e){var t=this.getPath("menu.selectedItem");return t?(this.set("value",t.get("value")),this.set("title",t.get("title")),this.set("itemIdx",t.get("contentIndex")),YES):NO},changeSelectButtonPreferMatrix:function(){var e=0,t=0,n=0,r=0,i,s;switch(this.get("controlSize")){case SC.TINY_CONTROL_SIZE:e=SC.SelectButtonView.TINY_OFFSET_Y,t=SC.MenuPane.TINY_MENU_ITEM_HEIGHT,n=SC.MenuPane.TINY_MENU_ITEM_SEPARATOR_HEIGHT;break;case SC.SMALL_CONTROL_SIZE:e=SC.SelectButtonView.SMALL_OFFSET_Y,t=SC.MenuPane.SMALL_MENU_ITEM_HEIGHT,n=SC.MenuPane.SMALL_MENU_ITEM_SEPARATOR_HEIGHT;break;case SC.REGULAR_CONTROL_SIZE:e=SC.SelectButtonView.REGULAR_OFFSET_Y,t=SC.MenuPane.REGULAR_MENU_ITEM_HEIGHT,n=SC.MenuPane.REGULAR_MENU_ITEM_SEPARATOR_HEIGHT;break;case SC.LARGE_CONTROL_SIZE:e=SC.SelectButtonView.LARGE_OFFSET_Y,t=SC.MenuPane.LARGE_MENU_ITEM_HEIGHT,n=SC.MenuPane.LARGE_MENU_ITEM_SEPARATOR_HEIGHT;break;case SC.HUGE_CONTROL_SIZE:e=SC.SelectButtonView.HUGE_OFFSET_Y,t=SC.MenuPane.HUGE_MENU_ITEM_HEIGHT,n=SC.MenuPane.HUGE_MENU_ITEM_SEPARATOR_HEIGHT}var o=e,u=this.get("itemIdx"),a=this.get("leftAlign"),f,l;this.get("isDefaultPosition")?(f=[1,0,3],this.set("preferMatrix",f)):(u&&(o=u*t+e,i=this.get("separatorPosition"),s=this.get("objects").length
,i>0&&i<s&&u>=s-i&&(r=t-n,o-=r)),l=[a,-o,2],this.set("preferMatrix",l))},mouseDown:function(e){if(!this.get("isEnabled"))return YES;this.set("isActive",YES),this._isMouseDown=YES,this.becomeFirstResponder(),this._action(),this._menuRenderedTimestamp=0;var t=this;return setTimeout(function(){SC.run(function(){t._menuRenderedTimestamp=Date.now()})},1),YES},_recordMouseDownTimestamp:function(){this._menuRenderedTimestamp=(new Date).getTime()},mouseUp:function(e){var t=(new Date).getTime(),n=this._menuRenderedTimestamp,r=this.get("menu"),i=SC.platform.touch,s;return n===0&&(n=Date.now()),r&&(s=r.getPath("rootMenu.targetMenuItem"),s&&s.get("mouseHasEntered")?s.performAction()||r.remove():!i&&t-n>SC.ButtonView.CLICK_AND_HOLD_DELAY&&(!r.get("mouseHasEntered")&&!this.get("isDefaultPosition")?(s=r.get("currentMenuItem"),s&&!s.performAction()&&r.remove()):r.remove())),this._isMouseDown=NO,this.set("isActive",NO),YES},mouseExited:function(){return YES},keyDown:function(e){return this.interpretKeyEvents(e)?YES:e.keyCode===13?NO:arguments.callee.base.apply(this,arguments)},interpretKeyEvents:function(e){return e&&(e.keyCode===38||e.keyCode===40?this._action():e.keyCode===27&&this.resignFirstResponder()),arguments.callee.base.apply(this,arguments)},acceptsFirstResponder:function(){return this.get("isEnabled")}.property("isEnabled"),insertTab:function(e){var t=this.get("nextValidKeyView");return t?t.becomeFirstResponder():e.allowDefault(),YES},insertBacktab:function(e){var t=this.get("previousValidKeyView");return t?t.becomeFirstResponder():e.allowDefault(),YES},_button_isSelectedDidChange
:function(){}.observes("isSelected"),didAppendToDocument:function(){}}),SC.SelectButtonView.TINY_OFFSET_X=0,SC.SelectButtonView.TINY_OFFSET_Y=0,SC.SelectButtonView.TINY_POPUP_MENU_WIDTH_OFFSET=0,SC.SelectButtonView.SMALL_OFFSET_X=-20,SC.SelectButtonView.SMALL_OFFSET_Y=6,SC.SelectButtonView.SMALL_POPUP_MENU_WIDTH_OFFSET=7,SC.SelectButtonView.REGULAR_OFFSET_X=-30,SC.SelectButtonView.REGULAR_OFFSET_Y=4,SC.SelectButtonView.REGULAR_POPUP_MENU_WIDTH_OFFSET=4,SC.SelectButtonView.LARGE_OFFSET_X=-17,SC.SelectButtonView.LARGE_OFFSET_Y=6,SC.SelectButtonView.LARGE_POPUP_MENU_WIDTH_OFFSET=3,SC.SelectButtonView.HUGE_OFFSET_X=0,SC.SelectButtonView.HUGE_OFFSET_Y=0,SC.SelectButtonView.HUGE_POPUP_MENU_WIDTH_OFFSET=0,SC.SelectButtonView.MENU_WIDTH_OFFSET=-2,SC.SelectFieldView=SC.FieldView.extend({displayProperties:["objects","nameKey","valueKey","isEnabled"],acceptsFirstResponder:function(){return this.get("isEnabled")}.property("isEnabled"),tagName:"select",classNames:["sc-select-field-view"],objects:[],objectsBindingDefault:SC.Binding.multiple(),nameKey:null,sortKey:null,valueKey:null,emptyName:null,localize:NO,cpDidChange:YES,disableSort:NO,validateMenuItem:function(e,t){return YES},sortObjects:function(e){if(!this.get("disableSort")){var t=this.get("sortKey")||this.get("nameKey");t?e=e.sortProperty(t):e=e.sort(function(e,n){return t&&(e=e.get?e.get(t):e[t],n=n.get?n.get(t):n[t]),e<n?-1:e>n?1:0})}return e},render:function(e,t){if(t||this.get("cpDidChange")){this.set("cpDidChange",NO);var n=this.get("nameKey"),r=this.get("valueKey"),i=this.get("objects"),s=this.get("value"),o,u;this.get("isEnabled"
)||e.attr("disabled","disabled");var a=this.get("localize");!r&&s&&(s=SC.guidFor(s));if(s===null||s==="")s="***";if(i){i=this.sortObjects(i);if(!t){u=this.$input()[0];if(!u)return;u.innerHTML=""}var f=this.get("emptyName");f&&(a&&(f=SC.String.loc(f)),t?e.push('<option value="***">'+f+"</option>",'<option disabled="disabled"></option>'):(o=document.createElement("option"),o.value="***",o.innerHTML=f,u.appendChild(o),o=document.createElement("option"),o.disabled="disabled",u.appendChild(o))),i.forEach(function(i,l){if(i){var c=n?i.get?i.get(n):i[n]:i.toString();a&&(c=SC.String.loc(c));var h=r?i.get?i.get(r):i[r]:i;!f&&l===0&&s==="***"&&this.set("value",h),h!==null&&h!==undefined&&(h=SC.guidFor(h)?SC.guidFor(h):h.toString());var p=this.validateMenuItem&&this.validateMenuItem(h,c)?"":'disabled="disabled" ';t?e.push("<option "+p+'value="'+h+'">'+c+"</option>"):(o=document.createElement("option"),o.value=h,o.innerHTML=c,p.length>0&&(o.disable="disabled"),u.appendChild(o))}else t?e.push('<option disabled="disabled"></option>'):(o=document.createElement("option"),o.disabled="disabled",u.appendChild(o))},this),this.setFieldValue(s)}else this.set("value",null)}else this.$().prop("disabled",!this.get("isEnabled"))},_objectsObserver:function(){this.set("cpDidChange",YES)}.observes("objects"),_objectArrayObserver:function(){this.set("cpDidChange",YES),this.propertyDidChange("objects")}.observes("*objects.[]"),_nameKeyObserver:function(){this.set("cpDidChange",YES)}.observes("nameKey"),_valueKeyObserver:function(){this.set("cpDidChange",YES)}.observes("valueKey"),_isEnabledObserver:function(
){this.set("cpDidChange",YES)}.observes("isEnabled"),$input:function(){return this.$()},mouseDown:function(e){return this.get("isEnabled")?arguments.callee.base.apply(this,arguments):(e.stop(),YES)},touchStart:function(e){return this.mouseDown(e)},touchEnd:function(e){return this.mouseUp(e)},getFieldValue:function(){var e=arguments.callee.base.apply(this,arguments),t=this.get("valueKey"),n=this.get("objects"),r=null,i;if(e=="***")e=null;else if(e&&n){var s=SC.typeOf(n.length)===SC.T_FUNCTION?n.length():n.length;while(!r&&--s>=0){i=n.objectAt?n.objectAt(s):n[s];if(i===null||i===undefined)continue;t&&(i=i.get?i.get(t):i[t]);var o=i!==null&&i!==undefined?SC.guidFor(i)?SC.guidFor(i):i.toString():null;e==o&&(r=i)}}return t||r?r:e},setFieldValue:function(e){return SC.none(e)?e="***":e=e!==null&&e!==undefined?SC.guidFor(e)?SC.guidFor(e):e.toString():null,this.$input().val(e),this},fieldDidFocus:function(){var e=this.get("isFocused");e||this.set("isFocused",!0)},fieldDidBlur:function(){var e=this.get("isFocused");e&&this.set("isFocused",!1)},_isFocusedObserver:function(){this.$().setClass("focus",this.get("isFocused"))}.observes("isFocused"),didCreateLayer:function(){var e=this.$input();this.get("isEnabled")===!1&&(this.$()[0].disabled=!0),SC.Event.add(e,"blur",this,this.fieldDidBlur),SC.Event.add(e,"focus",this,this.fieldDidFocus),SC.Event.add(e,"change",this,this._field_fieldValueDidChange)},willDestroyLayer:function(){var e=this.$input();SC.Event.remove(e,"focus",this,this.fieldDidFocus),SC.Event.remove(e,"blur",this,this.fieldDidBlur),SC.Event.remove(e,"change",this,this._field_fieldValueDidChange
)}}),SC.SliderView=SC.View.extend(SC.Control,{classNames:"sc-slider-view",ariaRole:"slider",value:.5,valueBindingDefault:SC.Binding.single().notEmpty(),minimum:0,minimumBindingDefault:SC.Binding.single().notEmpty(),contentMinimumKey:null,maximum:1,maximumBindingDefault:SC.Binding.single().notEmpty(),contentMaximumKey:null,step:.1,decimalPrecisionScale:10,trackMargin:0,isAdjustableByMouseWheel:YES,layoutDirection:SC.LAYOUT_HORIZONTAL,displayProperties:["displayValue","ariaValue","minimum","maximum","step","frame","layoutDirection"],acceptsFirstResponder:function(){return SC.FOCUS_ALL_CONTROLS?this.get("isEnabled"):NO}.property("isEnabled"),didBecomeFirstResponder:function(){this.$(".sc-handle").focus()},willLoseFirstResponder:function(){this.$(".sc-handle").blur()},ariaValue:function(){return this.get("value")}.property("value").cacheable(),renderDelegateName:"sliderRenderDelegate",displayValue:function(){var e=this.get("minimum"),t=this.get("maximum"),n=this.get("value"),r=this.get("step");return n=Math.min(Math.max(n,e),t),!SC.none(r)&&r!==0&&(n=Math.round(n/r)*r),n!==0&&(n=Math.floor((n-e)/(t-e)*100)),n}.property("value","minimum","maximum","step").cacheable(),_isMouseDown:NO,mouseDown:function(e){return this.get("isEnabled")?(this.set("isActive",YES),this._isMouseDown=YES,this.becomeFirstResponder(),this._triggerHandle(e,YES)):YES},mouseDragged:function(e){return this._isMouseDown?this._triggerHandle(e):YES},mouseUp:function(e){this._isMouseDown&&this.set("isActive",NO);var t=this._isMouseDown?this._triggerHandle(e):YES;return this._isMouseDown=NO,t},mouseWheel:function(e
){if(!this.get("isEnabled"))return YES;var t=this.get("minimum"),n=this.get("maximum"),r=this.get("step"),i=this.get("value")+(e.wheelDeltaX+e.wheelDeltaY)*r,s=Math.round(i/r)*r;return s<t?this.setIfChanged("value",t):s>n?this.setIfChanged("value",n):this.setIfChanged("value",s),YES},touchStart:function(e){return this.mouseDown(e)},touchEnd:function(e){return this.mouseUp(e)},touchesDragged:function(e){return this.mouseDragged(e)},_triggerHandle:function(e,t){var n=this.get("frame"),r=n.width,i=n.height,s=this.get("minimum"),o=this.get("maximum"),u=this.get("step"),a=this.get("value"),f=this.get("trackMargin"),l=this.get("layoutDirection"),c=l===SC.LAYOUT_HORIZONTAL,h,p;c?(p=r,t?(h=this.convertFrameFromView({x:e.pageX}).x,this._evtDiff=e.pageX-h):h=e.pageX-this._evtDiff):(p=i,t?(h=this.convertFrameFromView({y:e.pageY}).y,this._evtDiff=e.pageY-h):h=e.pageY-this._evtDiff),p-=2*f,h-=f,p<=0?(p=1,h=0):h/=p,c||(h=1-h);if(t){var d=this.get("value");d=(d-s)/(o-s),Math.abs(d*p-h*p)<16?this._offset=d-h:this._offset=0}h=Math.max(0,Math.min(h+this._offset,1)),h=s+(o-s)*h,u!==0&&(h=Math.round(h/u)*u);var v=this.get("decimalPrecisionScale");return h=Math.round(h*v)/v,Math.abs(a-h)>=.01&&this.set("value",h),YES},keyDown:function(e){if(e.which===9||e.keyCode===9){var t=e.shiftKey?this.get("previousValidKeyView"):this.get("nextValidKeyView");return t?t.becomeFirstResponder():e.allowDefault(),YES}if(e.which>=33&&e.which<=40){var n=this.get("minimum"),r=this.get("maximum"),i=this.get("step"),s=r-n,o=0,u,a=this.get("value");if(e.which===34||e.which===37||e.which===40)i===0?s<100?o=a-1:(u=Math.abs
(s/100),u<2&&(u=2),o=a-u):o=Math.round((a-i)*10)/10;if(e.which===33||e.which===38||e.which===39)i===0?s<100?o=a+2:(u=Math.abs(s/100),u<2&&(u=2),o=a+u):o=Math.round((a+i)*10)/10;if(e.which===38||e.which===39)e.altKey||(o=a+i*10);if(e.which===37||e.which===40)e.altKey||(o=a-i*10);return e.which===33&&(o=a+i*100),e.which===34&&(o=a-i*100),e.which===35&&(o=r),e.which===36&&(o=n),o>=n&&o<=r?this.set("value",o):o<n?this.set("value",n):o>r&&this.set("value",r),YES}return e.allowDefault(),NO},contentKeys:{contentValueKey:"value",contentMinimumKey:"minimum",contentMaximumKey:"maximum",contentIsIndeterminateKey:"isIndeterminate"}}),SC.SourceListGroupView=SC.View.extend(SC.Control,SC.CollectionGroup,{classNames:["sc-source-list-group"],content:null,isGroupVisible:YES,hasGroupTitle:YES,groupTitleKey:null,groupVisibleKey:null,render:function(e,t){e.push('<div role="button" class="sc-source-list-label sc-disclosure-view sc-button-view button disclosure no-disclosure">','<img src="'+SC.BLANK_IMAGE_URL+'" class="button" />','<span class="label"></span></div>')},createChildViews:function(){},contentPropertyDidChange:function(e,t){var n=this.get("content"),r=this.outlet("labelView");if(n===null){r.setIfChanged("isVisible",NO),this.setIfChanged("hasGroupTitle",NO);return}r.setIfChanged("isVisible",YES),this.setIfChanged("hasGroupTitle",YES);var i=this.getDelegateProperty("groupTitleKey",this.displayDelegate);if(t=="*"||i&&t==i){var s=n&&n.get&&i?n.get(i):n;s!=this._title&&(this._title=s,s&&(s=s.capitalize()),r.set("title",s))}var o=this.getDelegateProperty("groupVisibleKey",this.displayDelegate
);if(t=="*"||o&&t==o)if(o){r.removeClassName("no-disclosure");var u=n&&n.get?!!n.get(o):YES;u!=this.get("isGroupVisible")&&(this.set("isGroupVisible",u),r.set("value",u))}else r.addClassName("no-disclosure")},disclosureValueDidChange:function(e){if(e==this.get("isGroupVisible"))return;var t=this.get("content"),n=this.getDelegateProperty("groupVisibleKey",this.displayDelegate);t&&t.set&&n&&t.set(n,e),this.set("isGroupVisible",e),this.owner&&this.owner.updateChildren&&this.owner.updateChildren(!0)},labelView:SC.DisclosureView.extend({value:YES,_valueObserver:function(){this.owner&&this.owner.disclosureValueDidChange(this.get("value"))}.observes("value")})}),SC.SourceListView=SC.ListView.extend({themeName:"source-list",classNames:["sc-source-list"],rowHeight:32,selectOnMouseDown:NO,actOnSelect:YES}),SC.SplitDividerView=SC.View.extend({classNames:["sc-split-divider-view"],mouseDown:function(e){var t=this.get("splitView");return t?t.mouseDownInThumbView(e,this):arguments.callee.base.apply(this,arguments)},doubleClick:function(e){var t=this.get("splitView");return t?t.doubleClickInThumbView(e,this):arguments.callee.base.apply(this,arguments)},touchStart:function(e){return this.mouseDown(e)}}),SC.RESIZE_BOTH="resize-both",SC.RESIZE_TOP_LEFT="resize-top-left",SC.RESIZE_BOTTOM_RIGHT="resize-bottom-right",SC.SplitView=SC.View.extend({classNames:["sc-split-view"],displayProperties:["layoutDirection"],delegate:null,layoutDirection:SC.LAYOUT_HORIZONTAL,canCollapseViews:YES,autoresizeBehavior:SC.RESIZE_BOTTOM_RIGHT,defaultThickness:.5,topLeftMinThickness:null,topLeftMaxThickness:null,bottomRightMinThickness
:null,bottomRightMaxThickness:null,dividerThickness:null,isSplitView:YES,topLeftView:SC.View,dividerView:SC.SplitDividerView,bottomRightView:SC.View,topLeftThickness:function(){var e=this.get("topLeftView");return e?this.thicknessForView(e):0}.property("topLeftView").cacheable(),bottomRightThickness:function(){var e=this.get("bottomRightView");return e?this.thicknessForView(e):0}.property("bottomRightView").cacheable(),thumbViewCursor:null,canCollapseView:function(e){return this.invokeDelegateMethod(this.delegate,"splitViewCanCollapse",this,e)},thicknessForView:function(e){var t=this.get("layoutDirection"),n=e.get("frame");return t===SC.LAYOUT_HORIZONTAL?n.width:n.height},createChildViews:function(){var e=[],t=["topLeftView","dividerView","bottomRightView"],n=t.length,r,i;for(i=0;i<n;++i)if(r=this.get(t[i]))r=this[t[i]]=this.createChildView(r,{layoutView:this,rootElementPath:[i]}),e.push(r);return this.set("childViews",e),this},updateChildLayout:function(){var e=this.get("topLeftView"),t=this.get("bottomRightView"),n=this.get("dividerView"),r=this.get("autoresizeBehavior"),i=this.get("layoutDirection"),s=this.get("frame"),o=this._desiredTopLeftThickness,u=this.get("dividerThickness"),a=i===SC.LAYOUT_HORIZONTAL?s.width:s.height,f=a-u-o,l,c;u=SC.none(u)?7:u,c=e.get("isCollapsed")||NO,e.setIfChanged("isVisible",!c),l=SC.clone(e.get("layout"));if(i===SC.LAYOUT_HORIZONTAL){l.top=0,l.left=0,l.bottom=0;switch(r){case SC.RESIZE_BOTH:throw"SC.RESIZE_BOTH is currently unsupported.";case SC.RESIZE_TOP_LEFT:l.right=f+u,delete l.width;break;case SC.RESIZE_BOTTOM_RIGHT:delete l.right,delete 
l.height,l.width=o}}else{l.top=0,l.left=0,l.right=0;switch(r){case SC.RESIZE_BOTH:throw"SC.RESIZE_BOTH is currently unsupported.";case SC.RESIZE_TOP_LEFT:l.bottom=f+u,delete l.height;break;case SC.RESIZE_BOTTOM_RIGHT:l.height=o,delete l.bottom,delete l.width}}e.set("layout",l);if(n){l=SC.clone(n.get("layout"));if(i===SC.LAYOUT_HORIZONTAL){l.width=u,l.top=0,l.bottom=0,delete l.height;switch(r){case SC.RESIZE_BOTH:throw"SC.RESIZE_BOTH is currently unsupported.";case SC.RESIZE_TOP_LEFT:l.right=f,delete l.left,delete l.centerX,delete l.centerY;break;case SC.RESIZE_BOTTOM_RIGHT:l.left=o,delete l.right,delete l.centerX,delete l.centerY}}else{l.height=u,l.left=0,l.right=0,delete l.width;switch(r){case SC.RESIZE_BOTH:throw"SC.RESIZE_BOTH is currently unsupported.";case SC.RESIZE_TOP_LEFT:l.bottom=f,delete l.top,delete l.centerX,delete l.centerY;break;case SC.RESIZE_BOTTOM_RIGHT:l.top=o,delete l.bottom,delete l.centerX,delete l.centerY}}n.set("layout",l)}c=t.get("isCollapsed")||NO,t.setIfChanged("isVisible",!c),l=SC.clone(t.get("layout"));if(i===SC.LAYOUT_HORIZONTAL){l.top=0,l.bottom=0,l.right=0;switch(r){case SC.RESIZE_BOTH:throw"SC.RESIZE_BOTH is currently unsupported.";case SC.RESIZE_BOTTOM_RIGHT:l.left=o+u,delete l.width;break;case SC.RESIZE_TOP_LEFT:l.width=f,delete l.left}}else{l.left=0,l.right=0,l.bottom=0;switch(r){case SC.RESIZE_BOTH:throw"SC.RESIZE_BOTH is currently unsupported.";case SC.RESIZE_BOTTOM_RIGHT:l.top=o+u,delete l.height;break;case SC.RESIZE_TOP_LEFT:delete l.top,l.height=f}}t.set("layout",l),this.notifyPropertyChange("topLeftThickness").notifyPropertyChange("bottomRightThickness"
)},renderLayout:function(e,t){if(t||this._recalculateDivider){var n=this.get("layoutDirection"),r=this.get("frame"),i=this.$(),s=this.get("defaultThickness"),o=this.get("autoresizeBehavior"),u=this.get("dividerThickness"),a;this.get("thumbViewCursor")||this.set("thumbViewCursor",SC.Cursor.create()),u=SC.none(u)?7:u,this._recalculateDivider===undefined&&s<1?this._recalculateDivider=YES:this._recalculateDivider&&(this._recalculateDivider=NO),i[0]?a=n===SC.LAYOUT_HORIZONTAL?i[0].offsetWidth:i[0].offsetHeight:a=n===SC.LAYOUT_HORIZONTAL?r.width:r.height;if(SC.none(s)||s>0&&s<1)s=Math.floor((a-u)*(s||.5));o===SC.RESIZE_BOTTOM_RIGHT?this._desiredTopLeftThickness=s:this._desiredTopLeftThickness=a-u-s,this._topLeftView=this.get("topLeftView"),this._bottomRightView=this.get("bottomRightView"),this._topLeftViewThickness=this.thicknessForView(this.get("topLeftView")),this._bottomRightThickness=this.thicknessForView(this.get("bottomRightView")),this._dividerThickness=this.get("dividerThickness"),this._layoutDirection=this.get("layoutDirection"),this._updateTopLeftThickness(0),this._setCursorStyle(),this.updateChildLayout()}arguments.callee.base.apply(this,arguments)},render:function(e,t){arguments.callee.base.apply(this,arguments),this._inLiveResize&&this._setCursorStyle(),this.get("layoutDirection")===SC.LAYOUT_HORIZONTAL?e.addClass("sc-horizontal"):e.addClass("sc-vertical")},mouseDownInThumbView:function(e,t){var n=this.getPath("pane.rootResponder");return n?(n.dragDidStart(this),this._mouseDownX=e.pageX,this._mouseDownY=e.pageY,this._thumbView=t,this._topLeftView=this.get("topLeftView"
),this._bottomRightView=this.get("bottomRightView"),this._topLeftViewThickness=this.thicknessForView(this.get("topLeftView")),this._bottomRightThickness=this.thicknessForView(this.get("bottomRightView")),this._dividerThickness=this.get("dividerThickness"),this._layoutDirection=this.get("layoutDirection"),this.beginLiveResize(),this._inLiveResize=YES,YES):NO},mouseDragged:function(e){var t=this._layoutDirection===SC.LAYOUT_HORIZONTAL?e.pageX-this._mouseDownX:e.pageY-this._mouseDownY;return this._updateTopLeftThickness(t),YES},mouseUp:function(e){if(this._inLiveResize===YES)return this._thumbView=null,this._inLiveResize=NO,this.endLiveResize(),YES;var t=this.get("thumbViewCursor"),n=SC.clone(t),r=this.get("dividerView");return t.set("cursorStyle",SC.SYSTEM_CURSOR),r.set("cursor",n),this.set("cursor",t),NO},touchesDragged:function(e){return this.mouseDragged(e)},touchEnd:function(e){return this.mouseUp(e)},doubleClickInThumbView:function(e,t){var n=this._topLeftView,r=n.get("isCollapsed")||NO;if(!r&&!this.canCollapseView(n)){n=this._bottomRightView,r=n.get("isCollapsed")||NO;if(!r&&!this.canCollapseView(n))return NO}return r?(n===this._topLeftView?this._updateTopLeftThickness(this._uncollapsedThickness):this._updateBottomRightThickness(this._uncollapsedThickness),n._uncollapsedThickness=null):(this._uncollapsedThickness=this.thicknessForView(n),n===this._topLeftView?this._updateTopLeftThickness(this.topLeftThickness()*-1):this._updateBottomRightThickness(this.bottomRightThickness()*-1),n.get("isCollapsed")||(this._uncollapsedThickness=null)),this._setCursorStyle(),!0},_updateTopLeftThickness
:function(e){var t=this._topLeftView,n=this._bottomRightView,r=this.thicknessForView(t),i=this.thicknessForView(n),s=this._dividerThickness,o=0,u=this._topLeftViewThickness+e,a=this._layoutDirection,f=this.canCollapseView(n),l=u,c=this.get("topLeftMaxThickness"),h=this.get("topLeftMinThickness"),p,d,v;t.get("isCollapsed")||(o+=r),n.get("isCollapsed")||(o+=i),SC.none(c)||(l=Math.min(c,l)),SC.none(h)||(l=Math.max(h,l)),c=this.get("bottomRightMaxThickness"),h=this.get("bottomRightMinThickness"),p=o-l,SC.none(c)||(p=Math.min(c,p)),SC.none(h)||(p=Math.max(h,p)),l=o-p,l=this.invokeDelegateMethod(this.delegate,"splitViewConstrainThickness",this,t,l),l=Math.min(l,o),l=Math.max(0,l),d=t.get("collapseAtThickness"),d||(d=0),v=n.get("collapseAtThickness"),v=SC.none(v)?o:o-v;if(u<=d&&this.canCollapseView(t)){c=n.get("maxThickness");if(!c||s+o<=c)l=0}else if(u>=v&&this.canCollapseView(n)){c=t.get("maxThickness");if(!c||s+o<=c)l=o}l!=this.thicknessForView(t)&&(this._desiredTopLeftThickness=l,t.set("isCollapsed",l===0),n.set("isCollapsed",l>=o),this.updateChildLayout(),this.displayDidChange())},_updateBottomRightThickness:function(e){var t=this._topLeftView,n=this._bottomRightView,r=this.thicknessForView(t),i=this.thicknessForView(n),s=this._dividerThickness,o=0,u=this._topLeftViewThickness+e,a=this._layoutDirection,f=this.canCollapseView(n),l=u,c=this.get("topLeftMaxThickness"),h=this.get("topLeftMinThickness"),p,d,v;t.get("isCollapsed")||(o+=r),n.get("isCollapsed")||(o+=i),SC.none(c)||(l=Math.min(c,l)),SC.none(h)||(l=Math.max(h,l)),c=this.get("bottomRightMaxThickness"),h=this.get("bottomRightMinThickness"
),p=o-l,SC.none(c)||(p=Math.min(c,p)),SC.none(h)||(p=Math.max(h,p)),l=o-p,l=this.invokeDelegateMethod(this.delegate,"splitViewConstrainThickness",this,t,l),l=Math.min(l,o),l=Math.max(0,l),d=t.get("collapseAtThickness"),d||(d=0),v=n.get("collapseAtThickness"),v=SC.none(v)?o:o-v;if(u<=d&&this.canCollapseView(t)){c=n.get("maxThickness");if(!c||s+o<=c)l=0}else if(u>=v&&this.canCollapseView(n)){c=t.get("maxThickness");if(!c||s+o<=c)l=o}l!=this.thicknessForView(t)&&(this._desiredTopLeftThickness=l,t.set("isCollapsed",l===0),n.set("isCollapsed",l>=o),this.updateChildLayout(),this.displayDidChange())},_setCursorStyle:function(){var e=this._topLeftView,t=this._bottomRightView,n=this.get("thumbViewCursor"),r=this.thicknessForView(e),i=this.thicknessForView(t),s=this.get("dividerView");this._layoutDirection=this.get("layoutDirection"),e.get("isCollapsed")||r===this.get("topLeftMinThickness")||i==this.get("bottomRightMaxThickness")?n.set("cursorStyle",this._layoutDirection===SC.LAYOUT_HORIZONTAL?"e-resize":"s-resize"):t.get("isCollapsed")||r===this.get("topLeftMaxThickness")||i==this.get("bottomRightMinThickness")?n.set("cursorStyle",this._layoutDirection===SC.LAYOUT_HORIZONTAL?"w-resize":"n-resize"):SC.browser.msie?n.set("cursorStyle",this._layoutDirection===SC.LAYOUT_HORIZONTAL?"e-resize":"n-resize"):n.set("cursorStyle",this._layoutDirection===SC.LAYOUT_HORIZONTAL?"ew-resize":"ns-resize"),s.set("cursor",n),this._inLiveResize&&this.set("cursor",n)}.observes("layoutDirection"),splitViewCanCollapse:function(e,t){return e.get("canCollapseViews")===NO?NO:t.get("canCollapse")===NO?NO:YES},splitViewConstrainThickness
:function(e,t,n){return n},_forceSplitCalculation:function(){this.updateLayout()}.observes("*pane.isPaneAttached"),viewDidResize:function(){arguments.callee.base.apply(this,arguments),this.notifyPropertyChange("topLeftThickness").notifyPropertyChange("bottomRightThickness")}.observes("layout")}),SC.mixin(SC.View.prototype,{splitView:function(){var e=this;while(e&&!e.isSplitView)e=e.get("parentView");return e}.property("parentView").cacheable()}),SC.StackedView=SC.CollectionView.extend({classNames:["sc-stacked-view"],layout:{top:0,left:0,right:0,height:1},computeNowShowing:function(e){return this.get("allContentIndexes")},updateHeight:function(e){return e?this._updateHeight():this.invokeLast(this._updateHeight),this},_updateHeight:function(){var e=this.get("childViews"),t=e.get("length"),n,r,i;t===0?i=1:(n=e.objectAt(t-1),r=n?n.get("layer"):null,i=r?r.offsetTop+r.offsetHeight:1,r=null),this.adjust("height",i)},didReload:function(e){return this.updateHeight()},didCreateLayer:function(){return this.updateHeight()}}),SC.StaticContentView=SC.View.extend(SC.StaticLayout,{classNames:["sc-static-content-view"],displayProperties:["content"],content:null,contentLayoutDidChange:function(){this._viewFrameDidChange()},useStaticLayout:YES,frame:function(){var e=this.get("layer"),t;return e?e.getBoundingClientRect&&!SC.browser.isIE8OrLower?(t=e.getBoundingClientRect(),{x:0,y:0,width:t.width,height:t.height}):{x:0,y:0,width:e.clientWidth,height:e.clientHeight}:{x:0,y:0,width:0,height:0}}.property("content").cacheable(),parentViewDidResize:function(){this.contentLayoutDidChange()},didUpdateLayer
:function(){this.contentLayoutDidChange()},render:function(e,t){var n=this.get("content");n&&e.push(n||"")},touchStart:function(e){return e.allowDefault(),YES},touchEnd:function(e){return e.allowDefault(),YES}}),SC.TOP_LOCATION="top",SC.TOP_TOOLBAR_LOCATION="top-toolbar",SC.BOTTOM_LOCATION="bottom",SC.TabView=SC.View.extend({classNames:["sc-tab-view"],displayProperties:["nowShowing"],nowShowing:null,items:[],isEnabled:YES,itemTitleKey:null,itemValueKey:null,itemIsEnabledKey:null,itemIconKey:null,itemWidthKey:null,itemToolTipKey:null,tabHeight:SC.REGULAR_BUTTON_HEIGHT,tabLocation:SC.TOP_LOCATION,userDefaultKey:null,_tab_nowShowingDidChange:function(){var e=this.get("nowShowing");return this.get("containerView").set("nowShowing",e),this.get("segmentedView").set("value",e),this}.observes("nowShowing"),_tab_saveUserDefault:function(){var e=this.get("nowShowing"),t=this.get("userDefaultKey");t&&SC.userDefaults.set([t,"nowShowing"].join(":"),e)}.observes("nowShowing"),_tab_itemsDidChange:function(){return this.get("segmentedView").set("items",this.get("items")),this}.observes("items"),init:function(){arguments.callee.base.apply(this,arguments),this._tab_nowShowingDidChange()._tab_itemsDidChange()},awake:function(){arguments.callee.base.apply(this,arguments);var e=this.get("userDefaultKey");if(e){e=[e,"nowShowing"].join(":");var t=SC.userDefaults.get(e);SC.none(t)||this.set("nowShowing",t)}},createChildViews:function(){var e=[],t,n,r=this.get("tabLocation"),i=this.get("tabHeight"),s=this.get("controlSize");return r===SC.TOP_LOCATION?n={top:i/2+1,left:0,right:0,bottom:0,border:1}:r===
SC.TOP_TOOLBAR_LOCATION?n={top:i+1,left:0,right:0,bottom:0,border:1}:n={top:0,left:0,right:0,bottom:i/2-1,border:1},t=this.containerView.extend({layout:n,ariaRole:"tabpanel"}),this.containerView=this.createChildView(t),n=r===SC.TOP_LOCATION||r===SC.TOP_TOOLBAR_LOCATION?{height:i,left:0,right:0,top:0}:{height:i,left:0,right:0,bottom:0},this.segmentedView=this.get("segmentedView").extend({layout:n,controlSize:s,_sc_tab_segmented_valueDidChange:function(){var e=this.get("parentView");e&&e.set("nowShowing",this.get("value"))}.observes("value"),init:function(){var e=this.get("parentView");return e&&SC._TAB_ITEM_KEYS.forEach(function(t){this[t]=e.get(t)},this),arguments.callee.base.apply(this,arguments)}}),this.segmentedView=this.createChildView(this.segmentedView),e.push(this.segmentedView),e.push(this.containerView),this.set("childViews",e),this},containerView:SC.ContainerView.extend({renderDelegateName:"wellRenderDelegate"}),segmentedView:SC.SegmentedView}),SC._TAB_ITEM_KEYS=["itemTitleKey","itemValueKey","itemIsEnabledKey","itemIconKey","itemWidthKey","itemToolTipKey","itemActionKey","itemTargetKey"],SC.ThumbView=SC.View.extend({classNames:["sc-thumb-view"],isEnabled:YES,isEnabledBindingDefault:SC.Binding.bool(),prepareContext:function(e,t){var n=this.get("splitView");return n&&this.set("cursor",n.get("thumbViewCursor")),arguments.callee.base.apply(this,arguments)},mouseDown:function(e){if(!this.get("isEnabled"))return NO;var t=this.get("splitView");return t?t.mouseDownInThumbView(e,this):arguments.callee.base.apply(this,arguments)},touchStart:function(e){return this.mouseDown
(e)}}),SC.WebView=SC.View.extend(SC.Control,{classNames:"sc-web-view",displayProperties:["value","shouldAutoResize"],shouldAutoResize:NO,render:function(e,t){var n=this.get("value"),r;t?e.push('<iframe src="'+n+'" style="position: absolute; width: 100%; height: 100%; border: 0px; margin: 0px; padding: 0px;"></iframe>'):n!==this._lastSrc&&(r=this.$("iframe"),r.attr("src","javascript:;"),r.attr("src",n)),this._lastSrc=n},didCreateLayer:function(){var e=this.$("iframe");SC.Event.add(e,"load",this,this.iframeDidLoad)},willDestroyLayer:function(){var e=this.$("iframe");SC.Event.remove(e,"load",this,this.iframeDidLoad)},iframeDidLoad:function(){if(this.get("shouldAutoResize")===YES){var e,t=this.$("iframe")[0];if(t&&t.contentWindow){e=t.contentWindow;if(e&&e.document&&e.document.documentElement){var n=e.document.documentElement;SC.browser.isIE?(this.$().width(n.scrollWidth+12),this.$().height(n.scrollHeight+5)):(this.$().width(n.scrollWidth),this.$().height(n.scrollHeight))}}}}}),SC.WELL_CONTAINER_PADDING=15,SC.WellView=SC.ContainerView.extend({classNames:"sc-well-view",contentLayout:{top:SC.WELL_CONTAINER_PADDING,bottom:SC.WELL_CONTAINER_PADDING,left:SC.WELL_CONTAINER_PADDING,right:SC.WELL_CONTAINER_PADDING},renderDelegateName:"wellRenderDelegate",createChildViews:function(){var e=this.get("contentView");e&&(e=this.contentView=this.createChildView(e),e.set("layout",this.contentLayout),this.childViews=[e])},contentViewDidChange:function(){var e=this.get("contentView");e.set("layout",this.contentLayout),this.replaceContent(e)}.observes("contentView")}),SC.MIXED_STATE="__MIXED__",SC
.DataSource=SC.Object.extend({fetch:function(e,t){return NO},retrieveRecords:function(e,t,n){return this._handleEach(e,t,this.retrieveRecord,n)},commitRecords:function(e,t,n,r,i){var s,o,u;return t.length>0&&(u=this.createRecords.call(this,e,t,i)),n.length>0&&(s=this.updateRecords.call(this,e,n,i),u=SC.none(u)?s:u===s?u:SC.MIXED_STATE),r.length>0&&(o=this.destroyRecords.call(this,e,r,i),u=SC.none(u)?o:u===o?u:SC.MIXED_STATE),u||NO},cancel:function(e,t){return NO},updateRecords:function(e,t,n){return this._handleEach(e,t,this.updateRecord,null,n)},createRecords:function(e,t,n){return this._handleEach(e,t,this.createRecord,null,n)},destroyRecords:function(e,t,n){return this._handleEach(e,t,this.destroyRecord,null,n)},_handleEach:function(e,t,n,r,i){var s=t.length,o,u,a,f;for(o=0;o<s;o++)f=r?r[o]:i,a=n.call(this,e,t[o],f),u===undefined?u=a:u===YES?u=a===YES?YES:SC.MIXED_STATE:u===NO&&(u=a===NO?NO:SC.MIXED_STATE);return SC.none(u)?null:u},updateRecord:function(e,t,n){return NO},retrieveRecord:function(e,t,n){return NO},createRecord:function(e,t,n){return NO},destroyRecord:function(e,t,n){return NO}}),SC.CascadeDataSource=SC.DataSource.extend({dataSources:null,from:function(e){var t=this.get("dataSources");return t||this.set("dataSources",t=[]),t.push(e),this},fetch:function(e,t){var n=this.get("dataSources"),r=n?n.length:0,i=NO,s,o,u;for(u=0;i!==YES&&u<r;u++)o=n.objectAt(u),s=o.fetch?o.fetch.apply(o,arguments):NO,i=this._handleResponse(i,s);return i},retrieveRecords:function(e,t,n){var r=this.get("dataSources"),i=r?r.length:0,s=NO,o,u,a;for(a=0;s!==YES&&a<i;a++)u=r.objectAt(a),o=
u.retrieveRecords.apply(u,arguments),s=this._handleResponse(s,o);return s},commitRecords:function(e,t,n,r,i){var s=this.get("dataSources"),o=s?s.length:0,u=NO,a,f,l;for(l=0;u!==YES&&l<o;l++)f=s.objectAt(l),a=f.commitRecords.apply(f,arguments),u=this._handleResponse(u,a);return u},cancel:function(e,t){var n=this.get("dataSources"),r=n?n.length:0,i=NO,s,o,u;for(u=0;i!==YES&&u<r;u++)o=n.objectAt(u),s=o.cancel.apply(o,arguments),i=this._handleResponse(i,s);return i},init:function(){arguments.callee.base.apply(this,arguments);var e=this.get("dataSources"),t=e?e.get("length"):0,n;while(--t>=0)n=e[t],SC.typeOf(n)===SC.T_STRING&&(e[t]=this.get(n))},_handleResponse:function(e,t){return t===YES?YES:e===NO?t===NO?NO:SC.MIXED_STATE:SC.MIXED_STATE}}),SC.Query=SC.Object.extend(SC.Copyable,SC.Freezable,{isQuery:YES,conditions:null,orderBy:null,recordType:null,recordTypes:null,expandedRecordTypes:function(){var e=SC.CoreSet.create(),t,n;return(t=this.get("recordType"))?this._scq_expandRecordType(t,e):(t=this.get("recordTypes"))?t.forEach(function(t){this._scq_expandRecordType(t,e)},this):this._scq_expandRecordType(SC.Record,e),n=SC.Query._scq_queriesWithExpandedRecordTypes,n||(n=SC.Query._scq_queriesWithExpandedRecordTypes=SC.CoreSet.create()),n.add(this),e.freeze()}.property("recordType","recordTypes").cacheable(),_scq_expandRecordType:function(e,t){if(t.contains(e))return;t.add(e),SC.typeOf(e)===SC.T_STRING&&(e=SC.objectForPropertyPath(e)),e.subclasses.forEach(function(e){this._scq_expandRecordType(e,t)},this)},parameters:null,location:"local",scope:null,isRemote:function(){return this.get
("location")===SC.Query.REMOTE}.property("location").cacheable(),isLocal:function(){return this.get("location")===SC.Query.LOCAL}.property("location").cacheable(),isEditable:NO,contains:function(e,t){var n,r=YES;if(n=this.get("recordTypes"))r=n.find(function(t){return SC.kindOf(e,t)});else if(n=this.get("recordType"))r=SC.kindOf(e,n);if(!r)return NO;var i=this.get("scope");return i&&!i.contains(e)?NO:(this._isReady||this.parse(),this._isReady?(t===undefined&&(t=this.parameters||this),this._tokenTree.evaluate(e,t)):NO)},containsRecordTypes:function(e){var t=this.get("recordType");return t?!!e.find(function(e){return SC.kindOf(e,t)}):(t=this.get("recordTypes"))?!!t.find(function(t){return!!e.find(function(e){return SC.kindOf(e,t)})}):YES},compare:function(e,t){var n=0,r,i,s,o;if(e===t)return 0;this._isReady||this.parse();if(!this._isReady)return SC.compare(e.get("id"),t.get("id"));i=this._order;if(SC.typeOf(i)===SC.T_FUNCTION)n=i.call(null,e,t);else{s=i?i.length:0;for(o=0;n===0&&o<s;o++)r=i[o].propertyName,SC.Query.comparisons[r]?n=SC.Query.comparisons[r](e.get(r),t.get(r)):n=SC.compare(e.get(r),t.get(r)),n!==0&&i[o].descending&&(n=-1*n)}return n!==0?n:SC.compare(e.get("id"),t.get("id"))},_isReady:NO,parse:function(){var e=this.get("conditions"),t=this.get("queryLanguage"),n,r;n=this._tokenList=this.tokenizeString(e,t),r=this._tokenTree=this.buildTokenTree(n,t),this._order=this.buildOrder(this.get("orderBy")),this._isReady=!!r&&!r.error;if(r&&r.error)throw r.error;return this._isReady},queryWithScope:function(e){var t=SC.keyFor("__query__",SC.guidFor(this)),n=e[t];return n||(e
[t]=n=this.copy(),n.set("scope",e),n.freeze()),n},copyKeys:["conditions","orderBy","recordType","recordTypes","parameters","location","scope"],concatenatedProperties:["copyKeys"],copy:function(){var e={},t=this.get("copyKeys"),n=t?t.length:0,r,i,s;while(--n>=0)r=t[n],i=this.get(r),i!==undefined&&(e[r]=i);return s=this.constructor.create(e),e=null,s},queryLanguage:{UNKNOWN:{firstCharacter:/[^\s'"\w\d\(\)\{\}]/,notAllowed:/[\-\s'"\w\d\(\)\{\}]/},PROPERTY:{firstCharacter:/[a-zA-Z_]/,notAllowed:/[^a-zA-Z_0-9\.]/,evalType:"PRIMITIVE",evaluate:function(e,t){var n=this.tokenValue.split("."),r=n.length;if(r<2)return e.get(this.tokenValue);var i=e;for(var s=0;s<r;s++){if(!i)return;i.get?i=i.get(n[s]):i=i[n[s]]}return i}},NUMBER:{firstCharacter:/[\d\-]/,notAllowed:/[^\d\-\.]/,format:/^-?\d+$|^-?\d+\.\d+$/,evalType:"PRIMITIVE",evaluate:function(e,t){return parseFloat(this.tokenValue)}},STRING:{firstCharacter:/['"]/,delimeted:!0,evalType:"PRIMITIVE",evaluate:function(e,t){return this.tokenValue}},PARAMETER:{firstCharacter:/\{/,lastCharacter:"}",delimeted:!0,evalType:"PRIMITIVE",evaluate:function(e,t){return t[this.tokenValue]}},"%@":{rememberCount:!0,reservedWord:!0,evalType:"PRIMITIVE",evaluate:function(e,t){return t[this.tokenValue]}},OPEN_PAREN:{firstCharacter:/\(/,singleCharacter:!0},CLOSE_PAREN:{firstCharacter:/\)/,singleCharacter:!0},AND:{reservedWord:!0,leftType:"BOOLEAN",rightType:"BOOLEAN",evalType:"BOOLEAN",evaluate:function(e,t){var n=this.leftSide.evaluate(e,t),r=this.rightSide.evaluate(e,t);return n&&r}},OR:{reservedWord:!0,leftType:"BOOLEAN",rightType:"BOOLEAN",evalType:"BOOLEAN"
,evaluate:function(e,t){var n=this.leftSide.evaluate(e,t),r=this.rightSide.evaluate(e,t);return n||r}},NOT:{reservedWord:!0,rightType:"BOOLEAN",evalType:"BOOLEAN",evaluate:function(e,t){var n=this.rightSide.evaluate(e,t);return!n}},"=":{reservedWord:!0,leftType:"PRIMITIVE",rightType:"PRIMITIVE",evalType:"BOOLEAN",evaluate:function(e,t){var n=this.leftSide.evaluate(e,t),r=this.rightSide.evaluate(e,t);return SC.isEqual(n,r)}},"!=":{reservedWord:!0,leftType:"PRIMITIVE",rightType:"PRIMITIVE",evalType:"BOOLEAN",evaluate:function(e,t){var n=this.leftSide.evaluate(e,t),r=this.rightSide.evaluate(e,t);return!SC.isEqual(n,r)}},"<":{reservedWord:!0,leftType:"PRIMITIVE",rightType:"PRIMITIVE",evalType:"BOOLEAN",evaluate:function(e,t){var n=this.leftSide.evaluate(e,t),r=this.rightSide.evaluate(e,t);return SC.compare(n,r)==-1}},"<=":{reservedWord:!0,leftType:"PRIMITIVE",rightType:"PRIMITIVE",evalType:"BOOLEAN",evaluate:function(e,t){var n=this.leftSide.evaluate(e,t),r=this.rightSide.evaluate(e,t);return SC.compare(n,r)!=1}},">":{reservedWord:!0,leftType:"PRIMITIVE",rightType:"PRIMITIVE",evalType:"BOOLEAN",evaluate:function(e,t){var n=this.leftSide.evaluate(e,t),r=this.rightSide.evaluate(e,t);return SC.compare(n,r)==1}},">=":{reservedWord:!0,leftType:"PRIMITIVE",rightType:"PRIMITIVE",evalType:"BOOLEAN",evaluate:function(e,t){var n=this.leftSide.evaluate(e,t),r=this.rightSide.evaluate(e,t);return SC.compare(n,r)!=-1}},BEGINS_WITH:{reservedWord:!0,leftType:"PRIMITIVE",rightType:"PRIMITIVE",evalType:"BOOLEAN",evaluate:function(e,t){var n=this.leftSide.evaluate(e,t),r=this.rightSide.evaluate(e,
t);return n&&n.indexOf(r)===0}},ENDS_WITH:{reservedWord:!0,leftType:"PRIMITIVE",rightType:"PRIMITIVE",evalType:"BOOLEAN",evaluate:function(e,t){var n=this.leftSide.evaluate(e,t),r=this.rightSide.evaluate(e,t);return n&&n.indexOf(r)===n.length-r.length}},CONTAINS:{reservedWord:!0,leftType:"PRIMITIVE",rightType:"PRIMITIVE",evalType:"BOOLEAN",evaluate:function(e,t){var n=this.leftSide.evaluate(e,t)||[],r=this.rightSide.evaluate(e,t),i=SC.typeOf(n);if(i===SC.T_STRING)return n.indexOf(r)!==-1;if(i===SC.T_ARRAY||n.toArray){i!==SC.T_ARRAY&&(n=n.toArray());var s=!1,o=0;while(s===!1&&o<n.length)r==n[o]&&(s=!0),o++;return s}}},ANY:{reservedWord:!0,leftType:"PRIMITIVE",rightType:"PRIMITIVE",evalType:"BOOLEAN",evaluate:function(e,t){var n=this.leftSide.evaluate(e,t),r=this.rightSide.evaluate(e,t),i=!1,s=0;while(i===!1&&s<r.length)n==r[s]&&(i=!0),s++;return i}},MATCHES:{reservedWord:!0,leftType:"PRIMITIVE",rightType:"PRIMITIVE",evalType:"BOOLEAN",evaluate:function(e,t){var n=this.leftSide.evaluate(e,t),r=this.rightSide.evaluate(e,t);return r.test(n)}},TYPE_IS:{reservedWord:!0,rightType:"PRIMITIVE",evalType:"BOOLEAN",evaluate:function(e,t){var n=SC.Store.recordTypeFor(e.storeKey),r=this.rightSide.evaluate(e,t),i=SC.objectForPropertyPath(r);return n==i}},"null":{reservedWord:!0,evalType:"PRIMITIVE",evaluate:function(e,t){return null}},"undefined":{reservedWord:!0,evalType:"PRIMITIVE",evaluate:function(e,t){return undefined}},"false":{reservedWord:!0,evalType:"PRIMITIVE",evaluate:function(e,t){return!1}},"true":{reservedWord:!0,evalType:"PRIMITIVE",evaluate:function(e,t){return!0}},YES:{reservedWord
:!0,evalType:"PRIMITIVE",evaluate:function(e,t){return!0}},NO:{reservedWord:!0,evalType:"PRIMITIVE",evaluate:function(e,t){return!1}}},tokenizeString:function(e,t){function m(e,r){i=t[e],i.format&&!i.format.test(r)&&(e="UNKNOWN"),i.delimeted&&(d=!0);if(!i.delimeted)for(var s in t)t[s].reservedWord&&s==r&&(e=s);i=t[e],i&&i.rememberCount&&(v[e]||(v[e]=0),r=v[e],v[e]+=1),n.push({tokenType:e,tokenValue:r}),u=null,a=null,f=null}var n=[],r=null,i=null,s=null,o=null,u=null,a=null,f=null,l=null,c=!1,h=!1,p=!1,d=!1,v={};if(!e)return[];var g=e.length;for(var y=0;y<g;y++){c=y===g-1,r=e.charAt(y),d=!1,u&&(i=t[u],h=i.delimeted?r===l:i.notAllowed.test(r),h||(f+=r),(h||c)&&m(u,f),c&&!h&&(d=!0));if(!u&&!d){for(s in t)i=t[s],i.firstCharacter&&i.firstCharacter.test(r)&&(u=s);u&&(i=t[u],f=r,i.delimeted&&(f="",i.lastCharacter?l=i.lastCharacter:l=r),(i.singleCharacter||c)&&m(u,f))}}return n},buildTokenTree:function(e,t){function u(e){var r=e;if(r<0)return!1;var i=t[n[r].tokenType];return i?(n[r].evaluate=i.evaluate,i):(o.push("logic for token '"+n[r].tokenType+"' is not defined"),!1)}function a(e,t){var n=t,r=u(n);if(!r)return!1;if(e=="left")return r.leftType;if(e=="right")return r.rightType}function f(e){var t=e,n=u(t);return n?n.evalType:!1}function l(e){n.splice(e,1),e<=r&&r--}function c(e){var t=e||r;return t>0?!0:!1}function h(e){var t=e;return t<0?!0:a("left",t)&&!n[t].leftSide||a("right",t)&&!n[t].rightSide}function p(e,t){var n=t<e?"left":"right";return e<0||t<0?!1:a(n,e)?f(t)?a(n,e)==f(t)?!0:!1:!1:!1}function d(e){var t=e;return h(t)?c(t)?p(t,t-1)?!0:!1:!1:!1}function v(e){var t=e;return h
(t)?!1:c(t)?h(t-1)?p(t-1,t)?!0:!1:!1:!1}function m(e){var t=e;if(t<1)return!1;n[t].leftSide=n[t-1],l(t-1)}function g(e){var t=e;if(t<1)return!1;n[t-1].rightSide=n[t],l(t)}function y(e){l(e),l(i.pop())}var n=e.slice(),r=0,i=[],s=!1,o=[];if(!e||e.length===0)return{evaluate:function(){return!0}};for(r=0;r<n.length;r++)s=!1,n[r].tokenType=="UNKNOWN"&&o.push("found unknown token: "+n[r].tokenValue),n[r].tokenType=="OPEN_PAREN"&&i.push(r),n[r].tokenType=="CLOSE_PAREN"&&y(r),d(r)&&m(r),v(r)&&(g(r),s=!0),s&&r--;return n.length==1?n=n[0]:o.push("string did not resolve to a single tree"),o.length>0?{error:o.join(",\n"),tree:n}:n},buildOrder:function(e){if(!e)return[];if(SC.typeOf(e)===SC.T_FUNCTION)return e;var t=e.split(",");for(var n=0;n<t.length;n++){var r=t[n];r=r.replace(/^\s+|\s+$/,""),r=r.replace(/\s+/,","),r=r.split(","),t[n]={propertyName:r[0]},r[1]&&r[1]=="DESC"&&(t[n].descending=!0)}return t}}),SC.Query.mixin({LOCAL:"local",REMOTE:"remote",storeKeyFor:function(e){return e?e.get("storeKey"):null},containsRecords:function(e,t,n){var r=[];for(var i=0,s=t.get("length");i<s;i++){var o=t.objectAt(i);o&&e.contains(o)&&r.push(o.get("storeKey"))}return r=SC.Query.orderStoreKeys(r,e,n),r},orderStoreKeys:function(e,t,n){if(e)var r=e.sort(function(e,r){return SC.Query.compareStoreKeys(t,n,e,r)});return e},compareStoreKeys:function(e,t,n,r){var i=t.materializeRecord(n),s=t.materializeRecord(r);return e.compare(i,s)},build:function(e,t,n,r){var i=null,s,o,u,a;if(t&&t.isQuery)return t.get("location")===e?t:t.copy().set("location",e).freeze();if(typeof t===SC.T_STRING){s=SC.objectForPropertyPath
(t);if(!s)throw"%@ did not resolve to a class".fmt(t);t=s}else t&&t.isEnumerable?(s=[],t.forEach(function(e){typeof e===SC.T_STRING&&(e=SC.objectForPropertyPath(e));if(!e)throw"cannot resolve record types: %@".fmt(t);s.push(e)},this),t=s):t||(t=SC.Record);return r===undefined&&(r=null),n===undefined&&(n=null),!r&&typeof n!==SC.T_STRING&&(i=n,n=null),!r&&!i?(a=SC.Query._scq_recordTypeCache,a||(a=SC.Query._scq_recordTypeCache={}),o=a[e],o||(o=a[e]={}),t.isEnumerable?(u=t.map(function(e){return SC.guidFor(e)}),u=u.sort().join(":")):u=SC.guidFor(t),n&&(u=[u,n].join("::")),s=o[u],s||(t.isEnumerable?i={recordTypes:t.copy()}:i={recordType:t},i.location=e,i.conditions=n,s=o[u]=SC.Query.create(i).freeze())):(i||(i={}),i.location||(i.location=e),t&&t.isEnumerable?i.recordsTypes=t:i.recordType=t,n&&(i.conditions=n),r&&(i.parameters=r),s=SC.Query.create(i).freeze()),s},local:function(e,t,n){return this.build(SC.Query.LOCAL,e,t,n)},remote:function(e,t,n){return this.build(SC.Query.REMOTE,e,t,n)},_scq_didDefineRecordType:function(){var e=SC.Query._scq_queriesWithExpandedRecordTypes;e&&(e.forEach(function(e){e.notifyPropertyChange("expandedRecordTypes")},this),e.clear())}}),SC.Query.comparisons={},SC.Query.registerComparison=function(e,t){SC.Query.comparisons[e]=t},SC.Query.registerQueryExtension=function(e,t){SC.Query.prototype.queryLanguage[e]=t},SC.Q=SC.Query.from,SC.Record=SC.Object.extend({isRecord:YES,isParentRecord:NO,primaryKey:"guid",id:function(e,t){return t!==undefined?(this.writeAttribute(this.get("primaryKey"),t),t):SC.Store.idFor(this.storeKey)}.property("storeKey").cacheable
(),status:function(){return this.store.readStatus(this.storeKey)}.property("storeKey").cacheable(),store:null,storeKey:null,isDestroyed:function(){return!!(this.get("status")&SC.Record.DESTROYED)}.property("status").cacheable(),isEditable:function(e,t){return t!==undefined&&(this._screc_isEditable=t),this.get("status")&SC.Record.READY?this._screc_isEditable:NO}.property("status").cacheable(),_screc_isEditable:YES,isLoaded:function(){var e=SC.Record,t=this.get("status");return t!==e.EMPTY&&t!==e.BUSY_LOADING&&t!==e.ERROR}.property("status").cacheable(),relationships:null,attributes:function(){var e=this.get("store"),t=this.storeKey;return e.readEditableDataHash(t)}.property(),readOnlyAttributes:function(){var e=this.get("store"),t=this.storeKey,n=e.readDataHash(t);return n&&(n=SC.clone(n,YES)),n}.property(),nestedRecordNamespace:null,isNestedRecord:function(){var e=this.get("store"),t,n=this.get("storeKey"),r=e.parentStoreKeyExists(n);return t=r?YES:NO,t}.property().cacheable(),parentRecord:function(){var e=this.storeKey,t=this.get("store");return t.materializeParentRecord(e)}.property(),refresh:function(e,t){var n=this.get("store"),r,i,s=this.get("storeKey"),o=n.parentStoreKeyExists();return i=e||SC.none(e)&&SC.none(o),i?n.refreshRecord(null,null,s,t):o&&(r=n.materializeRecord(o),r.refresh(e,t)),this},destroy:function(e){var t=this.get("store"),n,r,i=this.get("storeKey"),s=t.parentStoreKeyExists();return r=e||SC.none(e)&&SC.none(s),r?(t.destroyRecord(null,null,i),this.notifyPropertyChange("status"),this.propagateToAggregates()):s&&(n=t.materializeRecord(s),n.destroy(e)),this
},recordDidChange:function(e){var t=this.get("parentRecord");return t&&t.recordDidChange(),this.get("store").recordDidChange(null,null,this.get("storeKey"),e),this.notifyPropertyChange("status"),this.propagateToAggregates(),this},toJSON:function(){return this.get("attributes")},_editLevel:0,beginEditing:function(){return this._editLevel++,this},endEditing:function(e){return--this._editLevel<=0&&(this._editLevel=0,this.recordDidChange(e)),this},readAttribute:function(e){var t=this.get("store"),n=this.storeKey,r=t.readDataHash(n);return r?r[e]:undefined},writeAttribute:function(e,t,n){var r=this.get("store"),i=this.storeKey,s;s=r.readEditableDataHash(i);if(!s)throw SC.Record.BAD_STATE_ERROR;return t!==s[e]&&(n||this.beginEditing(),s[e]=t,e===this.get("primaryKey")&&(SC.Store.replaceIdFor(i,t),this.propertyDidChange("id")),n||this.endEditing(e)),this},propagateToAggregates:function(){var e=this.get("storeKey"),t=SC.Store.recordTypeFor(e),n=t.__sc_aggregate_keys,r,i,s,o,u,a;if(!n){n=[];for(s in this)o=this[s],o&&o.isRecordAttribute&&o.aggregate===YES&&n.push(s);t.__sc_aggregate_keys=n}var f=SC.Record,l=f.DIRTY,c=f.READY_NEW,h=f.DESTROYED,p=f.READY_CLEAN,d;d=function(e){var t,n,r,i;if(e){t=this.get("status");if(t&l||t&c||t&h)n=e.get("store"),r=e.get("storeKey"),i=n.peekStatus(r),i===p&&e.get("store").recordDidChange(e.constructor,null,e.get("storeKey"),null,YES)}};for(r=0,i=n.length;r<i;++r)s=n[r],u=this.get(s),a=SC.kindOf(u,SC.ManyArray)?u:[u],a.forEach(d,this)},storeDidChangeProperties:function(e,t){if(e)this.notifyPropertyChange("status");else{t?(this.beginPropertyChanges(),t.
forEach(function(e){this.notifyPropertyChange(e)},this),this.notifyPropertyChange("status"),this.endPropertyChanges()):this.allPropertiesDidChange();var n=this.relationships,r=n?n.length:0;while(--r>=0)n[r].recordPropertyDidChange(t)}},normalize:function(e){var t=this.primaryKey,n=this.get("id"),r=this.get("store"),i=this.get("storeKey"),s={},o,u,a,f,l,c,h,p,d,v,m,g=r.readEditableDataHash(i)||{};g[t]=n,f=r.readDataHash(i);for(o in this)u=this[o],u&&(a=u.typeClass,a&&(v=u.get("key")||o,s[v]=YES,h=SC.typeOf(a.call(u))===SC.T_CLASS,p=u.isNestedRecordTransform,!h&&!p?(l=this.get(o),l===undefined||l===null&&!e?e||(s[v]=NO):(m=this[o],SC.instanceOf(m,SC.RecordAttribute)&&(l=m.fromType(this,o,l)),g[v]=l)):p?(l=this.get(o),l&&l.normalize&&l.normalize()):h&&(l=f[v],l!==undefined?g[v]=l:(d=u.get("defaultValue"),SC.typeOf(d)===SC.T_FUNCTION?g[v]=d(this,o,d):g[v]=d))));for(o in g)s[o]||(SC.debug("%@:  Deleting key from underlying data hash due to normalization:  %@",this,o),delete g[o]);return this},unknownProperty:function(e,t){if(t!==undefined){var n=this.get("storeKey"),r=SC.Store.recordTypeFor(n);if(r.ignoreUnknownProperties===YES)return this[e]=t,t;var i=this.get("primaryKey");this.writeAttribute(e,t),e===i&&SC.Store.replaceIdFor(n,t)}return this.readAttribute(e)},commitRecord:function(e,t,n){var r=this.get("store"),i,s,o=this.get("storeKey"),u=r.parentStoreKeyExists();return s=t||SC.none(t)&&SC.none(u),s?r.commitRecord(undefined,undefined,this.get("storeKey"),e,n):u&&(i=r.materializeRecord(u),i.commitRecord(e,t,n)),this},isError:function(){return this.get("status")&SC.Record.ERROR
}.property("status").cacheable(),errorValue:function(){return this.get("isError")?SC.val(this.get("errorObject")):null}.property("isError").cacheable(),errorObject:function(){if(this.get("isError")){var e=this.get("store");return e.readError(this.get("storeKey"))||SC.Record.GENERIC_ERROR}return null}.property("isError").cacheable(),set:function(e,t){var n=this[e];return n&&n.isProperty&&n.get&&!n.get("isEditable")?this:arguments.callee.base.apply(this,arguments)},toString:function(){var e=this.get("store").readDataHash(this.get("storeKey"));return"%@(%@) %@".fmt(this.constructor.toString(),SC.inspect(e),this.statusString())},statusString:function(){var e=[],t=this.get("status");for(var n in SC.Record)n.match(/[A-Z_]$/)&&SC.Record[n]===t&&e.push(n);return e.join(" ")},registerNestedRecord:function(e,t,n){var r,i,s,o,u;return SC.none(n)&&(n=t),e&&e.get&&e.get("isRecord")?o=e:(u=this._materializeNestedRecordType(e,t),o=this.createNestedRecord(u,e)),o&&(this.isParentRecord=YES,r=this.get("store"),i=this.get("storeKey"),s=o.get("storeKey"),r.registerChildToParent(i,s,n)),o},_materializeNestedRecordType:function(e,t){var n,r,i;SC.typeOf(e)===SC.T_HASH&&(n=this.get("nestedRecordNamespace"),e.type&&!SC.none(n)&&(r=n[e.type])),!r&&t&&this[t]&&(r=this[t].get("typeClass"));if(!r||!SC.kindOf(r,SC.Record))throw"SC.Child: Error during transform: Invalid record type.";return r},createNestedRecord:function(e,t){var n,r,i,s,o=null,u=null;return SC.run(function(){t=t||{},u=t[e.prototype.primaryKey],n=this.get("store");if(SC.none(n))throw"Error: during the creation of a child record: NO STORE ON PARENT!"
;!r&&(s=e.prototype.primaryKey)&&(r=t[s],i=r?n.storeKeyExists(e,r):null,i?(n.writeDataHash(i,t),o=n.materializeRecord(i)):(o=n.createRecord(e,t),SC.none(r)&&(i=o.get("storeKey"),r="cr"+i,SC.Store.replaceIdFor(i,r),t=n.readEditableDataHash(i),t[s]=r))),SC.none(u)&&this.generateIdForChild&&this.generateIdForChild(o)},this),o},_nestedRecordKey:0,generateIdForChild:function(e){}}),SC.Record.mixin({ignoreUnknownProperties:NO,CLEAN:1,DIRTY:2,EMPTY:256,ERROR:4096,READY:512,READY_CLEAN:513,READY_DIRTY:514,READY_NEW:515,DESTROYED:1024,DESTROYED_CLEAN:1025,DESTROYED_DIRTY:1026,BUSY:2048,BUSY_LOADING:2052,BUSY_CREATING:2056,BUSY_COMMITTING:2064,BUSY_REFRESH:2080,BUSY_REFRESH_CLEAN:2081,BUSY_REFRESH_DIRTY:2082,BUSY_DESTROYING:2112,BAD_STATE_ERROR:SC.$error("Internal Inconsistency"),RECORD_EXISTS_ERROR:SC.$error("Record Exists"),NOT_FOUND_ERROR:SC.$error("Not found "),BUSY_ERROR:SC.$error("Busy"),GENERIC_ERROR:SC.$error("Generic Error"),_nextChildKey:0,attr:function(e,t){return SC.RecordAttribute.attr(e,t)},fetch:function(e,t){return SC.FetchedAttribute.attr(e,t)},toMany:function(e,t){t=t||{};var n=t.nested||t.isNested,r;return n?r=SC.ChildrenAttribute.attr(e,t):r=SC.ManyAttribute.attr(e,t),r},toOne:function(e,t){t=t||{};var n=t.nested||t.isNested,r;return n?r=SC.ChildAttribute.attr(e,t):r=SC.SingleAttribute.attr(e,t),r},storeKeysById:function(){var e=SC.keyFor("storeKey",SC.guidFor(this)),t=this[e];return t||(t=this[e]={}),t},storeKeyFor:function(e){var t=this.storeKeysById(),n=t[e];return n||(n=SC.Store.generateStoreKey(),SC.Store.idsByStoreKey[n]=e,SC.Store.recordTypesByStoreKey[n]=this
,t[e]=n),n},storeKeyExists:function(e){var t=this.storeKeysById(),n=t[e];return n},find:function(e,t){return e.find(this,t)},extend:function(){var e=SC.Object.extend.apply(this,arguments);return SC.Query&&SC.Query._scq_didDefineRecordType(e),e}}),SC.FixturesDataSource=SC.DataSource.extend({simulateRemoteResponse:NO,latency:50,cancel:function(e,t){return NO},fetch:function(e,t){if(t.get("location")!==SC.Query.LOCAL)throw SC.$error("SC.Fixture data source can only fetch local queries");if(!t.get("recordType")&&!t.get("recordTypes"))throw SC.$error("SC.Fixture data source can only fetch queries with one or more record types");this.get("simulateRemoteResponse")?this.invokeLater(this._fetch,this.get("latency"),e,t):this._fetch(e,t)},_fetch:function(e,t){var n=t.get("recordType"),r=t.get("recordTypes")||[n];r.forEach(function(t){SC.typeOf(t)===SC.T_STRING&&(t=SC.objectForPropertyPath(t)),t&&this.loadFixturesFor(e,t)},this),e.dataSourceDidFetchQuery(t)},retrieveRecords:function(e,t){var n=this.get("latency"),r=this.hasFixturesFor(t);return r?(this.get("simulateRemoteResponse")?this.invokeLater(this._retrieveRecords,n,e,t):this._retrieveRecords(e,t),r):r},_retrieveRecords:function(e,t){t.forEach(function(t){var n=[],r=SC.Store.recordTypeFor(t),i=e.idFor(t),s=this.fixtureForStoreKey(e,t);n.push(t),e.dataSourceDidComplete(t,s,i)},this)},updateRecords:function(e,t,n){var r=this.get("latency"),i=this.hasFixturesFor(t);return i?(this.get("simulateRemoteResponse")?this.invokeLater(this._updateRecords,r,e,t):this._updateRecords(e,t),i):i},_updateRecords:function(e,t){t.forEach(function(t){
var n=e.readDataHash(t);this.setFixtureForStoreKey(e,t,n),e.dataSourceDidComplete(t)},this)},createRecords:function(e,t,n){var r=this.get("latency");return this.get("simulateRemoteResponse")?this.invokeLater(this._createRecords,r,e,t):this._createRecords(e,t),YES},_createRecords:function(e,t){t.forEach(function(t){var n=e.idFor(t),r=e.recordTypeFor(t),i=e.readDataHash(t),s=this.fixturesFor(r);n||(n=this.generateIdFor(r,i,e,t)),this._invalidateCachesFor(r,t,n),s[n]=i,e.dataSourceDidComplete(t,null,n)},this)},destroyRecords:function(e,t,n){var r=this.get("latency"),i=this.hasFixturesFor(t);return i?(this.get("simulateRemoteResponse")?this.invokeLater(this._destroyRecords,r,e,t):this._destroyRecords(e,t),i):i},_destroyRecords:function(e,t){t.forEach(function(t){var n=e.idFor(t),r=e.recordTypeFor(t),i=this.fixturesFor(r);this._invalidateCachesFor(r,t,n),n&&delete i[n],e.dataSourceDidDestroy(t)},this)},loadFixturesFor:function(e,t,n){var r=[],i,s,o;i=this.fixturesFor(t);for(s in i)o=t.storeKeyFor(s),e.peekStatus(o)===SC.Record.EMPTY&&r.push(i[s]),n&&n.push(o);return r&&r.length>0&&e.loadRecords(t,r),this},generateIdFor:function(e,t,n,r){return"@id%@".fmt(SC.Store.generateStoreKey())},fixtureForStoreKey:function(e,t){var n=e.idFor(t),r=e.recordTypeFor(t),i=this.fixturesFor(r);return i?i[n]:null},setFixtureForStoreKey:function(e,t,n){var r=e.idFor(t),i=e.recordTypeFor(t),s=this.fixturesFor(i);return this._invalidateCachesFor(i,t,r),s[r]=n,this},fixturesFor:function(e){this._fixtures||(this._fixtures={});var t=this._fixtures[SC.guidFor(e)];if(t)return t;var n=e?e.FIXTURES:null,r=n?n
.length:0,i=e?e.prototype.primaryKey:"guid",s,o,u;this._fixtures[SC.guidFor(e)]=t={};for(s=0;s<r;s++)o=n[s],u=o[i],u||(u=this.generateIdFor(e,o)),t[u]=o;return t},fixturesLoadedFor:function(e){if(!this._fixtures)return NO;var t=[],n=this._fixtures[SC.guidFor(e)];return n?YES:NO},reset:function(){return this._fixtures=null,this},hasFixturesFor:function(e){var t=NO;return e.forEach(function(e){if(t!==SC.MIXED_STATE){var n=SC.Store.recordTypeFor(e),r=n?n.FIXTURES:null;r&&r.length&&r.length>0?t===NO&&(t=YES):t===YES&&(t=SC.MIXED_STATE)}},this),t},_invalidateCachesFor:function(e,t,n){var r=this._storeKeyCache;return r&&delete r[SC.guidFor(e)],this}}),SC.Record.fixtures=SC.FixturesDataSource.create(),SC.RelationshipSupport={_srs_inverseDidRelinquishRelationships:function(e,t,n,r){t.forEach(function(t){this._srs_inverseDidRelinquishRelationship(e,t,n,r)},this)},_srs_inverseDidRelinquishRelationship:function(e,t,n,r){var i=e.storeKeyFor(t),s=this.readDataHash(i),o=n.inverse,u=e.prototype;if(!s||!o)return;SC.instanceOf(u[o],SC.SingleAttribute)?delete s[o]:SC.instanceOf(u[o],SC.ManyAttribute)&&SC.typeOf(s[o])===SC.T_ARRAY&&s[o].removeObject(r),this.pushRetrieve(e,t,s,undefined,!0)},_srs_inverseDidAddRelationships:function(e,t,n,r){t.forEach(function(t){this._srs_inverseDidAddRelationship(e,t,n,r)},this)},_srs_inverseDidAddRelationship:function(e,t,n,r){var i=e.storeKeyFor(t),s=this.readDataHash(i),o=this.peekStatus(i),u=e.prototype,a=n.inverse,f=u[a],l=u[u.primaryKey],c=!1;f=f&&f.get&&f.get("key")||f.key||a,o===SC.Record.EMPTY&&(SC.typeOf(n.lazilyInstantiate)===SC.T_FUNCTION&&n.lazilyInstantiate
()||SC.typeOf(n.lazilyInstantiate)!==SC.T_FUNCTION&&n.lazilyInstantiate)&&(!SC.none(l)&&l.typeClass&&SC.typeOf(l.typeClass())===SC.T_CLASS&&(c=!0),s={},s[u.primaryKey]=t);if(!s||!a)return;SC.instanceOf(u[a],SC.SingleAttribute)?s[f]=r:SC.instanceOf(u[a],SC.ManyAttribute)&&(s[f]=s[f]||[],s[a].indexOf(r)<0&&s[f].push(r)),this.pushRetrieve(e,t,s,undefined,!c)},_srs_pushIterator:function(e,t,n,r){var i=e.prototype,s,o,u,a;typeof n=="undefined"&&(n=e.storeKeyFor(t)),o=this.readDataHash(n)||{};for(u in i){s=i[u];if(s&&s.typeClass&&s.inverse&&s.isMaster){a=s.typeClass();if(SC.typeOf(a)!==SC.T_CLASS)continue;r.apply(this,[a,o,s,s.get&&s.get("key")||u])}}},pushDestroy:function(e,t,n,r){var i;return this._srs_pushIterator(t,n,r,function(e,t,r,s){i=[t[s]||null].flatten().compact().uniq(),this._srs_inverseDidRelinquishRelationships(e,i,r,n)}),e(t,n,r)}.enhance(),pushRetrieve:function(e,t,n,r,i,s){if(!s){var o,u;this._srs_pushIterator(t,n,i,function(e,t,i,s){o=[t[s]||null].flatten().compact().uniq(),u=[r[s]||null].flatten().compact().uniq(),this._srs_inverseDidRelinquishRelationships(e,o.filter(function(e){return u.indexOf(e)===-1}),i,n),this._srs_inverseDidAddRelationships(e,u,i,n)})}return i=i||t.storeKeyFor(n),e(t,n,r,i)}.enhance()},SC.RecordAttribute=SC.Object.extend({isRecordAttribute:YES,defaultValue:null,type:String,key:null,isRequired:NO,isEditable:YES,useIsoDate:YES,aggregate:NO,lazilyInstantiate:NO,typeClass:function(){var e=this.get("type");return SC.typeOf(e)===SC.T_STRING&&(e=SC.requiredObjectForPropertyPath(e)),e}.property("type").cacheable(),transform:function(){var e=this.
get("typeClass")||String,t=SC.RecordAttribute.transforms,n;while(e&&!(n=t[SC.guidFor(e)]))e.superclass.hasOwnProperty("create")?e=e.superclass:e=SC.T_FUNCTION;return n}.property("typeClass").cacheable(),toType:function(e,t,n){var r=this.get("transform"),i=this.get("typeClass"),s;if(r&&r.to){n=r.to(n,this,i,e,t);if(!SC.none(n)&&(s=r.observesChildren)){var o,u=s.length,a={record:e,key:t};for(o=0;o<u;o++)n.addObserver(s[o],this,this._SCRA_childObserver,a)}}return n},_SCRA_childObserver:function(e,t,n,r){this.call(r.record,r.key,e),r.record.notifyPropertyChange(r.key)},fromType:function(e,t,n){var r=this.get("transform"),i=this.get("typeClass");return r&&r.from&&(n=r.from(n,this,i,e,t)),n},getDefaultValue:function(e,t){var n=this.get("defaultValue");return typeof n===SC.T_FUNCTION&&(n=n(e,t,this)),n},call:function(e,t,n){var r=this.get("key")||t,i;return n!==undefined&&this.get("isEditable")&&(i=this.fromType(e,t,n),e.writeAttribute(r,i)),n=e.readAttribute(r),SC.none(n)&&(n=this.getDefaultValue(e,t)),n=this.toType(e,t,n),n},apply:function(e,t){return this.call.apply(e,t)},isProperty:YES,isCacheable:YES,dependentKeys:[],init:function(){arguments.callee.base.apply(this,arguments),this.cacheKey="__cache__"+SC.guidFor(this),this.lastSetValueKey="__lastValue__"+SC.guidFor(this)}}),SC.RecordAttribute.mixin({attr:function(e,t){return t||(t={}),t.type||(t.type=e||String),this.create(t)},transforms:{},registerTransform:function(e,t){SC.RecordAttribute.transforms[SC.guidFor(e)]=t}}),SC.RecordAttribute.registerTransform(Boolean,{to:function(e){return SC.none(e)?null:!!e}}),SC.RecordAttribute
.registerTransform(Number,{to:function(e){return SC.none(e)?null:Number(e)}}),SC.RecordAttribute.registerTransform(String,{to:function(e){return typeof e!==SC.T_STRING&&!SC.none(e)&&e.toString&&(e=e.toString()),e}}),SC.RecordAttribute.registerTransform(Array,{to:function(e){return!SC.isArray(e)&&!SC.none(e)&&(e=[]),e},observesChildren:["[]"]}),SC.RecordAttribute.registerTransform(Object,{to:function(e){return typeof e!="object"&&!SC.none(e)&&(e={}),e}}),SC.RecordAttribute.registerTransform(SC.Record,{to:function(e,t,n,r){var i=r.get("store");return SC.none(e)||e===""?null:i.find(n,e)},from:function(e){return e?e.get("id"):null}}),SC.RecordAttribute.registerTransform(SC.T_FUNCTION,{to:function(e,t,n,r){n=n.apply(r);var i=r.get("store");return i.find(n,e)},from:function(e){return e.get("id")}}),SC.RecordAttribute.registerTransform(Date,{to:function(e,t){if(SC.none(e))return e;var n;e=e.toString()||"";if(t.get("useIsoDate")){var r="([0-9]{4})(-([0-9]{2})(-([0-9]{2})(T([0-9]{2}):([0-9]{2})(:([0-9]{2})(\\.([0-9]+))?)?(Z|(([-+])([0-9]{2}):([0-9]{2})))?)?)?)?",i=e.match(new RegExp(r)),s=0,o=new Date(i[1],0,1),u;i[3]&&o.setMonth(i[3]-1),i[5]&&o.setDate(i[5]),i[7]&&o.setHours(i[7]),i[8]&&o.setMinutes(i[8]),i[10]&&o.setSeconds(i[10]),i[12]&&o.setMilliseconds(Number("0."+i[12])*1e3),i[14]&&(s=Number(i[16])*60+Number(i[17]),s*=i[15]==="-"?1:-1),s-=o.getTimezoneOffset(),u=Number(o)+s*60*1e3,n=new Date,n.setTime(Number(u))}else n=new Date(Date.parse(e));return n},_dates:{},_zeropad:function(e){var t=Math.abs(e),n=e<0?"-":"";return n+(t<10?"0":"")+t},from:function(e){if(SC.none(e))return null
;var t=this._dates[e.getTime()];if(t)return t;var n=this._zeropad,r=-e.getTimezoneOffset();if(r===0)r="Z";else{var i=r<0?"-":"+";r=Math.abs(r);var s=Math.floor(r/60),o=r%60;r=i+n(s)+":"+n(o)}return this._dates[e.getTime()]=t="%@-%@-%@T%@:%@:%@%@".fmt(n(e.getFullYear()),n(e.getMonth()+1),n(e.getDate()),n(e.getHours()),n(e.getMinutes()),n(e.getSeconds()),r),t}}),SC.DateTime&&!SC.RecordAttribute.transforms[SC.guidFor(SC.DateTime)]&&SC.RecordAttribute.registerTransform(SC.DateTime,{to:function(e,t){if(SC.none(e)||SC.instanceOf(e,SC.DateTime))return e;if(SC.none(e)||SC.instanceOf(e,Date))return SC.DateTime.create(e.getTime());var n=t.get("format");return SC.DateTime.parse(e,n?n:SC.DateTime.recordFormat)},from:function(e,t){if(SC.none(e))return e;var n=t.get("format");return e.toFormattedString(n?n:SC.DateTime.recordFormat)}}),SC.RecordAttribute.registerTransform(SC.Set,{to:function(e,t,n,r,i){return SC.Set.create(e)},from:function(e,t,n,r,i){return e.toArray()},observesChildren:["[]"]}),SC.ChildAttribute=SC.RecordAttribute.extend({isNestedRecordTransform:YES,toType:function(e,t,n){var r=null,i,s=this.get("typeClass");if(!e)throw"SC.Child: Error during transform: Unable to retrieve parent record.";return SC.none(n)||(r=e.registerNestedRecord(n,t)),r},fromType:function(e,t,n){var r,i,s;return e&&(SC.none(n)?(e.writeAttribute(t,n),s=n):(s=e.registerNestedRecord(n,t),s?(r=s.get("storeKey"),i=s.get("store"),e.writeAttribute(t,i.readDataHash(r))):n&&e.writeAttribute(t,n))),s},call:function(e,t,n){var r=this.get("key")||t,i,s=SC.keyFor("__kid__",SC.guidFor(this));return n!==undefined?n=
this.fromType(e,t,n):(n=e.readAttribute(r),SC.none(n)&&(n=this.get("defaultValue"))?typeof n===SC.T_FUNCTION&&(n=this.defaultValue(e,t,this),e.attributes()&&e.writeAttribute(r,n,!0)):n=this.toType(e,t,n)),n}}),SC.ChildRecord=SC.Record.extend({}),SC.ChildRecord.extend=function(){return SC.Record.extend.apply(this,arguments)},SC.ChildArray=SC.Object.extend(SC.Enumerable,SC.Array,{defaultRecordType:null,record:null,propertyName:null,children:null,store:function(){return this.getPath("record.store")}.property("record").cacheable(),storeKey:function(){return this.getPath("record.storeKey")}.property("record").cacheable(),readOnlyChildren:function(){return this.get("record").readAttribute(this.get("propertyName"))}.property(),editableChildren:function(){var e=this.get("store"),t=this.get("storeKey"),n=this.get("propertyName"),r,i;return r=e.readEditableProperty(t,n),r||(i=e.readEditableDataHash(t),r=i[n]=[]),r}.property(),length:function(){var e=this.get("readOnlyChildren");return e?e.length:0}.property("readOnlyChildren"),objectAt:function(e){var t=this._records,n=this.get("readOnlyChildren"),r,i,s=this.get("propertyName"),o=this.get("record"),u=n?n.length:0;return n?t&&(i=t[e])?i:(t||(this._records=t=[]),e>=u?undefined:(r=n.objectAt(e),r?(t[e]=i=o.registerNestedRecord(r,s,s+"."+e),i):undefined)):undefined},replace:function(e,t,n){var r=this.get("editableChildren"),i=n?n.get?n.get("length"):n.length:0,s=this.get("record"),o,u=this.get("propertyName"),a,f;return o=this._processRecordsToHashes(n),r.replace(e,t,o),o!==this._prevChildren&&(this._performRecordPropertyChange(null,!1),this
.arrayContentWillChange(e,t,i),this._childrenContentDidChange(e,t,i)),s.recordDidChange(u),this},_processRecordsToHashes:function(e){var t,n;return e=e||[],e.forEach(function(r,i){r.isNestedRecord&&(t=r.get("store"),n=r.storeKey,e[i]=t.readDataHash(n))}),e},normalize:function(){this.forEach(function(e,t){e.normalize&&e.normalize()})},recordPropertyDidChange:function(e){return this._performRecordPropertyChange(e,!0),this},_performRecordPropertyChange:function(e,t){if(e&&!e.contains(this.get("propertyName")))return this;var n=this.get("readOnlyChildren"),r=0,i=0,s=this._prevChildren,o=this._childrenContentDidChange;return t=SC.none(t)?!0:t,n===s?this:(s&&(s.removeArrayObservers({target:this,willChange:this.arrayContentWillChange,didChange:o}),r=s.get("length")),n&&(n.addArrayObservers({target:this,willChange:this.arrayContentWillChange,didChange:o}),i=n.get("length")),this._prevChildren=n,t&&(this.arrayContentWillChange(0,r,i),this._childrenContentDidChange(0,r,i)),this)},_childrenContentDidChange:function(e,t,n){this._records=null,this.arrayContentDidChange(e,t,n)},init:function(){arguments.callee.base.apply(this,arguments),this.recordPropertyDidChange()}}),SC.ChildrenAttribute=SC.ChildAttribute.extend({toType:function(e,t,n){var r=this.get("key")||t,i=SC.keyFor("__kidsArray__",SC.guidFor(this)),s=e[i],o=this.get("typeClass"),u;return s||(s=SC.ChildArray.create({record:e,propertyName:r,defaultRecordType:o}),e[i]=s,u=e.get("relationships"),u||e.set("relationships",u=[]),u.push(s)),s},fromType:function(e,t,n){var r,i,s=SC.keyFor("__kidsArray__",SC.guidFor(this)),o=e[s];return e&&
(e.writeAttribute(t,n),o&&(o=o.recordPropertyDidChange())),o}}),SC.FetchedAttribute=SC.RecordAttribute.extend({paramValueKey:"link",paramOwnerKey:"owner",paramRelKey:"rel",queryKey:null,isEditable:NO,toType:function(e,t,n){var r=e.get("store");if(!r)return null;var i=this.get("paramValueKey"),s=this.get("paramOwnerKey"),o=this.get("paramRelKey"),u=this.get("queryKey")||this.get("typeClass"),a={};return i&&(a[i]=n),s&&(a[s]=e),o&&(a[o]=this.get("key")||t),r.findAll(u,a)},fromType:function(e,t,n){return n}}),SC.ManyArray=SC.Object.extend(SC.Enumerable,SC.Array,{recordType:null,record:null,propertyName:null,manyAttribute:null,store:function(){return this.get("record").get("store")}.property("record").cacheable(),storeKey:function(){return this.get("record").get("storeKey")}.property("record").cacheable(),readOnlyStoreIds:function(){return this.get("record").readAttribute(this.get("propertyName"))}.property(),editableStoreIds:function(){var e=this.get("store"),t=this.get("storeKey"),n=this.get("propertyName"),r,i;return r=e.readEditableProperty(t,n),r||(i=e.readEditableDataHash(t),r=i[n]=[]),r!==this._prevStoreIds&&this.recordPropertyDidChange(),r}.property(),isEditable:function(){var e=this.manyAttribute;return e?e.get("isEditable"):NO}.property("manyAttribute").cacheable(),inverse:function(){var e=this.manyAttribute;return e?e.get("inverse"):null}.property("manyAttribute").cacheable(),isMaster:function(){var e=this.manyAttribute;return e?e.get("isMaster"):null}.property("manyAttribute").cacheable(),orderBy:function(){var e=this.manyAttribute;return e?e.get("orderBy"):null}.property
("manyAttribute").cacheable(),length:function(){var e=this.get("readOnlyStoreIds");return e?e.get("length"):0}.property("readOnlyStoreIds"),objectAt:function(e){var t=this._records,n=this.get("readOnlyStoreIds"),r=this.get("store"),i=this.get("recordType"),s,o,u;return!n||!r?undefined:t&&(o=t[e])?o:(t||(this._records=t=[]),u=n.objectAt(e),u&&(s=r.storeKeyFor(i,u),r.readStatus(s)===SC.Record.EMPTY&&r.retrieveRecord(i,null,s),t[e]=o=r.materializeRecord(s)),o)},replace:function(e,t,n){if(!this.get("isEditable"))throw"%@.%@[] is not editable".fmt(this.get("record"),this.get("propertyName"));var r=this.get("editableStoreIds"),i=n?n.get?n.get("length"):n.length:0,s=this.get("record"),o=this.get("propertyName"),u,a,f,l,c,h,p;f=[];for(u=0;u<i;u++)f[u]=n.objectAt(u).get("id");c=this.get("inverse");if(c&&t>0){l=SC.ManyArray._toRemove,l?SC.ManyArray._toRemove=null:l=[];for(u=0;u<t;u++)l[u]=this.objectAt(e+u)}r.replace(e,t,f);if(c){for(u=0;u<t;u++)p=l[u],h=p?p[c]:null,h&&h.inverseDidRemoveRecord&&h.inverseDidRemoveRecord(p,c,s,o);l&&(l.length=0,SC.ManyArray._toRemove||(SC.ManyArray._toRemove=l));for(u=0;u<i;u++)p=n.objectAt(u),h=p?p[c]:null,h&&h.inverseDidAddRecord&&h.inverseDidAddRecord(p,c,s,o)}return s&&(!c||this.get("isMaster"))&&s.recordDidChange(o),this.enumerableContentDidChange(e,t,i-t),this},removeInverseRecord:function(e){if(!e)return this;var t=e.get("id"),n=this.get("editableStoreIds"),r=n&&t?n.indexOf(t):-1,i;return r>=0&&(n.removeAt(r),this.get("isMaster")&&(i=this.get("record"))&&i.recordDidChange(this.get("propertyName"))),this},addInverseRecord:function(e){if(!e)return this
;var t=e.get("id"),n=this.get("editableStoreIds"),r=this.get("orderBy"),i=n.get("length"),s,o;return r?s=this._findInsertionLocation(e,0,i,r):s=i,n.insertAt(s,e.get("id")),this.get("isMaster")&&(o=this.get("record"))&&o.recordDidChange(this.get("propertyName")),this},_findInsertionLocation:function(e,t,n,r){var i=t+Math.floor((n-t)/2),s=this.objectAt(i),o=this._compare(e,s,r);return o<0?i===0?i:this._findInsertionLocation(e,0,i,r):o>0?i>=n?i:this._findInsertionLocation(e,i,n,r):i},_compare:function(e,t,n){var r=SC.typeOf(n),i,s,o;if(r===SC.T_FUNCTION)i=n(e,t);else if(r===SC.T_STRING)i=SC.compare(e,t);else{o=n.get("length"),i=0;for(s=0;i===0&&s<o;s++)i=SC.compare(e,t)}return i},recordPropertyDidChange:function(e){if(e&&!e.contains(this.get("propertyName")))return this;var t=this.get("readOnlyStoreIds"),n,r,i=this._prevStoreIds,s=this._storeIdsContentDidChange;if(t===i)return this;i?(i.removeArrayObservers({target:this,willChange:this.arrayContentWillChange,didChange:s}),n=i.get("length")):n=0,t?(t.addArrayObservers({target:this,willChange:this.arrayContentWillChange,didChange:s}),r=t.get("length")):r=0,this.arrayContentWillChange(0,n,r),this._prevStoreIds=t,this._storeIdsContentDidChange(0,n,r)},_storeIdsContentDidChange:function(e,t,n){this._records=null,this.arrayContentDidChange(e,t,n)},unknownProperty:function(e,t){var n;return SC.typeOf(e)===SC.T_STRING&&(n=this.reducedProperty(e,t)),n===undefined?arguments.callee.base.apply(this,arguments):n},init:function(){arguments.callee.base.apply(this,arguments),this.recordPropertyDidChange()}}),SC.ManyAttribute=SC.RecordAttribute
.extend({inverse:null,isMaster:YES,orderBy:null,toType:function(e,t,n){var r=this.get("typeClass"),i=this.get("key")||t,s=SC.keyFor("__manyArray__",SC.guidFor(this)),o=e[s],u;return o||(o=SC.ManyArray.create({recordType:r,record:e,propertyName:i,manyAttribute:this}),e[s]=o,u=e.get("relationships"),u||e.set("relationships",u=[]),u.push(o)),o},fromType:function(e,t,n){var r=[];if(!SC.isArray(n))throw"Expects toMany attribute to be an array";var i=n.get("length");for(var s=0;s<i;s++)r[s]=n.objectAt(s).get("id");return r},inverseDidRemoveRecord:function(e,t,n,r){var i=e.get(t);i&&i.removeInverseRecord(n)},inverseDidAddRecord:function(e,t,n,r){var i=e.get(t);i&&i.addInverseRecord(n)}}),SC.SingleAttribute=SC.RecordAttribute.extend({inverse:null,isMaster:YES,call:function(e,t,n){var r=this.get("key")||t,i,s,o,u,a,f;if(n!==undefined&&this.get("isEditable")){if(n&&!SC.kindOf(n,SC.Record))throw"%@ is not an instance of SC.Record".fmt(n);i=this.get("inverse"),i&&(o=this._scsa_call(e,t)),f=this.fromType(e,t,n),e.writeAttribute(r,f,!this.get("isMaster")),a=n,i&&o!==n&&(o&&(u=o[i])&&u.inverseDidRemoveRecord(o,i,e,t),n&&(u=n[i])&&u.inverseDidAddRecord(n,i,e,t))}else a=this._scsa_call(e,t,n);return a},_scsa_call:SC.RecordAttribute.prototype.call,inverseDidRemoveRecord:function(e,t,n,r){var i=this.get("inverse"),s=this._scsa_call(e,t),o=this.get("isMaster"),u;e.writeAttribute(t,null,!o),e.notifyPropertyChange(t),(s!==n||r!==i)&&s&&(u=s[i])&&u.inverseDidRemoveRecord(s,i,e,t)},inverseDidAddRecord:function(e,t,n,r){var i=this.get("inverse"),s=this._scsa_call(e,t),o=this.get("isMaster"),u,a;a=this
.fromType(e,t,n),e.writeAttribute(t,a,!o),e.notifyPropertyChange(t),(s!==n||r!==i)&&s&&(u=s[i])&&u.inverseDidRemoveRecord(s,i,e,t)}}),SC.Store=SC.Object.extend({name:null,nestedStores:null,dataSource:null,isNested:NO,commitRecordsAutomatically:NO,from:function(e){return this.set("dataSource",e),this},_getDataSource:function(){var e=this.get("dataSource");return typeof e===SC.T_STRING&&(e=SC.requiredObjectForPropertyPath(e),e.isClass&&(e=e.create()),this.set("dataSource",e)),e},cascade:function(e){var t=SC.A(arguments);return e=SC.CascadeDataSource.create({dataSources:t}),this.from(e)},chain:function(e,t){e||(e={}),e.parentStore=this;if(t){if(SC.typeOf(t)!=="class")throw new Error("%@ is not a valid class".fmt(t));if(!SC.kindOf(t,SC.NestedStore))throw new Error("%@ is not a type of SC.NestedStore".fmt(t))}else t=SC.NestedStore;e.childRecords=this.childRecords?SC.clone(this.childRecords):{},e.parentRecords=this.parentRecords?SC.clone(this.parentRecords):{};var n=t.create(e),r=this.nestedStores;return r||(r=this.nestedStores=[]),r.push(n),n},willDestroyNestedStore:function(e){return this.nestedStores&&this.nestedStores.removeObject(e),this},hasNestedStore:function(e){while(e&&e!==this)e=e.get("parentStore");return e===this},dataHashes:null,statuses:null,revisions:null,editables:null,changelog:null,recordErrors:null,queryErrors:null,childRecords:null,parentRecords:null,storeKeyEditState:function(e){var t=this.editables,n=this.locks;return t&&t[e]?SC.Store.EDITABLE:SC.Store.LOCKED},readDataHash:function(e){return this.dataHashes[e]},readEditableDataHash:function(e){var t=this.dataHashes
[e];if(!t)return t;var n=this.editables;return n||(n=this.editables=[]),n[e]||(n[e]=1,t=this.dataHashes[e]=SC.clone(t,YES)),t},readEditableProperty:function(e,t){var n=this.readEditableDataHash(e),r=this.editables[e],i=n[t];return r===1&&(r=this.editables[e]={}),r[t]||(i=n[t],i&&i.isCopyable&&(i=n[t]=i.copy(YES)),r[t]=YES),i},writeDataHash:function(e,t,n){t&&(this.dataHashes[e]=t),n&&(this.statuses[e]=n);var r=this.editables;r||(r=this.editables=[]),r[e]=1;var i=this;return this._propagateToChildren(e,function(e){i.writeDataHash(e,null,n)}),this},removeDataHash:function(e,t){this.dataHashes[e]=null,this.statuses[e]=t||SC.Record.EMPTY;var n=this.editables;return n&&(n[e]=0),this},readStatus:function(e){return this.readDataHash(e),this.statuses[e]||SC.Record.EMPTY},peekStatus:function(e){return this.statuses[e]||SC.Record.EMPTY},writeStatus:function(e,t){return this.writeDataHash(e,null,t)},dataHashDidChange:function(e,t,n,r){t||(t=SC.Store.generateStoreKey());var i,s,o,u;i=SC.typeOf(e)===SC.T_ARRAY,i?s=e.length:(s=1,u=e);var a=this;for(o=0;o<s;o++)i&&(u=e[o]),this.revisions[u]=t,this._notifyRecordPropertyChange(u,n,r),this._propagateToChildren(u,function(e){a.dataHashDidChange(e,null,n,r)});return this},_notifyRecordPropertyChange:function(e,t,n){var r=this.records,i=this.get("nestedStores"),s=SC.Store,o,u,a,f,l,c,h;a=i?i.length:0;for(f=0;f<a;f++){l=i[f],c=l.peekStatus(e),u=l.storeKeyEditState(e);if(u===s.INHERITED)l._notifyRecordPropertyChange(e,t,n);else if(c&SC.Record.BUSY){if(l.get("hasChanges"))throw s.CHAIN_CONFLICT_ERROR;l.reset()}}var p=this.recordPropertyChanges;return p||
(p=this.recordPropertyChanges={storeKeys:SC.CoreSet.create(),records:SC.CoreSet.create(),hasDataChanges:SC.CoreSet.create(),propertyForStoreKeys:{}}),p.storeKeys.add(e),r&&(o=r[e])&&(p.records.push(e),t||p.hasDataChanges.push(e),n?((h=p.propertyForStoreKeys[e])||(h=p.propertyForStoreKeys[e]=SC.CoreSet.create()),h!=="*"&&h.add(n)):p.propertyForStoreKeys[e]="*"),this.invokeOnce(this.flush),this},flush:function(){if(!this.recordPropertyChanges)return this;var e=this.recordPropertyChanges,t=e.storeKeys,n=e.hasDataChanges,r=e.records,i=e.propertyForStoreKeys,s=SC.CoreSet.create(),o,u,a,f,l,c,h;return t.forEach(function(e){r.contains(e)&&(a=n.contains(e)?NO:YES,o=this.records[e],h=i?i[e]:null,h==="*"&&(h=null),r.remove(e),o&&o.storeDidChangeProperties(a,h)),u=SC.Store.recordTypeFor(e),s.add(u)},this),t.get("length")>0&&this._notifyRecordArrays(t,s),t.clear(),n.clear(),r.clear(),this.recordPropertyChanges.propertyForStoreKeys={},this},reset:function(){this.dataHashes={},this.revisions={},this.statuses={},this.chainedChanges=this.locks=this.editables=null,this.changelog=null,this.recordErrors=null,this.queryErrors=null;var e=this.get("dataSource");e&&e.reset&&e.reset();var t=this.records,n;if(t)for(n in t){if(!t.hasOwnProperty(n))continue;this._notifyRecordPropertyChange(parseInt(n,10),NO)}this.set("hasChanges",NO)},commitChangesFromNestedStore:function(e,t,n){n||this._verifyLockRevisions(t,e.locks);var r=t.length,i,s,o,u,a,f,l,c,h,p,d,v,m;f=this.revisions,o=this.dataHashes,u=this.statuses,a=this.editables,l=this.parentRecords?this.parentRecords:this.parentRecords={},c=this.childRecords?
this.childRecords:this.childRecords={},a||(a=this.editables=[]),h=e.dataHashes,d=e.revisions,p=e.statuses,v=e.parentRecords||{},m=e.childRecords||{};for(i=0;i<r;i++)s=t[i],o[s]=h[s],u[s]=p[s],f[s]=d[s],l[s]=v[s],c[s]=m[s],a[s]=0,this._notifyRecordPropertyChange(s,NO);var g=this.changelog,y=e.changelog;return y&&(g||(g=this.changelog=SC.CoreSet.create()),g.addEach(y)),this.changelog=g,this.get("parentStore")||this.flush(),this},_verifyLockRevisions:function(e,t){var n=e.length,r=this.revisions,i,s,o,u;if(t&&r)for(i=0;i<n;i++){s=e[i],o=t[s]||1,u=r[s]||1;if(o<u)throw SC.Store.CHAIN_CONFLICT_ERROR}return this},find:function(e,t){SC.typeOf(e)===SC.T_STRING&&(e=SC.objectForPropertyPath(e));if(arguments.length===1&&!(e&&e.get&&e.get("isRecord"))){if(!e)throw new Error("SC.Store#find() must pass recordType or query");return e.isQuery||(e=SC.Query.local(e)),this._findQuery(e,YES,YES)}return this._findRecord(e,t)},findAll:function(e,t,n){SC.Logger.warn("SC.Store#findAll() will be removed in a future version of SproutCore.  Use SC.Store#find() instead");if(!e||!e.isQuery)e=SC.Query.local(e,t,n);return this._findQuery(e,YES,YES)},_findQuery:function(e,t,n){var r=this._scst_recordArraysByQuery,i=SC.guidFor(e),s,o;return r||(r=this._scst_recordArraysByQuery={}),s=r[i],!s&&t&&(r[i]=s=SC.RecordArray.create({store:this,query:e}),o=this.get("recordArrays"),o||this.set("recordArrays",o=SC.Set.create()),o.add(s),n&&this.refreshQuery(e)),this.flush(),s},_findRecord:function(e,t){var n;return e&&e.get&&e.get("isRecord")?n=e.get("storeKey"):n=SC.none(t)?null:e.storeKeyFor(t),n&&this.readStatus(n)===
SC.Record.EMPTY&&(n=this.retrieveRecord(e,t)),n?this.materializeRecord(n):null},recordArrayWillDestroy:function(e){var t=this._scst_recordArraysByQuery,n=this.get("recordArrays");return t&&delete t[SC.guidFor(e.get("query"))],n&&n.remove(e),this},refreshQuery:function(e){if(!e)throw new Error("refreshQuery() requires a query");var t=this._scst_recordArraysByQuery,n=t?t[SC.guidFor(e)]:null,r=this._getDataSource();return r&&r.fetch&&(n&&n.storeWillFetchQuery(e),r.fetch.call(r,this,e)),this},_notifyRecordArrays:function(e,t){var n=this.get("recordArrays");return n?(n.forEach(function(n){n&&n.storeDidChangeStoreKeys(e,t)},this),this):this},recordsFor:function(e){var t=[],n=e.storeKeysById(),r,i,s;for(r in n)i=n[r],this.readStatus(i)!==SC.RECORD_EMPTY&&t.push(i);return t.length>0?s=SC.RecordArray.create({store:this,storeKeys:t}):s=t,s},_TMP_REC_ATTRS:{},materializeRecord:function(e){var t=this.records,n,r,i;return t||(t=this.records={}),n=t[e],n?n:(r=SC.Store.recordTypeFor(e),r?(i=this._TMP_REC_ATTRS,i.storeKey=e,i.store=this,n=t[e]=r.create(i),n):null)},createRecord:function(e,t,n){var r,i,s,o=SC.Record,u,a,f;!n&&(r=e.prototype.primaryKey)&&(n=t[r],a=e.prototype[r]?e.prototype[r].defaultValue:null,!n&&SC.typeOf(a)===SC.T_FUNCTION&&(n=t[r]=a())),i=n?e.storeKeyFor(n):SC.Store.generateStoreKey(),s=this.readStatus(i);if(s&o.BUSY||s&o.READY||s===o.DESTROYED_DIRTY)throw n?o.RECORD_EXISTS_ERROR:o.BAD_STATE_ERROR;if(!!n||s!==SC.DESTROYED_CLEAN&&s!==SC.ERROR)return this.writeDataHash(i,t?t:{},o.READY_NEW),SC.Store.replaceRecordTypeFor(i,e),this.dataHashDidChange(i),u=this.changelog,u||(u=
SC.Set.create()),u.add(i),this.changelog=u,this.get("commitRecordsAutomatically")&&this.invokeLast(this.commitRecords),f=this.materializeRecord(i),f&&f.propagateToAggregates(),f;throw o.BAD_STATE_ERROR},createRecords:function(e,t,n){var r=[],i,s,o,u=t.length,a;o=SC.typeOf(e)===SC.T_ARRAY,o||(i=e);for(a=0;a<u;a++)o&&(i=e[a]||SC.Record),s=n?n[a]:undefined,r.push(this.createRecord(i,t[a],s));return r},unloadRecord:function(e,t,n,r){n===undefined&&(n=e.storeKeyFor(t));var i=this.readStatus(n),s=SC.Record;r=r||s.EMPTY;if(i===s.BUSY_DESTROYING||i&s.DESTROYED)return this;if(i&s.BUSY)throw s.BUSY_ERROR;i=r,this.removeDataHash(n,i),this.dataHashDidChange(n);var o=this;return this._propagateToChildren(n,function(e){o.unloadRecord(null,null,e,r)}),this},unloadRecords:function(e,t,n,r){var i,s,o,u,a,f;if(n===undefined){s=SC.typeOf(e)===SC.T_ARRAY,s||(a=e);if(t===undefined){i=s?e.length:1;for(o=0;o<i;o++)s&&(a=e[o]),n=this.storeKeysFor(a),this.unloadRecords(undefined,undefined,n,r)}else{i=t.length;for(o=0;o<i;o++)s&&(a=e[o]||SC.Record),u=t?t[o]:undefined,this.unloadRecord(a,u,undefined,r)}}else{i=n.length;for(o=0;o<i;o++)f=n?n[o]:undefined,this.unloadRecord(undefined,undefined,f,r)}return this},destroyRecord:function(e,t,n){n===undefined&&(n=e.storeKeyFor(t));var r=this.readStatus(n),i,s=SC.Record;if(r===s.BUSY_DESTROYING||r&s.DESTROYED)return this;if(r&s.BUSY)throw s.BUSY_ERROR;r===s.READY_NEW?r=s.DESTROYED_CLEAN:r=s.DESTROYED_DIRTY,this.writeStatus(n,r),this.dataHashDidChange(n),i=this.changelog,i||(i=this.changelog=SC.Set.create()),r&s.DIRTY?i.add(n):i.remove(n),this.changelog=i,this.
get("commitRecordsAutomatically")&&this.invokeLast(this.commitRecords);var o=this;return this._propagateToChildren(n,function(e){o.destroyRecord(null,null,e)}),this},destroyRecords:function(e,t,n){var r,i,s,o,u,a;if(n===undefined){r=t.length,i=SC.typeOf(e)===SC.T_ARRAY,i||(u=e);for(s=0;s<r;s++)i&&(u=e[s]||SC.Record),o=t?t[s]:undefined,this.destroyRecord(u,o,undefined)}else{r=n.length;for(s=0;s<r;s++)a=n?n[s]:undefined,this.destroyRecord(undefined,undefined,a)}return this},registerChildToParent:function(e,t,n){var r,i,s,o,u;i=this.childRecords||{},r=this.parentRecords||{},s=i[t],s&&(o=r[s],delete o[t]),u=r[e]||{},u[t]=n||YES,r[e]=u,i[t]=e,this.writeStatus(t,this.statuses[e]),this.childRecords=i,this.parentRecords=r},materializeParentRecord:function(e){var t,n;return SC.none(e)?null:(n=this.childRecords,t=n?this.childRecords[e]:null,SC.none(t)?null:this.materializeRecord(t))},parentStoreKeyExists:function(e){if(SC.none(e))return;var t=this.childRecords||{};return t[e]},_propagateToChildren:function(e,t){if(SC.none(this.parentRecords))return;var n=this.parentRecords[e]||{};if(SC.none(t))return;for(var r in n)n.hasOwnProperty(r)&&t(r)},recordDidChange:function(e,t,n,r,i){n===undefined&&(n=e.storeKeyFor(t));var s=this.readStatus(n),o,u=SC.Record;if(s&u.BUSY)throw u.BUSY_ERROR;if(!(s&u.READY))throw u.NOT_FOUND_ERROR;return s!=u.READY_NEW&&this.writeStatus(n,u.READY_DIRTY),this.dataHashDidChange(n,null,i,r),o=this.changelog,o||(o=this.changelog=SC.Set.create()),o.add(n),this.changelog=o,this.get("commitRecordsAutomatically")&&this.invokeLast(this.commitRecords),this},recordsDidChange
:function(e,t,n){var r,i,s,o,u,a;if(n===undefined){r=t.length,i=SC.typeOf(e)===SC.T_ARRAY,i||(u=e);for(s=0;s<r;s++)i&&(u=e[s]||SC.Record),o=t?t[s]:undefined,a=n?n[s]:undefined,this.recordDidChange(u,o,a)}else{r=n.length;for(s=0;s<r;s++)a=n?n[s]:undefined,this.recordDidChange(undefined,undefined,a)}return this},retrieveRecords:function(e,t,n,r,i){var s=this._getDataSource(),o=SC.typeOf(e)===SC.T_ARRAY,u=SC.typeOf(i)===SC.T_ARRAY,a=n?n.length:t.length,f=[],l=SC.Store.generateStoreKey(),c=SC.Record,h,p,d,v,m,g;o||(h=e);for(p=0;p<a;p++){n?d=n[p]:(o&&(h=e[p]),d=h.storeKeyFor(t[p])),g=u?i[p]:i,v=this.readStatus(d);if(v==c.EMPTY||v==c.ERROR||v==c.DESTROYED_CLEAN)this.writeStatus(d,c.BUSY_LOADING),this.dataHashDidChange(d,l,YES),f.push(d),this._setCallbackForStoreKey(d,g,u,n);else if(r)if(v&c.READY)this.writeStatus(d,c.BUSY_REFRESH|v&3),this.dataHashDidChange(d,l,YES),f.push(d),this._setCallbackForStoreKey(d,g,u,n);else{if(v==c.BUSY_DESTROYING||v==c.BUSY_CREATING||v==c.BUSY_COMMITTING)throw c.BUSY_ERROR;if(v==c.DESTROYED_DIRTY)throw c.BAD_STATE_ERROR}}m=NO,s&&(m=s.retrieveRecords.call(s,this,f,t));if(!m){a=f.length,l=SC.Store.generateStoreKey();for(p=0;p<a;p++)d=f[p],v=this.readStatus(d),v===c.BUSY_LOADING?(this.writeStatus(d,c.ERROR),this.dataHashDidChange(d,l,YES)):v&c.BUSY_REFRESH&&(this.writeStatus(d,c.READY|v&3),this.dataHashDidChange(d,l,YES));f.length=0}return f},_TMP_RETRIEVE_ARRAY:[],_callback_queue:{},_setCallbackForStoreKey:function(e,t,n,r){var i=this._callback_queue;n?i[e]={callback:t,otherKeys:r}:i[e]=t},_retreiveCallbackForStoreKey:function(e){var t=this._callback_queue
,n=t[e],r,i;n&&(SC.typeOf(n)===SC.T_FUNCTION?(n.call(),delete t[e]):SC.typeOf(n)==SC.T_HASH&&(n.completed=YES,i=n.storeKeys,i.forEach(function(e){t[e].completed||(r=YES)}),r&&(n.callback.call(),i.forEach(function(e){delete t[e]}))))},_cancelCallback:function(e){var t=this._callback_queue;t[e]&&delete t[e]},retrieveRecord:function(e,t,n,r,i){var s=this._TMP_RETRIEVE_ARRAY,o;return n?(s[0]=n,n=s,t=null):(s[0]=t,t=s),o=this.retrieveRecords(e,t,n,r,i),s.length=0,o[0]},refreshRecord:function(e,t,n,r){return!!this.retrieveRecord(e,t,n,YES,r)},refreshRecords:function(e,t,n,r){var i=this.retrieveRecords(e,t,n,YES,r);return i&&i.length>0},commitRecords:function(e,t,n,r,i){var s=this._getDataSource(),o=SC.typeOf(e)===SC.T_ARRAY,u=SC.typeOf(i)===SC.T_ARRAY,a=[],f=[],l=[],c=SC.Store.generateStoreKey(),h=SC.Record,p,d,v,m,g,y,b,w;!e&&!t&&!n&&(n=this.changelog),b=n?n.get("length"):t?t.get("length"):0;for(d=0;d<b;d++){n?v=n[d]:(o?p=e[d]||SC.Record:p=e,v=p.storeKeyFor(t[d])),w=u?i[d]:i,m=this.readStatus(v);if(m==h.EMPTY||m==h.ERROR)throw h.NOT_FOUND_ERROR;m==h.READY_NEW?(this.writeStatus(v,h.BUSY_CREATING),this.dataHashDidChange(v,c,YES),a.push(v),this._setCallbackForStoreKey(v,w,u,n)):m==h.READY_DIRTY?(this.writeStatus(v,h.BUSY_COMMITTING),this.dataHashDidChange(v,c,YES),f.push(v),this._setCallbackForStoreKey(v,w,u,n)):m==h.DESTROYED_DIRTY?(this.writeStatus(v,h.BUSY_DESTROYING),this.dataHashDidChange(v,c,YES),l.push(v),this._setCallbackForStoreKey(v,w,u,n)):m==h.DESTROYED_CLEAN&&this.dataHashDidChange(v,c,YES)}return s&&(b>0||r)&&(y=s.commitRecords.call(s,this,a,f,l,r)),y&&!e&&!t&&(n===this
.changelog?this.changelog=null:this.changelog.removeEach(n)),y},commitRecord:function(e,t,n,r,i){var s=this._TMP_RETRIEVE_ARRAY,o;return t===undefined&&n===undefined?NO:(n!==undefined?(s[0]=n,n=s,t=null):(s[0]=t,t=s),o=this.commitRecords(e,t,n,r,i),s.length=0,o)},cancelRecords:function(e,t,n){var r=this._getDataSource(),i=SC.typeOf(e)===SC.T_ARRAY,s=SC.Record,o=[],u,a,f,l,c,h;a=n===undefined?t.length:n.length;for(f=0;f<a;f++){i?c=e[f]||SC.Record:c=e||SC.Record,l=t?t[f]:undefined,n===undefined?h=c.storeKeyFor(l):h=n?n[f]:undefined;if(h){u=this.readStatus(h);if(u==s.EMPTY||u==s.ERROR)throw s.NOT_FOUND_ERROR;o.push(h),this._cancelCallback(h)}}return r&&r.cancel.call(r,this,o),this},cancelRecord:function(e,t,n){var r=this._TMP_RETRIEVE_ARRAY,i;return n!==undefined?(r[0]=n,n=r,t=null):(r[0]=t,t=r),i=this.cancelRecords(e,t,n),r.length=0,this},loadRecord:function(e,t,n){var r=SC.Record,i,s,o;return e=e||SC.Record,s=e.prototype.primaryKey,n=n||t[s],i=o=e.storeKeyFor(n),this.readStatus(o)&r.BUSY?this.dataSourceDidComplete(o,t,n):this.pushRetrieve(e,n,t,o),i},loadRecords:function(e,t,n){var r=SC.typeOf(e)===SC.T_ARRAY,i=t.get("length"),s=[],o=SC.Record,u,a,f,l,c,h;r||(u=e||SC.Record,f=u.prototype.primaryKey);for(l=0;l<i;l++)c=t.objectAt(l),r&&(u=e.objectAt(l)||SC.Record,f=u.prototype.primaryKey),a=n?n.objectAt(l):c[f],s[l]=this.loadRecord(u,c,a);return s},readError:function(e){var t=this.recordErrors;return t?t[e]:undefined},readQueryError:function(e){var t=this.queryErrors;return t?t[SC.guidFor(e)]:undefined},dataSourceDidCancel:function(e){var t=this.readStatus(e),n=SC.Record;if(!(t&
n.BUSY))throw n.BAD_STATE_ERROR;switch(t){case n.BUSY_LOADING:t=n.EMPTY;break;case n.BUSY_CREATING:t=n.READY_NEW;break;case n.BUSY_COMMITTING:t=n.READY_DIRTY;break;case n.BUSY_REFRESH_CLEAN:t=n.READY_CLEAN;break;case n.BUSY_REFRESH_DIRTY:t=n.READY_DIRTY;break;case n.BUSY_DESTROYING:t=n.DESTROYED_DIRTY;break;default:throw n.BAD_STATE_ERROR}return this.writeStatus(e,t),this.dataHashDidChange(e,null,YES),this._cancelCallback(e),this},dataSourceDidComplete:function(e,t,n){var r=this.readStatus(e),i=SC.Record,s;if(!(r&i.BUSY))throw i.BAD_STATE_ERROR;if(r===i.BUSY_DESTROYING)throw i.BAD_STATE_ERROR;r=i.READY_CLEAN,this.writeStatus(e,r),t&&this.writeDataHash(e,t,r),n&&SC.Store.replaceIdFor(e,n),s=t||n?NO:YES,this.dataHashDidChange(e,null,s);var o=this.materializeRecord(e);return o!=null&&o.notifyPropertyChange("status"),this._retreiveCallbackForStoreKey(e),this},dataSourceDidDestroy:function(e){var t=this.readStatus(e),n=SC.Record;if(!(t&n.BUSY))throw n.BAD_STATE_ERROR;t=n.DESTROYED_CLEAN,this.removeDataHash(e,t),this.dataHashDidChange(e);var r=this.materializeRecord(e);return r!=null&&r.notifyPropertyChange("status"),this._retreiveCallbackForStoreKey(e),this},dataSourceDidError:function(e,t){var n=this.readStatus(e),r=this.recordErrors,i=SC.Record;if(!(n&i.BUSY))throw i.BAD_STATE_ERROR;n=i.ERROR,t&&t.isError&&(r||(r=this.recordErrors=[]),r[e]=t),this.writeStatus(e,n),this.dataHashDidChange(e,null,YES);var s=this.materializeRecord(e);return s!=null&&s.notifyPropertyChange("status"),this._retreiveCallbackForStoreKey(e),this},pushRetrieve:function(e,t,n,r){var i=SC.Record,s;return r===
undefined&&(r=e.storeKeyFor(t)),s=this.readStatus(r),s==i.EMPTY||s==i.ERROR||s==i.READY_CLEAN||s==i.DESTROYED_CLEAN?(s=i.READY_CLEAN,n===undefined?this.writeStatus(r,s):this.writeDataHash(r,n,s),this.dataHashDidChange(r),r):NO},pushDestroy:function(e,t,n){var r=SC.Record,i;return n===undefined&&(n=e.storeKeyFor(t)),i=this.readStatus(n),i==r.EMPTY||i==r.ERROR||i==r.READY_CLEAN||i==r.DESTROYED_CLEAN?(i=r.DESTROYED_CLEAN,this.removeDataHash(n,i),this.dataHashDidChange(n),n):NO},pushError:function(e,t,n,r){var i=SC.Record,s,o=this.recordErrors;return r===undefined&&(r=e.storeKeyFor(t)),s=this.readStatus(r),s==i.EMPTY||s==i.ERROR||s==i.READY_CLEAN||s==i.DESTROYED_CLEAN?(s=i.ERROR,n&&n.isError&&(o||(o=this.recordErrors=[]),o[r]=n),this.writeStatus(r,s),this.dataHashDidChange(r,null,YES),r):NO},loadQueryResults:function(e,t){if(e.get("location")===SC.Query.LOCAL)throw new Error("Cannot load query results for a local query");var n=this._findQuery(e,YES,NO);return n&&n.set("storeKeys",t),this.dataSourceDidFetchQuery(e),this},dataSourceDidFetchQuery:function(e){return this._scstore_dataSourceDidFetchQuery(e,YES)},_scstore_dataSourceDidFetchQuery:function(e,t){var n=this._findQuery(e,t,NO),r=this.get("nestedStores"),i=r?r.get("length"):0;n&&n.storeDidFetchQuery(e);while(--i>=0)r[i]._scstore_dataSourceDidFetchQuery(e,NO);return this},dataSourceDidCancelQuery:function(e){return this._scstore_dataSourceDidCancelQuery(e,YES)},_scstore_dataSourceDidCancelQuery:function(e,t){var n=this._findQuery(e,t,NO),r=this.get("nestedStores"),i=r?r.get("length"):0;n&&n.storeDidCancelQuery(e);while(--i>=0
)r[i]._scstore_dataSourceDidCancelQuery(e,NO);return this},dataSourceDidErrorQuery:function(e,t){var n=this.queryErrors;return t&&t.isError&&(n||(n=this.queryErrors={}),n[SC.guidFor(e)]=t),this._scstore_dataSourceDidErrorQuery(e,YES)},_scstore_dataSourceDidErrorQuery:function(e,t){var n=this._findQuery(e,t,NO),r=this.get("nestedStores"),i=r?r.get("length"):0;n&&n.storeDidErrorQuery(e);while(--i>=0)r[i]._scstore_dataSourceDidErrorQuery(e,NO);return this},init:function(){arguments.callee.base.apply(this,arguments),this.reset()},toString:function(){var e=this.get("name");if(!e)return arguments.callee.base.apply(this,arguments);var t=arguments.callee.base.apply(this,arguments);return"%@ (%@)".fmt(e,t)},idFor:function(e){return SC.Store.idFor(e)},recordTypeFor:function(e){return SC.Store.recordTypeFor(e)},storeKeyFor:function(e,t){return e.storeKeyFor(t)},storeKeyExists:function(e,t){return e.storeKeyExists(t)},storeKeysFor:function(e){var t=[],n=e&&e.isEnumerable,r,i,s;if(!this.statuses)return t;for(i in SC.Store.recordTypesByStoreKey)r=SC.Store.recordTypesByStoreKey[i],n?s=e.contains(r):s=r===e,s&&this.statuses[i]&&t.push(parseInt(i,10));return t},storeKeys:function(){var e=[],t;if(!this.statuses)return e;for(t in this.statuses)this.statuses[t]!=SC.Record.EMPTY&&e.push(parseInt(t,10));return e},statusString:function(e){var t=this.materializeRecord(e);return t.statusString()}}),SC.Store.mixin({CHAIN_CONFLICT_ERROR:new Error("Nested Store Conflict"),NO_PARENT_STORE_ERROR:new Error("Parent Store Required"),NESTED_STORE_UNSUPPORTED_ERROR:new Error("Unsupported In Nested Store"),NESTED_STORE_RETRIEVE_DIRTY_ERROR
:new Error("Cannot Retrieve Dirty Record in Nested Store"),EDITABLE:"editable",LOCKED:"locked",INHERITED:"inherited",idsByStoreKey:[],recordTypesByStoreKey:{},queriesByStoreKey:[],nextStoreKey:1,generateStoreKey:function(){return this.nextStoreKey++},idFor:function(e){return this.idsByStoreKey[e]},queryFor:function(e){return this.queriesByStoreKey[e]},recordTypeFor:function(e){return this.recordTypesByStoreKey[e]},replaceIdFor:function(e,t){var n=this.idsByStoreKey[e],r,i;if(n!==t){r=this.recordTypeFor(e);if(!r)throw new Error("replaceIdFor: storeKey %@ does not exist".fmt(e));this.idsByStoreKey[e]=t,i=r.storeKeysById(),delete i[n],i[t]=e}return this},replaceRecordTypeFor:function(e,t){return this.recordTypesByStoreKey[e]=t,this}}),SC.Store.prototype.nextStoreIndex=1,SC.Store._getDefaultStore=function(){var e=this._store;return e||(this._store=e=SC.Store.create()),e},SC.Store.updateRecords=function(e,t,n,r){SC.Logger.warn("SC.Store.updateRecords() is deprecated.  Use loadRecords() instead");var i=this._getDefaultStore(),s=e.length,o,u;if(!n){n=[];for(o=0;o<s;o++)n[o]=e[o].recordType}u=i.loadRecords(n,e),s=u.length;for(o=0;o<s;o++)u[o]=i.materializeRecord(u[o]);return u},SC.Store.find=function(e,t){return this._getDefaultStore().find(t,e)},SC.Store.findAll=function(e,t){return this._getDefaultStore().findAll(e,t)},SC.NestedStore=SC.Store.extend({hasChanges:NO,parentStore:null,isNested:YES,lockOnRead:YES,locks:null,chainedChanges:null,find:function(e){if(e&&e.isQuery&&e.get("location")!==SC.Query.LOCAL)throw"SC.Store#find() can only accept LOCAL queries in nested stores";return arguments
.callee.base.apply(this,arguments)},commitChanges:function(e){if(this.get("hasChanges")){var t=this.get("parentStore");t.commitChangesFromNestedStore(this,this.chainedChanges,e)}return this.reset(),this},discardChanges:function(){var e,t;if((e=this.records)&&(t=this.locks)){var n=this.get("parentStore"),r=n.revisions,i=this.revisions,s,o,u;for(s in e){if(!e.hasOwnProperty(s))continue;if(!(o=t[s]))continue;u=r[s],(u!==o||i[s]>u)&&this._notifyRecordPropertyChange(parseInt(s,10))}}return this.reset(),this.flush(),this},destroy:function(){this.discardChanges();var e=this.get("parentStore");return e&&e.willDestroyNestedStore(this),arguments.callee.base.apply(this,arguments),this},reset:function(){var e,t,n,r=this.get("parentStore");if(!r)throw SC.Store.NO_PARENT_STORE_ERROR;this.dataHashes=SC.beget(r.dataHashes),this.revisions=SC.beget(r.revisions),this.statuses=SC.beget(r.statuses),this.childRecords=r.childRecords?SC.beget(r.childRecords):{},this.parentRecords=r.parentRecords?SC.beget(r.parentRecords):{},this.chainedChanges=this.locks=this.editables=null,this.changelog=null,this.set("hasChanges",NO)},refreshQuery:function(e){var t=this.get("parentStore");return t&&t.refreshQuery(e),this},readError:function(e){var t=this.get("parentStore");return t?t.readError(e):null},readQueryError:function(e){var t=this.get("parentStore");return t?t.readQueryError(e):null},storeKeyEditState:function(e){var t=this.editables,n=this.locks;return t&&t[e]?SC.Store.EDITABLE:n&&n[e]?SC.Store.LOCKED:SC.Store.INHERITED},_lock:function(e){var t=this.locks,n,r,i,s,o,u,a,f;if(t&&t[e])return this;t||(t=this
.locks=[]),r=this.editables,r&&(r[e]=0);var l=this.get("parentStore"),c;while(l&&(c=l.storeKeyEditState(e))===SC.Store.INHERITED)l=l.get("parentStore");return l&&c===SC.Store.EDITABLE?(i=this.childRecords[e],i?(this._lock(i),s=this.parentRecords[i],s&&(o=s[e],u=o?SC.tupleForPropertyPath(o,this.dataHashes[i]):null,u&&(a=u[0],f=u[1]),this.dataHashes[e]=a&&f?a[f]:null)):this.dataHashes[e]=SC.clone(l.dataHashes[e],YES),r||(r=this.editables=[]),r[e]=1):this.dataHashes[e]=l.dataHashes[e],this.statuses[e]=this.statuses[e],n=this.revisions[e]=this.revisions[e],t[e]=n||1,this},readDataHash:function(e){return this.get("lockOnRead")&&this._lock(e),this.dataHashes[e]},readEditableDataHash:function(e){return this._lock(e),arguments.callee.base.apply(this,arguments)},writeDataHash:function(e,t,n){var r=this.locks,i=NO,s;t?this.dataHashes[e]=t:(this._lock(e),i=YES),n?this.statuses[e]=n:i||(this.statuses[e]=this.statuses[e]||SC.Record.READY_NEW),i||(s=this.revisions[e]=this.revisions[e],r||(r=this.locks=[]),r[e]||(r[e]=s||1));var o=this.editables;return o||(o=this.editables=[]),o[e]=1,this},removeDataHash:function(e,t){var n=this.locks;return n||(n=this.locks=[]),n[e]||(n[e]=this.revisions[e]||1),arguments.callee.base.apply(this,arguments)},dataHashDidChange:function(e,t,n,r){t||(t=SC.Store.generateStoreKey());var i,s,o,u;i=SC.typeOf(e)===SC.T_ARRAY,i?s=e.length:(s=1,u=e);var a=this.chainedChanges;a||(a=this.chainedChanges=SC.Set.create());for(o=0;o<s;o++)i&&(u=e[o]),this._lock(u),this.revisions[u]=t,a.add(u),this._notifyRecordPropertyChange(u,n,r);return this.setIfChanged("hasChanges",YES)
,this},commitChangesFromNestedStore:function(e,t,n){arguments.callee.base.apply(this,arguments);var r=this.get("parentStore"),i=r.revisions,s,o=this.locks,u=this.chainedChanges,a,f;o||(o=this.locks=[]),u||(u=this.chainedChanges=SC.Set.create()),a=t.length;for(s=0;s<a;s++)f=t[s],o[f]||(o[f]=i[f]||1),u.add(f);return this.setIfChanged("hasChanges",u.get("length")>0),this.flush(),this},queryFor:function(e,t,n){return this.get("parentStore").queryFor(e,t,n)},findAll:function(e,t,n,r,i){return i||(i=this),this.get("parentStore").findAll(e,t,n,r,i)},retrieveRecords:function(e,t,n,r){var i=this.get("parentStore"),s,o,u,a=n?n.length:t.length,f=SC.Record,l;if(r)for(s=0;s<a;s++){o=n?n[s]:i.storeKeyFor(e,t[s]),l=this.peekStatus(o);if(l&f.DIRTY)throw SC.Store.NESTED_STORE_RETRIEVE_DIRTY_ERROR;var c=this.dataHashes,h=this.revisions,p=this.statuses,d=this.editables,v=this.locks,m=NO,g=NO;c&&c.hasOwnProperty(o)&&(delete c[o],m=YES),h&&h.hasOwnProperty(o)&&(delete h[o],m=YES),d&&delete d[o],v&&delete v[o],p&&p.hasOwnProperty(o)&&(delete p[o],m||(g=YES),m=YES),m&&this._notifyRecordPropertyChange(o,g)}return i.retrieveRecords(e,t,n,r)},commitRecords:function(e,t,n){throw SC.Store.NESTED_STORE_UNSUPPORTED_ERROR},commitRecord:function(e,t,n){throw SC.Store.NESTED_STORE_UNSUPPORTED_ERROR},cancelRecords:function(e,t,n){throw SC.Store.NESTED_STORE_UNSUPPORTED_ERROR},cancelRecord:function(e,t,n){throw SC.Store.NESTED_STORE_UNSUPPORTED_ERROR},dataSourceDidCancel:function(e){throw SC.Store.NESTED_STORE_UNSUPPORTED_ERROR},dataSourceDidComplete:function(e,t,n){throw SC.Store.NESTED_STORE_UNSUPPORTED_ERROR
},dataSourceDidDestroy:function(e){throw SC.Store.NESTED_STORE_UNSUPPORTED_ERROR},dataSourceDidError:function(e,t){throw SC.Store.NESTED_STORE_UNSUPPORTED_ERROR},pushRetrieve:function(e,t,n,r){throw SC.Store.NESTED_STORE_UNSUPPORTED_ERROR},pushDestroy:function(e,t,n){throw SC.Store.NESTED_STORE_UNSUPPORTED_ERROR},pushError:function(e,t,n,r){throw SC.Store.NESTED_STORE_UNSUPPORTED_ERROR}}),SC.RecordArray=SC.Object.extend(SC.Enumerable,SC.Array,{store:null,query:null,storeKeys:null,status:SC.Record.EMPTY,isEditable:function(){var e=this.get("query");return e?e.get("isEditable"):YES}.property("query").cacheable(),length:function(){this.flush();var e=this.get("storeKeys");return e?e.get("length"):0}.property("storeKeys").cacheable(),_scra_records:null,objectAt:function(e){this.flush();var t=this._scra_records,n=this.get("storeKeys"),r=this.get("store"),i,s;return!n||!r?undefined:t&&(s=t[e])?s:(t||(this._scra_records=t=[]),i=n.objectAt(e),i&&(r.peekStatus(i)===SC.Record.EMPTY&&r.retrieveRecord(null,null,i),t[e]=s=r.materializeRecord(i)),s)},forEach:function(e,t){this.flush();var n=this._scra_records,r=this.get("storeKeys"),i=this.get("store"),s=r?r.get("length"):0,o,u,a;if(!r||!i)return this;n||(n=this._scra_records=[]),t||(t=this);for(o=0;o<s;o++)a=n[o],a||(a=n[o]=i.materializeRecord(r.objectAt(o))),e.call(t,a,o,this);return this},replace:function(e,t,n){this.flush();var r=this.get("storeKeys"),i=n?n.get?n.get("length"):n.length:0,s,o;if(!r)throw"Unable to edit an SC.RecordArray that does not have its storeKeys property set.";if(!this.get("isEditable"))throw SC.RecordArray.NOT_EDITABLE
;o=[];for(s=0;s<i;s++)o[s]=n.objectAt(s).get("storeKey");return r.replace(e,t,o),this},contains:function(e){return this.indexOf(e)>=0},indexOf:function(e,t){if(!SC.kindOf(e,SC.Record))return SC.Logger.warn("Using indexOf on %@ with an object that is not an SC.Record".fmt(e)),-1;this.flush();var n=e.get("storeKey"),r=this.get("storeKeys");return r?r.indexOf(n,t):-1},lastIndexOf:function(e,t){if(!SC.kindOf(e,SC.Record))return SC.Logger.warn("Using lastIndexOf on %@ with an object that is not an SC.Record".fmt(e)),-1;this.flush();var n=e.get("storeKey"),r=this.get("storeKeys");return r?r.lastIndexOf(n,t):-1},add:function(e){return SC.kindOf(e,SC.Record)?(this.indexOf(e)<0&&this.pushObject(e),this):this},remove:function(e){return SC.kindOf(e,SC.Record)?(this.removeObject(e),this):this},find:function(e,t,n){return t&&t.isQuery?this.get("store").find(t.queryWithScope(this)):e.apply(this,SC.$A(arguments).slice(1))}.enhance(),refresh:function(){return this.get("store").refreshQuery(this.get("query")),this},reload:function(){return this.flush(YES),this},destroy:function(){this.get("isDestroyed")||this.get("store").recordArrayWillDestroy(this),arguments.callee.base.apply(this,arguments)},storeWillFetchQuery:function(e){var t=this.get("status"),n=SC.Record;if(t===n.EMPTY||t===n.ERROR)t=n.BUSY_LOADING;return t&n.READY&&(t=n.BUSY_REFRESH),this.setIfChanged("status",t),this},storeDidFetchQuery:function(e){return this.setIfChanged("status",SC.Record.READY_CLEAN),this},storeDidCancelQuery:function(e){var t=this.get("status"),n=SC.Record;return t===n.BUSY_LOADING?t=n.EMPTY:t===n.BUSY_REFRESH&&
(t=n.READY_CLEAN),this.setIfChanged("status",t),this},storeDidErrorQuery:function(e){return this.setIfChanged("status",SC.Record.ERROR),this},storeDidChangeStoreKeys:function(e,t){var n=this.get("query");if(n.get("location")!==SC.Query.LOCAL)return this;if(!n.containsRecordTypes(t))return this;var r=this._scq_changedStoreKeys;return r||(r=this._scq_changedStoreKeys=SC.IndexSet.create()),r.addEach(e),this.set("needsFlush",YES),this.get("storeKeys")&&this.flush(),this},flush:function(e){if(this._insideFlush)return this.set("needsFlush",YES),this;if(!this.get("needsFlush")&&!e)return this;this.set("needsFlush",NO);var t=this.get("query"),n=this.get("store");if(!n||!t||t.get("location")!==SC.Query.LOCAL)return this;this._insideFlush=YES;var r=this.get("storeKeys"),i=this._scq_changedStoreKeys,s=NO,o=SC.Record,u=[],a=new Date,f,l,c,h,p,d,v=r;if(r&&!e)i&&(i.forEach(function(e){if(u.length>0||new Date-a>SC.RecordArray.QUERY_MATCHING_THRESHOLD){u.push(e);return}l=n.peekStatus(e),!(l&o.EMPTY)&&!(l&o.DESTROYED||l===o.BUSY_DESTROYING)?(f=n.materializeRecord(e),d=!!f&&!!t.contains(f)):d=NO,d?r.indexOf(e)<0&&(s||(r=r.copy()),r.pushObject(e)):r.indexOf(e)>=0&&(s||(r=r.copy()),r.removeObject(e))},this),s=YES);else{if(p=t.get("scope"))h=p.flush().get("storeKeys");else if(c=t.get("expandedRecordTypes"))h=SC.IndexSet.create(),c.forEach(function(e){h.addEach(n.storeKeysFor(e))});r=[],h.forEach(function(e){if(u.length>0||new Date-a>SC.RecordArray.QUERY_MATCHING_THRESHOLD){u.push(e);return}l=n.peekStatus(e),!(l&o.EMPTY)&&!(l&o.DESTROYED||l===o.BUSY_DESTROYING)&&(f=n.materializeRecord(e),f&&t.contains
(f)&&r.push(e))}),s=YES}if(u.length>0){var m=this;window.setTimeout(function(){SC.run(function(){if(!m||m.get("isDestroyed"))return;m.set("needsFlush",YES),m._scq_changedStoreKeys=SC.IndexSet.create().addEach(u),m.flush()})},1)}return i&&i.clear(),s&&(r&&r===v&&(r=r.copy()),r=SC.Query.orderStoreKeys(r,t,n),SC.compare(v,r)!==0&&this.set("storeKeys",SC.clone(r))),this._insideFlush=NO,this},needsFlush:YES,isError:function(){return this.get("status")&SC.Record.ERROR}.property("status").cacheable(),errorValue:function(){return this.get("isError")?SC.val(this.get("errorObject")):null}.property("isError").cacheable(),errorObject:function(){if(this.get("isError")){var e=this.get("store");return e.readQueryError(this.get("query"))||SC.Record.GENERIC_ERROR}return null}.property("isError").cacheable(),propertyWillChange:function(e,t){if(e==="storeKeys"){var n=this.get("storeKeys"),r=n?n.get("length"):0,i=t?t.get("length"):0;this.arrayContentWillChange(0,r,i)}return arguments.callee.base.apply(this,arguments)},_storeKeysDidChange:function(){var e=this.get("storeKeys"),t=this._prevStoreKeys,n,r,i=this._storeKeysContentDidChange,s=this._storeKeysStateDidChange;if(e===t)return;t?(t.removeArrayObservers({target:this,willChange:this.arrayContentWillChange,didChange:this._storeKeysContentDidChange}),n=t.get("length")):n=0,this._prevStoreKeys=e,e?(e.addArrayObservers({target:this,willChange:this.arrayContentWillChange,didChange:this._storeKeysContentDidChange}),r=e.get("length")):r=0,this._storeKeysContentDidChange(0,n,r)}.observes("storeKeys"),addArrayObservers:function(){return this.flush(),
SC.Array.addArrayObservers.apply(this,arguments)},_storeKeysContentDidChange:function(e,t,n){this._scra_records&&(this._scra_records.length=0),this.arrayContentDidChange(e,t,n)},init:function(){arguments.callee.base.apply(this,arguments),this._storeKeysDidChange()}}),SC.RecordArray.mixin({NOT_EDITABLE:SC.Error.desc("SC.RecordArray is not editable"),QUERY_MATCHING_THRESHOLD:100}),Function.prototype.handleEvents=function(){return this.isEventHandler=YES,this.events=arguments,this},Function.prototype.stateObserves=function(){return this.isStateObserveHandler=YES,this.args=SC.A(arguments),this},SC.StatechartEventDelegate={isStatechartEventDelegate:YES,tryToPerform:function(e,t,n){if(!this.respondsTo(e))return NO;if(SC.typeOf(this[e])===SC.T_FUNCTION){var r=this[e](t,n);if(r!==NO)return YES}return!!this.sendEvent(e,t,n)},sendEvent:function(e,t,n){}},SC.StatechartRoutingDelegate={isStatechartDelegate:YES,isStatechartRoutingDelegate:YES,statechartUpdateLocationForState:function(e,t,n){SC.routes.set("location",t)},statechartAcquireLocationForState:function(e,t){return SC.routes.get("location")},statechartBindStateToRoute:function(e,t,n,r){SC.routes.add(n,t,r)},statechartShouldStateHandleTriggeredRoute:function(e,t,n){return YES},statechartStateCancelledHandlingTriggeredRoute:function(e,t,n){}},SC.StatechartDelegate=SC.StatechartRoutingDelegate,SC.StatePathMatcher=SC.Object.extend({state:null,expression:null,tokens:null,init:function(){arguments.callee.base.apply(this,arguments),this._parseExpression()},_parseExpression:function(){var e=this.expression?this.expression.split("."):[],t=
e.length,n=0,r,i=null,s,o=[];for(;n<t;n+=1){r=e[n];if(r.indexOf("~")>=0){r=r.split("~");if(r.length>2)throw"Invalid use of '~' at part %@".fmt(n);s=SC.StatePathMatcher._ExpandToken.create({start:r[0],end:r[1]})}else if(r==="this"){if(o.length>0)throw"Invalid use of 'this' at part %@".fmt(n);s=SC.StatePathMatcher._ThisToken.create()}else s=SC.StatePathMatcher._BasicToken.create({value:r});s.owner=this,o.push(s)}this.set("tokens",o);var u=SC.clone(o);this._chain=i=u.pop();while(s=u.pop())i.nextToken=s,i=s},lastPart:function(){var e=this.get("tokens"),t=e?e.length:0,n=t>0?e[t-1]:null;return n.get("lastPart")}.property("tokens").cacheable(),match:function(e){return this._stack=e.split("."),SC.empty(e)||SC.typeOf(e)!==SC.T_STRING?NO:this._chain.match()},_pop:function(){return this._lastPopped=this._stack.pop(),this._lastPopped}}),SC.StatePathMatcher._Token=SC.Object.extend({type:null,owner:null,nextToken:null,lastPart:null,match:function(){return NO}}),SC.StatePathMatcher._BasicToken=SC.StatePathMatcher._Token.extend({type:"basic",value:null,lastPart:function(){return this.value}.property("value").cacheable(),match:function(){var e=this.owner._pop(),t=this.nextToken;return this.value!==e?NO:t?t.match():YES}}),SC.StatePathMatcher._ExpandToken=SC.StatePathMatcher._Token.extend({type:"expand",start:null,end:null,lastPart:function(){return this.end}.property("end").cacheable(),match:function(){var e=this.start,t=this.end,n,r=this.nextToken;n=this.owner._pop();if(n!==t)return NO;while(n=this.owner._pop())if(n===e)return r?r.match():YES;return NO}}),SC.StatePathMatcher._ThisToken=SC.StatePathMatcher
._Token.extend({type:"this",lastPart:"this",match:function(){var e=this.owner.state,t=e.get("substates"),n=t.length,r=0,i;i=this.owner._lastPopped;if(!i||this.owner._stack.length!==0)return NO;for(;r<n;r+=1)if(t[r].get("name")===i)return YES;return NO}}),SC.Async=SC.Object.extend({func:null,arg1:null,arg2:null,tryToPerform:function(e){var t=this.get("func"),n=this.get("arg1"),r=this.get("arg2"),i=SC.typeOf(t);i===SC.T_STRING?e.tryToPerform(t,n,r):i===SC.T_FUNCTION&&t.apply(e,[n,r])}}),SC.Async.mixin({perform:function(e,t,n){return SC.Async.create({func:e,arg1:t,arg2:n})}}),SC.State=SC.Object.extend({name:null,parentState:null,historyState:null,initialSubstate:null,substatesAreConcurrent:NO,substates:null,statechart:null,stateIsInitialized:NO,currentSubstates:null,enteredSubstates:null,representRoute:null,trace:function(){var e=this.getPath("statechart.statechartTraceKey");return this.getPath("statechart.%@".fmt(e))}.property().cacheable(),owner:function(){var e=this.get("statechart"),t=e?e.get("statechartOwnerKey"):null,n=e?e.get(t):null;return n?n:e}.property().cacheable(),statechartDelegate:function(){return this.getPath("statechart.statechartDelegate")}.property().cacheable(),routingDelegate:function(){return this.getPath("statechart.routingDelegateValue")}.property().cacheable(),location:function(e,t){var n=this.get("statechart"),r=this.get("routingDelegate");return t!==undefined&&r.statechartUpdateLocationForState(n,t,this),r.statechartAcquireLocationForState(n,this)}.property().idempotent(),init:function(){arguments.callee.base.apply(this,arguments),this._registeredEventHandlers=
{},this._registeredStringEventHandlers={},this._registeredRegExpEventHandlers=[],this._registeredStateObserveHandlers={},this._registeredSubstatePaths={},this._registeredSubstates=[],this._isEnteringState=NO,this._isExitingState=NO;var e=this.get("statechart"),t=e?e.get("statechartOwnerKey"):null,n=e?e.get("statechartTraceKey"):null;e&&(e.addObserver(t,this,"_statechartOwnerDidChange"),e.addObserver(n,this,"_statechartTraceDidChange"))},destroy:function(){var e=this.get("statechart"),t=e?e.get("statechartOwnerKey"):null,n=e?e.get("statechartTraceKey"):null;e&&(e.removeObserver(t,this,"_statechartOwnerDidChange"),e.removeObserver(n,this,"_statechartTraceDidChange"));var r=this.get("substates");r&&r.forEach(function(e){e.destroy()}),this._teardownAllStateObserveHandlers(),this.set("substates",null),this.set("currentSubstates",null),this.set("enteredSubstates",null),this.set("parentState",null),this.set("historyState",null),this.set("initialSubstate",null),this.set("statechart",null),this.notifyPropertyChange("trace"),this.notifyPropertyChange("owner"),this._registeredEventHandlers=null,this._registeredStringEventHandlers=null,this._registeredRegExpEventHandlers=null,this._registeredStateObserveHandlers=null,this._registeredSubstatePaths=null,this._registeredSubstates=null,arguments.callee.base.apply(this,arguments)},initState:function(){if(this.get("stateIsInitialized"))return;this._registerWithParentStates(),this._setupRouteHandling();var e=null,t=null,n=null,r=null,i=this.constructor,s=null,o=[],u=NO,a=this.get("initialSubstate"),f=this.get("substatesAreConcurrent"),l=this.get
("statechart"),c=0,h=0,p=NO,d=null;this.set("substates",o),a&&a.isClass&&SC.kindOf(a,SC.HistoryState)&&(d=this.createSubstate(a),this.set("initialSubstate",d),SC.none(d.get("defaultState"))&&(this.stateLogError("Initial substate is invalid. History state requires the name of a default state to be set"),this.set("initialSubstate",null),d=null));for(e in this){t=this[e];if(!t)continue;r=t,n=t.isClass,p=!n&&t instanceof Function;if(p){if(t.isEventHandler){this._registerEventHandler(e,t);continue}if(t.isStateObserveHandler){this._registerStateObserveHandler(e,t);continue}t.statePlugin&&(t=t.apply(this))}t&&t.isClass&&r!==i&&SC.kindOf(t,SC.State)&&(s=this._addSubstate(e,t),e===a?(this.set("initialSubstate",s),u=YES):d&&d.get("defaultState")===e&&(d.set("defaultState",s),u=YES))}!SC.none(a)&&!u&&this.stateLogError("Unable to set initial substate %@ since it did not match any of state's %@ substates".fmt(a,this)),o.length===0?SC.none(a)||this.stateLogWarning("Unable to make %@ an initial substate since state %@ has no substates".fmt(a,this)):o.length>0&&(s=this._addEmptyInitialSubstateIfNeeded(),!s&&a&&f&&(this.set("initialSubstate",null),this.stateLogWarning("Can not use %@ as initial substate since substates are all concurrent for state %@".fmt(a,this)))),this.notifyPropertyChange("substates"),this.set("currentSubstates",[]),this.set("enteredSubstates",[]),this.set("stateIsInitialized",YES)},_setupRouteHandling:function(){var e=this.get("representRoute"),t=this.get("statechart"),n=this.get("routingDelegate");if(!e)return;if(this.get("isConcurrentState")){this.stateLogError("State %@ cannot handle route '%@' since state is concurrent"
.fmt(this,e));return}n.statechartBindStateToRoute(t,this,e,this.routeTriggered)},routeTriggered:function(e){if(this._isEnteringState)return;var t=this.get("statechart"),n=this.get("routingDelegate"),r=this.get("location"),i={state:this,location:r,params:e,handler:this.routeTriggered},s=this.createStateRouteHandlerContext(i);n.statechartShouldStateHandleTriggeredRoute(t,this,s)?(this.get("trace")&&r&&this.stateLogTrace("will handle route '%@'".fmt(r)),this.handleTriggeredRoute(s)):n.statechartStateCancelledHandlingTriggeredRoute(t,this,s)},createStateRouteHandlerContext:function(e){return SC.StateRouteHandlerContext.create(e)},handleTriggeredRoute:function(e){this.gotoState(this,e)},_addEmptyInitialSubstateIfNeeded:function(){var e=this.get("initialSubstate"),t=this.get("substatesAreConcurrent");if(e||t)return null;var n=this.createSubstate(SC.EmptyState);return this.set("initialSubstate",n),this.get("substates").push(n),this[n.get("name")]=n,n.initState(),this.stateLogWarning("state %@ has no initial substate defined. Will default to using an empty state as initial substate".fmt(this)),n},_addSubstate:function(e,t,n){var r=this.get("substates");return n=SC.clone(n)||{},n.name=e,t=this.createSubstate(t,n),r.push(t),this[e]=t,t.initState(),t},addSubstate:function(e,t,n){if(SC.empty(e))return this.stateLogError("Can not add substate. name required"),null;if(this[e]!==undefined)return this.stateLogError("Can not add substate '%@'. Already a defined property".fmt(e)),null;if(!this.get("stateIsInitialized"))return this.stateLogError("Can not add substate '%@'. this state is not yet initialized"
.fmt(e)),null;var r=arguments.length;r===1?t=SC.State:r===2&&SC.typeOf(t)===SC.T_HASH&&(n=t,t=SC.State);var i=t&&t.isClass&&SC.kindOf(t,SC.State);return i?(t=this._addSubstate(e,t,n),this._addEmptyInitialSubstateIfNeeded(),this.notifyPropertyChange("substates"),t):(this.stateLogError("Can not add substate '%@'. must provide a state class".fmt(e)),null)},createSubstate:function(e,t){return t=t||{},e.create({parentState:this,statechart:this.get("statechart")},t)},_registerEventHandler:function(e,t){var n=t.events,r=null,i=n.length,s=0;this._registeredEventHandlers[e]=t;for(;s<i;s+=1){r=n[s];if(SC.typeOf(r)===SC.T_STRING){this._registeredStringEventHandlers[r]={name:e,handler:t};continue}if(r instanceof RegExp){this._registeredRegExpEventHandlers.push({name:e,handler:t,regexp:r});continue}this.stateLogError("Invalid event %@ for event handler %@ in state %@".fmt(r,e,this))}},_registerStateObserveHandler:function(e,t){var n=0,r=t.args,i=r.length,s,o=YES;for(;n<i;n+=1){s=r[n];if(SC.typeOf(s)!==SC.T_STRING||SC.empty(s))this.stateLogError("Invalid argument %@ for state observe handler %@ in state %@".fmt(s,e,this)),o=NO}if(!o)return;this._registeredStateObserveHandlers[e]=t.args},_registerWithParentStates:function(){var e=this.get("parentState");while(!SC.none(e))e._registerSubstate(this),e=e.get("parentState")},_registerSubstate:function(e){var t=e.pathRelativeTo(this);if(SC.none(t))return;this._registeredSubstates.push(e);var n=this._registeredSubstatePaths;n[e.get("name")]===undefined&&(n[e.get("name")]={});var r=n[e.get("name")];r[t]=e},pathRelativeTo:function(e){var t=this.get
("name"),n=this.get("parentState");while(!SC.none(n)&&n!==e)t="%@.%@".fmt(n.get("name"),t),n=n.get("parentState");return n!==e&&e!==this?(this.stateLogError("Can not generate relative path from %@ since it not a parent state of %@".fmt(e,this)),null):t},getSubstate:function(e,t,n){if(!e)return null;var r=SC.typeOf(e);if(r===SC.T_OBJECT)return this._registeredSubstates.indexOf(e)>-1?e:null;if(r!==SC.T_STRING)return this.stateLogError("Can not find matching subtype. value must be an object or string: %@".fmt(e)),null;var i=SC.StatePathMatcher.create({state:this,expression:e}),s=[],o;if(i.get("tokens").length===0)return null;var u=this._registeredSubstatePaths[i.get("lastPart")];if(!u)return this._notifySubstateNotFound(t,n,e);for(o in u)i.match(o)&&s.push(u[o]);if(s.length===1)return s[0];if(s.length>1){var a=[];for(o in u)a.push(o);if(t)return this._notifySubstateNotFound(t,n,e,a);var f="Can not find substate matching '%@' in state %@. Ambiguous with the following: %@";this.stateLogError(f.fmt(e,this.get("fullPath"),a.join(", ")))}return this._notifySubstateNotFound(t,n,e)},_notifySubstateNotFound:function(e,t,n,r){return e?e.call(t||this,this,n,r):null},getState:function(e){return e===this.get("name")?this:SC.kindOf(e,SC.State)?e:this.getSubstate(e,this._handleSubstateNotFound)},_handleSubstateNotFound:function(e,t,n){var r=this.get("parentState");if(r)return r.getState(t);if(n){var i="Can not find state matching '%@'. Ambiguous with the following: %@";this.stateLogError(i.fmt(t,n.join(", ")))}return null},gotoState:function(e,t){var n=this.getState(e);if(!n){var r="can not go to state %@ from state %@. Invalid value."
;this.stateLogError(r.fmt(e,this));return}var i=this.findFirstRelativeCurrentState(n);this.get("statechart").gotoState(n,i,!1,t)},gotoHistoryState:function(e,t,n){var r=this.getState(e);if(!r){var i="can not go to history state %@ from state %@. Invalid value.";this.stateLogError(i.fmt(e,this));return}var s=this.findFirstRelativeCurrentState(r);this.get("statechart").gotoHistoryState(r,s,t,n)},resumeGotoState:function(){this.get("statechart").resumeGotoState()},stateIsCurrentSubstate:function(e){SC.typeOf(e)===SC.T_STRING&&(e=this.get("statechart").getState(e));var t=this.get("currentSubstates");return!!t&&t.indexOf(e)>=0},stateIsEnteredSubstate:function(e){SC.typeOf(e)===SC.T_STRING&&(e=this.get("statechart").getState(e));var t=this.get("enteredSubstates");return!!t&&t.indexOf(e)>=0},isRootState:function(){return this.getPath("statechart.rootState")===this}.property(),isCurrentState:function(){return this.stateIsCurrentSubstate(this)}.property("currentSubstates").cacheable(),isConcurrentState:function(){return this.getPath("parentState.substatesAreConcurrent")}.property(),isEnteredState:function(){return this.stateIsEnteredSubstate(this)}.property("enteredSubstates").cacheable(),hasSubstates:function(){return this.getPath("substates.length")>0}.property("substates"),hasCurrentSubstates:function(){var e=this.get("currentSubstates");return!!e&&e.get("length")>0}.property("currentSubstates").cacheable(),hasEnteredSubstates:function(){var e=this.get("enteredSubstates");return!!e&&e.get("length")>0}.property("enteredSubstates").cacheable(),findFirstRelativeCurrentState:function(
e){if(this.get("isCurrentState"))return this;var t=this.get("currentSubstates")||[],n=t.get("length"),r=this.get("parentState");if(n===0)return r?r.findFirstRelativeCurrentState():null;if(n>1){e=this.getSubstate(e);if(e)return e.findFirstRelativeCurrentState()}return t[0]},reenter:function(){this.get("isEnteredState")?this.gotoState(this):SC.Logger.error("Can not re-enter state %@ since it is not an entered state in the statechart".fmt(this))},tryToHandleEvent:function(e,t,n){var r=this.get("trace"),i=this.get("statechart"),s;if(this._registeredEventHandlers[e])return this.stateLogWarning("state %@ can not handle event '%@' since it is a registered event handler".fmt(this,e)),NO;if(this._registeredStateObserveHandlers[e])return this.stateLogWarning("state %@ can not handle event '%@' since it is a registered state observe handler".fmt(this,e)),NO;if(SC.typeOf(this[e])===SC.T_FUNCTION)return r&&this.stateLogTrace("will handle event '%@'".fmt(e)),i.stateWillTryToHandleEvent(this,e,e),s=this[e](t,n)!==NO,i.stateDidTryToHandleEvent(this,e,e,s),s;var o=this._registeredStringEventHandlers[e];if(o)return r&&this.stateLogTrace("%@ will handle event '%@'".fmt(o.name,e)),i.stateWillTryToHandleEvent(this,e,o.name),s=o.handler.call(this,e,t,n)!==NO,i.stateDidTryToHandleEvent(this,e,o.name,s),s;var u=this._registeredRegExpEventHandlers.length,a=0;for(;a<u;a+=1){o=this._registeredRegExpEventHandlers[a];if(e.match(o.regexp))return r&&this.stateLogTrace("%@ will handle event '%@'".fmt(o.name,e)),i.stateWillTryToHandleEvent(this,e,o.name),s=o.handler.call(this,e,t,n)!==NO,i.stateDidTryToHandleEvent
(this,e,o.name,s),s}return SC.typeOf(this.unknownEvent)===SC.T_FUNCTION?(r&&this.stateLogTrace("unknownEvent will handle event '%@'".fmt(e)),i.stateWillTryToHandleEvent(this,e,"unknownEvent"),s=this.unknownEvent(e,t,n)!==NO,i.stateDidTryToHandleEvent(this,e,"unknownEvent",s),s):NO},enterState:function(e){},stateWillBecomeEntered:function(e){this._isEnteringState=YES},stateDidBecomeEntered:function(e){this._setupAllStateObserveHandlers(),this._isEnteringState=NO},exitState:function(e){},stateWillBecomeExited:function(e){this._isExitingState=YES,this._teardownAllStateObserveHandlers()},stateDidBecomeExited:function(e){this._isExitingState=NO},_setupAllStateObserveHandlers:function(){this._configureAllStateObserveHandlers("addObserver")},_teardownAllStateObserveHandlers:function(){this._configureAllStateObserveHandlers("removeObserver")},_configureAllStateObserveHandlers:function(e){var t,n,r,i,s,o,u,a;for(t in this._registeredStateObserveHandlers){n=this._registeredStateObserveHandlers[t];for(u=0;u<n.length;u+=1)s=n[u],o=t,i=s.indexOf("."),i<0?this[e](s,this,o):s.indexOf("*")===0?this[e](s.slice(1),this,o):(a=null,i===0?(a=this,s=s.slice(1)):i===4&&s.slice(0,5)==="this."?(a=this,s=s.slice(5)):i<0&&s.length===4&&s==="this"&&(a=this,s=""),SC.Observers[e](s,this,o,a))}},performAsync:function(e,t,n){return SC.Async.perform(e,t,n)},respondsToEvent:function(e){if(this._registeredEventHandlers[e])return!1;if(SC.typeOf(this[e])===SC.T_FUNCTION)return!0;if(this._registeredStringEventHandlers[e])return!0;if(this._registeredStateObserveHandlers[e])return!1;var t=this._registeredRegExpEventHandlers
.length,n=0,r;for(;n<t;n+=1){r=this._registeredRegExpEventHandlers[n];if(e.match(r.regexp))return!0}return SC.typeOf(this.unknownEvent)===SC.T_FUNCTION},fullPath:function(){var e=this.getPath("statechart.rootState");return e?this.pathRelativeTo(e):this.get("name")}.property("name","parentState").cacheable(),toString:function(){return this.get("fullPath")},_enteredSubstatesDidChange:function(){this.notifyPropertyChange("enteredSubstates")}.observes("*enteredSubstates.[]"),_currentSubstatesDidChange:function(){this.notifyPropertyChange("currentSubstates")}.observes("*currentSubstates.[]"),_statechartTraceDidChange:function(){this.notifyPropertyChange("trace")},_statechartOwnerDidChange:function(){this.notifyPropertyChange("owner")},stateLogTrace:function(e){var t=this.get("statechart");t.statechartLogTrace("%@: %@".fmt(this,e))},stateLogWarning:function(e){var t=this.get("statechart");t.statechartLogWarning(e)},stateLogError:function(e){var t=this.get("statechart");t.statechartLogError(e)}}),SC.State.plugin=function(e){var t=SC.A(arguments);t.shift();var n=function(){var n=SC.objectForPropertyPath(e);return n?!n.isClass||!n.kindOf(SC.State)?(console.error("SC.State.plugin: Unable to extend. %@ must be a class extending from SC.State".fmt(e)),undefined):n.extend.apply(n,t):(console.error("SC.State.plugin: Unable to determine path %@".fmt(e)),undefined)};return n.statePlugin=YES,n},SC.State.design=SC.State.extend,SC.EMPTY_STATE_NAME="__EMPTY_STATE__",SC.EmptyState=SC.State.extend({name:SC.EMPTY_STATE_NAME,enterState:function(){var e="No initial substate was defined for state %@. Entering default empty state"
;this.stateLogWarning(e.fmt(this.get("parentState")))}}),SC.HistoryState=SC.Object.extend({isRecursive:NO,defaultState:null,statechart:null,parentState:null,state:function(){var e=this.get("defaultState"),t=this.getPath("parentState.historyState");return t?t:e}.property().cacheable(),parentHistoryStateDidChange:function(){this.notifyPropertyChange("state")}.observes("*parentState.historyState")}),SC.StateRouteHandlerContext=SC.Object.extend({state:null,location:null,params:null,handler:null,retry:function(){var e=this.get("state"),t=this.get("params"),n=this.get("handler");SC.typeOf(n)===SC.T_STRING&&(n=e[n]),SC.typeOf(n)===SC.T_FUNCTION&&n.apply(e,[t])}}),SC.StatechartManager={isResponderContext:YES,isStatechart:YES,statechartIsInitialized:NO,name:null,rootState:null,rootStateExample:SC.State,initialState:null,statesAreConcurrent:NO,monitorIsActive:NO,monitor:null,statechartTraceKey:"trace",trace:NO,statechartOwnerKey:"owner",owner:null,autoInitStatechart:YES,suppressStatechartWarnings:NO,delegate:null,statechartDelegate:function(){var e=this.get("delegate");return this.delegateFor("isStatechartDelegate",e)}.property("delegate"),routingDelegate:null,eventDelegate:null,routingDelegateValue:function(){var e=this.get("routingDelegate"),t=this.get("delegate");return this.delegateFor("isStatechartRoutingDelegate",e,t)}.property("routingDelegate").cacheable(),initMixin:function(){this.get("autoInitStatechart")&&this.initStatechart()},destroyMixin:function(){var e=this.get("rootState"),t=this.get("statechartTraceKey");this.removeObserver(t,this,"_statechartTraceDidChange"),e.destroy
(),this.set("rootState",null)},initStatechart:function(){if(this.get("statechartIsInitialized"))return;this._gotoStateLocked=NO,this._sendEventLocked=NO,this._pendingStateTransitions=[],this._pendingSentEvents=[],this.sendAction=this.sendEvent,this.get("monitorIsActive")&&this.set("monitor",SC.StatechartMonitor.create({statechart:this}));var e=this.get("statechartTraceKey");this.addObserver(e,this,"_statechartTraceDidChange"),this._statechartTraceDidChange();var t=this.get("allowStatechartTracing"),n=this.get("rootState"),r;t&&this.statechartLogTrace("BEGIN initialize statechart"),n?SC.typeOf(n)===SC.T_FUNCTION&&n.statePlugin&&(n=n.apply(this)):n=this._constructRootStateClass();if(!SC.kindOf(n,SC.State)||!n.isClass)throw r="Unable to initialize statechart. Root state must be a state class",this.statechartLogError(r),r;n=this.createRootState(n,{statechart:this,name:SC.ROOT_STATE_NAME}),this.set("rootState",n),n.initState();if(SC.kindOf(n.get("initialSubstate"),SC.EmptyState))throw r="Unable to initialize statechart. Root state must have an initial substate explicilty defined",this.statechartLogError(r),r;if(!SC.empty(this.get("initialState"))){var i="initialState";this.set(i,n.get(this.get(i)))}this.set("statechartIsInitialized",YES),this.gotoState(n),t&&this.statechartLogTrace("END initialize statechart")},createRootState:function(e,t){return t||(t={}),e=e.create(t),e},currentStates:function(){return this.getPath("rootState.currentSubstates")}.property().cacheable(),firstCurrentState:function(){var e=this.get("currentStates");return e?e.objectAt(0):null}.property("currentStates"
).cacheable(),currentStateCount:function(){return this.getPath("currentStates.length")}.property("currentStates").cacheable(),stateIsCurrentState:function(e){return this.get("rootState").stateIsCurrentSubstate(e)},enteredStates:function(){return this.getPath("rootState.enteredSubstates")}.property().cacheable(),stateIsEntered:function(e){return this.get("rootState").stateIsEnteredSubstate(e)},doesContainState:function(e){return!SC.none(this.getState(e))},getState:function(e){var t=this.get("rootState");return t===e?t:t.getSubstate(e)},gotoState:function(e,t,n,r){if(!this.get("statechartIsInitialized")){this.statechartLogError("can not go to state %@. statechart has not yet been initialized".fmt(e));return}if(this.get("isDestroyed")){this.statechartLogError("can not go to state %@. statechart is destroyed".fmt(this));return}var i=this._processGotoStateArgs(arguments);e=i.state,t=i.fromCurrentState,n=i.useHistory,r=i.context;var s=null,o=[],u=[],a=this.get("allowStatechartTracing"),f=this.get("rootState"),l=e,c=t,h;e=this.getState(e);if(SC.none(e)){this.statechartLogError("Can not to goto state %@. Not a recognized state in statechart".fmt(l));return}if(this._gotoStateLocked){this._pendingStateTransitions.push({state:e,fromCurrentState:t,useHistory:n,context:r});return}this._gotoStateLocked=YES;if(t){t=this.getState(t);if(SC.none(t)||!t.get("isCurrentState")){h="Can not to goto state %@. %@ is not a recognized current state in statechart",this.statechartLogError(h.fmt(l,c)),this._gotoStateLocked=NO;return}}else t=e.findFirstRelativeCurrentState(),t||(t=this.get("firstCurrentState"
));a&&(this.statechartLogTrace("BEGIN gotoState: %@".fmt(e)),h="starting from current state: %@",h=h.fmt(t?t:"---"),this.statechartLogTrace(h),h="current states before: %@",h=h.fmt(this.getPath("currentStates.length")>0?this.get("currentStates"):"---"),this.statechartLogTrace(h)),SC.none(t)||(o=this._createStateChain(t)),u=this._createStateChain(e),s=this._findPivotState(o,u);if(s){a&&this.statechartLogTrace("pivot state = %@".fmt(s));if(s.get("substatesAreConcurrent")&&s!==e){this.statechartLogError("Can not go to state %@ from %@. Pivot state %@ has concurrent substates.".fmt(e,t,s)),this._gotoStateLocked=NO;return}}var p=[];this._traverseStatesToExit(o.shift(),o,s,p),s!==e?this._traverseStatesToEnter(u.pop(),u,s,n,p):(this._traverseStatesToExit(s,[],null,p),this._traverseStatesToEnter(s,null,null,n,p)),this._gotoStateActions=p,this._executeGotoStateActions(e,p,null,r)},gotoStateActive:function(){return this._gotoStateLocked}.property(),gotoStateSuspended:function(){return this._gotoStateLocked&&!!this._gotoStateSuspendedPoint}.property(),resumeGotoState:function(){if(!this.get("gotoStateSuspended")){this.statechartLogError("Can not resume goto state since it has not been suspended");return}var e=this._gotoStateSuspendedPoint;this._executeGotoStateActions(e.gotoState,e.actions,e.marker,e.context)},_executeGotoStateActions:function(e,t,n,r){var i=null,s=t.length,o=null;n=SC.none(n)?0:n;for(;n<s;n+=1){this._currentGotoStateAction=i=t[n];switch(i.action){case SC.EXIT_STATE:o=this._exitState(i.state,r);break;case SC.ENTER_STATE:o=this._enterState(i.state,i.currentState,r)}if(SC
.kindOf(o,SC.Async)){this._gotoStateSuspendedPoint={gotoState:e,actions:t,marker:n+1,context:r},o.tryToPerform(i.state);return}}this.beginPropertyChanges(),this.notifyPropertyChange("currentStates"),this.notifyPropertyChange("enteredStates"),this.endPropertyChanges(),this.get("allowStatechartTracing")&&(this.statechartLogTrace("current states after: %@".fmt(this.get("currentStates"))),this.statechartLogTrace("END gotoState: %@".fmt(e))),this._cleanupStateTransition()},_cleanupStateTransition:function(){this._currentGotoStateAction=null,this._gotoStateSuspendedPoint=null,this._gotoStateActions=null,this._gotoStateLocked=NO,this._flushPendingStateTransition()},_exitState:function(e,t){var n;if(e.get("currentSubstates").indexOf(e)>=0){n=e.get("parentState");while(n)n.get("currentSubstates").removeObject(e),n=n.get("parentState")}n=e;while(n)n.get("enteredSubstates").removeObject(e),n=n.get("parentState");this.get("allowStatechartTracing")&&this.statechartLogTrace("<-- exiting state: %@".fmt(e)),e.set("currentSubstates",[]),e.stateWillBecomeExited(t);var r=this.exitState(e,t);return e.stateDidBecomeExited(t),this.get("monitorIsActive")&&this.get("monitor").pushExitedState(e),e._traverseStatesToExit_skipState=NO,r},exitState:function(e,t){return e.exitState(t)},_enterState:function(e,t,n){var r=e.get("parentState");r&&!e.get("isConcurrentState")&&r.set("historyState",e);if(t){r=e;while(r)r.get("currentSubstates").pushObject(e),r=r.get("parentState")}r=e;while(r)r.get("enteredSubstates").pushObject(e),r=r.get("parentState");this.get("allowStatechartTracing")&&this.statechartLogTrace
("--> entering state: %@".fmt(e)),e.stateWillBecomeEntered(n);var i=this.enterState(e,n);return e.stateDidBecomeEntered(n),this.get("monitorIsActive")&&this.get("monitor").pushEnteredState(e),i},enterState:function(e,t){return e.enterStateByRoute&&SC.kindOf(t,SC.StateRouteHandlerContext)?e.enterStateByRoute(t):e.enterState(t)},gotoHistoryState:function(e,t,n,r){if(!this.get("statechartIsInitialized")){this.statechartLogError("can not go to state %@'s history state. Statechart has not yet been initialized".fmt(e));return}var i=this._processGotoStateArgs(arguments);e=i.state,t=i.fromCurrentState,n=i.useHistory,r=i.context,e=this.getState(e);if(!e){this.statechartLogError("Can not to goto state %@'s history state. Not a recognized state in statechart".fmt(e));return}var s=e.get("historyState");n?this.gotoState(e,t,YES,r):s?this.gotoState(s,t,r):this.gotoState(e,t,r)},sendEvent:function(e,t,n){if(this.get("isDestroyed")){this.statechartLogError("can send event %@. statechart is destroyed".fmt(e));return}var r=NO,i=this.get("currentStates").slice(),s={},o=[],u=NO,a=0,f=0,l=null,c=this.get("allowStatechartTracing");if(this._sendEventLocked||this._goStateLocked){this._pendingSentEvents.push({event:e,arg1:t,arg2:n});return}this._sendEventLocked=YES;var h=this.get("eventDelegate");h&&(r=h.sendEvent(e,t,n),r&&c&&this.statechartLogTrace("eventDelegate handled event: '%@'".fmt(e)));if(!r){c&&this.statechartLogTrace("BEGIN sendEvent: '%@'".fmt(e)),a=i.get("length");for(;f<a;f+=1){l=i[f];if(!l.get("isCurrentState"))continue;while(l){var p=SC.hashFor(l);if(l.get("substatesAreConcurrent")){
s[p]?s[p]++:s[p]=1;if(s[p]<l.substates.length||o.indexOf(l)!=-1)break}u=l.tryToHandleEvent(e,t,n),r=r||u;var d=l.get("parentState");u&&d&&d.get("substatesAreConcurrent")&&o.push(d);if(u)break;l=l.get("parentState")}}c&&(r||this.statechartLogTrace("No state was able handle event %@".fmt(e)),this.statechartLogTrace("END sendEvent: '%@'".fmt(e)))}this._sendEventLocked=NO;var v=this._flushPendingSentEvents();return r?this:v?this:null},stateWillTryToHandleEvent:function(e,t,n){this._stateHandleEventInfo={state:e,event:t,handler:n}},stateDidTryToHandleEvent:function(e,t,n,r){this._stateHandleEventInfo=null},_createStateChain:function(e){var t=[];while(e)t.push(e),e=e.get("parentState");return t},_findPivotState:function(e,t){if(e.length===0||t.length===0)return null;var n=e.find(function(e,n){if(t.indexOf(e)>=0)return YES});return n},_traverseStatesToExit:function(e,t,n,r){if(!e||e===n)return;var i=this.get("allowStatechartTracing");if(e.get("substatesAreConcurrent")){var s=0,o=e.get("currentSubstates"),u=o.length,a=null;for(;s<u;s+=1){a=o[s];if(a._traverseStatesToExit_skipState===YES)continue;var f=this._createStateChain(a);this._traverseStatesToExit(f.shift(),f,e,r)}}r.push({action:SC.EXIT_STATE,state:e}),e.get("isCurrentState")&&(e._traverseStatesToExit_skipState=YES),this._traverseStatesToExit(t.shift(),t,n,r)},_traverseStatesToEnter:function(e,t,n,r,i){if(!e)return;var s=this.get("allowStatechartTracing");if(n)e!==n?this._traverseStatesToEnter(t.pop(),t,n,r,i):this._traverseStatesToEnter(t.pop(),t,null,r,i);else if(!t||t.length===0){var o={action:SC.ENTER_STATE,state:e,currentState
:NO};i.push(o);var u=e.get("initialSubstate"),a=e.get("historyState");e.get("substatesAreConcurrent")?this._traverseConcurrentStatesToEnter(e.get("substates"),null,r,i):e.get("hasSubstates")&&a&&r?this._traverseStatesToEnter(a,null,null,r,i):u?(SC.kindOf(u,SC.HistoryState)&&(r||(r=u.get("isRecursive")),u=u.get("state")),this._traverseStatesToEnter(u,null,null,r,i)):o.currentState=YES}else if(t.length>0){i.push({action:SC.ENTER_STATE,state:e});var f=t.pop();this._traverseStatesToEnter(f,t,null,r,i),e.get("substatesAreConcurrent")&&this._traverseConcurrentStatesToEnter(e.get("substates"),f,r,i)}},respondsTo:function(e){var t=this.get("currentStates"),n=t.get("length"),r=0,i=null;for(;r<n;r+=1){i=t.objectAt(r);while(i){if(i.respondsToEvent(e))return!0;i=i.get("parentState")}}return SC.typeOf(this[e])===SC.T_FUNCTION},invokeStateMethod:function(e,t,n){if(e==="unknownEvent"){this.statechartLogError("can not invoke method unkownEvent");return}t=SC.A(arguments),t.shift();var r=t.length,i=r>0?t[r-1]:null,s=SC.typeOf(i)===SC.T_FUNCTION?t.pop():null,o=this.get("currentStates"),u=0,a=null,f={},l,c=undefined,h=0;r=o.get("length");for(;u<r;u+=1){a=o.objectAt(u);while(a){if(f[a.get("fullPath")])break;f[a.get("fullPath")]=YES,l=a[e];if(SC.typeOf(l)===SC.T_FUNCTION&&!l.isEventHandler){c=l.apply(a,t),s&&s.call(this,a,c),h+=1;break}a=a.get("parentState")}}return h===1?c:undefined},_traverseConcurrentStatesToEnter:function(e,t,n,r){var i=0,s=e.length,o=null;for(;i<s;i+=1)o=e[i],o!==t&&this._traverseStatesToEnter(o,null,null,n,r)},_flushPendingStateTransition:function(){if(!this._pendingStateTransitions
){this.statechartLogError("Unable to flush pending state transition. _pendingStateTransitions is invalid");return}var e=this._pendingStateTransitions.shift();if(!e)return;this.gotoState(e.state,e.fromCurrentState,e.useHistory,e.context)},_flushPendingSentEvents:function(){var e=this._pendingSentEvents.shift();return e?this.sendEvent(e.event,e.arg1,e.arg2):null},_monitorIsActiveDidChange:function(){this.get("monitorIsActive")&&SC.none(this.get("monitor"))&&this.set("monitor",SC.StatechartMonitor.create())}.observes("monitorIsActive"),_processGotoStateArgs:function(e){var t={state:null,fromCurrentState:null,useHistory:!1,context:null},n=null,r=null;e=SC.$A(e),e=e.filter(function(e){return e!==undefined}),n=e.length;if(n<1)return t;t.state=e[0];if(n===2){r=e[1];switch(SC.typeOf(r)){case SC.T_BOOL:t.useHistory=r;break;case SC.T_HASH:case SC.T_OBJECT:SC.kindOf(r,SC.State)||(t.context=r);break;default:t.fromCurrentState=r}}else n===3?(r=e[1],SC.typeOf(r)===SC.T_BOOL?(t.useHistory=r,t.context=e[2]):(t.fromCurrentState=r,r=e[2],SC.typeOf(r)===SC.T_BOOL?t.useHistory=r:t.context=r)):(t.fromCurrentState=e[1],t.useHistory=e[2],t.context=e[3]);return t},_constructRootStateClass:function(){var e="rootStateExample",t=this.get(e),n=this.get("initialState"),r=this.get("statesAreConcurrent"),i=0,s,o,u,a={};SC.typeOf(t)===SC.T_FUNCTION&&t.statePlugin&&(t=t.apply(this));if(!SC.kindOf(t,SC.State)||!t.isClass)return this._logStatechartCreationError("Invalid root state example"),null;if(r&&!SC.empty(n))this._logStatechartCreationError("Can not assign an initial state when states are concurrent");else if(
r)a.substatesAreConcurrent=YES;else{if(SC.typeOf(n)!==SC.T_STRING)return this._logStatechartCreationError("Must either define initial state or assign states as concurrent"),null;a.initialSubstate=n}for(s in this){if(s===e)continue;o=this[s],u=SC.typeOf(o)===SC.T_FUNCTION,u&&o.statePlugin&&(o=o.apply(this)),SC.kindOf(o,SC.State)&&o.isClass&&this[s]!==this.constructor&&(a[s]=o,i+=1)}return i===0?(this._logStatechartCreationError("Must define one or more states"),null):t.extend(a)},_logStatechartCreationError:function(e){SC.Logger.error("Unable to create statechart for %@: %@.".fmt(this,e))},statechartLogTrace:function(e){SC.Logger.info("%@: %@".fmt(this.get("statechartLogPrefix"),e))},statechartLogError:function(e){SC.Logger.error("ERROR %@: %@".fmt(this.get("statechartLogPrefix"),e))},statechartLogWarning:function(e){if(this.get("suppressStatechartWarnings"))return;SC.Logger.warn("WARN %@: %@".fmt(this.get("statechartLogPrefix"),e))},statechartLogPrefix:function(){var e=SC._object_className(this.constructor),t=this.get("name"),n;return SC.empty(t)?n="%@<%@>".fmt(e,SC.guidFor(this)):n="%@<%@, %@>".fmt(e,t,SC.guidFor(this)),n}.property().cacheable(),allowStatechartTracing:function(){var e=this.get("statechartTraceKey");return this.get(e)}.property().cacheable(),_statechartTraceDidChange:function(){this.notifyPropertyChange("allowStatechartTracing")},details:function(){var e={initialized:this.get("statechartIsInitialized")};this.get("name")&&(e.name=this.get("name"));if(!this.get("statechartIsInitialized"))return e;e["current-states"]=[],this.get("currentStates").forEach(function(
t){e["current-states"].push(t.get("fullPath"))});var t={active:this.get("gotoStateActive"),suspended:this.get("gotoStateSuspended")};if(this._gotoStateActions){t["transition-sequence"]=[];var n=this._gotoStateActions,r=function(e){var t=e.action===SC.ENTER_STATE?"enter":"exit";return"%@ %@".fmt(t,e.state.get("fullPath"))};n.forEach(function(e){t["transition-sequence"].push(r(e))}),t["current-transition"]=r(this._currentGotoStateAction)}e["state-transition"]=t;if(this._stateHandleEventInfo){var i=this._stateHandleEventInfo;e["handling-event"]={state:i.state.get("fullPath"),event:i.event,handler:i.handler}}else e["handling-event"]=!1;return e}.property(),toStringWithDetails:function(){var e="",t=this.toString(),n=this.get("details");return e+=t+"\n",e+=this._hashToString(n,2),e},_hashToString:function(e,t){var n="";for(var r in e){var i=e[r];i instanceof Array?n+=this._arrayToString(r,i,t)+"\n":i instanceof Object?(n+="%@%@:\n".fmt(" ".mult(t),r),n+=this._hashToString(i,t+2)):n+="%@%@: %@\n".fmt(" ".mult(t),r,i)}return n},_arrayToString:function(e,t,n){if(t.length===0)return"%@%@: []".fmt(" ".mult(n),e);var r="%@%@: [\n".fmt(" ".mult(n),e);return t.forEach(function(e,t){r+="%@%@\n".fmt(" ".mult(n+2),e)},this),r+=" ".mult(n)+"]",r}},SC.supplement(SC.StatechartManager,SC.StatechartRoutingDelegate,SC.StatechartEventDelegate,SC.DelegateSupport),SC.ROOT_STATE_NAME="__ROOT_STATE__",SC.EXIT_STATE=0,SC.ENTER_STATE=1,SC.Statechart=SC.Object.extend(SC.StatechartManager,{autoInitStatechart:NO}),SC.Statechart.design=SC.Statechart.extend,window.SCTable=SC.Object.create({SORT_DIRECTION_NONE
:null,SORT_DIRECTION_ASCENDING:"asc",SORT_DIRECTION_DESCENDING:"desc"}),SCTable.Column={isColumn:YES,name:null,valueKey:null,iconKey:null,width:100,canResize:YES,canSort:YES,classNames:null},SCTable.TableColumnsDelegate={isTableColumnsDelegate:YES,beginColumnResizeDrag:function(e,t,n){},updateColumnResizeDrag:function(e,t,n,r){},endColumnResizeDrag:function(e,t,n,r){},tableColumnDidRequestSort:function(e,t,n){}},SCTable.TableDelegate={isTableDelegate:YES,tableDidRequestSort:function(e,t,n,r,i){return NO},renderTableCellContent:function(e,t,n,r,i,s){return t.push("%@".fmt(SC.RenderContext.escapeHTML(String(n?n.get(i.get("valueKey")):null))))},mouseDownOnTableRow:function(e,t,n){}},SCTable.TableRowView=SC.View.extend(SC.Control,{classNames:"sctable-row-view",isMouseOver:NO,displayProperties:["isMouseOver"],shouldHighlightRowOnMouseOver:NO,tableDelegate:function(){return this.getPath("displayDelegate.tableDelegate")}.property("displayDelegate").cacheable(),willDestroyLayer:function(){this.set("content",null)},contentPropertyDidChange:function(e,t){this.displayDidChange()},render:function(e,t){var n=this.get("tableDelegate"),r=this.getPath("displayDelegate.columns"),i=0,s,o,u,a,f=this.get("content"),l=this.get("contentIndex"),c=[l%2===0?"even":"odd"];this.get("isMouseOver")&&c.push("hover"),e=e.addClass(c),r&&r.isEnumerable&&r.forEach(function(t,r){var s=t.get("iconKey");o=t.get("width")||0,u=this._cssNumber(o),a=this._cssNumber(i),e=e.push('<div class="cell col-%@ %@" style="left: %@; top: 0px; bottom: 0px; width: %@;">'.fmt(r,s?"has-icon":"",a,u)),e=n.renderTableCellContent(this
,e,f,l,t,r),e=s?e.push('<div class="icon %@"></div></div>'.fmt(f.get(s))):e.push("</div>"),i+=o},this)},_cssNumber:function(e){return e==null?null:e===SC.LAYOUT_AUTO?SC.LAYOUT_AUTO:e==="100%"?"100%":SC.isPercentage(e)?e*100+"%":Math.floor(e)+"px"},mouseDown:function(e){var t=this.get("tableDelegate");return t&&t.mouseDownOnTableRow(this.get("displayDelegate"),this,e),NO},mouseEntered:function(e){this.get("shouldHighlightRowOnMouseOver")&&this.set("isMouseOver",YES)},mouseExited:function(e){(this.get("isMouseOver")||this.get("shouldHighlightRowOnMouseOver"))&&this.set("isMouseOver",NO)},touchStart:function(e){return this.mouseDown(e)}}),SCTable.TableRowView.mixin({isReusableInCollections:YES}),SCTable.TableHeaderView=SC.CollectionView.extend(SCTable.TableColumnsDelegate,{classNames:"sctable-header-view",sort:null,ownerTableView:null,ghostActsLikeCursor:YES,isResizeDragInProgress:NO,shouldLiveResize:YES,insertionPointView:SC.View.extend({backgroundColor:"#57647F",layout:{left:0,top:0,bottom:0,width:2},render:function(e,t){t&&e.push('<div class="anchor"></div>')}}),layoutForContentIndex:function(e){var t=this.get("content"),n=0,r,i;return t&&t.isEnumerable&&(t.forEach(function(t,i){i<e?n+=t.get("width"):i===e&&(r=t.get("width"))}),i={left:n},r!=="100%"&&(i.width=r)),i},createItemView:function(e,t,n){var r=this.get("sort"),i=r?r.valueKey:null;return n.content&&n.content.get("valueKey")===i?n.sortDirection=r?r.direction:null:delete n.sortDirection,e.create(n)},tableColumnDidRequestSort:function(e,t,n){var r=this.get("ownerTableView");r&&r.tableColumnDidRequestSort&&r.tableColumnDidRequestSort
(e,t,n)},collectionViewDragViewFor:function(e,t){var n,r=30,i=[];return t.forEach(function(e){var t=this.itemViewForContentIndex(e);t&&i.push(t.getPath("content.name"))},this),n=SC.View.create({layout:{width:100,height:r*i.length},backgroundColor:"gray",content:i,rowHeight:r,createChildViews:function(){var e=[],t=this.get("content"),n,r=this.get("rowHeight");if(t)for(n=0;n<t.length;n++)e.push(this.createChildView(SC.LabelView,{layout:{left:0,right:0,top:r*n,height:r},value:t[n]}));this.set("childViews",e)}}),n},insertionIndexForLocation:function(e,t){var n=this.get("childViews"),r,i,s=-1;if(n)for(r=0;r<n.length;r++){i=n[r].get("frame");if(e.x>=i.x&&e.x<=i.x+i.width){s=[r,SC.DROP_AFTER],e.x-i.x<i.x+i.width-e.x&&(s[1]=SC.DROP_BEFORE);break}}return s},showInsertionPoint:function(e,t){var n=this._insertionPointView,r=e.get("frame"),i=r.x;n||(n=this._insertionPointView=this.get("insertionPointView").create()),t&SC.DROP_AFTER&&(e.get("contentIndex")===this.get("length")-1?i=r.x+r.width-n.get("frame").width:i=r.x+r.width),n.adjust({left:i}),this.appendChild(n)},hideInsertionPoint:function(){this._insertionPointView&&this._insertionPointView.removeFromParent().destroy(),this._insertionPointView=null},beginColumnResizeDrag:function(){this.set("isResizeDragInProgress",YES)},updateColumnResizeDrag:function(e,t,n,r){this.get("shouldLiveResize")&&(this._resizeData={evt:e,col:t,colIndex:n,newWidth:r},this.invokeOnce("_overrideColumnWidth"))},endColumnResizeDrag:function(){this.set("isResizeDragInProgress",NO),this._resizeData=null},_sortDidChange:function(){this.invokeOnce("_updateSortView"
)}.observes("sort"),_updateSortView:function(){var e=this.get("childViews"),t,n,r=this.get("sort"),i=r?r.valueKey:null,s=r?r.direction:null;if(e)for(t=0;t<e.length;t++)n=e[t].get("content"),n&&(n.get("valueKey")===i?e[t].set("sortDirection",s):e[t].set("sortDirection",null))},_overrideColumnWidth:function(){var e,t,n,r,i,s;if(this._resizeData){e=this.get("content"),t=e?e.get("length"):0,this.beginPropertyChanges();if(this._resizeData.colIndex<t){r=this.itemViewForContentIndex(this._resizeData.colIndex),r&&(r.adjust({width:this._resizeData.newWidth}),i=r.get("frame").x+this._resizeData.newWidth);for(n=this._resizeData.colIndex+1;n<t;n++)r=this.itemViewForContentIndex(n),s=r.get("frame"),r.adjust({left:i}),i+=s.width}this.endPropertyChanges()}},_resizeData:null,_insertionPointView:null}),SCTable.TableView=SC.View.extend(SCTable.TableColumnsDelegate,SCTable.TableDelegate,{classNames:"sctable-table-view",content:null,selection:null,rowHeight:28,showAlternatingRows:NO,shouldHighlightRowOnMouseOver:NO,target:null,action:null,isVerticalScrollerVisible:YES,columns:null,columnSelection:null,canReorderColumns:YES,sort:null,headerHeight:28,delegate:null,tableDelegate:function(){var e=this.get("delegate"),t=this.get("content");return this.delegateFor("isTableDelegate",e,t)}.property("delegate","content").cacheable(),tableWidth:function(){var e=this.get("columns"),t=0;return e&&e.isEnumerable&&e.forEach(function(e){t+=e.get("width")||0},this),t}.property().cacheable(),init:function(){arguments.callee.base.apply(this,arguments),this._updateColumnObservers()},createChildViews:function(){var e=
[],t,n,r=this.get("headerHeight"),i=this.get("tableWidth");n=this.createChildView(SC.ScrollView,{classNames:"sctable-body-scroll-view",layout:{left:0,right:0,top:r+1,bottom:0},borderStyle:SC.BORDER_NONE,contentView:SC.ListView.extend({layout:{right:0,minWidth:i},contentBinding:SC.Binding.from("content",this),columnsBinding:SC.Binding.from("columns",this),selectionBinding:SC.Binding.from("selection",this),contentValueKey:"name",exampleView:SCTable.TableRowView.extend({shouldHighlightRowOnMouseOver:this.get("shouldHighlightRowOnMouseOver")}),rowHeight:this.get("rowHeight"),tableDelegateBinding:SC.Binding.from("tableDelegate",this).oneWay(),showAlternatingRowsBinding:SC.Binding.from("showAlternatingRows",this).oneWay(),targetBinding:SC.Binding.from("target",this).oneWay(),actionBinding:SC.Binding.from("action",this).oneWay()}),isVerticalScrollerVisibleBinding:SC.Binding.from("isVerticalScrollerVisible",this)}),this._bodyScrollView=n,this._bodyView=n.get("contentView"),t=this.createChildView(SC.ScrollView,{classNames:"sctable-header-scroll-view",layout:{left:0,right:0,top:0,height:r},borderStyle:SC.BORDER_NONE,contentView:SCTable.TableHeaderView.extend({layout:{right:0,minWidth:i},exampleView:SCTable.TableColumnHeaderView,contentBinding:SC.Binding.from("columns",this),selectionBinding:SC.Binding.from("columnSelection",this),sortBinding:SC.Binding.from("sort",this),tableDelegate:SC.Binding.from("tableDelegate",this).oneWay(),ownerTableView:this,allowDeselectAll:YES,canReorderContentBinding:SC.Binding.from("canReorderColumns",this),target:this,action:"_onColumnAction",actOnSelect:
YES}),hasVerticalScroller:NO,horizontalScrollerView:SC.ScrollerView.extend({scrollbarThickness:0}),horizontalScrollOffsetBinding:SC.Binding.from("horizontalScrollOffset",n)}),this._headerScrollView=t,this._headerView=t.get("contentView"),this.set("childViews",[n,t])},reload:function(){this._headerView&&this._headerView.reload(),this._bodyView&&this._bodyView.reload()},tableColumnDidRequestSort:function(e,t,n){e.get("canSort")&&(this._sortData={col:e,colIndex:t,direction:n},this.invokeOnce("_sortContent"))},_sortContent:function(){var e=this.get("tableDelegate"),t=this.get("content"),n=this._sortData?this._sortData.direction:SCTable.SORT_DIRECTION_NONE,r=this._sortData?this._sortData.col:null,i=this._sortData?this._sortData.colIndex:null,s=NO,o;e&&e.tableDidRequestSort&&!e.tableDidRequestSort(this,t,r,i,n)&&(SC.kindOf(t,SC.ArrayController)?(n===SCTable.SORT_DIRECTION_ASCENDING?t.set("orderBy","ASC %@".fmt(r.get("valueKey"))):n===SCTable.SORT_DIRECTION_DESCENDING?t.set("orderBy","DESC %@".fmt(r.get("valueKey"))):t.set("orderBy",null),s=YES):SC.typeOf(t)===SC.T_ARRAY?(o=r.get("valueKey"),n===SCTable.SORT_DIRECTION_ASCENDING?t.sort(function(e,t){return e=e?e.get(o):null,t=t?t.get(o):null,e<t?-1:e>t?1:0}):n===SCTable.SORT_DIRECTION_DESCENDING&&t.sort(function(e,t){return e=e?e.get(o):null,t=t?t.get(o):null,e<t?1:e>t?-1:0}),t.isEnumerable&&t.enumerableContentDidChange(),s=YES):console.warn("Error in TableView(%@)._sortContent(): Content type is not recognized as sortable.".fmt(this)),s&&this.set("sort",{valueKey:r.get("valueKey"),direction:n})),this._sortData=null},_isVerticalScrollerVisibleDidChange
:function(){this.invokeOnce("_updateTableLayout")}.observes("isVerticalScrollerVisible"),_tableDelegateDidChange:function(){this.invokeOnce("reload")}.observes("tableDelegate"),_columnsDidChange:function(){this.notifyPropertyChange("tableWidth"),this.invokeOnce("_updateColumnObservers"),this.invokeOnce("reload")}.observes("*columns.[]"),_tableWidthDidChange:function(){this.invokeOnce("_updateTableLayout")}.observes("tableWidth"),_tv_frameDidChange:function(){this.invokeOnce("_updateTableLayout")}.observes("frame"),_updateTableLayout:function(){var e=this.get("tableWidth"),t=this._bodyScrollView.getPath("containerView.frame").width,n=Math.max(e,t);this.beginPropertyChanges(),this._headerScrollView&&this._headerScrollView.adjust({right:this._bodyScrollView.get("frame").width-this._bodyScrollView.getPath("containerView.frame").width}),this._headerView&&this._headerView.adjust({minWidth:n}),this._bodyView&&this._bodyView.adjust({minWidth:n}),this.endPropertyChanges()},_updateColumnObservers:function(){var e=this.get("columns"),t={},n;this._columnIndex||(this._columnIndex={}),e&&e.isEnumerable&&e.forEach(function(e,n){var r=SC.guidFor(e);this._columnIndex[r]||(this._columnIndex[r]=e,e.addObserver("width",this,"_columnWidthDidChange")),t[r]=YES},this);for(n in this._columnIndex)this._columnIndex.hasOwnProperty(n)&&!t[n]&&(this._columnIndex[n].removeObserver("width",this,"_columnWidthDidChange"),delete this._columnIndex[n])},_columnWidthDidChange:function(e,t,n,r){this.notifyPropertyChange("tableWidth"),this.invokeOnce("reload")},_onColumnAction:function(e){var t=e?e.get("selection"
):null,n=t.get("firstObject"),r=this.get("sort"),i=SCTable.SORT_DIRECTION_ASCENDING,s=this._lastColumnSelection&&this._lastColumnSelection.get("firstObject")===t.get("firstObject"),o=!this._lastColumnSelection&&r&&r.valueKey===n.get("valueKey");t&&t.get("length")===1&&(r&&r.valueKey===n.get("valueKey")&&r.direction===SCTable.SORT_DIRECTION_ASCENDING&&(i=SCTable.SORT_DIRECTION_DESCENDING),this.tableColumnDidRequestSort(n,this.get("columns").indexOf(n),i)),this._lastColumnSelection=t},_headerScrollView:null,_headerView:null,_bodyScrollView:null,_bodyView:null,_columnIndex:null,_sortData:null,_lastColumnSelection:null}),SCTable.TableViewNoFastPath=SCTable.TableView.extend({contentLengthDidChanged:function(){this.set("layerNeedsUpdate",YES),this.invokeLast(this.updateLayerIfNeeded)}.observes("*content.[]"),createChildViews:function(){var e=[],t,n,r=this.get("headerHeight"),i=this.get("tableWidth");n=this.createChildView(SC.ScrollView,{classNames:"sctable-body-scroll-view",layout:{left:0,right:0,top:r+1,bottom:0},hasHorizontalScroller:NO,borderStyle:SC.BORDER_NONE,contentView:SC.ListView.extend({layout:{right:0,minWidth:i},computeNowShowing:function(e){return this.get("allContentIndexes")},contentBinding:SC.Binding.from("content",this),columnsBinding:SC.Binding.from("columns",this),selectionBinding:SC.Binding.from("selection",this),contentValueKey:"name",exampleView:SCTable.TableRowView.extend({shouldHighlightRowOnMouseOver:this.get("shouldHighlightRowOnMouseOver")}),rowHeight:this.get("rowHeight"),tableDelegateBinding:SC.Binding.from("tableDelegate",this).oneWay(),showAlternatingRowsBinding
:SC.Binding.from("showAlternatingRows",this).oneWay(),targetBinding:SC.Binding.from("target",this).oneWay(),actionBinding:SC.Binding.from("action",this).oneWay()}),isVerticalScrollerVisibleBinding:SC.Binding.from("isVerticalScrollerVisible",this)}),this._bodyScrollView=n,this._bodyView=n.get("contentView"),t=this.createChildView(SC.ScrollView,{classNames:"sctable-header-scroll-view",layout:{left:0,right:0,top:0,height:r},borderStyle:SC.BORDER_NONE,contentView:SCTable.TableHeaderView.extend({layout:{right:0,minWidth:i},exampleView:SCTable.TableColumnHeaderView,contentBinding:SC.Binding.from("columns",this),selectionBinding:SC.Binding.from("columnSelection",this),sortBinding:SC.Binding.from("sort",this),tableDelegate:SC.Binding.from("tableDelegate",this).oneWay(),ownerTableView:this,allowDeselectAll:YES,canReorderContentBinding:SC.Binding.from("canReorderColumns",this),target:this,action:"_onColumnAction",actOnSelect:YES}),hasVerticalScroller:NO,horizontalScrollerView:SC.ScrollerView.extend({scrollbarThickness:0}),horizontalScrollOffsetBinding:SC.Binding.from("horizontalScrollOffset",n)}),this._headerScrollView=t,this._headerView=t.get("contentView"),this.set("childViews",[n,t])}}),SCTable.TableColumnHeaderView=SC.View.extend(SC.Control,{classNames:"sctable-column-header-view",sortDirection:null,displayProperties:["sortDirection","isMouseOver"],minWidth:30,isMouseOver:NO,contentPropertyDidChange:function(){this.displayDidChange()},render:function(e,t){var n=["sort-indicator"],r=this.get("sortDirection"),i=this.getPath("content.classNames");SC.none(r)||n.push(r),e=e.addClass("col-%@"
.fmt(this.get("contentIndex"))),this.get("isMouseOver")&&(e=e.addClass("hover")),i&&(e=e.addClass(i)),e=e.begin("div").addClass("col-border").end(),e=e.begin("div").addClass("col-name").text(this.getPath("content.name")).end(),this.getPath("content.canSort")&&(e=e.begin("div").addClass(n).end()),this.getPath("content.canResize")&&(e=e.begin("div").addClass("resize-handle").end())},willDestroyLayer:function(){this.set("content",null),this.set("tableDelegate",null)},mouseDown:function(e){var t=NO,n;return this._isDraggingHandle=NO,this._mouseDownInfo=null,e.target.className==="resize-handle"&&(this._isDraggingHandle=YES,this._mouseDownInfo={didMove:NO,startPageX:e.pageX,startWidth:this.get("frame").width},n=this.get("displayDelegate"),n&&n.isTableColumnsDelegate&&n.beginColumnResizeDrag(e,this.get("content"),this.get("contentIndex")),t=YES),t},mouseDragged:function(e){var t,n;return this._isDraggingHandle&&(this._mouseDownInfo.didMove=YES,t=this.get("displayDelegate"),t&&t.isTableColumnsDelegate&&(n=Math.max(this._mouseDownInfo.startWidth+e.pageX-this._mouseDownInfo.startPageX,this.get("minWidth")),t.updateColumnResizeDrag(e,this.get("content"),this.get("contentIndex"),n))),this._isDraggingHandle},mouseUp:function(e){var t,n,r=this._isDraggingHandle;return this._isDraggingHandle&&(n=Math.max(this._mouseDownInfo.startWidth+e.pageX-this._mouseDownInfo.startPageX,this.get("minWidth")),this.setPathIfChanged("content.width",n),t=this.get("displayDelegate"),t&&t.isTableColumnsDelegate&&t.endColumnResizeDrag(e,this.get("content"),this.get("contentIndex"),n)),this._isDraggingHandle=NO
,this._mouseDownInfo=null,r},mouseEntered:function(){this.getPath("displayDelegate.isResizeDragInProgress")||this.setIfChanged("isMouseOver",YES)},mouseExited:function(){this.getPath("displayDelegate.isResizeDragInProgress")||this.set("isMouseOver",NO)},_isDraggingHandle:NO,_mouseDownInfo:null}),window.Me||(Me=SC.Object.create()),SC.REGULAR_BUTTON_HEIGHT=27,Me.CANVAS_BUTTON_HEIGHT=26,Me.TOOLBAR_BUTTON_HEIGHT=26,Me.SQUARE_BUTTON_REGULAR_HEIGHT=27,Me.CAPSULE_BUTTON_REGULAR_HEIGHT=27,Me.SELECT_BUTTON_REGULAR_HEIGHT=27,Me.POPUP_BUTTON_REGULAR_HEIGHT=27,Me.SQUARE_BUTTON_REGULAR_MIN_WIDTH=68,Me.SQUARE_BUTTON_SMALL_MIN_WIDTH=56,Me.SQUARE_BUTTON_TINY_MIN_WIDTH=52,Me.CAPSULE_BUTTON_REGULAR_MIN_WIDTH=72,Me.CAPSULE_BUTTON_SMALL_MIN_WIDTH=60,Me.CAPSULE_BUTTON_TINY_MIN_WIDTH=52,Me.HELP_BUTTON_REGULAR_MIN_WIDTH=26,Me.HELP_BUTTON_SMALL_MIN_WIDTH=22,Me.HELP_BUTTON_TINY_MIN_WIDTH=18,SC.MenuPane.REGULAR_MENU_ITEM_HEIGHT=22,SC.MenuPane.REGULAR_MENU_ITEM_SEPARATOR_HEIGHT=7,SC.MenuPane.REGULAR_MENU_HEIGHT_PADDING=6,SC.MenuPane.SMALL_MENU_ITEM_HEIGHT=18,SC.MenuPane.SMALL_MENU_ITEM_SEPARATOR_HEIGHT=7,SC.MenuPane.SMALL_MENU_HEIGHT_PADDING=6,SC.MenuPane.LARGE_MENU_ITEM_HEIGHT=31,SC.MenuPane.LARGE_MENU_ITEM_SEPARATOR_HEIGHT=9,SC.MenuPane.LARGE_MENU_HEIGHT_PADDING=8,Me.SQUARE_MENU_ITEM_HEIGHT=31,Me.SQUARE_MENU_ITEM_SEPARATOR_HEIGHT=7,Me.SQUARE_MENU_HEIGHT_PADDING=6,window.CW===undefined&&(window.CW={}),CW.TouchApproximation={isTouchApproximationEnabled:YES,distanceThreshold:50,touchStart:function(e){var t=this.convertFrameFromView({x:e.pageX,y:e.pageY}),n=t.x,r=t.y,i,s,o=this.get("touchApproximationViews"
)||this.get("childViews"),u=this.get("distanceThreshold"),a=null,f=Infinity,l,c,h,p,d;p=o.get("length");for(h=0;h<p;h++){l=o[h];if(!l||!l.get("isVisible")||l.get("isDecorative"))continue;c=l.get("frame"),i=-1,s=-1,n<c.x?i=c.x-n:n>c.x+c.width&&(i=n-(c.x+c.width)),r<c.y?s=c.y-r:r>c.y+c.height&&(s=r-(c.y+c.height)),i!==-1&&s!==-1?i=(i+s)/2:s!==-1&&(i=s),i!==-1&&i<f&&i<u&&(a=l,f=i)}if(a){e.isProxied=YES,e.target=a.get("layer"),d=a.tryToPerform("touchStart",e);if(d)return this._foundChild=a,YES;this._foundChild=null}return NO},touchesDragged:function(e,t){var n=this._foundChild;return n?n.tryToPerform("touchesDragged",e,t):NO},touchEnd:function(e){var t=this._foundChild;return t?(e.isProxied=YES,e.target=t.get("layer"),t.tryToPerform("touchEnd",e)):NO}},SC.stringsFor("English",localizedStrings),window.location.port==="4020"&&console.warn("Rerouting dataSource for sc-server because we are on port 4020!"),Admin=SC.Application.create({NAMESPACE:"Admin",VERSION:"0.1.0",trace:location.port==="4020"||location.port==="4264",adminDevMode:location.port==="4020"||location.port==="4264",PM_WEBAPP_URI_ROOT:location.port==="4020"||location.port==="4264"?"/devicemanagement/api":"/devicemanagement/webapi",isWaitingForInitialODSync:NO,store:SC.Store.create({commitRecordsAutomatically:YES}).from("Admin.DeviceManagementDataSource"),itemSelectionNestedStore:function(){return this.store.chain({lockOnRead:NO})}.property().cacheable(),profileForEditingNestedStore:function(){return this.get("itemSelectionNestedStore").chain({lockOnRead:NO})}.property().cacheable(),deviceManagementEnabledBinding:SC.Binding
.oneWay(".noODMode").not(),noODMode:function(e,t){if(t!==undefined)throw SC.$error("read only");return this.get("odActive")===YES&&this.get("apnsActive")===YES?NO:this.get("odActive")===NO||this.get("apnsActive")===NO?YES:NO}.property("odActive","apnsActive").cacheable(),odActiveBinding:"*settings.od_active",apnsActiveBinding:"*settings.apns_active",verticalMode:function(e,t){return!window.navigator||!window.navigator.platform||window.navigator.platform!=="iPad"?NO:(t!==undefined&&(this._verticalMode=t),this._verticalMode)}.property().cacheable(),prefs:SC.UserDefaults.create({appDomain:"DMAdmin"})}),function(){var e=SC.Cookie.find("csrf_token");Admin.CSRF_TOKEN=e&&e.get("value"),Admin.CSRF_TOKEN||console.warn("Could not find CSRF token!")}(),SC.LOG_BINDINGS=NO,SC.LOG_OBSERVERS=NO,Admin.TIMEZONE=(new Date).getTimezoneOffset(),SC.InlineTextFieldView.prototype.inlineEditorShouldBeginEditing=function(){return YES},SC.SplitView.prototype.dividerView=SC.SplitDividerView,SC.XHRResponse.prototype.finishRequest=function(){var e=this.get("rawRequest"),t,n,r;if(!e)return NO;var i=e.readyState;return i===4?(this.receive(function(i){if(!i)return;n=-1;try{n=e.status||0}catch(s){}if(n<200||n>=300){try{r=e.statusText||""}catch(o){r=""}t=SC.$error(r||"HTTP Request failed","Request",n),t.set("errorValue",this),this.set("isError",YES),this.set("errorObject",t)}this.set("status",n)},this),!SC.browser.msie&&!SC.browser.opera?SC.Event.remove(e,"readystatechange",this,this.finishRequest):e.onreadystatechange=null,YES):NO},SC.browser.isIE&&(Admin.LIST_VIEW_INSTANCES=[],SC.ListView=SC.ListView.extend
({init:function(){return Admin.LIST_VIEW_INSTANCES.push(this),arguments.callee.base.apply(this,arguments)}}),SC.AlertPane=SC.AlertPane.extend({init:function(){return Admin.LIST_VIEW_INSTANCES.forEach(function(e){e.reload()}),arguments.callee.base.apply(this,arguments)}})),SC.Record.ignoreUnknownProperties=YES,SC.ScrollView.prototype.borderStyle=SC.BORDER_NONE,SC.TextFieldView.prototype.applyImmediately=NO,function(){function e(e,t){return function(){return Admin.GET_UPDATED_POLLING_RATE!==Admin.GET_UPDATED_POLLING_RATE_INITIALLY&&(Admin.GET_UPDATED_POLLING_RATE=Admin.GET_UPDATED_POLLING_RATE_INITIALLY,clearTimeout(Admin.GET_UPDATED_POLLING_TIMEOUT),SC.ready(function(){Admin.GET_UPDATED_POLLING_TIMEOUT=setTimeout(Admin.periodicGetUpdated,Admin.GET_UPDATED_POLLING_RATE*1e3)})),e.apply(this,arguments)}}var t=SC.RootResponder.prototype.listenFor;SC.RootResponder.prototype.listenFor=function(n,r,i){return i=i?i:this,n.forEach(function(t){i[t]&&(i[t]=e(i[t],t))},this),t.apply(this,arguments)}}(),SC.Event.add(window,"beforeunload",function(){if(Admin.store.dataSource.dataSourceBlocksUnload())return"_admin_before_unload_network_activity_in_progress".loc();if(location.port==="4020"||location.port==="4264")return;if(Admin.getPath("itemSelectionNestedStore.hasChanges")||Admin.getPath("profileForEditingNestedStore.hasChanges"))return"_admin_before_unload_unsaved_changes_will_be_lost".loc()}),Admin.ADMIN_SESSION=Math.floor(Math.random()*1e3*1e3*1e3*1e3).toString(16),Admin.AboutRootItemView=SC.ListItemView.extend({classNames:"admin-about-root-item-view".w(),layout:{height:30}}),Admin.CertificateInfoItemView=
SC.View.extend({layout:{height:100},childViews:"box".w(),box:SC.View.design({contentBinding:".owner.content",outlineLevelDidChange:function(){this.adjust("left",Math.max(this.get("outlineLevel"),0)*16)}.observes("outlineLevel"),outlineLevelBinding:".owner.outlineLevel",childViews:"icon combinedNameIssuedByAndExpires".w(),combinedNameIssuedByAndExpires:SC.LabelView.design({layout:{top:10,left:100,width:260},value:function(){var e=["<b>"+SC.RenderContext.escapeHTML(this.get("certDataSubjectName"))+"</b>"];return this.get("certIsIdentity")?e.push("<i>"+"_certificate_is_identity_description".loc()+"</i>"):(e.push(SC.RenderContext.escapeHTML(this.get("certDataIssuedBy"))),e.push(SC.RenderContext.escapeHTML(this.get("certDataNotAfter")))),e.push("<br/>"),e=e.join("<br/>"),e}.property("certDataSubjectName","certDataIssuedBy","certDataNotAfter","certIsIdentity"),escapeHTML:NO,certDataSubjectNameBinding:".owner.owner*content.certDataSubjectName",certDataIssuedByBinding:".owner.owner*content.certDataIssuedBy",certDataNotAfterBinding:".owner.owner*content.certDataNotAfter",certIsIdentityBinding:".owner.owner*content.certDataIsIdentity"}),icon:SC.ImageView.design({layout:{top:10,left:10,width:64,height:53},useCanvas:NO,valueBinding:".owner.owner*content.certDataIsRootIcon"})})}),Admin.ImageView=SC.ImageView.extend({valueChangeObserver:function(){var e=this._last_class,t=this.get("value");e&&t!==e&&this.$("img").removeClass(e),this._last_class=t}.observes("value"),useCanvas:NO}),Admin.VppStatusView=SC.View.extend({layout:{height:25},iconClassName:"admin-vpp-status-info-icon-2x",statusText
:"",childViews:["statusIconView","statusTextView"],statusIconView:Admin.ImageView.design({layout:{width:16,height:16,top:0,left:50},valueBinding:".owner.iconClassName"}),statusTextView:SC.LabelView.design(SC.AutoResize,{layout:{left:70,top:0,width:670,maxWidth:670},shouldResizeWidth:NO,shouldResizeHeight:YES,measuredSizeObserver:function(){var e=this.get("measuredSize");this.setPath("owner.statusTextViewHeight",e.height)}.observes("measuredSize"),classNames:"admin-vpp-status-text".w(),valueBinding:".owner.statusText"})}),Admin.VppAdditionalInfoView=SC.View.extend({layout:{height:30},infoText:"",childViews:["additionalInfoView"],additionalInfoView:SC.LabelView.design(SC.AutoResize,{classNames:"user-about-vpp-non-enrolled-label".w(),layout:function(e,t){var n=this.get("measuredSize");return{left:70,width:n.width+10}}.property("measuredSize").cacheable(),valueBinding:".owner.infoText"})}),Admin.VppActionButton=SC.View.extend({layout:{height:45},invitationButtonText:"",invitationButtonAction:null,actionEnabled:YES,childViews:["invitationButtonView"],invitationButtonView:SC.ButtonView.design(SC.AutoResize,{layout:function(e,t){var n=this.get("measuredSize");return{left:70,width:n.width+10}}.property("measuredSize").cacheable(),target:"Admin",titleBinding:".owner.invitationButtonText",actionBinding:".owner.invitationButtonAction",isEnabledBinding:".owner.actionEnabled"})}),Admin.VppStatusAndInvitationButtonView=SC.View.extend({childViews:"statusIconView statusTextView invitationButtonView additionalInfoView".w(),iconClassName:"admin-vpp-status-info-icon-2x",statusText:"",statusTextViewHeight
:0,additionalInfoAvailable:NO,additionalInfoText:"",actionEnabled:YES,totalHeight:function(e,t){if(t!==undefined)throw SC.$error("totalHeight is ready only for %@".fmt(this.constructor));var n=this.get("statusTextViewHeight"),r=this.get("additionalInfoAvailable"),i=r?n+10+27+40:n+10+27;return i}.property("statusTextViewHeight","additionalInfoAvailable").cacheable(),invitationButtonText:"",invitationButtonAction:"",statusIconView:Admin.ImageView.design({layout:{width:16,height:16,top:0,left:0},valueBinding:".owner.iconClassName"}),statusTextView:SC.LabelView.design(SC.AutoResize,{layout:{left:20,top:0,width:670,maxWidth:670},shouldResizeWidth:NO,shouldResizeHeight:YES,measuredSizeObserver:function(){var e=this.get("measuredSize");this.setPath("owner.statusTextViewHeight",e.height)}.observes("measuredSize"),classNames:"admin-vpp-status-text".w(),valueBinding:".owner.statusText"}),additionalInfoView:SC.LabelView.design(SC.AutoResize,{classNames:"user-about-vpp-non-enrolled-label".w(),statusTextViewHeightBinding:".owner.statusTextViewHeight",layout:function(e,t){var n=this.get("measuredSize"),r=this.get("statusTextViewHeight")+10;return{left:20,top:r,width:n.width+10,height:20}}.property("statusTextViewHeight","measuredSize").cacheable(),valueBinding:".owner.additionalInfoText",isVisibleBinding:".owner.additionalInfoAvailable"}),invitationButtonView:SC.ButtonView.design(SC.AutoResize,{statusTextViewHeightBinding:".owner.statusTextViewHeight",layout:function(e,t){var n=this.get("measuredSize"),r=this.get("additionalInfoAvailable"),i=this.get("statusTextViewHeight")+10,i=r?i+30:i;
return{left:20,top:i,width:n.width+10}}.property("statusTextViewHeight","measuredSize","additionalInfoAvailable").cacheable(),titleBinding:".owner.invitationButtonText",additionalInfoAvailableBinding:".owner.additionalInfoAvailable",target:"Admin",actionBinding:".owner.invitationButtonAction",isEnabledBinding:".owner.actionEnabled"})}),Admin.VppAboutItemHeaderView=SC.View.extend({layout:{height:40},childViews:["labelView"],labelView:SC.LabelView.design({layout:{top:10,height:20,left:30},classNameBindings:["labelClassNames"],isUserAssociatedBinding:"Admin.itemSelectionController.isUserAssociated",labelClassNames:function(e,t){if(t!==undefined)throw SC.$error("classNames is ready only for enrollmentStatusHeaderView");return this.get("isUserAssociated")?"user-about-vpp-enrolled-label":"user-about-vpp-non-enrolled-label"}.property("isUserAssociated"),value:function(){return this.get("isUserAssociated")?"_generic_string_Enrolled".loc():"_generic_string_Not Enrolled".loc()}.property("isUserAssociated")})}),Admin.VppAboutItemEnrolledUserInfoView=SC.View.extend({layout:{height:90},childViews:["buttonView"],buttonView:Admin.VppStatusAndInvitationButtonView.design({layout:{top:0,left:50},iconClassName:"admin-vpp-status-check-icon-2x",hasVppContentAssignedBinding:"Admin.itemSelectionController.hasVppContentAssigned",hasVppEnabledDevicesBinding:"Admin.itemSelectionController.hasVppEnabledDevices",vppStatusUpdatedAtBinding:SC.Binding.oneWay("Admin.itemSelectionController.vppStatusUpdatedAt"),statusText:function(e,t){if(t!==undefined)throw SC.$error("statusText is ready only for %@".fmt(this
.constructor));var n=this.get("vppStatusUpdatedAt"),r=n?n.toTimezone(Admin.TIMEZONE).toFormattedString("_vpp_date_time_format".loc()):null;return"_vpp_enrollment_status_This user was enrolled to receive content on <vpp_status_updated_at>.".loc(r)}.property("vppStatusUpdatedAt").cacheable(),additionalInfoAvailable:function(e,t){return!this.get("hasVppContentAssigned")||!this.get("hasVppEnabledDevices")}.property("hasVppContentAssigned","hasVppEnabledDevices").cacheable(),additionalInfoText:function(e,t){if(t!==undefined)throw SC.$error("additionalInfoText is ready only for %@".fmt(this.constructor));var n="_vpp_content_No content is assigned to this user.".loc();return this.get("hasVppEnabledDevices")||(n="_vpp_device_status_This user does not have a device enrolled that supports this service.".loc()),n}.property("hasVppContentAssigned","hasVppEnabledDevices").cacheable(),invitationButtonText:"_generic_string_Remove From Program".loc(),invitationButtonAction:"revokeVppAccess"})}),Admin.VppAboutItemEnrollmentUninvitedView=SC.View.extend({layout:{height:35},childViews:["enrollmentStatusIconView","enrollmentStatusTextView"],enrollmentStatusIconView:Admin.ImageView.design({layout:{width:16,height:16,top:0,left:50},value:"admin-vpp-status-block-icon-2x"}),vppStatusUpdatedAtBinding:"Admin.itemSelectionController.vppStatusUpdatedAt",formattedVppStatusUpdateDate:function(){var e=this.get("vppStatusUpdatedAt"),t=e?e.toTimezone(Admin.TIMEZONE).toFormattedString("_vpp_date_time_format".loc()):null;return t}.property("vppStatusUpdatedAt").cacheable(),statusText:function(e,t){return"_vpp_invitation_string_invitation_not_sent"
.loc()}.property().cacheable(),enrollmentStatusTextView:SC.LabelView.design(SC.AutoResize,{layout:{left:70,top:0,width:670,maxWidth:670},shouldResizeWidth:NO,shouldResizeHeight:YES,classNames:"admin-vpp-status-text".w(),valueBinding:".owner.statusText"})}),Admin.VppAboutItemEnrollmentStatusRevokedView=Admin.VppAboutItemEnrollmentUninvitedView.extend({statusText:function(){var e=this.get("formattedVppStatusUpdateDate");return"_generic_string_This user was removed from the program on <vpp_status_updated_at>.".loc(e)}.property("formattedVppStatusUpdateDate").cacheable()}),Admin.VppAboutItemEnrollmentStatusUnenrolledView=Admin.VppAboutItemEnrollmentUninvitedView.extend({statusText:function(){var e=this.get("formattedVppStatusUpdateDate");return"_generic_string_This user un-enrolled from the program on <status_update_date>.".loc(e)}.property("formattedVppStatusUpdateDate").cacheable()}),Admin.VppAboutItemEnrollmentInvitingView=SC.View.design({layout:{height:70},childViews:["invitationButtonView"],vppStatusUpdatedAtBinding:"Admin.itemSelectionController.vppStatusUpdatedAt",vppEmailAddressBinding:"Admin.itemSelectionController.vppEmailAddress",userEmailBinding:"Admin.itemSelectionController.email",formattedvppStatusUpdatedAt:function(){var e=this.get("vppStatusUpdatedAt"),t=e?e.toTimezone(Admin.TIMEZONE).toFormattedString("_vpp_date_time_format".loc()):null;return t}.property("vppStatusUpdatedAt").cacheable(),statusText:function(e,t){var n=this.get("vppEmailAddress"),r=this.get("formattedvppStatusUpdatedAt");return"_generic_string_An invitation was requested to be sent to <email_address> on <last_invited_date>"
.loc(n,r)}.property("vppEmailAddress","formattedvppStatusUpdatedAt").cacheable(),invitationButtonText:function(e,t){var n=this.get("userEmail");return n?"_generic_string_Send Email Invitation".loc():"_generic_string_Send Email Invitation...".loc()}.property("userEmail").cacheable(),invitationButtonAction:function(e,t){if(t!==undefined)throw SC.$error("invitationButtonAction is ready only for %@".fmt(this.constructor));return this.get("userEmail")?"sendVppInvitationToUser":"showVppEmailInputDialog"}.property("userEmail").cacheable(),invitationButtonView:Admin.VppStatusAndInvitationButtonView.design({layout:{left:50},statusTextBinding:".owner.statusText",invitationButtonTextBinding:".owner.invitationButtonText",invitationButtonActionBinding:".owner.invitationButtonAction"})}),Admin.VppAboutItemEnrollmentInvitedView=Admin.VppAboutItemEnrollmentInvitingView.extend({statusText:function(){var e=this.get("vppEmailAddress"),t=this.get("formattedvppStatusUpdatedAt");return"_generic_string_An invitation was sent to <email_address> on <last_invited_date>".loc(e,t)}.property("vppEmailAddress","formattedvppStatusUpdatedAt").cacheable(),invitationButtonText:function(){var e=this.get("userEmail");return e?"_generic_string_Resend Invitation".loc():"_generic_string_Resend Invitation...".loc()}.property("userEmail").cacheable()}),Admin.VppAboutItemEnrollmentNotInvitedView=Admin.VppAboutItemEnrollmentInvitingView.extend({statusText:function(){return"_invitation_status_An invitation has not been sent via Email".loc()}.property().cacheable()}),Admin.VppAboutItemEnrollmentDeviceNotInvitedView=SC.
View.extend({layout:{height:65},childViews:["inviteView"],device:null,inviteView:Admin.VppStatusAndInvitationButtonView.design({layout:{left:50},contentBinding:".owner.device",vppInvitationStatusBinding:".*content.vppInvitationStatus",vppLastInviteRequestedAtBinding:".*content.vppLastInviteRequestedAt",vppLastInviteDeliveredAtBinding:".*content.vppLastInviteDeliveredAt",displayNameBinding:".*content.displayName",statusText:function(e,t){var n=this.get("vppLastInviteRequestedAt"),r=this.get("vppLastInviteDeliveredAt"),i=this.get("vppInvitationStatus"),s=this.get("displayName"),o,u="_vpp_invitation_status_An invitation has not been sent to <device name>".loc(s);return i==="requested"?(o=n.toTimezone(Admin.TIMEZONE).toFormattedString("_vpp_date_time_format".loc()),u="_generic_string_An invitation was requested to be sent to %@1 on %@2".loc(s,o)):i==="invited"&&(o=r.toTimezone(Admin.TIMEZONE).toFormattedString("_vpp_date_time_format".loc()),u="_generic_string_An invitation was sent to %@1 on %@2".loc(s,o)),u}.property("displayName","vppLastInviteRequestedAt","vppLastInviteDeliveredAt","vppInvitationStatus").cacheable(),invitationButtonText:function(e,t){if(t!==undefined)throw SC.$error("invitationButtonText is ready only for %@".fmt(this.constructor));var n="_generic_string_Resend Invitation".loc();return this.get("vppInvitationStatus")!=="invited"&&(n="_generic_string_Send Invitation to <Device Name>".loc(this.get("displayName"))),n}.property("displayName","vppInvitationStatus").cacheable(),invitationButtonAction:"sendVppInvitationToDevice"})}),Admin.AirplayPasswordView=SC.View
.extend({childViews:"key value".w(),key:SC.LabelView.design({classNames:"admin-about-info-item-view-key".w(),layout:{centerY:0,width:260,height:20},value:"_general_about_Password".loc(),fontWeight:SC.BOLD_WEIGHT,textAlign:SC.ALIGN_RIGHT}),value:SC.TextFieldView.design({classNames:"admin-about-info-item-view-value".w(),layout:{left:270,width:150,height:20},type:"password",hint:"_general_about_no password set".loc(),valueBinding:"Admin.itemSelectionFromNestedStoreController.airplayPassword"})}),Admin.SpinnerView=SC.View.extend({childViews:"spinner".w(),forDarkBackground:NO,spinner:SC.ImageView.design({layout:{width:16,height:16,centerX:0,centerY:0},value:function(){var e="spinner-16px-dfe1e3";return this.get("forDarkBackground")&&(e="spinner-16px-2f2f2f"),e}.property("forDarkBackground").cacheable(),forDarkBackgroundBinding:".owner.forDarkBackground"})}),Admin.UserGroupVppAboutItemHeaderView=SC.View.extend({layout:{height:40},childViews:["enrollmentStatusHeaderView"],enrollmentStatusHeaderView:SC.LabelView.design({layout:{top:10,height:20,left:50},vppEnrolledUsersCountBinding:"Admin.itemSelectionController.vppEnrolledUsersCount",totalUsersBinding:"Admin.itemSelectionController.totalUsers",classNameBindings:["labelClassNames"],labelClassNames:function(e,t){if(t!==undefined)throw SC.$error("classNames is ready only for enrollmentStatusHeaderView");return this.get("vppEnrolledUsersCount")>0?"user-about-vpp-enrolled-label":"user-about-vpp-non-enrolled-label"}.property("vppEnrolledUsersCount"),value:function(){var e=this.get("totalUsers"),t=this.get("vppEnrolledUsersCount"),n="_vpp_group_enrollment_status_No Users Enrolled"
.loc();return t>0?n=e===t?"_vpp_group_enrollment_status_All Users Enrolled".loc():"_vpp_group_enrollment_status_X of Y Users Enrolled".loc(t,e):e===0&&(n="_vpp_group_enrollment_status_No Users".loc()),n}.property("vppEnrolledUsersCount","totalUsers")})}),Admin.UserGroupEnableVppServiceView=SC.View.extend({layout:{height:30},childViews:["enableVppServiceCheckboxView"],enableVppServiceCheckboxView:SC.CheckboxView.design({layout:{top:10,height:20,left:25},displayTitle:"_enable_vpp_service_for_user_group".loc(),action:function(){if(!this.get("value")&&Admin.itemSelectionController.get("vppServiceEnabled")){var e=this;SC.AlertPane.warn({layout:{top:.3,centerX:0,width:parseFloat("_layout_disable_vpp_alert_pane_width".loc())},message:"_generic_string_Disable VPP Managed Distribution Services".loc(),description:"_generic_string_All VPP assignments to this group will be removed. Current book assignments to enrolled users will be unaffected.".loc(),buttons:[{title:"_generic_string_OK".loc(),action:function(){Admin.itemSelectionFromNestedStoreController.set("vppServiceEnabled",NO)}},{title:"_generic_string_Cancel".loc(),action:function(){e.set("value",YES)}}]})}else Admin.itemSelectionFromNestedStoreController.set("vppServiceEnabled",YES)},valueBinding:SC.Binding.oneWay("Admin.itemSelectionFromNestedStoreController.vppServiceEnabled")})}),Admin.UserGroupProcessingVppView=SC.View.extend({layout:{height:40},childViews:["processingVppLabelView","spinnerView"],processingVppLabelView:SC.LabelView.design({layout:{top:10,height:20,left:70},classNames:"user-about-vpp-non-enrolled-label".w(),value
:"_processing_vpp_service_on_user_group_description".loc()}),spinnerView:Admin.SpinnerView.design({layout:{left:50,height:16,width:16,top:10}})}),Admin.UserGroupVppAboutItemEnrollmentCompletedStatusView=Admin.VppStatusView.extend({iconClassName:"admin-vpp-status-check-icon-2x",formattedVppEnrollmentBeginTime:function(){var e=this.get("vppEnrollmentBeginTime"),t=e?e.toTimezone(Admin.TIMEZONE).toFormattedString("_vpp_date_time_format".loc()):null;return t}.property("vppEnrollmentBeginTime").cacheable(),vppEnrollmentBeginTimeBinding:"Admin.itemSelectionController.vppEnrollmentBeginTime",formattedVppEnrollmentEndTime:function(){var e=this.get("vppEnrollmentEndTime"),t=e?e.toTimezone(Admin.TIMEZONE).toFormattedString("_vpp_date_time_format".loc()):null;return t}.property("vppEnrollmentEndTime").cacheable(),vppEnrollmentEndTimeBinding:"Admin.itemSelectionController.vppEnrollmentEndTime",statusText:function(){var e=this.get("formattedVppEnrollmentEndTime");return"_user_group_enrollment_info_These users were enrolled to receive content on <time>".loc(e)}.property("formattedVppEnrollmentEndTime").cacheable()}),Admin.UserGroupVppAboutItemEnrollmentInProgressStatusView=Admin.UserGroupVppAboutItemEnrollmentCompletedStatusView.extend({layout:{height:0+parseFloat("_layout_user_group_vpp_enrollment_in_progress_status_height".loc())},statusText:function(){var e=this.get("formattedVppEnrollmentBeginTime"),t=this.get("formattedVppEnrollmentEndTime");return"_user_group_enrollment_info_These users were enrolled to receive content between <start_time> and <end_time>".loc(e,t)}.property("formattedVppEnrollmentBeginTime"
,"formattedVppEnrollmentEndTime").cacheable()}),Admin.UserGroupVppAboutItemUnenrollButtonView=Admin.VppActionButton.extend({invitationButtonText:"_generic_string_Remove From Program".loc(),invitationButtonAction:"removeEnrolledMembersFromUserGroup"}),Admin.UserGroupVppAboutItemInviteUsersView=SC.View.extend({layout:{height:40},childViews:["inviteLabelView","membersTypeView"],inviteLabelView:SC.LabelView.design({layout:{left:50,width:parseFloat("_vpp_group_invitation_invite_label_width".loc()),top:4},value:"_vpp_group_invitation_string_Invite:".loc()}),membersTypeView:SC.SelectView.design(SC.AutoResize,{layout:{left:50+parseFloat("_vpp_group_invitation_invite_label_width".loc()),height:30},itemTitleKey:"name",itemValueKey:"value",items:[{value:"uninvited",name:"_group_users_type_Users not previously invited".loc()},{value:"unenrolled",name:"_group_users_type_Users not enrolled".loc()}],init:function(){arguments.callee.base.apply(this,arguments),this.value=Admin.itemSelectionController.get("userGroupVppEmailInviteMemberType")},valueBinding:"Admin.itemSelectionController.userGroupVppEmailInviteMemberType"})}),Admin.UserGroupVppAboutItemEmailInvitationNotSentStatusView=Admin.VppStatusView.extend({vppEmailInvitationsSentBinding:"Admin.itemSelectionController.vppEmailInvitationsSent",vppUnEnrolledUsersCountBinding:"Admin.itemSelectionController.vppUnEnrolledUsersCount",formattedVppEmailInvitationSentBeginTime:function(){var e=this.get("vppEmailInvitationSentBeginTime"),t=e?e.toTimezone(Admin.TIMEZONE).toFormattedString("_vpp_date_time_format".loc()):null;return t}.property("vppEmailInvitationSentBeginTime"
).cacheable(),vppEmailInvitationSentBeginTimeBinding:"Admin.itemSelectionController.vppEmailInvitationSentBeginTime",formattedVppEmailInvitationSentEndTime:function(){var e=this.get("vppEmailInvitationSentEndTime"),t=e?e.toTimezone(Admin.TIMEZONE).toFormattedString("_vpp_date_time_format".loc()):null;return t}.property("vppEmailInvitationSentEndTime").cacheable(),vppEmailInvitationSentEndTimeBinding:"Admin.itemSelectionController.vppEmailInvitationSentEndTime",statusText:"_user_group_vpp_no_email_invitations_sent".loc()}),Admin.UserGroupVppAboutItemEmailInvitationInProgressStatusView=Admin.UserGroupVppAboutItemEmailInvitationNotSentStatusView.extend({layout:{height:0+parseFloat("_layout_user_group_vpp_email_invitation_in_progress_status_height".loc())},statusText:function(){var e=this.get("vppEmailInvitationsSent"),t=this.get("vppUnEnrolledUsersCount"),n=this.get("formattedVppEmailInvitationSentBeginTime"),r=this.get("formattedVppEmailInvitationSentEndTime");return"_user_group_email_invitation_status_Email Invitations were sent to X of Y users between <start_time> and <end_time>".loc(e,t,n,r)}.property("vppEmailInvitationsSent","vppUnEnrolledUsersCount","formattedVppEmailInvitationSentBeginTime","formattedVppEmailInvitationSentEndTime").cacheable()}),Admin.UserGroupVppAboutItemEmailInvitationCompletedStatusView=Admin.UserGroupVppAboutItemEmailInvitationNotSentStatusView.extend({statusText:function(){var e=this.get("vppEmailInvitationsSent"),t=this.get("vppUnEnrolledUsersCount"),n=this.get("formattedVppEmailInvitationSentEndTime");return"_user_group_email_invitation_status_Email Invitations were sent to X of Y users on <time>"
.loc(e,t,n)}.property("vppEmailInvitationsSent","vppUnEnrolledUsersCount","formattedVppEmailInvitationSentEndTime").cacheable()}),Admin.UserGroupVppAboutItemEmailInvitationAllUsersAdditionalInfoView=Admin.VppAdditionalInfoView.extend({infoText:"_user_group_email_invitation_info_All users have been invited".loc()}),Admin.UserGroupVppAboutItemEmailInvitationNoneUninvitedAdditionalInfoView=Admin.VppAdditionalInfoView.extend({infoText:"_user_group_email_invitation_info_none_uninvited_have_email".loc()}),Admin.UserGroupVppAboutItemEmailInvitationSomeUninvitedNoEmailAdditionalInfoView=Admin.VppAdditionalInfoView.extend({vppEmailInvitationsSentBinding:"Admin.itemSelectionController.vppEmailInvitationsSent",vppUnEnrolledUsersCountBinding:"Admin.itemSelectionController.vppUnEnrolledUsersCount",usersWithEmailBinding:"Admin.itemSelectionController.usersWithEmail",infoText:function(){var e=this.get("usersWithEmail"),t=this.get("vppUnEnrolledUsersCount"),n=this.get("vppEmailInvitationsSent"),r=t-e,i=t-n;return"_user_group_email_invitation_info_x_of_y_uninvited_have_no_email".loc(r,i)}.property("usersWithEmail","vppUnEnrolledUsersCount","vppEmailInvitationsSent").cacheable()}),Admin.UserGroupVppAboutItemEmailInvitationNoUnenrolledEmailAdditionalInfoView=Admin.VppAdditionalInfoView.extend({infoText:"_user_group_email_invitation_info_none_unenrolled_have_email".loc()}),Admin.UserGroupVppAboutItemEmailInvitationSomeUnenrolledNoEmailAdditionalInfoView=Admin.VppAdditionalInfoView.extend({vppUnEnrolledUsersCountBinding:"Admin.itemSelectionController.vppUnEnrolledUsersCount",usersWithEmailBinding
:"Admin.itemSelectionController.usersWithEmail",infoText:function(){var e=this.get("usersWithEmail"),t=this.get("vppUnEnrolledUsersCount"),n=t-e;return"_user_group_email_invitation_info_x_of_y_unenrolled_have_no_email".loc(n,t)}.property("usersWithEmail","vppUnEnrolledUsersCount").cacheable()}),Admin.UserGroupVppAboutItemEmailInvitationButtonView=Admin.VppActionButton.extend({invitationButtonText:"_generic_string_Send Email Invitation".loc(),invitationButtonAction:"showVppEmailInviteUserGroupAlert",vppEmailInvitationsSentBinding:"Admin.itemSelectionController.vppEmailInvitationsSent",vppUnEnrolledUsersCountBinding:"Admin.itemSelectionController.vppUnEnrolledUsersCount",usersWithEmailBinding:"Admin.itemSelectionController.usersWithEmail",userGroupVppEmailInviteMemberTypeBinding:SC.Binding.oneWay("Admin.itemSelectionController.userGroupVppEmailInviteMemberType"),actionEnabled:function(){var e=YES,t=this.get("vppEmailInvitationsSent"),n=this.get("vppUnEnrolledUsersCount"),r=this.get("usersWithEmail"),i=this.get("userGroupVppEmailInviteMemberType"),s=n-t,o=n-r;return i==="uninvited"?s===0?e=NO:s===o&&(e=NO):n===o&&(e=NO),e}.property("vppEmailInvitationsSent","vppUnEnrolledUsersCount","usersWithEmail","userGroupVppEmailInviteMemberType").cacheable()}),Admin.UserGroupVppAboutItemDeviceInvitationNotSentStatusView=Admin.VppStatusView.extend({formattedVppDeviceInvitationSentBeginTime:function(){var e=this.get("vppDeviceInvitationSentBeginTime"),t=e?e.toTimezone(Admin.TIMEZONE).toFormattedString("_vpp_date_time_format".loc()):null;return t}.property("vppDeviceInvitationSentBeginTime")
.cacheable(),vppDeviceInvitationSentBeginTimeBinding:"Admin.itemSelectionController.vppDeviceInvitationSentBeginTime",formattedVppDeviceInvitationSentEndTime:function(){var e=this.get("vppDeviceInvitationSentEndTime"),t=e?e.toTimezone(Admin.TIMEZONE).toFormattedString("_vpp_date_time_format".loc()):null;return t}.property("vppDeviceInvitationSentEndTime").cacheable(),vppDeviceInvitationSentEndTimeBinding:"Admin.itemSelectionController.vppDeviceInvitationSentEndTime",statusText:"_user_group_vpp_no_device_invitations_sent".loc()}),Admin.UserGroupVppAboutItemDeviceInvitationCompletedStatusView=Admin.UserGroupVppAboutItemDeviceInvitationNotSentStatusView.extend({vppDeviceInvitationsSentBinding:"Admin.itemSelectionController.vppDeviceInvitationsSent",vppUnEnrolledUsersCountBinding:"Admin.itemSelectionController.vppUnEnrolledUsersCount",vppDeviceInvitationSentEndTimeBinding:"Admin.itemSelectionController.vppDeviceInvitationSentEndTime",statusText:function(){var e=this.get("vppDeviceInvitationsSent"),t=this.get("vppUnEnrolledUsersCount"),n=this.get("formattedVppDeviceInvitationSentEndTime");return"_user_group_device_invitation_status_Device Invitations were sent to X of Y users on <time>".loc(e,t,n)}.property("vppDeviceInvitationsSent","vppUnEnrolledUsersCount","formattedVppDeviceInvitationSentEndTime").cacheable()}),Admin.UserGroupVppAboutItemDeviceInvitationInProgressStatusView=Admin.UserGroupVppAboutItemDeviceInvitationNotSentStatusView.extend({layout:{height:0+parseFloat("_layout_user_group_vpp_device_invitation_in_progress_status_height".loc())},vppDeviceInvitationsSentBinding
:"Admin.itemSelectionController.vppDeviceInvitationsSent",vppUnEnrolledUsersCountBinding:"Admin.itemSelectionController.vppUnEnrolledUsersCount",vppDeviceInvitationSentBeginTimeBinding:"Admin.itemSelectionController.vppDeviceInvitationSentBeginTime",vppDeviceInvitationSentEndTimeBinding:"Admin.itemSelectionController.vppDeviceInvitationSentEndTime",statusText:function(){var e=this.get("vppDeviceInvitationsSent"),t=this.get("vppUnEnrolledUsersCount"),n=this.get("formattedVppDeviceInvitationSentBeginTime"),r=this.get("formattedVppDeviceInvitationSentEndTime");return"_user_group_device_invitation_status_Device Invitations were sent to X of Y users between <start_time> and <end_time>".loc(e,t,n,r)}.property("vppDeviceInvitationsSent","vppUnEnrolledUsersCount","formattedVppDeviceInvitationSentBeginTime","formattedVppDeviceInvitationSentEndTime").cacheable()}),Admin.UserGroupVppAboutItemDeviceInvitationAllUsersAdditionalInfoView=Admin.VppAdditionalInfoView.extend({infoText:"_user_group_email_invitation_info_All users have been invited".loc()}),Admin.UserGroupVppAboutItemDeviceInvitationNoneUninvitedAdditionalInfoView=Admin.VppAdditionalInfoView.extend({infoText:"_user_group_device_invitation_info_none_uninvited_have_vpp_device".loc()}),Admin.UserGroupVppAboutItemDeviceInvitationSomeUninvitedNoDeviceAdditionalInfoView=Admin.VppAdditionalInfoView.extend({vppDeviceInvitationsSentBinding:"Admin.itemSelectionController.vppDeviceInvitationsSent",vppUnEnrolledUsersCountBinding:"Admin.itemSelectionController.vppUnEnrolledUsersCount",unenrolledUsersWithVppDeviceCountBinding:"Admin.itemSelectionController.unenrolledUsersWithVppDeviceCount"
,infoText:function(){var e=this.get("unenrolledUsersWithVppDeviceCount"),t=this.get("vppUnEnrolledUsersCount"),n=this.get("vppDeviceInvitationsSent"),r=t-e,i=t-n;return"_user_group_device_invitation_info_x_of_y_uninvited_have_no_vpp_device".loc(r,i)}.property("unenrolledUsersWithVppDeviceCount","vppUnEnrolledUsersCount","vppDeviceInvitationsSent").cacheable()}),Admin.UserGroupVppAboutItemDeviceInvitationNoUnenrolledDeviceAdditionalInfoView=Admin.VppAdditionalInfoView.extend({infoText:"_user_group_device_invitation_info_none_unenrolled_have_vpp_device".loc()}),Admin.UserGroupVppAboutItemDeviceInvitationSomeUnenrolledNoDeviceAdditionalInfoView=Admin.VppAdditionalInfoView.extend({vppUnEnrolledUsersCountBinding:"Admin.itemSelectionController.vppUnEnrolledUsersCount",unenrolledUsersWithVppDeviceCountBinding:"Admin.itemSelectionController.unenrolledUsersWithVppDeviceCount",infoText:function(){var e=this.get("unenrolledUsersWithVppDeviceCount"),t=this.get("vppUnEnrolledUsersCount"),n=t-e;return"_user_group_device_invitation_info_x_of_y_unenrolled_have_no_vpp_device".loc(n,t)}.property("unenrolledUsersWithVppDeviceCount","vppUnEnrolledUsersCount").cacheable()}),Admin.UserGroupVppAboutItemDeviceInvitationButtonView=Admin.VppActionButton.extend({invitationButtonText:"_user_group_vpp_action_Send VPP Invitation to Devices".loc(),invitationButtonAction:"showVppDeviceInviteUserGroupAlert",vppDeviceInvitationsSentBinding:"Admin.itemSelectionController.vppDeviceInvitationsSent",vppUnEnrolledUsersCountBinding:"Admin.itemSelectionController.vppUnEnrolledUsersCount",unenrolledUsersWithVppDeviceCountBinding
:"Admin.itemSelectionController.unenrolledUsersWithVppDeviceCount",userGroupVppEmailInviteMemberTypeBinding:SC.Binding.oneWay("Admin.itemSelectionController.userGroupVppEmailInviteMemberType"),actionEnabled:function(){var e=YES,t=this.get("vppDeviceInvitationsSent"),n=this.get("vppUnEnrolledUsersCount"),r=this.get("unenrolledUsersWithVppDeviceCount"),i=this.get("userGroupVppEmailInviteMemberType"),s=n-t,o=n-r;return i==="uninvited"?s===0?e=NO:s===o&&(e=NO):n===o&&(e=NO),e}.property("vppDeviceInvitationsSent","vppUnEnrolledUsersCount","unenrolledUsersWithVppDeviceCount","userGroupVppEmailInviteMemberType").cacheable()}),Admin.AboutRootItem=SC.Object.extend({itemSelectionTypeBinding:"Admin.itemSelectionController.type",treeItemIsExpanded:function(e,t){var n=this.get("itemSelectionType");return t!==undefined&&(this.treeItemIsExpandedByItemSelectionType[n]=t),this.treeItemIsExpandedByItemSelectionType[n]}.property("itemSelectionType"),contentExampleView:Admin.AboutRootItemView}),Admin.infoAboutRootItem=Admin.AboutRootItem.create({name:"_general_about_root_item".loc(),treeItemIsExpandedByItemSelectionType:{profile:YES,profileFromServermgr:YES,user:YES,user_group:YES,device:YES,apple_tv:YES,device_group:YES,task:YES,provisioning_profile:YES},treeItemChildren:[],treeItemChildrenBinding:SC.Binding.multiple().oneWay("Admin.itemSelectionController.aboutInfoArray")}),Admin.appleTVAirplayPasswordRootItem=Admin.AboutRootItem.create({name:"_general_about_Airplay".loc(),treeItemIsExpandedByItemSelectionType:{apple_tv:YES},treeItemChildren:[],treeItemChildrenBinding:SC.Binding.multiple().oneWay
("Admin.itemSelectionController.aboutAirplayInfoArray")}),Admin.moreInfoAboutRootItem=Admin.AboutRootItem.create({name:"_details_about_root_item".loc(),treeItemIsExpandedByItemSelectionType:{profile:NO,profileFromServermgr:NO,user:NO,user_group:NO,device:NO,apple_tv:NO,device_group:NO,task:NO,provisioning_profile:NO},treeItemChildren:[],treeItemChildrenBinding:SC.Binding.multiple().oneWay("Admin.itemSelectionController.aboutMoreInfoArray")}),Admin.securityInfoAboutRootItem=Admin.AboutRootItem.create({name:"_security_about_root_item".loc(),treeItemIsExpandedByItemSelectionType:{profile:NO,profileFromServermgr:NO,user:NO,user_group:NO,device:NO,apple_tv:NO,device_group:NO,task:NO,provisioning_profile:NO},treeItemChildren:[],treeItemChildrenBinding:SC.Binding.multiple().oneWay("Admin.itemSelectionController.aboutSecurityInfoArray")}),Admin.restrictionsAboutRootItem=Admin.AboutRootItem.create({name:"_restrictions_about_root_item".loc(),treeItemIsExpandedByItemSelectionType:{profile:NO,profileFromServermgr:NO,user:NO,user_group:NO,device:NO,apple_tv:NO,device_group:NO,task:NO,provisioning_profile:NO},treeItemChildren:[],treeItemChildrenBinding:SC.Binding.multiple().oneWay("Admin.itemSelectionController.aboutRestrictionsArray")}),Admin.installedApplicationsAboutRootItem=Admin.AboutRootItem.create({name:"_installedApplications_about_root_item".loc(),treeItemIsExpandedByItemSelectionType:{profile:NO,profileFromServermgr:NO,user:NO,user_group:NO,device:NO,apple_tv:NO,device_group:NO,task:NO,provisioning_profile:NO},treeItemChildren:function(e,t){if(t!==undefined)throw SC.$error("read only"
);var n=this.get("actualInstalledApplications");return n&&n.get("length")?n:[SC.Object.create({name:"_about_installed_applications_no_installed_applications".loc()})]}.property("actualInstalledApplications"),actualInstalledApplicationsBinding:SC.Binding.multiple().oneWay("Admin.itemSelectionController.aboutInstalledApplicationsArray")}),Admin.groupsInAboutRootItem=Admin.AboutRootItem.create({name:function(){var e=this.get("itemSelectionType"),t="_groups_in_about_root_item_in_device_groups".loc();return["device","apple_tv"].contains(e)?t="_groups_in_about_root_item_in_device_groups".loc():["device_group"].contains(e)?t="_groups_in_about_root_item_in_device_groups".loc():["user"].contains(e)?t="_groups_in_about_root_item_in_user_groups".loc():["user_group"].contains(e)&&(t="_groups_in_about_root_item_in_user_groups".loc()),t}.property("itemSelectionType"),treeItemIsExpandedByItemSelectionType:{profile:NO,profileFromServermgr:NO,user:YES,user_group:YES,device:NO,apple_tv:NO,device_group:YES,task:NO,provisioning_profile:NO},itemSelectionBinding:"Admin.itemSelectionController.type",treeItemChildren:function(e,t){if(t!==undefined)throw SC.$error("read only");var n=this.get("parentGroups");return n&&n.get("length")?n:[SC.Object.create({name:"_about_in_groups_not_in_any_groups".loc(),contentExampleView:SC.ListItemView.design({layout:{height:43}})})]}.property("parentGroups"),parentGroupsBinding:SC.Binding.oneWay("Admin.itemSelectionController.parentGroups")}),Admin.certificatesAboutRootItem=Admin.AboutRootItem.create({name:"_certificates_about_root_item".loc(),treeItemIsExpandedByItemSelectionType
:{profile:NO,profileFromServermgr:NO,user:NO,user_group:NO,device:NO,apple_tv:NO,device_group:NO,task:NO,provisioning_profile:NO},treeItemChildrenBinding:"Admin.itemSelectionController.certificateListCompatibleWithCertificateInfoItemView"}),Admin.permissionsAboutRootItem=Admin.AboutRootItem.create({name:"_permissions_string_Restrictions".loc(),treeItemIsExpandedByItemSelectionType:{profile:YES,profileFromServermgr:YES,user:YES,user_group:YES,device:YES,apple_tv:NO,device_group:YES,task:YES,provisioning_profile:YES},treeItemChildrenBinding:"Admin.itemSelectionController.permissionsAboutItems"}),Admin.vppAboutRootItem=Admin.AboutRootItem.create({name:"_generic_string_VPP Managed Distribution".loc(),treeItemIsExpandedByItemSelectionType:{user:YES,user_group:YES},treeItemChildrenBinding:"Admin.itemSelectionController.vppAboutInfoItems"}),Admin.aboutRoot=SC.Object.create({treeItemChildren:function(){var e=[],t=Admin.itemSelectionController&&Admin.itemSelectionController.get("aboutInfoArray"),n=this.get("isDirectoryItem"),r=this.get("isAppleTV");return e.push(SC.Object.create({contentExampleView:SC.View.design({layout:{height:10}})})),t&&e.push(Admin.infoAboutRootItem),r&&(e.length>1&&e.push(SC.Object.create({contentExampleView:Admin.AboutBorderView})),e.push(Admin.appleTVAirplayPasswordRootItem)),n&&(e.length>1&&e.push(SC.Object.create({contentExampleView:Admin.AboutBorderView})),e.push(Admin.permissionsAboutRootItem)),this.get("isDevice")&&(e.length>1&&e.push(SC.Object.create({contentExampleView:Admin.AboutBorderView})),e.push(Admin.moreInfoAboutRootItem),r||(e.push(SC.Object.create
({contentExampleView:Admin.AboutBorderView})),e.push(Admin.securityInfoAboutRootItem),e.push(SC.Object.create({contentExampleView:Admin.AboutBorderView})),e.push(Admin.restrictionsAboutRootItem),e.push(SC.Object.create({contentExampleView:Admin.AboutBorderView})),e.push(Admin.installedApplicationsAboutRootItem))),r||(e.length>1&&e.push(SC.Object.create({contentExampleView:Admin.AboutBorderView})),e.push(Admin.groupsInAboutRootItem)),this.get("isVppServiceEnabled")&&(this.get("isUser")||this.get("isUserGroup"))&&(e.length>1&&e.push(SC.Object.create({contentExampleView:Admin.AboutBorderView})),e.push(Admin.vppAboutRootItem)),this.get("isDevice")&&(e.length>1&&e.push(SC.Object.create({contentExampleView:Admin.AboutBorderView})),e.push(Admin.certificatesAboutRootItem)),e.push(SC.Object.create({})),e}.property("isDevice","isMac","aboutInfoArray","isVppServiceEnabled","isAppleTV"),aboutInfoArrayBinding:SC.Binding.oneWay("Admin.itemSelectionController.aboutInfoArray"),isDeviceBinding:"Admin.itemSelectionController.isDevice",isAppleTVBinding:"Admin.itemSelectionController.isAppleTV",isMacBinding:"Admin.itemSelectionController.isMac",isUserBinding:"Admin.itemSelectionController.isUser",isUserGroupBinding:"Admin.itemSelectionController.isUserGroup",isDirectoryItemBinding:"Admin.itemSelectionController.isDirectoryItem",treeItemIsExpanded:YES,isVppServiceEnabledBinding:"Admin.SettingsController.isVppServiceEnabled"}),Admin.aboutController=SC.TreeController.create(SC.CollectionRowDelegate,{contentBinding:"Admin.aboutRoot",customRowHeightIndexes:SC.IndexSet.create(),contentIndexRowHeight:
function(e,t,n){var r=this.get("arrangedObjects").get("length"),i=50;if(n<r){var s=this.get("arrangedObjects").objectAt(n).get("contentExampleView");s&&(i=s.prototype.layout.height)}return i},lengthDidChange:function(){this.set("customRowHeightIndexes",SC.IndexSet.create().add(0,this.getPath("arrangedObjects.length")))}.observes("*arrangedObjects.[]")}),Admin.RecordNormalizer={_vpnIKEv2Keys:["RemoteAddress","LocalIdentifier","RemoteIdentifier","AuthenticationMethod","SharedSecret","PayloadCertificateUUID","CertificateType","AuthName","AuthPassword","ExtendedAuthEnabled","DeadPeerDetectionRate","ServerCertificateCommonName","ServerCertificateIssuerCommonName"],_vpnIKEv2SAKeys:["EncryptionAlgorithm","IntegrityAlgorithm","DiffieHellmanGroup","LifeTimeInMinutes"],_vpnDefaults:{ikev2IKESAEncryptionAlgorithm:"3DES",ikev2IKESAIntegrityAlgorithm:"SHA1-96",ikev2IKESADiffieHellmanGroup:"2",ikev2IKESALifeTimeInMinutes:1440,ikev2ChildSAEncryptionAlgorithm:"3DES",ikev2ChildSAIntegrityAlgorithm:"SHA1-96",ikev2ChildSADiffieHellmanGroup:"2",ikev2ChildSALifeTimeInMinutes:1440},normalizeVPNIKEv2SecurityAssociationParamsForStore:function(e,t,n){var r={},i=NO,s=this._vpnIKEv2SAKeys;for(var o=0,u=s.length;o<u;o++)k=s[o],recordKey="ikev2"+n+"SA"+k,e[recordKey]&&(r[k]=e[recordKey],i=YES),delete e[recordKey];i&&(t[n+"SecurityAssociationParameters"]=r)},normalizeVPNIKEv2SecurityAssociationParamsForEditing:function(e,t,n){var r=t[n+"SecurityAssociationParameters"],i=NO,s=this._vpnIKEv2SAKeys;if(r)for(var o=0,u=s.length;o<u;o++)k=s[o],recordKey="ikev2"+n+"SA"+k,r[k]&&(e[recordKey]=r[k])},normalizeVPNPayloadForStore
:function(e){var t=e.VPNType,n,r=this._vpnDefaults;for(n in r)r.hasOwnProperty(n)&&e[n]===r[n]&&delete e[n];if(t==="IKEv2"){var i={},s=this._vpnIKEv2Keys,o,u,a;for(o=0,u=s.length;o<u;o++)k=s[o],a="ikev2"+k,e[a]&&(i[k]=e[a]),delete e[a];this.normalizeVPNIKEv2SecurityAssociationParamsForStore(e,i,"IKE"),this.normalizeVPNIKEv2SecurityAssociationParamsForStore(e,i,"Child"),e.IKEv2=i}return e},normalizeVPNPayloadForEditing:function(e){var t=e.VPNType,n,r;if(t==="IKEv2"){var i=e.IKEv2,s=this._vpnIKEv2Keys;for(n=0,r=s.length;n<r;n++){var o=s[n],u="ikev2"+o;e[u]=i[o]}this.normalizeVPNIKEv2SecurityAssociationParamsForEditing(e,i,"IKE"),this.normalizeVPNIKEv2SecurityAssociationParamsForEditing(e,i,"Child"),delete e.IKEv2}var a=this._vpnDefaults;for(var f in a)a.hasOwnProperty(f)&&(e[f]||(e[f]=a[f]));return e},toPersistentStore:function(e,t){var n=t;switch(e){case"VpnKnobSet":n=this.normalizeVPNPayloadForStore(t)}return n},fromPersistentStore:function(e,t){var n=t;switch(e){case"VpnKnobSet":n=this.normalizeVPNPayloadForEditing(t)}return n}},SC.Request.manager.maxRequests=8,Admin.SERVER_TIMEOUT=300,Admin.MAX_ATTEMPT_COUNT=10,Admin.ATTEMPT_DELAY=1e3,Admin.DeviceManagementDataSourceURL=Admin.PM_WEBAPP_URI_ROOT+"/magic/do_magic",Admin.DeviceManagementAdmilWillLoadNotificationURL=Admin.PM_WEBAPP_URI_ROOT+"/magic/admin_will_load",Admin.DeviceManagementDataSourceGetUpdatedURL=Admin.PM_WEBAPP_URI_ROOT+"/magic/get_updated",Admin.sidebarContentTypeToParamsMap={user:{model:"user",method:"find_all"},user_group:{model:"user_group",method:"find_all"},device:{model:"device",method:"find_all"},device_group
:{model:"device_group",method:"find_all"},tasks_active:{model:"library_item_task",method:"find_all_active"},tasks_complete:{model:"completed_library_item_task",method:"find_all_completed"}},Admin.DeviceManagementDataSource=SC.DataSource.extend({fetch:function(e,t){if(t.get("isQuery")){if(t.getPath("rpcs.isEnumerable"))this.addRpcs(t.get("rpcs"),t.get("blocksUnload"),e,t);else{if(!t.get("isLocal"))throw SC.$error("Remote queries must have rpcs to work!");this.invokeLast(function(){e.dataSourceDidFetchQuery(t)})}return YES}return NO},retrieveRecords:function(e,t){var n=this.storeKeysByType(e,t),r,i,s,o;for(r in n)if(n.hasOwnProperty(r)){i=[];for(s=0,o=n[r].length;s<o;s++)i.push(e.idFor(n[r][s]));if(!(this.pendingRpcs&&this.pendingRpcs[r]&&this.pendingRpcs[r].get_details))this.addRpcs([r==="device"||r==="provisioning_profile"?[r,"get_details",{ids:i}]:[r,"get_details",null,{ids:i}]],NO);else{var u=r==="device"||r==="provisioning_profile"?0:1;this.pendingRpcs[r].get_details[0][u].ids=this.pendingRpcs[r].get_details[0][u].ids.concat(i)}}return YES},cancel:function(){return NO},_getNormalizedDataHash:function(e,t){for(var n in t)n[0]==="_"&&delete t[n];return Admin.RecordNormalizer.toPersistentStore(e,t)},createRecords:function(e,t){var n=this.storeKeysByType(e,t),r,i,s,o,u,a;for(r in n)if(n.hasOwnProperty(r))for(i=0,s=n[r].length;i<s;i++)u=n[r][i],o=SC.clone(e.readDataHash(u)),a=this._getNormalizedDataHash(r,o),a.temporary_id=u,a.admin_session=Admin.ADMIN_SESSION,this.addRpcs([[r,"create",a]],YES);return YES},updateRecords:function(e,t){var n=this.storeKeysByType(e,t),r,i,s,o,u,a
,f;for(r in n)if(n.hasOwnProperty(r)){if(r==="file")continue;for(i=0,s=n[r].length;i<s;i++)u=n[r][i],o=SC.clone(e.readDataHash(u)),a=this.stringToModel(r),f=this._getNormalizedDataHash(r,o),this.addRpcs([[r,"update",o[a.prototype.primaryKey],f]],YES)}return YES},destroyRecords:function(e,t){var n=this.storeKeysByType(e,t),r,i,s;for(r in n)if(n.hasOwnProperty(r))for(i=0,s=n[r].length;i<s;i++)this.addRpcs([[r,"destroy",e.idFor(n[r][i])]],YES);return YES},storeKeysByType:function(e,t){var n={},r,i,s,o;for(s=0,o=t.get("length");s<o;s++)i=t.objectAt(s),r=this.modelToString(e.recordTypeFor(i)),r&&(n[r]||(n[r]=[]),n[r].push(i));return n},pendingRpcs:{},pendingRpcsBlocksUnload:NO,pendingStoreQueryPairs:[],modelToString:function(e){if(e.toString()==="")return;var t=e.toString().split(".")[1];return e.toString().substr(-7,7)==="KnobSet"?t:t.decamelize()},modelToModelName:function(e){if(e.toString()==="")return;return e.toString().split(".")[1]},stringToModel:function(e){e==="tasks_active"?e="library_item_task":e==="tasks_complete"?e="completed_library_item_task":e==="DataFile"&&(e="file");var t=Admin[e.camelize().capitalize()]||Admin[e.camelize().capitalize().slice(0,-1)];if(!t)throw SC.$error("Unknown model "+e);return t},addRpcs:function(e,t,n,r){var i,s,o,u,a,f,l=this.pendingRpcs,c=r&&r.get("isRemote");typeof t!="boolean"&&(c?(console.warn("Call to addRpcs with remoteQuery did not specify blocksUnload, assuming NO"),t=NO):(console.warn("Call to addRpcs did not specify blocksUnload, assuming YES"),t=YES));if(t&&c)throw SC.$error("blocksUnload is not currently compatible with remote queries"
);this.pendingRpcsBlocksUnload=this.pendingRpcsBlocksUnload||t;for(i=0,s=e.get("length");i<s;i++)o=e.objectAt(i),u=o.objectAt(0),a=o.objectAt(1),f=o.slice(2),l.hasOwnProperty(u)||(l[u]={}),l[u].hasOwnProperty(a)||(l[u][a]=[]),c&&f.push(SC.guidFor(r)),l[u][a].push(f);n&&r&&this.pendingStoreQueryPairs.push([n,r]),Admin.windowOnloadEventFired&&SC.Request.manager.pending.length<SC.Request.manager.maxRequests?this.invokeOnce(this.makeRequest):this.makeRequestPending=YES},_extraActiveQueries:{},addActiveQuery:function(e,t){if(!e||!t)return;var n={record_array:e,params:t},r=this.get("_extraActiveQueries");r[SC.guidFor(e)]=n,this.set("_extraActiveQueries",r)},removeActiveQuery:function(e){delete this.get("_extraActiveQueries")[SC.guidFor(e)]},makeRequest:function(e,t,n){this.set("numberOfRequests",this.get("numberOfRequests")+1),this.pendingRpcsBlocksUnload&&this.numberOfRequestsThatBlocksUnload++,Admin.CSRF_TOKEN||console.warn("csrf token not found");if(n){var r={},i=Admin.itemListController.getPath("selection.firstObject"),s=i?i.get("id"):undefined,o=i?Admin.store.dataSource.modelToModelName(i.constructor):"none";o!=="none"&&(r.selected_item_class=o,r.selected_item_id=s);var u={},a=Admin.sidebarRootLibrary.get("treeItemChildren"),f=a,l=Admin.sidebarContentTypeToParamsMap;Admin.get("noODMode")||(f=f.concat(Admin.sidebarRootActivity.get("treeItemChildren")));var c=this.get("_extraActiveQueries");for(var h in c)if(c.hasOwnProperty(h)){var p=c[h];u[h]=p.params}f.forEach(function(e){var t=e.get("contentType"),n=SC.guidFor(e.get("itemArray")),r=l[t];r&&(u[n]=r)}),r.active_queries=u,r.last_txid_snapshot=
Admin.last_txid_snapshot,SC.Request.postUrl(Admin.DeviceManagementDataSourceGetUpdatedURL).json().header("X-Application","DMAdmin").header("X-CSRF-Token",Admin.CSRF_TOKEN).notify(this,"didReceiveResponse",{store:Admin.store,wasGetUpdated:YES}).send(r);return}SC.Request.postUrl(Admin.DeviceManagementDataSourceURL).json().set("timeout",Admin.SERVER_TIMEOUT*1e3).set("didTimeout",function(){Admin.TIMEOUT_SHOWING||SC.AlertPane.error("_server_timed_out_message".loc(),"_server_timed_out_description".loc(),"","_server_timed_out_reload_button".loc(),location.port==="4020"||location.port==="4264"?"_generic_continue_button".loc():null,{alertPaneDidDismiss:function(e,t){t=="button1"?location.reload(!1):Admin.TIMEOUT_SHOWING=NO}}),Admin.TIMEOUT_SHOWING=YES}).header("Content-Type","application/json").header("X-Application","DMAdmin").header("X-CSRF-Token",Admin.CSRF_TOKEN).notify(this,"didReceiveResponse",{pendingStoreQueryPairs:this.pendingStoreQueryPairs,blocksUnload:this.pendingRpcsBlocksUnload,store:Admin.store,hello:"world"}).send(this.pendingRpcs),this.pendingRpcs={},this.pendingRpcsBlocksUnload=NO,this.pendingStoreQueryPairs=[]},numberOfRequests:0,numberOfRequestsThatBlocksUnload:0,dataSourceBlocksUnload:function(){return this.pendingRpcsBlocksUnload||this.numberOfRequestsThatBlocksUnload},handleServerNotAvailable:function(){Admin.SERVER_NOT_AVAILABLE_SHOWING||SC.AlertPane.error("_server_not_available_message".loc(),"_server_not_available_description".loc(),null,"_server_not_available_reload_button".loc(),location.port==="4020"||location.port==="4264"?"_generic_continue_button".loc
():null,{alertPaneDidDismiss:function(e,t){t=="button1"?location.reload(!1):Admin.SERVER_NOT_AVAILABLE_SHOWING=NO}}),Admin.SERVER_NOT_AVAILABLE_SHOWING=YES},handleServerError:function(){Admin.SERVER_ERROR_SHOWING||SC.AlertPane.error("_Server Error Occurred Message".loc(),"_Server Error Occurred Description".loc(),"_Server Error Occurred Caption".loc(),"_server_error_occurred_reload_button".loc(),location.port==="4020"||location.port==="4264"?"_generic_continue_button".loc():null,{alertPaneDidDismiss:function(e,t){t=="button1"?location.reload(!1):Admin.SERVER_ERROR_SHOWING=NO}}),Admin.SERVER_ERROR_SHOWING=YES},handle404Response:function(){Admin.SERVER_NOT_FOUND_SHOWING||SC.AlertPane.error("_server_not_found_message".loc(),"_server_not_found_description".loc(),null,"_server_not_found_reload_button".loc(),location.port==="4020"||location.port==="4264"?"_generic_continue_button".loc():null,{alertPaneDidDismiss:function(e,t){t=="button1"?location.reload(!1):Admin.SERVER_NOT_FOUND_SHOWING=NO}}),Admin.SERVER_NOT_FOUND_SHOWING=YES},handleErrorResponse:function(e,t){return t.attemptCount||(t.attemptCount=1),t.attemptCount<Admin.MAX_ATTEMPT_COUNT?(t.attemptCount++,console.warn("attempting again: "+t.attemptCount+" - "+e.get("originalRequest")),this.invokeLater(function(){console.warn("attempting once again: "+t.attemptCount+" - "+e.get("originalRequest")),e.get("originalRequest").send()},Admin.ATTEMPT_DELAY),YES):(Admin.NETWORK_NOT_AVAILABLE_SHOWING||SC.AlertPane.error("_network_not_available_message".loc(),"_network_not_available_description".loc(),null,"_network_not_available_reload_button"
.loc(),location.port==="4020"||location.port==="4264"?"_generic_continue_button".loc():null,{alertPaneDidDismiss:function(e,t){t=="button1"?location.reload(!1):Admin.NETWORK_NOT_AVAILABLE_SHOWING=NO}}),Admin.NETWORK_NOT_AVAILABLE_SHOWING=YES,YES)},handleInitialODSyncInProgress:function(){Admin.set("isWaitingForInitialODSync",YES),window.document.title="_appName".loc(),Admin.getPath("mainPage.mainPane").append();var e=SC.Timer.schedule({action:function(){SC.Request.postUrl(Admin.DeviceManagementAdmilWillLoadNotificationURL).header("Content-Type","application/json").header("X-Application","DMAdmin").header("X-CSRF-Token",Admin.CSRF_TOKEN).notify(this,function(t){var n=t.get("status");n!==503&&(e.invalidate(),location.reload(!1))}).send()},interval:1e4,repeats:YES});e.fire()},didReceiveResponse:function(e,t){function m(e){return SC.guidFor(e[1])===v}this.set("numberOfRequests",this.get("numberOfRequests")-1);if(t.blocksUnload){this.numberOfRequestsThatBlocksUnload--;if(this.numberOfRequestsThatBlocksUnload<0)throw SC.$error("numberOfRequestsThatBlocksUnload went below 0")}var n,r=e.get("status"),i,s,o,u,a,f,l,c,h;if(r==503)return n=e.get("response"),n&&n.reason==="pm_wait_upgrade_od_sync"?this.handleInitialODSyncInProgress():this.handleServerNotAvailable();if(r>=500)return this.handleServerError();if(r==403){n=e.get("response");if(""+n.redirect_url=="undefined")throw SC.$error("Why is this undefined?");top.location=n.redirect_url,Admin.NETWORK_NOT_AVAILABLE_SHOWING=YES;return}if(r==404)return this.handle404Response();if(r>=400)throw SC.$error("Client-side error!");if(r>=300)throw SC
.$error("Unhandled redirection!");if(e.isError)return this.handleErrorResponse(e,t);n=e.get("response");try{i=n.result||SC.json.decode(n).result}catch(p){console.log("json decode: error:",p);return}var d,v,g=t.pendingStoreQueryPairs&&t.pendingStoreQueryPairs.filter(function(e){return e[1].get("isRemote")});g&&!g.length&&(g=null);if(g||n.remote){if(!g)throw SC.$error("got remote results from server but there were no pendingRemoteStoreQueryPairs!");if(!n.remote)throw SC.$error("had pendingRemoteStoreQueryPairs but did not get remote results!");var y=g.map(function(e){return SC.guidFor(e[1])});d=[];for(var b in n.remote)n.remote.hasOwnProperty(b)&&d.push(b);if(y.length!==d.length)throw SC.$error("lengths of pendingStoreQueryPairs and guidsFromRemote did not match!");y.sort(),d.sort();if(SC.json.encode(y)!==SC.json.encode(d))throw SC.$error("contents of pendingStoreQueryPairs and guidsFromRemote did not match!");for(var w=0,E=d.get("length");w<E;w++){v=d[w];var S=g.filter(m)[0][1],x=[],T=n.remote[v];for(var N=0,C=T.length;N<C;N++){var k=T[N],L=k.shift();for(var A=0,O=k.length;A<O;A++){var M=k[A];x.push(t.store.storeKeyFor(this.stringToModel(L),M))}}t.store.loadQueryResults(S,x)}}for(s in i)if(i.hasOwnProperty(s)){if(i==="remote")continue;o=this.stringToModel(s);var _=[];i[s].created&&(_=_.concat(i[s].created)),i[s].updated&&(_=_.concat(i[s].updated)),i[s].retrieved&&(_=_.concat(i[s].retrieved));var D;for(f=0,l=_.length;f<l;f++){var P=_[f];u=P[o.prototype.primaryKey];var H=P.admin_session&&P.admin_session!==Admin.ADMIN_SESSION?null:parseInt(P.temporary_id,10);a=H||t.store.storeKeyFor
(o,u);if(t.store.readStatus(a)===SC.Record.BUSY_DESTROYING)continue;P.updated_at||(console.warn("Server did not provide an updated_at for an instance of "+s+"; making one up..."),P.updated_at=SC.DateTime.create({timezone:0}).toISO8601()),c=t.store.readDataHash(a);var B=Admin.RecordNormalizer.fromPersistentStore(s,P),j;if(c)for(h in c)c.hasOwnProperty(h)&&(B.hasOwnProperty(h)||(B[h]=c[h]));t.store.readStatus(a)&SC.Record.BUSY?t.store.dataSourceDidComplete(a,B,u):t.store.pushRetrieve(o,u,B,a);if(t.wasGetUpdated&&o===Admin.AutoJoinProfile){D=Admin.autoJoinProfilesTreeItem;if(!D.getPath("treeItemChildren.storeKeys"))continue;D.getPath("treeItemChildren.storeKeys").indexOf(a)===-1&&D.getPath("treeItemChildren.storeKeys").unshiftObject(a)}var F=P.has_complete_data!==undefined?P.has_complete_data:!0;!F&&a===Admin.itemSelectionController.get("storeKey")&&this.addRpcs([[s.decamelize(),"get_complete_details",{ids:[u]}]],NO);if(t.wasGetUpdated&&o===Admin.LibraryItemTask){var I=P,q=I.completed_at,R=q!==undefined&&q!==null;D=Admin.sidebarRootActivity.get("treeItemChildren").findProperty("contentType",R?"tasks_complete":"tasks_active");if(!D.getPath("itemArray.storeKeys"))continue;D.getPath("itemArray.storeKeys").indexOf(a)===-1&&D.getPath("itemArray.storeKeys").unshiftObject(a);if(R){D=Admin.sidebarRootActivity.get("treeItemChildren").findProperty("contentType","tasks_active");var U=Admin.itemListController.getPath("content.storeKeys");if(!D.getPath("itemArray.storeKeys"))continue;D.getPath("itemArray.storeKeys").indexOf(a)>-1&&D.getPath("itemArray.storeKeys").removeObject(a);if(!U)continue;
U.indexOf(a)>-1&&U.removeObject(a)}}}if(i[s].deleted)for(f=0,l=i[s].deleted.length;f<l;f++){u=i[s].deleted[f],a=o.storeKeyFor(u),t.store.readStatus(a)&SC.Record.BUSY?t.store.dataSourceDidDestroy(a):(t.store.removeDataHash(a,SC.Record.DESTROYED_CLEAN),t.store.dataHashDidChange(a));if(t.wasGetUpdated&&(o===Admin.Device||o===Admin.DeviceGroup||o===Admin.User||o===Admin.UserGroup)){D=Admin.sidebarRootLibrary.get("treeItemChildren").filterProperty("contentType",this.modelToString(o)).get("firstObject");var z=Admin.itemListController.getPath("content.storeKeys");if(!D.getPath("itemArray.storeKeys"))continue;D.getPath("itemArray.storeKeys").indexOf(a)>-1&&D.getPath("itemArray.storeKeys").removeObject(a);if(!z)continue;z.indexOf(a)>-1&&z.removeObject(a)}if(t.wasGetUpdated&&o===Admin.AutoJoinProfile){D=Admin.autoJoinProfilesTreeItem;if(!D.getPath("treeItemChildren.storeKeys"))continue;D.getPath("treeItemChildren.storeKeys").indexOf(a)>-1&&D.getPath("treeItemChildren.storeKeys").removeObject(a)}}}if(t.pendingStoreQueryPairs&&t.pendingStoreQueryPairs.length)for(f=0,l=t.pendingStoreQueryPairs.length;f<l;f++)t.pendingStoreQueryPairs[f][0].dataSourceDidFetchQuery(t.pendingStoreQueryPairs[f][1]);this.makeRequestPending&&(this.invokeOnce(this.makeRequest),this.makeRequestPending=NO);var W=0;for(var X in i)i.hasOwnProperty(X)&&(W=1);W&&(Admin.GET_UPDATED_POLLING_RATE=Admin.GET_UPDATED_POLLING_RATE_INITIALLY);if(t.wasGetUpdated){var V=n.active_queries_result;V&&this.processActiveQueriesResult(V,t),Admin.last_txid_snapshot=n.last_txid_snapshot,W||(Admin.GET_UPDATED_POLLING_RATE=Math.min(Admin.
GET_UPDATED_POLLING_RATE*Admin.GET_UPDATED_POLLING_DECAY_FACTOR,Admin.GET_UPDATED_POLLING_RATE_MAX)),clearTimeout(Admin.GET_UPDATED_POLLING_TIMEOUT),Admin.GET_UPDATED_POLLING_TIMEOUT=setTimeout(Admin.periodicGetUpdated,Admin.GET_UPDATED_POLLING_RATE*1e3)}},processActiveQueriesResult:function(e,t){var n=Admin.sidebarRootLibrary.get("treeItemChildren"),r=n,i=this,s=Admin.sidebarContentTypeToParamsMap;Admin.get("noODMode")||(r=r.concat(Admin.sidebarRootActivity.get("treeItemChildren"))),r.forEach(function(n){var r=n.get("itemArray"),o=SC.guidFor(r),u=n.get("contentType"),a=s[u],f=e[o];if(a&&f){var l=i.stringToModel(a.model),c=f.map(function(e){return t.store.storeKeyFor(l,e)});r.set("storeKeys",c)}});var o=this.get("_extraActiveQueries");for(var u in o)if(o.hasOwnProperty(u)){var a=o[u],f=a.record_array,l=a.params,c=e[u];if(l&&c){var h=i.stringToModel(l.model),p=c.map(function(e){return t.store.storeKeyFor(h,e)});f.set("storeKeys",p)}}}}),function(){SC.Request.postUrl(Admin.DeviceManagementAdmilWillLoadNotificationURL).header("Content-Type","application/json").header("X-Application","DMAdmin").header("X-CSRF-Token",Admin.CSRF_TOKEN).notify(this,function(e){var t=e.get("response");t=SC.json.decode(t),Admin.last_txid_snapshot=t.last_txid_snapshot}).send()}(),Admin.AirplayDestinationsController=SC.ArrayController.create({content:Admin.store.find(SC.Query.remote(Admin.Device,{rpcs:[["device","find_all_apple_tvs"]],blocksUnload:NO})),allowsMultipleSelection:NO}),Admin.AllBooksController=SC.ArrayController.create({}),Admin.AllUnifiedAppsController=SC.ArrayController.create({}),Admin.
AllUnifiedBooksController=SC.ArrayController.create({}),Admin.vppContentBaseTableViewController=SC.ArrayController.extend(SCTable.TableDelegate,{content:"",showAppDetailIcon:YES,showEditIconForB2BName:NO,showAppSelectionCheckBox:NO,checkboxCheckedApplications:null,selectedVppContentWithoutEnoughLicenses:null,useRoundedCornersForIcon:NO,showLicenseWarning:YES,init:function(){this.initData()},initData:function(){this.set("checkboxCheckedApplications",SC.Set.create()),this.set("selectedVppContentWithoutEnoughLicenses",SC.Set.create())},itemSelectionIdBinding:"Admin.itemSelectionController.content",itemSelectionIdObserver:function(){this.initData()}.observes("itemSelectionId"),selectAllContent:function(){var e=this.get("checkboxCheckedApplications");this.get("content").forEach(function(t){e.add(t.get("id"))})},deselectAllContent:function(){this.set("checkboxCheckedApplications",SC.Set.create())},orderBy:"ASC name",_renderSelectionCheckbox:function(e,t){var n=this.get("checkboxCheckedApplications").contains(t.get("id")),r=n?'aria-checked="true"':'aria-checked="false"',i=n?"sel":"",s='<div role="checkbox" tabindex="0" %@ class="sc-view sc-button-view sc-checkbox-view sc-checkbox-control checkbox sc-regular-size admin-select-app-checkbox-con %@" ><span class="button admin-select-app-checkbox"></span></div>'.fmt(r,i);return e.push(s)},_renderIconAndName:function(e,t,n){var r=SC.RenderContext.escapeHTML(n.get("name")),i=n.get("iconUrl"),s=this.get("useRoundedCornersForIcon"),o=s?"admin-table-row-icon admin-table-row-icon-round":"admin-table-row-icon",u=(i&&i.indexOf("generic_app.png"
))>-1?YES:NO,a=Admin.get("noODMode"),f;u&&a?f='<div class="admin-generic-app-icon admin-table-row-icon-round">%@</div>'.fmt(r):f=('<div style="padding-left:5px; line-height:45px; right:20px" class="column-text"><span style="width:30px; display: inline-block;"><img src="%@" class="'+o+'" alt="%@">'+"</span> %@</div>").fmt(i,r,r),this.get("showEditIconForB2BName")&&n.get("isB2BApp")&&(f+='<div class="edit-app-name admin-edit-app-name-pencil"></div>'),this.get("showLicenseWarning")&&this.get("selectedVppContentWithoutEnoughLicenses").contains(n)&&(f=('<div class="admin-license-warn-container"><img src="%@" class="'+o+'">'+'<img src="%@" class="admin-license-exceeded-alert">'+"</div> %@").fmt(i,SC.BLANK_IMAGE_URL,r));if(this.get("showAppSelectionCheckBox")){var l=this.get("checkboxCheckedApplications").contains(n.get("id")),c=l?'checked="checked"':"";f='<input type="checkbox" class="admin-select-app-checkbox" %@> %@'.fmt(c,f)}return t.push(f)},_renderSupportedDevices:function(e,t,n){var r=this.get("showAppDetailIcon")&&n.get("contentDetailAvailable"),i=r?'%@ <div class="admin-app-detail-indicator"></div>':"%@",s;return n.get("supportsMac")?s="_application_type_OSX".loc():n.get("supportsiPodOriPhoneOriPad")?s="_application_type_iOS".loc():s="_generic_string_--".loc(),t.push(i.fmt(s))},_renderAssignedTo:function(e,t,n,r,i,s,o){if(!o||o.length===0)return t;var u=o.length>1?"Multiple":o[0].get("name"),a=o.length>1?'<div class="admin-vpp-tv-assigned-to">%@</div>':"%@";return t.push(a.fmt(u))},_renderAssignedToHelper:function(e,t,n,r,i,s){var o=Admin.itemSelectionFromNestedStoreController
.getAssignedToItemsForUnifiedApp(n.get("id"));return this._renderAssignedTo(e,t,n,r,i,s,o)},renderTableCellContent:function(e,t,n,r,i,s){return i.get("valueKey")==="name"?this._renderIconAndName(e,t,n,r,i,s):i.get("valueKey")==="supportedDevices"?this._renderSupportedDevices(e,t,n,r,i,s):i.get("valueKey")==="assigned_to"?this._renderAssignedToHelper(e,t,n,r,i,s):i.get("valueKey")==="selectionCheckbox"?this._renderSelectionCheckbox(t,n):i.get("valueKey")==="sizeInKB"?t.push("%@".fmt(n.get("sizeDisplayValue"))):t.push("%@".fmt(SC.RenderContext.escapeHTML(String(n?n.get(i.get("valueKey")):null))))},hasSelectedVppContentWithoutEnoughLicenses:function(){return this.get("selectedVppContentWithoutEnoughLicenses").get("length")>0}.property("selectedVppContentWithoutEnoughLicenses"),_toggleVppContentSelection:function(e){var t=this.get("checkboxCheckedApplications"),n=SC.clone(this.get("selectedVppContentWithoutEnoughLicenses")),r=e.get("id");t.contains(r)?t.remove(r):t.add(r),!Admin.itemSelectionController.hasEnoughLicensesForVppContent(e)&&t.contains(r)?n.add(e):n.remove(e),this.set("selectedVppContentWithoutEnoughLicenses",n)},mouseDownOnTableRow:function(e,t,n){var r=n.target.className;if(r){r=r.split(" ");if(r.contains("admin-app-detail-indicator"))Admin.VppContentDetailController.set("content",t.get("content"));else if(r.contains("admin-select-app-checkbox"))this._toggleVppContentSelection(t.getPath("content")),t.set("layerNeedsUpdate",YES);else{if(r.contains("admin-vpp-tv-assigned-to"))return this.handleAssignedToClick(e,t,n);r.contains("edit-app-name")&&Admin.sendAction("showEditAppNameInputDialog"
)}}},handleAssignedToClick:function(){},toggleSelectAll:function(){var e=this.get("content"),t=this.get("selection");e.get("length")===t.get("length")?this.selectObjects():this.selectObjects(e)}}),Admin.UNIFIED_APPS_TABLE_VIEW_NAME_COLUMN=SC.Object.create(SCTable.Column,{name:"_table_header_Name".loc(),valueKey:"name",width:.2,canResize:NO}),Admin.UNIFIED_APPS_TABLE_VIEW_CATEGORY_COLUMN=SC.Object.create(SCTable.Column,{name:"_table_header_Category".loc(),valueKey:"category",width:.2,canResize:NO}),Admin.UNIFIED_APPS_TABLE_VIEW_SIZE_COLUMN=SC.Object.create(SCTable.Column,{name:"_table_header_Size".loc(),valueKey:"sizeInKB",width:.15,canResize:NO}),Admin.UNIFIED_APPS_TABLE_VIEW_PURCHASED_COLUMN=SC.Object.create(SCTable.Column,{name:"_table_header_Purchased".loc(),valueKey:"purchasedLicenses",width:.15,canResize:NO}),Admin.UNIFIED_APPS_TABLE_VIEW_AVAILABLE_COLUMN=SC.Object.create(SCTable.Column,{name:"_table_header_Available".loc(),valueKey:"availableLicensesDisplayValue",width:.15,canResize:NO}),Admin.UNIFIED_APPS_TABLE_VIEW_KIND_COLUMN=SC.Object.create(SCTable.Column,{name:"_table_header_Kind".loc(),valueKey:"supportedDevices",width:.15,canResize:NO}),Admin.UNIFIED_APPS_TABLE_VIEW_ASSIGNED_TO_COLUMN=SC.Object.create(SCTable.Column,{name:"_table_header_Assigned To".loc(),valueKey:"assigned_to",width:.2,canResize:NO}),Admin.UNIFIED_APPS_TABLE_VIEW_ASSIGNED_COLUMN=SC.Object.create(SCTable.Column,{name:"_table_header_Assigned".loc(),valueKey:"assignedLicenses",width:.1,canResize:NO}),Admin.UNIFIED_APPS_TABLE_VIEW_ENTEPRISE_COLUMNS=[Admin.UNIFIED_APPS_TABLE_VIEW_NAME_COLUMN,Admin.
UNIFIED_APPS_TABLE_VIEW_CATEGORY_COLUMN,Admin.UNIFIED_APPS_TABLE_VIEW_SIZE_COLUMN,Admin.UNIFIED_APPS_TABLE_VIEW_KIND_COLUMN],Admin.UNIFIED_APPS_TABLE_VIEW_ALL_COLUMNS=[Admin.UNIFIED_APPS_TABLE_VIEW_NAME_COLUMN,Admin.UNIFIED_APPS_TABLE_VIEW_CATEGORY_COLUMN,Admin.UNIFIED_APPS_TABLE_VIEW_SIZE_COLUMN,Admin.UNIFIED_APPS_TABLE_VIEW_AVAILABLE_COLUMN,Admin.UNIFIED_APPS_TABLE_VIEW_PURCHASED_COLUMN,Admin.UNIFIED_APPS_TABLE_VIEW_KIND_COLUMN],Admin.UNIFIED_BOOKS_TABLE_VIEW_ENTEPRISE_COLUMNS=[Admin.UNIFIED_APPS_TABLE_VIEW_NAME_COLUMN,Admin.UNIFIED_APPS_TABLE_VIEW_CATEGORY_COLUMN,Admin.UNIFIED_APPS_TABLE_VIEW_SIZE_COLUMN],Admin.UNIFIED_BOOKS_TABLE_VIEW_ALL_COLUMNS=[Admin.UNIFIED_APPS_TABLE_VIEW_NAME_COLUMN,Admin.UNIFIED_APPS_TABLE_VIEW_CATEGORY_COLUMN,Admin.UNIFIED_APPS_TABLE_VIEW_SIZE_COLUMN,Admin.UNIFIED_APPS_TABLE_VIEW_AVAILABLE_COLUMN,Admin.UNIFIED_APPS_TABLE_VIEW_PURCHASED_COLUMN],Admin.ASSIGNED_BOOKS_TABLE_VIEW_COLUMNS=[Admin.UNIFIED_APPS_TABLE_VIEW_NAME_COLUMN,Admin.UNIFIED_APPS_TABLE_VIEW_CATEGORY_COLUMN,Admin.UNIFIED_APPS_TABLE_VIEW_SIZE_COLUMN,Admin.UNIFIED_APPS_TABLE_VIEW_ASSIGNED_TO_COLUMN],Admin.UNIFIED_APPS_ALL_CATEGORIES_FILTER_MENU_ITEM=SC.Object.create({title:"_application_filter_category_All Categories".loc(),value:"all"}),Admin.VppContentBaseFilterManager=SC.Object.extend({contentLength:0,vppContentRecordArrayMembershipObserver:function(){var e=Admin.AllUnifiedAppsController.get("length");this.set("contentLength",e)}.observes("Admin.AllUnifiedAppsController.[]"),contentBinding:"Admin.AllUnifiedAppsController.arrangedObjects",hasContent:function(){return this.get("contentLength"
)>0}.property("contentLength"),unifiedAppsTableViewColumns:function(){var e=this.get("content")||[],t=e.findProperty("licenseType","appstore");return t?Admin.UNIFIED_APPS_TABLE_VIEW_ALL_COLUMNS:Admin.UNIFIED_APPS_TABLE_VIEW_ENTEPRISE_COLUMNS}.property("contentLength"),licenseFilterValue:"all",kindFilterValue:"all_kinds",searchString:"",restrictSearchWithinContentIds:null,excludeContentIdsFromSearchResults:null,excludeEnterpriseOSXApps:YES,categoryFilterValue:"all",categoryFilterTitle:"_application_filter_category_All Categories".loc(),categoryFilterMenu:function(){var e=this.get("content")||[],t=e.mapProperty("category"),n=t.uniq(),r,i=this,s=[SC.Object.create({title:"_application_filter_category_All Categories".loc(),type:"all"})];return n.forEach(function(e){s.push(SC.Object.create({title:e,type:e}))}),r=SC.MenuPane.create({layout:{width:200},items:s}),r.addObserver("selectedItem",i,"categoryItemSelected"),r}.property("contentLength").cacheable(),categoryItemSelected:function(e){var t=e.get("selectedItem");this.set("categoryFilterValue",t.get("type")),this.set("categoryFilterTitle",t.get("title"))},_buildKindQueryString:function(e){var t="";switch(e){case"mac":t="supportsMac=YES";break;case"ios":t="supportsMac=NO";break;default:}return t},vppContentFilteredSearchResultsLength:function(){return this.get("vppContentFilteredSearchResults").get("length")}.property("vppContentFilteredSearchResults"),vppContentFilteredSearchResultsSizeInKB:function(){return this.get("vppContentFilteredSearchResults").reduce(function(e,t){return e+t.get("sizeInKB")},0)}.property("vppContentFilteredSearchResults"
),contentRecordType:"UnifiedApplication",vppContentFilteredSearchResults:function(){if(this.get("contentLength")<1)return[];var e=this.get("licenseFilterValue"),t=this.get("categoryFilterValue"),n=this.get("kindFilterValue"),r=this.get("searchString"),i=[],s,o,u,a={},f=SC.Query.create({recordType:Admin[this.get("contentRecordType")]});r&&(s="((name MATCHES {searchString}) OR (category MATCHES {searchString}) OR (licenseDisplayName MATCHES {searchString}))",r=r.replace(/\\/g,""),a.searchString=new RegExp(r,"i"),i.push(s)),e!=="all"&&(o="licenseType={licenseFilterValue}",a.licenseFilterValue=e,i.push(o)),t!=="all"&&(u="category={categoryFilterValue}",a.categoryFilterValue=t,i.push(u)),n!=="all_kinds"&&i.push(this._buildKindQueryString(n)),this.get("restrictSearchWithinContentIds")&&(i.push("{restrictedAppIds} CONTAINS id"),a.restrictedAppIds=this.get("restrictSearchWithinContentIds")),this.get("excludeContentIdsFromSearchResults")&&(i.push("NOT {excludedAppIds} CONTAINS id"),a.excludedAppIds=this.get("excludeContentIdsFromSearchResults")),this.get("excludeEnterpriseOSXApps")&&i.push("NOT (licenseType='enterprise' AND supportsMac=YES)"),f.set("conditions",i.join(" AND ")),f.set("parameters",a);var l=Admin.store.find(f);return l}.property("contentLength","licenseFilterValue","categoryFilterValue","searchString","kindFilterValue","restrictSearchWithinContentIds","excludeContentIdsFromSearchResults","excludeEnterpriseOSXApps")}),Admin.UnifiedAppsContentFilterManager=Admin.VppContentBaseFilterManager.create({excludeEnterpriseOSXApps:NO}),Admin.UnifiedAppsContentTableViewColumnsController=
SC.ArrayController.create({contentBinding:"Admin.UnifiedAppsContentFilterManager.unifiedAppsTableViewColumns",selectNameColumn:function(){this.selectObject(this.getPath("content.firstObject"))}.observes("content")}),Admin.UnifiedAppsContentTableViewController=Admin.vppContentBaseTableViewController.create({useRoundedCornersForIcon:YES,showEditIconForB2BName:YES,contentBinding:SC.Binding.oneWay("Admin.UnifiedAppsContentFilterManager.vppContentFilteredSearchResults"),isSelectionEnterprise:function(){var e=this.get("selection");return e.length()>0&&e.everyProperty("licenseType","enterprise")}.property("selection")}),Admin.UnifiedAppsAssignmentFilterManager=Admin.VppContentBaseFilterManager.create({unifiedAppsAssignmentTableViewColumns:[SC.Object.create(SCTable.Column,{name:"",valueKey:"selectionCheckbox",width:.05,canResize:NO}),SC.Object.create(SCTable.Column,{name:"_table_header_Name".loc(),valueKey:"name",width:.3,canResize:NO}),SC.Object.create(SCTable.Column,{name:"_table_header_Category".loc(),valueKey:"category",width:.2,canResize:NO}),SC.Object.create(SCTable.Column,{name:"_table_header_Size".loc(),valueKey:"sizeInKB",width:.15,canResize:NO}),SC.Object.create(SCTable.Column,{name:"_table_header_Available".loc(),valueKey:"availableLicensesDisplayValue",width:.15,canResize:NO}),SC.Object.create(SCTable.Column,{name:"_table_header_Kind".loc(),valueKey:"supportedDevices",width:.15,canResize:NO})],itemSelectionObserver:function(){var e=Admin.itemSelectionController.getPath("content.firstObject"),t="enterprise",n="all_kinds";if(!e||!e.get("isLibraryItem"))return;if(e.get("isUserGroup"
)&&e.get("isVppContentAssignable")||e.get("isUser"))t="all";this.set("licenseFilterValue",t),e.get("isDevice")&&(n=e.get("isMac")?"mac":"ios"),this.set("kindFilterValue",n),this.set("excludeContentIdsFromSearchResults",e.get("assignedApplications"))}.observes("Admin.itemSelectionController.content")}),Admin.UnifiedAppsAssignmentTableViewColumnsController=SC.ArrayController.create({contentBinding:SC.Binding.oneWay("Admin.UnifiedAppsAssignmentFilterManager.unifiedAppsAssignmentTableViewColumns"),selectNameColumn:function(){this.selectObject(this.getPath("content.firstObject"))}.observes("content")}),Admin.appsPickerTableViewController=Admin.vppContentBaseTableViewController.create({contentBinding:SC.Binding.oneWay("Admin.UnifiedAppsAssignmentFilterManager.vppContentFilteredSearchResults"),showAppDetailIcon:NO,allowsSelection:NO,useRoundedCornersForIcon:YES}),Admin.UnifiedAppsForItemSelectionFilterManager=Admin.VppContentBaseFilterManager.create({assignedAppsTableViewColumns:[SC.Object.create(SCTable.Column,{name:"_table_header_Name".loc(),valueKey:"name",width:.25,canResize:NO}),SC.Object.create(SCTable.Column,{name:"_table_header_Category".loc(),valueKey:"category",width:.225,canResize:NO}),SC.Object.create(SCTable.Column,{name:"_table_header_Size".loc(),valueKey:"sizeInKB",width:.15,canResize:NO}),SC.Object.create(SCTable.Column,{name:"_table_header_Assigned To".loc(),valueKey:"assigned_to",width:.225,canResize:NO}),SC.Object.create(SCTable.Column,{name:"_table_header_Kind".loc(),valueKey:"supportedDevices",width:.15,canResize:NO})],assignedToItems:null,assignedApplicationsBinding
:SC.Binding.oneWay("Admin.itemSelectionFromNestedStoreController.assignedApplications"),itemSelectionIdBinding:"Admin.itemSelectionController.id",assignedApplicationsObserver:function(){var e=Admin.itemSelectionController.getPath("content.firstObject"),t,n;if(!e||!e.get("isLibraryItem"))return;n=e.get("appAssignmentData")||[],t=SC.clone(Admin.itemSelectionFromNestedStoreController.get("assignedApplications"))||[],n.forEach(function(e){e.assigned.length>0&&t.push(e.app_id)}),this.set("restrictSearchWithinContentIds",t)}.observes("assignedApplications","itemSelectionId")}),Admin.AssignedItemsForItemSelectionController=SC.ArrayController.create({contentBinding:"Admin.UnifiedAppsForItemSelectionFilterManager.assignedToItems",allowsSelection:NO}),Admin.UnifiedAppsForItemSelectionTableViewColumnsController=SC.ArrayController.create({contentBinding:SC.Binding.oneWay("Admin.UnifiedAppsForItemSelectionFilterManager.assignedAppsTableViewColumns"),selectNameColumn:function(){this.selectObject(this.getPath("content.firstObject"))}.observes("content")}),Admin.AssignedAppsTableViewController=Admin.vppContentBaseTableViewController.create({contentBinding:SC.Binding.oneWay("Admin.UnifiedAppsForItemSelectionFilterManager.vppContentFilteredSearchResults"),showAppDetailIcon:YES,showAppSelectionCheckBox:NO,useRoundedCornersForIcon:YES,handleAssignedToClick:function(e,t,n){var r=Admin.appsPage.get("assignedToPopupPane"),i=Admin.itemSelectionFromNestedStoreController.getAssignedToItemsForUnifiedApp(t.get("content").get("id"));Admin.UnifiedAppsForItemSelectionFilterManager.set("assignedToItems",i)
,r.popup(n.target,SC.PICKER_POINTER,[3,0,1,2,3])}}),Admin.UnifiedBooksForItemSelectionFilterManager=Admin.VppContentBaseFilterManager.create({vppContentRecordArrayMembershipObserver:function(){var e=Admin.AllUnifiedBooksController.get("length");this.set("contentLength",e)}.observes("Admin.AllUnifiedBooksController.[]"),contentBinding:"Admin.AllUnifiedBooksController.arrangedObjects",contentRecordType:"UnifiedBook",assignedBooksTableViewColumns:function(e,t){var n=Admin.ASSIGNED_BOOKS_TABLE_VIEW_COLUMNS,r={name:.3,category:.3,sizeInKB:.2,assigned_to:.2},i=[];return n.forEach(function(e){var t=SC.clone(e);t.set("width",r[t.valueKey]),i.push(t)}),i}.property(),assignedToItems:null,assignedBooksBinding:SC.Binding.oneWay("Admin.itemSelectionFromNestedStoreController.assignedBooks"),itemSelectionIdBinding:"Admin.itemSelectionController.id",assignedBooksObserver:function(){var e=Admin.itemSelectionController.getPath("content.firstObject"),t,n;if(!e||!e.get("isLibraryItem"))return;n=e.get("bookAssignmentData")||[],t=SC.clone(Admin.itemSelectionFromNestedStoreController.get("assignedBooks"))||[],n.forEach(function(e,n){(e.assigned.length>0||e.consumed)&&t.push(e.book_id)}),this.set("restrictSearchWithinContentIds",t)}.observes("assignedBooks","itemSelectionId")}),Admin.AssignedItemsForUnifiedBooksItemSelectionController=SC.ArrayController.create({contentBinding:"Admin.UnifiedBooksForItemSelectionFilterManager.assignedToItems",allowsSelection:NO}),Admin.UnifiedBooksForItemSelectionTableViewColumnsController=SC.ArrayController.create({contentBinding:SC.Binding.oneWay("Admin.UnifiedBooksForItemSelectionFilterManager.assignedBooksTableViewColumns"
)}),Admin.AssignedBooksTableViewController=Admin.vppContentBaseTableViewController.create({contentBinding:SC.Binding.oneWay("Admin.UnifiedBooksForItemSelectionFilterManager.vppContentFilteredSearchResults"),showAppDetailIcon:YES,showAppSelectionCheckBox:NO,_renderAssignedToHelper:function(e,t,n,r,i,s){var o=Admin.itemSelectionFromNestedStoreController.getAssignedToItemsForUnifiedBook(n.get("id"));return this._renderAssignedTo(e,t,n,r,i,s,o)},handleAssignedToClick:function(e,t,n){var r=Admin.booksPage.get("assignedToPopupPane"),i=Admin.itemSelectionController.getAssignedToItemsForUnifiedBook(t.get("content").get("id"));Admin.UnifiedBooksForItemSelectionFilterManager.set("assignedToItems",i),r.popup(n.target,SC.PICKER_POINTER,[3,0,1,2,3])}}),Admin.UnifiedBooksContentFilterManager=Admin.VppContentBaseFilterManager.create({vppContentRecordArrayMembershipObserver:function(){var e=Admin.AllUnifiedBooksController.get("length");this.set("contentLength",e)}.observes("Admin.AllUnifiedBooksController.[]"),contentBinding:"Admin.AllUnifiedBooksController.arrangedObjects",contentRecordType:"UnifiedBook",unifiedBooksTableViewColumns:function(){var e=this.get("content")||[],t=e.findProperty("licenseType","appstore"),n=t?Admin.UNIFIED_BOOKS_TABLE_VIEW_ALL_COLUMNS:Admin.UNIFIED_BOOKS_TABLE_VIEW_ENTEPRISE_COLUMNS,r={name:.3,category:.25,sizeInKB:.15,purchasedLicenses:.15,availableLicensesDisplayValue:.15},i=[];return n.forEach(function(e){var t=SC.clone(e);t.set("width",r[t.valueKey]),i.push(t)}),i}.property("contentLength")}),Admin.UnifiedBooksContentTableViewColumnsController=SC.ArrayController
.create({contentBinding:SC.Binding.oneWay("Admin.UnifiedBooksContentFilterManager.unifiedBooksTableViewColumns"),selectNameColumn:function(){this.selectObject(this.getPath("content.firstObject"))}.observes("content")}),Admin.UnifiedBooksContentTableViewController=Admin.vppContentBaseTableViewController.create({contentBinding:SC.Binding.oneWay("Admin.UnifiedBooksContentFilterManager.vppContentFilteredSearchResults"),isSelectionEnterprise:function(){var e=this.get("selection");return e.length()>0&&e.everyProperty("licenseType","enterprise")}.property("selection")}),Admin.UnifiedBooksAssignmentFilterManager=Admin.VppContentBaseFilterManager.create({vppContentRecordArrayMembershipObserver:function(){var e=Admin.AllUnifiedBooksController.get("length");this.set("contentLength",e)}.observes("Admin.AllUnifiedBooksController.[]"),contentBinding:"Admin.AllUnifiedBooksController.arrangedObjects",contentRecordType:"UnifiedBook",unifiedBooksAssignmentTableViewColumns:[SC.Object.create(SCTable.Column,{name:"",valueKey:"selectionCheckbox",width:.05,canResize:NO}),SC.Object.create(SCTable.Column,{name:"_table_header_Name".loc(),valueKey:"name",width:.3,canResize:NO}),SC.Object.create(SCTable.Column,{name:"_table_header_Category".loc(),valueKey:"category",width:.25,canResize:NO}),SC.Object.create(SCTable.Column,{name:"_table_header_Size".loc(),valueKey:"sizeInKB",width:.2,canResize:NO}),SC.Object.create(SCTable.Column,{name:"_table_header_Available".loc(),valueKey:"availableLicensesDisplayValue",width:.2,canResize:NO})],itemSelectionObserver:function(){var e=Admin.itemSelectionController.getPath
("content.firstObject"),t="enterprise",n="all_kinds";if(!e||!e.get("isLibraryItem"))return;if(e.get("isUserGroup")&&e.get("isVppContentAssignable")||e.get("isUser"))t="all";this.set("licenseFilterValue",t),e.get("isDevice")&&(n=e.get("isMac")?"mac":"ios"),this.set("kindFilterValue",n),this.set("excludeContentIdsFromSearchResults",e.get("assignedBooks"))}.observes("Admin.itemSelectionController.content")}),Admin.UnifiedBooksAssignmentTableViewColumnsController=SC.ArrayController.create({contentBinding:SC.Binding.oneWay("Admin.UnifiedBooksAssignmentFilterManager.unifiedBooksAssignmentTableViewColumns")}),Admin.UnifiedBooksPickerTableViewController=Admin.vppContentBaseTableViewController.create({contentBinding:SC.Binding.oneWay("Admin.UnifiedBooksAssignmentFilterManager.vppContentFilteredSearchResults"),showAppDetailIcon:NO,allowsSelection:NO}),Admin.DevicesContentFilterManager=SC.Object.create({selectedStatus:"all",selectedModel:"all",selectedKind:"all",selectedSize:"all",searchString:"",modelFilterTitle:"_devices_filter_model_All Models".loc(),modelFilterMenu:function(e,t){var n=this,r=[SC.Object.create({title:"_devices_filter_model_All Models".loc(),type:"all"}),SC.Object.create({title:"CCQHA".loc(),type:"few"})];return menu=SC.MenuPane.create({layout:{width:200},items:r}),menu.addObserver("selectedItem",n,"modelItemSelected"),menu}.property("allDevices").cacheable(),modelItemSelected:function(e,t,n,r){var i=e.get("selectedItem");this.set("selectedModel",i.get("type")),this.set("modelFilterTitle",i.get("title"))},allDevicesBinding:"Admin.itemSelectionController.devices",filteredDevices
:function(e,t){return this.get("allDevices")}.property("allDevices","selectedStatus","selectedModel","selectedKinds","selectedSize","searchString")}),Admin.REMOTE_SEARCH_DELAY=0,Admin.FilterController=SC.Object.extend({allItemsBinding:"",searchString:"",searchContentType:null,searchContentModel:null,serverAction:null,getQueryCacheKey:function(e){return e+": "+this.get("serverAction")+": "+this.get("searchString")},currentSearchQuery:null,isWaitingForSearch:NO,searchStringOrAllItemsDidChange:function(){if(!this.get("searchString")){this.set("results",this.get("allItems")),Admin.store.dataSource.removeActiveQuery(this.currentActiveQueryRecordArray),this.currentActiveQueryRecordArray=null;return}var e;if(this.get("searchContentType")&&Admin.allSystemItemsPickerController.getPath("content.query.isLocal")){e=Admin.store.find(SC.Query.local(this.get("searchContentModel"),{conditions:"nameToLowerCase CONTAINS {searchStringToLowerCase}",searchStringToLowerCase:this.get("searchString").toLowerCase()})),this.set("results",e);return}var t=this.get("searchContentModel")||this.get("searchContentType")||Admin.sidebarSelectionController.get("contentType");if(!t)return;var n=Admin.store.dataSource.stringToModel(t),r=this.get("serverAction"),i=this.getQueryCacheKey(t),s=this.get("searchString"),o=null;if(!this.remoteQueryCache[i]){var u={search_string:s,refresh_cache:YES},a=t;this.set("isWaitingForSearch",YES),i=this.getQueryCacheKey(t),t==="tasks_active"?(u.completed=NO,a="library_item_task"):t==="tasks_complete"&&(u.completed=YES,a="library_item_task"),this.remoteQueryCache[i]=Admin.store.
find(SC.Query.remote(n,{rpcs:[[a,r,u]],blocksUnload:NO,isEditable:YES})),this.remoteQueryCache[i].addObserver("status",this,"remoteRecordArrayDidChange")}else{var f=this.remoteQueryCache[i];f.refresh(),this.set("results",f)}this.setupActiveQueryUpdate(t),s!==""&&(o=Admin.store.find(SC.Query.remote(Admin.OdSearch,{rpcs:[["od_search","pending_admin_search",{search_string:s,model:t}]],blocksUnload:NO})),o.addObserver("status",this,"currentSearchQueryStatusDidChange")),this.set("currentSearchQuery",o)}.observes("searchString","allItems"),setupActiveQueryUpdate:function(e){var t=this.get("searchString");if(t!==""){var n=this.get("serverAction"),r=this.remoteQueryCache[this.getQueryCacheKey(e)],i=Admin.sidebarContentTypeToParamsMap[e];i&&(Admin.store.dataSource.addActiveQuery(r,{model:i.model,method:n,search_string:t}),this.currentActiveQueryRecordArray&&Admin.store.dataSource.removeActiveQuery(this.currentActiveQueryRecordArray),this.currentActiveQueryRecordArray=r)}else this.currentActiveQueryRecordArray&&(Admin.store.dataSource.removeActiveQuery(this.currentActiveQueryRecordArray),this.currentActiveQueryRecordArray=null)},currentSearchQueryStatusDidChange:function(e){var t=e.get("status")&SC.Record.READY,n=e.get("length")>0;e===this.get("currentSearchQuery")&&t&&(e.removeObserver("status",this,"currentSearchQueryStatusDidChange"),n?(e.invokeLater("refresh",1e3),e.addObserver("status",this,"currentSearchQueryStatusDidChange")):(Admin.periodicGetUpdated(),this.set("isWaitingForSearch",NO),this.set("currentSearchQuery",null)))},remoteRecordArrayDidChange:function(e){e.removeObserver
("status",this,"remoteRecordArrayDidChange");var t=this.get("searchContentModel")||this.get("searchContentType")||Admin.sidebarSelectionController.get("contentType"),n=this.remoteQueryCache[this.getQueryCacheKey(t)];n===e&&this.set("results",e)},results:null,resultsDidChange:function(){var e=this;this.invokeLater(function(){var t=e.getPath("results.firstObject");if(!t)return;var n=Admin.store.dataSource.modelToString(t.constructor),r=Admin.itemSelectionController,i=r&&r.get("type"),s=["user","user_group","device","device_group","task","completed_task"];if(s.contains(i)&&i===n){var o=r.getPath("content.firstObject");o||(o=e.getPath("results.firstObject")),o&&Admin.sendAction("changeRoute",null,[o])}},100)}.observes("results"),remoteQueryCache:{},localQueryCache:{}}),Admin.DirectoryItemPickerManager=SC.Object.create({allUserGroups:Admin.store.find(SC.Query.remote(Admin.UserGroup,{rpcs:[["user_group","find_all_vpp_enabled"]],blocksUnload:NO})),allUsers:Admin.store.find(SC.Query.remote(Admin.User,{rpcs:[["user","find_all"]],blocksUnload:NO}))}),Admin.FilteredVppUserGroupsController=Admin.FilterController.create({serverAction:"find_matching_vpp_enabled",searchContentModel:"user_group",allItemsBinding:"Admin.DirectoryItemPickerManager.allUserGroups"}),Admin.FilteredUsersController=Admin.FilterController.create({serverAction:"find_matching_detailed",searchContentModel:"user",allItemsBinding:"Admin.DirectoryItemPickerManager.allUsers"}),Admin.DirectoryItemPickerTableViewController=SC.ArrayController.extend(SCTable.TableDelegate,{content:[],allowsSelection:NO,selectedDirectoryItems:SC
.Set.create(),_renderCheckbox:function(e,t,n,r,i,s,o){var u=this.get("selectedDirectoryItems"),a=u.contains(n),f=a?'checked="checked"':"",l='<div class="small-text"><input type="checkbox" class="admin-select-directory-item-checkbox" %@></div>'.fmt(f,name);return t.push(l)},renderTableCellContent:function(e,t,n,r,i,s){return i.get("valueKey")==="checkbox"?this._renderCheckbox(e,t,n,r,i,s):t.push('<div class="small-text">%@</div>'.fmt(SC.RenderContext.escapeHTML(String(n?n.get(i.get("valueKey")):null))))},_toggleDirectoryItemSelection:function(e,t){var n=this.get("selectedDirectoryItems");t?n.removeObject(e):n.pushObject(e)},mouseDownOnTableRow:function(e,t,n){var r=n.target.className;r&&(r=r.split(" "),r.contains("admin-select-directory-item-checkbox")&&(this._toggleDirectoryItemSelection(t.getPath("content"),n.target.checked),t.set("layerNeedsUpdate",YES)))},containsTruncationIndicator:function(){return this.getPath("lastObject.isTruncationIndicator")||NO}.property("content","lastObject","length")}),Admin.UserGroupsPickerTableViewController=Admin.DirectoryItemPickerTableViewController.create({contentBinding:SC.Binding.oneWay("Admin.FilteredVppUserGroupsController.results")}),Admin.UsersPickerTableViewController=Admin.DirectoryItemPickerTableViewController.create({contentBinding:SC.Binding.oneWay("Admin.FilteredUsersController.results")}),Admin.allItemsController=SC.ArrayController.create({contentBinding:"Admin.sidebarSelectionController.itemArray"}),Admin.filteredItemsController=Admin.FilterController.create({serverAction:"find_matching_detailed",allItemsBinding:"Admin.allItemsController.arrangedObjects"
}),Admin.itemListController=SC.ArrayController.create(SC.CollectionViewDelegate,{contentBinding:SC.Binding.oneWay("Admin.filteredItemsController.results"),containsTruncationIndicator:function(){return this.getPath("lastObject.isTruncationIndicator")||NO}.property("content","lastObject","length"),allowsMultipleSelection:NO,allowsEmptySelection:NO,collectionViewShouldSelectIndexes:function(e,t,n){if(this.get("arrangedObjects").objectAt(t.get("firstObject")).get("isTruncationIndicator"))return SC.IndexSet.EMPTY;var r=this.get("arrangedObjects").objectAt(t.get("firstObject"));return Admin.sendAction("changeRoute",this,[r]),Admin.getPath("itemSelectionNestedStore.hasChanges")?SC.IndexSet.EMPTY:t},collectionViewShouldDeleteIndexes:function(e,t){var n=SC.IndexSet.create(),r,i=this;return t.forEach(function(e){r=i.objectAt(e),(r.instanceOf(Admin.Device)||r.instanceOf(Admin.DeviceGroup))&&n.add(e)}),n},collectionViewDeleteContent:function(e,t,n){var r=Admin.sidebarSelectionController.get("contentType"),i=r==="device"?"showDeviceDeleteItemConfirmation":"showDeleteItemConfirmation";return Admin.sendAction(i),YES},collectionViewShouldBeginDrag:function(e){return NO},collectionViewDragDataTypes:function(e){return["users","devices"]},collectionViewDragDataForType:function(e,t,n){if(n!=="users"&&n!=="devices")throw SC.$error("dataType was not users nor devices!");return this.getPath("selection").toArray()}}),Admin.ICON_APPS="admin-icon-apps-16",Admin.ICON_BOOKS="admin-icon-books-16",Admin.ICON_DEVICE="admin-icon-device-16",Admin.ICON_DEVICE_GROUP="admin-icon-device-group-16",Admin.ICON_LOCATION="admin-icon-location-16"
,Admin.ICON_USER_SMALL="admin-icon-user-16",Admin.ICON_USER_MEDIUM="admin-icon-user-32",Admin.ICON_USER_LARGE="admin-icon-user-64",Admin.ICON_APPLICATIONS_SMALL="admin-icon-applications-16",Admin.ICON_APPLICATIONS_LARGE="admin-icon-applications-64",Admin.ICON_PROFILE_MANAGED_SMALL="admin-icon-profile-purple-16",Admin.ICON_PROFILE_MANAGED_LARGE="admin-icon-profile-purple-64",Admin.ICON_PROFILE_SMALL="admin-icon-profile-16",Admin.ICON_PROFILE_LARGE="admin-icon-profile-64",Admin.ICON_PROVISIONING_PROFILE_SMALL="admin-provisioning-profile-16",Admin.ICON_PROVISIONING_PROFILE_LARGE="admin-provisioning-profile-64",Admin.ICON_USERGROUP_SMALL="admin-icon-user-group-16",Admin.ICON_USERGROUP_MEDIUM="admin-icon-user-group-32",Admin.ICON_USERGROUP_LARGE="admin-icon-user-group-64",Admin.ICON_TASKS_ACTIVE="admin-icon-activity-active-16",Admin.ICON_TASKS_COMPLETED="admin-icon-activity-completed-16",Admin.SidebarItem=SC.Object.extend({title:"",smallIcon:"",contentType:"",badgeCount:function(){if(this.get("contentType")!=="tasks_active")return;return this.get("itemArrayLength")}.property("contentType","itemArrayLength"),itemArrayLengthBinding:".itemArray.length",itemListVerticalScrollOffset:0,exampleView:SC.ListItemView.design({outlineIndent:6}),itemArray:function(){var e=this.get("contentType"),t;switch(e){case"device":t=Admin.store.find(SC.Query.remote(Admin.Device,{rpcs:[["device","find_all"]],blocksUnload:NO,isEditable:YES}));break;case"device_group":t=Admin.store.find(SC.Query.remote(Admin.DeviceGroup,{rpcs:[["device_group","find_all"]],blocksUnload:NO,isEditable:YES}));break;case"user":
t=Admin.store.find(SC.Query.remote(Admin.User,{rpcs:[["user","find_all"]],blocksUnload:NO,isEditable:YES}));break;case"user_group":t=Admin.store.find(SC.Query.remote(Admin.UserGroup,{rpcs:[["user_group","find_all"]],blocksUnload:NO,isEditable:YES}));break;case"tasks_active":t=Admin.store.find(SC.Query.remote(Admin.LibraryItemTask,{rpcs:[["library_item_task","find_all_active"]],isEditable:YES,blocksUnload:NO}));break;case"tasks_complete":t=Admin.store.find(SC.Query.remote(Admin.CompletedLibraryItemTask,{rpcs:[["completed_library_item_task","find_all_completed"]],blocksUnload:NO}));break;case"apps":t=Admin.store.find(SC.Query.local(Admin.UnifiedApplication,{rpcs:[["unified_application","find_all"]],blocksUnload:NO}));break;case"books":t=Admin.store.find(SC.Query.local(Admin.UnifiedBook,{rpcs:[["unified_book","find_all"]],blocksUnload:NO}));break;case"cloud_location":t=[]}return t?t.set("allowsMultipleSelection",YES):console.warn("No records were created for the itemArray"),t}.property().cacheable()}),Admin.OuterSidebarListItemView=SC.ListItemView.extend({classNames:"admin-sidebar-root-child-item".w(),isAdminSidebarRootChildItem:YES,render:function(e){var t=this.get("content"),n=this.displayDelegate,r,i,s,o=[];o.push(this.get("contentIndex")%2===0?"even":"odd"),e.setClass("disabled",!this.get("isEnabled")),s=e.begin("div").addClass("sc-outline"),r=this.getDelegateProperty("contentValueKey",n),i=r&&t?t.get?t.get(r):t[r]:t,i&&SC.typeOf(i)!==SC.T_STRING&&(i=i.toString()),this.get("escapeHTML")&&(i=SC.RenderContext.escapeHTML(i)),this.renderLabel(s,i),e.addClass(o),e=s.end()}}),Admin
.autoJoinProfilesTreeItem=SC.Object.create(SC.TreeItemContent,{displayNameFromNestedStore:"_auto_join_profiles_tree_item".loc(),exampleView:Admin.OuterSidebarListItemView,treeItemBranchIndexes:function(){return SC.IndexSet.EMPTY},treeItemChildren:function(){return Admin.store.find(SC.Query.remote(Admin.AutoJoinProfile,{rpcs:[["auto_join_profile","find_all"]],blocksUnload:NO,isEditable:YES}))}.property().cacheable(),treeItemIsExpanded:YES}),Admin.appsSidebarItem=Admin.SidebarItem.create({displayNameFromNestedStore:"_generic_string_Apps".loc(),smallIcon:Admin.ICON_APPS,contentType:"apps"}),Admin.booksSidebarItem=Admin.SidebarItem.create({displayNameFromNestedStore:"_generic_string_Books".loc(),smallIcon:Admin.ICON_BOOKS,contentType:"books"}),Admin.deviceSidebarItem=Admin.SidebarItem.create({displayNameFromNestedStore:"_devices_sidebar_item_display_name".loc(),smallIcon:Admin.ICON_DEVICE,contentType:"device"}),Admin.deviceGroupSidebarItem=Admin.SidebarItem.create({displayNameFromNestedStore:"_device_groups_sidebar_item_display_name".loc(),smallIcon:Admin.ICON_DEVICE_GROUP,contentType:"device_group"}),Admin.userSidebarItem=Admin.SidebarItem.create({displayNameFromNestedStore:"_users_sidebar_item_display_name".loc(),smallIcon:Admin.ICON_USER_SMALL,contentType:"user"}),Admin.userGroupSidebarItem=Admin.SidebarItem.create({displayNameFromNestedStore:"_user_groups_sidebar_item_display_name".loc(),smallIcon:Admin.ICON_USERGROUP_SMALL,contentType:"user_group"}),Admin.locationSidebarItem=Admin.SidebarItem.create({displayNameFromNestedStore:"_locations_sidebar_item_display_name".loc(),smallIcon
:Admin.ICON_LOCATION,contentType:"cloud_location"}),Admin.applicationSidebarItem=Admin.SidebarItem.create({displayNameFromNestedStore:"_generic_string_Applications".loc(),smallIcon:Admin.ICON_APPLICATIONS_SMALL,largeIcon:Admin.ICON_APPLICATIONS_LARGE,secondaryInformation:"Secondary information",contentType:"application",itemArray:function(){return[this]}.property().cacheable()}),Admin.sidebarRootLibrary=SC.Object.create({displayNameFromNestedStore:"_sidebar_root_library".loc(),exampleView:Admin.OuterSidebarListItemView,treeItemIsExpanded:YES,treeItemChildren:function(){var e=[];return e.push(Admin.appsSidebarItem),e.push(Admin.booksSidebarItem),this.get("noODMode")||(e.push(Admin.deviceSidebarItem),e.push(Admin.deviceGroupSidebarItem)),e.push(Admin.userSidebarItem),e.push(Admin.userGroupSidebarItem),this.get("hasCloudLocations")&&e.push(Admin.locationSidebarItem),e}.property("noODMode","haveCloudLocations","isVppServiceEnabled"),hasCloudLocations:NO,noODModeBinding:"Admin.noODMode",isVppServiceEnabledBinding:SC.Binding.oneWay("Admin.SettingsController.isVppServiceEnabled")}),Admin.sidebarRootActivity=SC.Object.create({displayNameFromNestedStore:"_sidebar_root_activity".loc(),exampleView:Admin.OuterSidebarListItemView,treeItemIsExpanded:YES,treeItemChildren:[Admin.SidebarItem.create({displayNameFromNestedStore:"_sidebar_active_tasks".loc(),smallIcon:Admin.ICON_TASKS_ACTIVE,contentType:"tasks_active",actualContentType:"library_item_task"}),Admin.SidebarItem.create({displayNameFromNestedStore:"_sidebar_completed_tasks".loc(),smallIcon:Admin.ICON_TASKS_COMPLETED,contentType:"tasks_complete"
,actualContentType:"completed_library_item_task"})]}),Admin.sidebarRoot=SC.Object.create({treeItemChildren:function(){var e=[];return e.push(Admin.sidebarRootLibrary),this.get("noODMode")||e.push(Admin.sidebarRootActivity),this.get("hasAutoJoinProfiles")&&e.push(Admin.autoJoinProfilesTreeItem),e}.property("hasAutoJoinProfiles","noODMode").cacheable(),hasAutoJoinProfilesBinding:"Admin.autoJoinProfilesTreeItem.treeItemChildren.length",noODModeBinding:"Admin.noODMode",treeItemIsExpanded:YES}),Admin.sidebarController=SC.TreeController.create(SC.CollectionViewDelegate,{contentBinding:"Admin.sidebarRoot",allowsMultipleSelection:NO,allowsEmptySelection:NO,collectionViewDeleteContent:function(){return Admin.sendAction("showDeleteItemConfirmation"),YES},treeItemIsGrouped:YES,collectionViewShouldSelectIndexes:function(e,t){return Admin.VppContentDetailController.set("content",null),Admin.filteredItemsController.set("searchString",""),Admin.sendAction("changeRoute",this,[this.get("arrangedObjects").objectAt(t.get("firstObject"))]),Admin.getPath("itemSelectionNestedStore.hasChanges")?SC.IndexSet.EMPTY:t},collectionViewComputeDragOperations:function(){return SC.DRAG_LINK},collectionViewValidateDragOperation:function(e,t,n,r,i){i&SC.DROP_ON||e.set("proposedDropOperation",SC.DROP_ON);if(r>e.getPath("content.length"))return console.warn("proposedInsertionIndex was not less than view's content length"),SC.DRAG_NONE;var s=e.get("content").objectAt(r);return t.hasDataType("profile")&&t.dataForType("profile")==s?SC.DRAG_NONE:s.instanceOf(Admin.Profile)?i&SC.DROP_ON?SC.DRAG_LINK:SC.DRAG_NONE:SC.
DRAG_NONE},collectionViewPerformDragOperation:function(e,t,n,r,i){if(!(i&SC.DROP_ON))return console.warn("pDO was not DROP_ON"),SC.DRAG_NONE;if(!(n&SC.DRAG_LINK))return console.warn("op was not DRAG_LINK"),SC.DRAG_NONE;if(r>e.getPath("content.length"))return console.warn("proposedInsertionIndex was not less than view's content length"),SC.DRAG_NONE;var s=e.get("content").objectAt(r),o;return t.hasDataType("profile")?o=[t.dataForType("profile")]:t.hasDataType("users")?o=t.dataForType("users"):t.hasDataType("user_groups")?o=t.dataForType("user_groups"):t.hasDataType("devices")&&(o=t.dataForType("devices")),Admin.sendAction("actuallyAddMember",this,{addThis:o[0],toThis:s}),SC.DRAG_NONE}}),Admin.profileForEditingController=SC.ObjectController.create({firstObject:function(){return this.get("content")}.property("content").cacheable(),contentDidChange:function(){Admin.itemSelectionController.notifyPropertyChange("content")}.observes("content")}),Admin.activeTask=null,Admin.itemSelectionController=SC.ObjectController.create({itemListSelectionBinding:SC.Binding.oneWay("Admin.itemListController.selection"),sidebarSelectionBinding:SC.Binding.oneWay("Admin.sidebarController.selection"),profileForEditingControllerStatusBinding:"Admin.profileForEditingController.status",profileForEditingControllerStatusBindingDefault:SC.Binding.oneWay(),content:function(e,t){if(t!==undefined)throw SC.$error("This is read-only!");var n=Admin.sidebarController.get("selection");if(Admin.profileForEditingController.get("status"))return Admin.profileForEditingController;if(n.getPath("firstObject.contentType")==="application"
)return n;if(!n.get("firstObject"))return;if(n.get("firstObject").kindOf(SC.Record))return n;var r=Admin.itemListController.getPath("selection.firstObject");return r&&Admin.store.dataSource.modelToString(r.constructor)===(n.getPath("firstObject.actualContentType")||n.getPath("firstObject.contentType"))?Admin.itemListController.get("selection"):null}.property("profileForEditingControllerStatus","itemListSelection","sidebarSelection").cacheable(),canEdit:function(){var e=this.getPath("content.firstObject")&&this.getPath("content.firstObject");return e?e.instanceOf(Admin.Profile)?YES:e.instanceOf(Admin.AutoJoinProfile)?YES:e.instanceOf(Admin.DeviceGroup)?YES:NO:NO}.property("content"),saveButtonWillCauseConfirmation:function(){return this.get("deviceManagementEnabled")&&this.get("hasChanges")}.property("hasChanges","deviceManagementEnabled"),deviceManagementEnabledBinding:SC.Binding.oneWay("Admin.SettingsController.deviceManagementEnabled"),hasChangesBinding:SC.Binding.oneWay("Admin.itemSelectionNestedStore.hasChanges"),updateWindowDocumentTitle:function(){var e=[],t=(SC.routes.get("location")||"").split("/"),n=t[1],r=this.getPath("content.firstObject");if(n){e.push("");var i=n.titleize();n==="auto_join_profile"&&(i="_window_document_title_sidbear_auto_join_profile".loc()),n==="device"&&(i="_devices_sidebar_item_display_name".loc()),n==="device_group"&&(i="_device_groups_sidebar_item_display_name".loc()),n==="user"&&(i="_users_sidebar_item_display_name".loc()),n==="user_group"&&(i="_user_groups_sidebar_item_display_name".loc()),n==="tasks_active"&&(i="_sidebar_active_tasks".loc
());if(n==="tasks_complete"||n==="task")i="_sidebar_completed_tasks".loc();e.push(i)}r&&r.kindOf(SC.Record)&&r.get("id")&&r.get("id")!==-1&&e.push(r.get("displayName")),window.document.title="_appName".loc()+e.join(": ")}.observes(".status","SC.routes.location"),type:function(){var e=this.getPath("content.firstObject");return e?e.get("contentType")==="application"?"application":e.get("contentType")==="book"?"book":e.get("contentType")==="device"&&e.get("isAppleTV")?"apple_tv":Admin.store.dataSource.modelToString(this.getPath("content.firstObject").constructor):"none"}.property("content"),modelName:function(){return this.getPath("content.firstObject")?Admin.store.dataSource.modelToModelName(this.getPath("content.firstObject").constructor):"none"}.property("content"),getUnfullfilledCountForVppContent:function(e){var t=Admin.store.dataSource.modelToString(e.constructor),n=this.get("type"),r,i,s,o=0;if(n==="user")return 1;switch(t){case"unified_application":r=this.get("appAssignmentData"),s="app_id";break;case"unified_book":r=this.get("bookAssignmentData"),s="book_id";break;default:}return r&&(i=r.find(function(t){return t[s]===e.get("id")}),o=i&&i.needed?i.needed:0),o},hasEnoughLicensesForVppContent:function(e){return this.getUnfullfilledCountForVppContent(e)<=e.get("availableLicenses")}}),Admin.itemSelectionFromNestedStoreController=SC.ObjectController.create({itemListSelectionBinding:SC.Binding.oneWay("Admin.itemSelectionController.content"),content:function(e,t){var n=Admin.itemSelectionController.getPath("content.firstObject"),r=null;return n&&(r=Admin.get("itemSelectionNestedStore"
).find(n)),r}.property("itemListSelection"),getAssignedToItemsForUnifiedApp:function(e){var t=this.get("appAssignmentData")||[],n=this.get("assignedApplications"),r=[],i,s,o=this,u=Admin.UserGroup;n&&n.contains(e)&&r.push(o),i=t.find(function(t){return t.app_id===e}),s=i?i.assigned:[];if(this.get("isDevice")||this.get("isDeviceGroup"))u=Admin.DeviceGroup;return s.forEach(function(e){r.push(Admin.store.find(u,e))}),r},getAssignedToItemsForUnifiedBook:function(e){var t=this.get("bookAssignmentData")||[],n=this.get("assignedBooks"),r=[],i,s,o=this,u=Admin.UserGroup;n&&n.contains(e)&&r.push(o),i=t.find(function(t){return t.book_id===e}),s=i?i.assigned:[];if(this.get("isDevice")||this.get("isDeviceGroup"))u=Admin.DeviceGroup;return s.forEach(function(e){r.push(Admin.store.find(u,e))}),r.length===0&&r.push(SC.Object.create({name:"_generic_string_--".loc()})),r}}),Admin.AirplayDestinationArrayController=SC.ArrayController.create({content:Admin.store.find(SC.Query.remote(Admin.Device,{rpcs:[["device","find_all_apple_tvs"]],blocksUnload:NO})),availableAirplayDestinations:function(){var e=this.get("content");if(this.get("destinationsToExcludeLength")>0){var t=Admin.AirplayContentTableViewController.get("content").mapProperty("id");e=e.filter(function(e){return!t.contains(e.get("id"))})}return e}.property("content","destinationsToExcludeLength").cacheable(),destinationsToExcludeLengthBinding:"Admin.AirplayContentTableViewController.length"}),Admin.AirplayKnobSetController=SC.ObjectController.create({contentObserver:function(e,t){this.set("content",Admin.actualProfileSettingController.get
("firstObject"))}.observes("knobSetsForEditLength"),knobSetsForEditLengthBinding:"Admin.actualProfileSettingController.length"}),Admin.AirplayContentTableViewController=SC.ArrayController.create(SCTable.TableDelegate,{showAppDetailIcon:YES,showAppSelectionCheckBox:NO,allowsMultipleSelection:NO,allowsEmptySelection:YES,contentBinding:"Admin.AirplayKnobSetController.devices",_renderIconAndName:function(e,t,n){var r=SC.RenderContext.escapeHTML(n.get("displayName")),i=n.get("mediumIcon"),s='<div class="medium-text"><img src="data:image/gif;base64,R0lGODlhAQABAJAAAP///wAAACH5BAUQAAAALAAAAAABAAEAAAICBAEAOw==" width="16" height="16" style="vertical-align:middle;border:0px;" class="%@"><span style="margin-left:10px;display:inline-block;">%@</span></div>'.fmt(i,r);return t.push(s)},_renderSelectionCheckbox:function(e,t){var n=Admin.actualProfileSettingController.get("firstObject"),r=t.get("airplayPassword"),i;if(r&&n){var s=n.get("includedPasswordDeviceIDs").contains(t.get("id"));i=s?'checked="checked"':""}else i="disabled";var o='<div class="medium-text" style="left:30px;vertical-align:middle;"><input type="checkbox" class="admin-include-password-checkbox" %@></div>'.fmt(i);return e.push(o)},renderTableCellContent:function(e,t,n,r,i,s){return i.get("valueKey")==="name"?this._renderIconAndName(e,t,n,r,i,s):i.get("valueKey")==="selectionCheckbox"?this._renderSelectionCheckbox(t,n):t.push('<div class="medium-text">%@</div>'.fmt(SC.RenderContext.escapeHTML(String(n?n.get(i.get("valueKey")):null))))},mouseDownOnTableRow:function(e,t,n){var r=n.target.className;if(r){r=r.split(" ");if(r.contains
("admin-include-password-checkbox")){var i=Admin.actualProfileSettingController.get("firstObject");i.toggleIncludePasswordForTV(t.get("content")),t.set("layerNeedsUpdate",YES)}}}}),Admin.KnobSetGroupView=SC.ListItemView.extend({classNames:"admin-knob-set-group-view".w(),layout:{left:0,right:0,height:32},render:function(e,t){arguments.callee.base.apply(this,arguments),this.renderChildViews(e,YES)}}),Admin.actualProfileSettingController=SC.ArrayController.create({contentBinding:"Admin.settingTypesSelectionController.settingInstances"}),Admin.profileSettingController=SC.ArrayController.create(SC.CollectionRowDelegate,{contentBinding:"Admin.actualProfileSettingController.arrangedObjects"}),Admin.AirPrintKnobsetController=SC.ObjectController.create({contentObserver:function(e,t){this.set("content",Admin.actualProfileSettingController.get("firstObject"))}.observes("knobSetsForEditLength"),knobSetsForEditLengthBinding:"Admin.actualProfileSettingController.length"}),Admin.AirPrintKnobSetTableViewController=SC.ArrayController.create(SCTable.TableDelegate,{contentBinding:"Admin.AirPrintKnobsetController.airPrint",renderTableCellContent:function(e,t,n,r,i,s){var o=n.get?n.get(i.get("valueKey")):n[i.get("valueKey")];return t.push('<div class="medium-text">%@</div>'.fmt(SC.RenderContext.escapeHTML(String(o?o:""))))}}),Admin.InterfaceMCCAndMNCTableViewController=SC.ArrayController.extend(SCTable.TableDelegate,{allowsMultipleSelection:NO,allowsEmptySelection:YES,renderTableCellContent:function(e,t,n,r,i,s){var o=n.get?n.get(i.get("valueKey")):n[i.get("valueKey")];return t.push('<div class="small-text" >%@</div>'
.fmt(SC.RenderContext.escapeHTML(String(o?o:""))))}}),Admin.macRestrictionsPreferencePanesController=SC.ArrayController.create(SC.CollectionRowDelegate,{contentObserver:function(){var e=Admin.actualProfileSettingController.get("firstObject"),t=e?e.get("preferencePanesContent"):null;this.set("content",t)}.observes("knobSetsForEditLength"),knobSetsForEditLengthBinding:SC.Binding.oneWay("Admin.actualProfileSettingController.length")}),Admin.WebContentFilterController=SC.ObjectController.create({contentObserver:function(e,t){this.set("content",Admin.actualProfileSettingController.get("firstObject"))}.observes("knobSetsForEditLength"),knobSetsForEditLengthBinding:"Admin.actualProfileSettingController.length"}),Admin.WebContentFilterBookmarksTableViewController=SC.ArrayController.create(SCTable.TableDelegate,{showAppDetailIcon:YES,showAppSelectionCheckBox:NO,allowsMultipleSelection:NO,allowsEmptySelection:YES,contentBinding:"Admin.WebContentFilterController.whitelistedBookmarks",renderTableCellContent:function(e,t,n,r,i,s){var o=n.get?n.get(i.get("valueKey")):n[i.get("valueKey")];return t.push('<div class="medium-text">%@</div>'.fmt(SC.RenderContext.escapeHTML(String(o?o:""))))}}),Admin.membersController=SC.ArrayController.create(SC.CollectionViewDelegate,{contentBinding:SC.Binding.oneWay("Admin.itemSelectionController.membersFromNestedStore"),lengthBinding:"Admin.itemSelectionController.membersFromNestedStoreLength",allowsMultipleSelection:NO,collectionViewDeleteContent:function(e,t,n){var r=n.map(function(e){return t.objectAt(e)});return Admin.sendAction("actuallyRemoveMembers",
this,{removeThese:r,fromThis:Admin.itemSelectionController.getPath("content.firstObject")}),YES}}),Admin.loginMembersController=SC.ArrayController.create(SC.CollectionViewDelegate,{content:null,bindingStored:null,allMembersContentTypeBinding:"Admin.allMembersPickerController.searchContentType",arrayKeyDidChange:function(){var e="Admin.actualProfileSettingController.firstObject",t=this.get("allMembersContentType")||"";if(t){var n=e+"."+t;this.get("bindingStored")&&this.get("bindingStored").disconnect();if(Admin.allMembersPickerController.get("typeIsForLoginWindow")){var r=this.bind("content",SC.Binding.from(n));this.set("bindingStored",r)}}}.observes("allMembersContentType")}),Admin.allMembersPickerController=SC.ArrayController.create({searchContentType:"",recipientName:"Recipients",typeIsForLoginWindow:function(){var e=["loginAllowUser","loginDenyUser","loginAllowUserGroup","loginDenyUserGroup"];return e.indexOf(this.get("searchContentType"))>-1}.property("searchContentType").cacheable(),searchContentModel:function(){var e=this.get("searchContentType");if(!this.get("typeIsForLoginWindow"))return e;switch(e){case"loginAllowUser":case"loginDenyUser":return"user";case"loginAllowUserGroup":case"loginDenyUserGroup":return"user_group";default:return""}}.property("searchContentType").cacheable(),content:function(){var e=this.get("searchContentType");if(SC.none(e)||e==="")return[];switch(e){case"device":return Admin.deviceSidebarItem.get("itemArray");case"device_group":return Admin.deviceGroupSidebarItem.get("itemArray");case"loginAllowUser":case"loginDenyUser":case"user":return Admin
.userSidebarItem.get("itemArray");case"loginAllowUserGroup":case"loginDenyUserGroup":case"user_group":return Admin.userGroupSidebarItem.get("itemArray");default:return[]}}.property("searchContentType").cacheable()}),Admin.membersPickerController=Admin.FilterController.create({searchContentTypeBinding:"Admin.allMembersPickerController.searchContentType",searchContentModelBinding:"Admin.allMembersPickerController.searchContentModel",serverAction:"find_matching",allItemsBinding:"Admin.allMembersPickerController.arrangedObjects"}),Admin.membersPickerControllerResultsFilteringItemSelection=SC.ArrayController.create({contentBinding:"Admin.membersPickerController.results",itemSelectionStoreKeyObserver:function(){this.allPropertiesDidChange()}.observes("Admin.itemSelectionController.storeKey"),membersPickerSearchStringObserver:function(){this.allPropertiesDidChange()}.observes("Admin.membersPickerController.searchString"),length:function(e,t){if(t!==undefined)throw SC.$error("read only");if(!this.get("content")||!this.getPath("content.storeKeys")&&!this.getPath("content.content.storeKeys"))return arguments.callee.base.apply(this,arguments);var n=this.get("actualContentLength");return(this.getPath("content.content.storeKeys")||this.getPath("content.storeKeys")).indexOf(Admin.itemSelectionController.get("storeKey"))>-1&&n--,n}.property("actualContentLength"),actualContentLengthBinding:"*content.length",replace:function(){throw SC.$error("read only")},objectAt:function(e){return!this.get("content")||!this.getPath("content.storeKeys")&&!this.getPath("content.content.storeKeys")?arguments
.callee.base.apply(this,arguments):(this.getPath("content.storeKeys")||this.getPath("content.content.storeKeys")).indexOf(Admin.itemSelectionController.get("storeKey"))===-1?arguments.callee.base.apply(this,arguments):(this.getPath("content.content.storeKeys")&&this.getPath("content.content.storeKeys").indexOf(Admin.itemSelectionController.get("storeKey"))<e+1&&e++,arguments.callee.base.apply(this,arguments))}}),Admin.MembersListItemView=SC.View.extend(SC.Control,{classNames:"members-list-item-view".w(),layout:{height:42},childViews:"box".w(),box:SC.View.design(CW.TouchApproximation,{contentBinding:".owner.content",outlineLevelDidChange:function(){this.adjust("left",Math.max(this.get("outlineLevel"),0)*16)}.observes("outlineLevel"),outlineLevelBinding:".owner.outlineLevel",childViews:"icon label secondaryInfo arrowButton removeButton".w(),isUserGroupValBinding:".owner.content.isUserGroup",isUserGroup:function(e,t){if(t!==undefined)throw SC.$error("isUserGroup is ready only for %@".fmt(this.constructor));return!!this.get("isUserGroupVal")}.property("isUserGroupVal").cacheable(),icon:SC.ImageView.design({layout:{centerY:0,left:10,width:32,height:32},isDecorative:YES,valueBinding:".owner.owner.content.mediumIcon"}),label:SC.LabelView.design({layout:function(e,t){if(t!==undefined)throw SC.$error("layout is ready only for %@".fmt(this.constructor));var n={left:52,right:32,height:20},r=this.get("isUserGroup");return r?n.top=7:n.centerY=2,n}.property("isUserGroup").cacheable(),isUserGroupBinding:".owner.isUserGroup",isDecorative:YES,valueBinding:".owner.owner.content.displayName"})
,secondaryInfo:SC.LabelView.design({classNames:"secondary-info".w(),layout:{top:21,left:52,right:32,height:20,color:"#b5b5b5"},isDecorative:YES,valueBinding:".owner.owner.content.secondaryInformation",isVisibleBinding:".owner.isUserGroup"}),arrowButton:SC.ButtonView.design({measuredLeft:0,displayNameBinding:".owner.owner.content.displayName",displayNameObserver:function(){var e=this;this.invokeLast(function(){var t=e.getPath("owner.owner.content.displayName")||"",n=e.getPath("owner.label"),r=n?n.$()[0]:null,i;r&&(SC.prepareStringMeasurement(r),i=SC.measureString(t,YES).width,e.set("measuredLeft",i*1+55),SC.teardownStringMeasurement())})}.observes("displayName"),layout:function(e,t){if(t!==undefined)throw SC.$error("layout is ready only for %@".fmt(this.constructor));var n={centerY:1,left:this.get("measuredLeft"),width:12,height:13};return this.get("isUserGroup")&&(n.centerY=-5),n}.property("isUserGroup","measuredLeft").cacheable(),isUserGroupBinding:".owner.isUserGroup",title:"",titleMinWidth:0,icon:"members-list-item-view-arrow-button",noStyle:YES,renderStyle:"renderImage",controlStyle:"",themeName:"blank",controlSize:SC.TINY_CONTROL_SIZE,action:function(){Admin.sendAction("changeRoute",this,[this.owner.owner.content])}}),removeButton:SC.ButtonView.design({layout:{centerY:0,right:10,width:16,height:16},isVisibleByItemSelectionType:{profile:YES,profileFromServermgr:null,user:YES,user_group:NO,device:null,device_group:YES,task:null,provisioning_profile:NO,cloud_location:NO},isVisible:function(e,t){if(this.get("isUserGroup"))return NO;var n=this.get("itemSelectionType");if(t!==
undefined)throw SC.$error("read only");return this.isVisibleByItemSelectionType[n]}.property("itemSelectionType","isUserGroup"),itemSelectionTypeBinding:"Admin.itemSelectionController.type",isUserGroupBinding:".owner.owner.content.isUserGroup",themeName:"blank",icon:"admin-task-small-cancel-16",renderStyle:"renderImage",target:"Admin",action:"actuallyRemoveMembersFromMembersPicker"})})}),Admin.TwoLineListItemView=SC.ListItemView.extend({contentKeys:{contentValueKey:"title",contentCheckboxKey:"checkbox",contentIconKey:"icon",contentRightIconKey:"rightIcon",contentUnreadCountKey:"count",contentIsBranchKey:"branch",contentSecondaryValueKey:"secondaryInformation"},classNames:"two-line-list-item-view".w(),layout:{height:52},render:function(e){var t=this.get("content"),n=this.displayDelegate,r,i,s,o=[];s=e.begin("div").addClass("sc-outline"),this.getDelegateProperty("hasContentIcon",n)&&(r=this.getDelegateProperty("contentIconKey",n),i=r&&t?t.get?t.get(r):t[r]:null,this.renderIcon(s,i),o.push("has-icon")),r=this.getDelegateProperty("contentValueKey",n),i=r&&t?t.get?t.get(r):t[r]:t,i&&SC.typeOf(i)!==SC.T_STRING&&(i=i.toString()),this.get("escapeHTML")&&(i=SC.RenderContext.escapeHTML(i)),this.renderLabel(s,i),this.getDelegateProperty("hasContentRightIcon",n)&&(r=this.getDelegateProperty("contentRightIconKey",n),i=r&&t?t.get?t.get(r):t[r]:null,this.renderRightIcon(s,i),o.push("has-right-icon")),this.getDelegateProperty("contentSecondaryValueKey",n)&&(r=this.getDelegateProperty("contentSecondaryValueKey",n),i=r&&t?t.get?t.get(r):t[r]:null,i&&SC.typeOf(i)!==SC.T_STRING&&(i=i.toString()
),this.get("escapeHTML")&&(i=SC.RenderContext.escapeHTML(i)),this.renderSecondaryLabel(s,i),o.push("has-secondary-label"),this.getPath("content.settingInstancesLength")&&o.push("admin-has-payloads-configured")),r=this.getDelegateProperty("contentUnreadCountKey",n),i=r&&t?t.get?t.get(r):t[r]:null;if(!SC.none(i)&&i!==0){this.renderCount(s,i);var u=["zero","one","two","three","four","five"],a=i.toString().length,f=u.length,l=a<f?u[a]:u[f-1];o.push("has-count "+l+"-digit")}e.addClass(o),e=s.end()},renderSecondaryLabel:function(e,t){e.begin("label").addClass("admin-secondary").push(t||"").end()}}),Admin.generateUUID=function(){var e=[],t="0123456789abcdef";for(var n=0;n<32;n++)e[n]=t.substr(Math.floor(Math.random()*16),1);e[12]="4",e[16]=t.substr(e[16]&3|8,1),e.splice(8,0,"-"),e.splice(13,0,"-"),e.splice(18,0,"-"),e.splice(23,0,"-");var r=e.join("");return r},Admin.Record=SC.Record.extend({displayName:function(e,t){if(t!==undefined&&t.toString&&t.toString()){if(!(this.get("status")&SC.Record.READY))throw SC.$error("Tried to set name when the record wasn't ready");this.set("name",t)}return this.get("status")&SC.Record.READY?this.get("name"):"_generic_string_Loading…".loc()}.property("status","name"),createdAt:SC.Record.attr(SC.DateTime,{key:"created_at",isEditable:NO}),createdAtFormattedString:function(){if(this.get("createdAt"))return this.get("createdAt").toTimezone(Admin.TIMEZONE).toFormattedString("_task_updated_at_formatted_string".loc())}.property("createdAt").cacheable(),updatedAt:SC.Record.attr(SC.DateTime,{key:"updated_at",isEditable:NO}),updatedAtFormattedString:function(
e,t){if(this.get("updatedAt"))return this.get("updatedAt").toTimezone(Admin.TIMEZONE).toFormattedString("_task_updated_at_formatted_string".loc())}.property("updatedAt").cacheable(),updatedAtFormattedStringWithSeconds:function(){if(this.get("updatedAt"))return this.get("updatedAt").toTimezone(Admin.TIMEZONE).toFormattedString("_generic_string_%m/%d/%y at %i:%M:%S %p".loc())}.property("updatedAt").cacheable(),canMakeChanges:NO,contentExampleView:Admin.MembersListItemView.design({}),itemListExampleView:Admin.TwoLineListItemView.design({contentSecondaryValueKey:"secondaryInformation"}),isDestroyedDidChange:function(){if(!this.get("isDestroyed"))return;Admin.itemSelectionController.getPath("content.firstObject")===this&&Admin.sendAction("selectedItemWasDestroyed"),Admin.profileForEditingController.getPath("content")==this&&Admin.sendAction("profileForEditingWasDestroyed")}.observes("isDestroyed"),canDelete:function(){var e=this,t=NO;return e||(t=NO),e.instanceOf(Admin.Profile)&&(t=YES),e.instanceOf(Admin.AutoJoinProfile)&&(t=YES),e.instanceOf(Admin.DeviceGroup)&&(t=YES),e.instanceOf(Admin.Device)&&(e.get("isPlaceholderDevice")&&e.get("isDEPDevice")?t=NO:t=YES),t}.property(),contentType:function(){return Admin.store.dataSource.modelToString(this.constructor)}.property().cacheable(),tasksForLibraryItem:function(e,t){if(t!==undefined)throw SC.$error("read only");if(!this.get("id"))throw SC.$error("id was not available!");return["user","user_group","device","device_group"].indexOf(this.get("contentType"))===-1?[]:(Admin.store.dataSource.addRpcs([[this.get("contentType"),"get_library_item_tasks"
,this.get("id")]],NO),Admin.store.find(SC.Query.local("Admin.LibraryItemTask",{orderBy:"updatedAt DESC",conditions:"targetLibraryItem = {targetLibraryItem}",targetLibraryItem:this})))}.property().cacheable(),packUnpackProperty:function(e,t,n){if(n!==undefined&&!(this.get("status")&SC.Record.DESTROYED)){this.get(e)||this.set(e,{});var r=SC.clone(this.get(e));r[t]=n,this.set(e,r),this.recordDidChange(e)}return this.get(e)?this.get(e)[t]:null},lastEditedString:function(){var e=this.get("updatedAt");return e?e.toFormattedString("_generic_string_Last Edited %A, %B %d, %Y".loc()):(console.warn("unknown last edited, returning blank for lastEditedString"),"")}.property("updatedAt"),hasCompleteData:SC.Record.attr(Boolean,{key:"has_complete_data"})}),Admin.KnobSet=Admin.Record.extend({primaryKey:"id",profile:SC.Record.toOne("Admin.Profile",{isMaster:YES,key:"profile"}),profileId:function(){return this.readAttribute("profile")}.property("profile"),payloadUUID:SC.Record.attr(String,{key:"PayloadUUID"}),isFromServermgr:SC.Record.attr(Boolean,{defaultValue:NO,key:"is_from_servermgr"}),isEnabled:SC.Record.attr(Boolean,{defaultValue:YES,key:"PayloadEnabled"}),knobSetHeight:null,isKnobSet:YES,devices:SC.Record.toMany("Admin.Device",{key:"devices"}),validatedProperties:{},validatorForKey:function(e){return this.get("validatedProperties")[e]},updateInvalidProperties:function(e,t){var n=this.get("invalidFields").indexOf(e);t&&n>=0?(this.get("invalidFields").splice(n,1),this.notifyPropertyChange("invalidFields")):!t&&n<0&&(this.get("invalidFields").push(e),this.notifyPropertyChange("invalidFields"
))},propertyIsValid:function(e){return this.get("invalidFields").indexOf(e)<0},invalidFields:function(){return this._invalidFields||(this._invalidFields=[]),this._invalidFields}.property().cacheable(),runFullValidation:function(){var e=this.get("validatedProperties"),t,n,r=0;for(var i in e)e.hasOwnProperty(i)&&(t=e[i],n=t.validate(null,this.get(i)),n||r++,this.updateInvalidProperties(i,n));return r}}),Admin.ValidatorMixin={_getFieldValueForValidation:function(){var e;return SC.kindOf(this,SC.SelectButtonView)?e=this.get("value"):e=this.getFieldValue(),e},initMixin:function(){this.invokeLast(function(){this.updateFieldIsValid()})},willLoseKeyResponderTo:function(e){this._isFocused&&(this._isFocused=NO);var t=this._getFieldValueForValidation(),n=this.get("content"),r=n.validatorForKey(this.get("contentValueKey"));if(r){var i=r.validate(null,t);n.updateInvalidProperties(this.get("contentValueKey"),i),this.set("fieldIsValid",i)}},invalidObserver:function(){var e=this.get("content"),t=this.get("contentValueKey"),n=YES;e&&t&&(n=e.propertyIsValid(t)),this.set("fieldIsValid",n)}.observes(".content.invalidFields"),updateFieldIsValid:function(){var e=this.get("content"),t=this.get("contentValueKey"),n=YES;e&&t&&(n=e.propertyIsValid(t));if(!n){var r=e.validatorForKey(t);if(r){var i=this._getFieldValueForValidation();n=r.validate(null,i)}}this.set("fieldIsValid",n)}},Admin.NumberWithRangeValidator=SC.Object.extend({minimumValue:0,maximumValue:Number.POSITIVE_INFINITY,validate:function(e,t){return SC.none(t)||t===""?YES:!isNaN(t)&&!isNaN(parseInt(t,0))?!(parseInt(t,0)<this.get("minimumValue"
)||parseInt(t,0)>this.get("maximumValue")):NO}}),Admin.RequiredValidator=SC.Object.extend({validate:function(e,t){return!SC.none(t)&&t!==""}}),Admin.RequiredArray=SC.Object.extend({validate:function(e,t){return!SC.none(t)&&t.length!==0}}),Admin.LeadingZeroValidator=SC.Validator.PositiveInteger.extend({fieldValueForObject:function(e){switch(SC.typeOf(e)){case SC.T_NUMBER:e=e.toFixed(0),e=e<10&&this.get("useLeadingZero")?"0"+e.toString():e.toString();break;case SC.T_NULL:case SC.T_UNDEFINED:e=this.get("defaultValue")}return e},maxValue:59,useLeadingZero:YES,validateKeyDown:function(e,t,n){var r=t.$input().val();return r||(r=""),r=r.substr(0,t.getPath("selection.start"))+n+r.substr(t.getPath("selection.end")),n.length===0?!0:r.match(/^[0-9\0]*/)[0]===r?parseInt(r,0)<=this.get("maxValue"):!1}}),Admin.BoldLabelViewAbsolute=SC.LabelView.extend({fontWeight:SC.BOLD_WEIGHT}),Admin.BoldLabelView=SC.LabelView.extend({fontWeight:SC.BOLD_WEIGHT,layout:{height:20},useStaticLayout:YES}),Admin.BoldCheckboxViewAbsolute=SC.CheckboxView.extend({layout:{height:25},classNames:"admin-bold-checkbox-view".w()}),Admin.DescriptionLabelViewAbsolute=SC.LabelView.extend({layout:{height:25},classNames:"admin-description-label-view".w()}),Admin.DescriptionLabelView=SC.LabelView.extend({classNames:"admin-description-label-view".w(),useStaticLayout:YES}),Admin.BoldCheckboxView=SC.CheckboxView.extend({useStaticLayout:YES,layout:{height:25},classNames:"admin-bold-checkbox-view".w(),contentBinding:".owner.content"}),Admin.CheckboxView=SC.CheckboxView.extend({classNames:"admin-regular-checkbox-view".w(),useStaticLayout
:YES,layout:{height:25},contentBinding:".owner.content"}),Admin.ListView=SC.ListView.extend({computeNowShowing:function(e){return this.get("allContentIndexes")}}),Admin.UnScrollableListView=SC.View.extend({useStaticLayout:YES,content:null,selection:null,contentPropertyKeyForValidation:null,fieldIsValid:YES,invalidObserver:function(){var e=this.get("validationTarget"),t=this.get("contentPropertyKeyForValidation"),n=YES;e&&t&&(n=e.propertyIsValid(t)),this.set("fieldIsValid",n)}.observes(".validationTarget.invalidFields"),addAction:"add",addTarget:SC.outlet("."),add:function(){console.error("addTarget: not set")},removeAction:"remove",removeTarget:SC.outlet("."),remove:function(){console.error("removeTarget: not set")},isEditable:NO,canEditContent:NO,exampleView:SC.ListItemView,title:"",description:"",isEnabled:YES,childViews:["titleLabel","descriptionLabel","invalidArrowView","headerView","listView","buttonView"],titleLabel:Admin.BoldLabelView.design({isEnabledBinding:SC.Binding.oneWay(".owner.isEnabled").bool(),isVisibleBinding:SC.Binding.oneWay(".owner.title").bool(),valueBinding:".owner.title"}),descriptionLabel:Admin.DescriptionLabelView.design({classNames:["admin-margin-bottom-5"],isEnabledBinding:SC.Binding.oneWay(".owner.isEnabled").bool(),isVisibleBinding:SC.Binding.oneWay(".owner.description").bool(),valueBinding:".owner.description"}),invalidArrowView:SC.ImageView.design({layout:{top:15,right:0,width:18,height:18},isVisibleBinding:SC.Binding.not(".owner.fieldIsValid"),value:"admin-icon-invalid-arrow-right-18"}),headerView:SC.View.design({isVisible:NO,useStaticLayout:
YES}),listView:Admin.ListView.design(SC.Border,{layout:{height:70},useStaticLayout:YES,contentLengthObserver:function(){var e=70,t=this.get("contentLength");t>3&&(e=22*t),this.adjust("height",e)}.observes("contentLength"),contentBinding:".owner.content",contentLengthBinding:".*content.length",selectionBinding:".owner.selection",contentValueKey:"name",canEditContentBinding:SC.Binding.oneWay(".owner.canEditContent"),isEditableBinding:SC.Binding.oneWay(".owner.isEditable"),exampleViewBinding:SC.Binding.oneWay(".owner.exampleView"),contentPropertyKeyForValidationBinding:SC.Binding.oneWay(".owner.contentPropertyKeyForValidation"),rowHeight:22}),buttonView:SC.View.design({layout:{height:35},useStaticLayout:YES,childViews:["addButton","removeButton"],addButton:SC.ButtonView.design({layout:{bottom:5,height:25,left:0,width:30},titleMinWidth:0,themeName:"square",controlSize:SC.TINY_CONTROL_SIZE,isEnabledBinding:".owner.owner.isEnabled",target:SC.outlet("owner.owner.addTarget"),action:SC.outlet("owner.owner.addAction"),icon:"admin-knob-set-list-add-button-overlay"}),removeButton:SC.ButtonView.design({layout:{bottom:5,height:25,left:35,width:30},titleMinWidth:0,themeName:"square",controlSize:SC.TINY_CONTROL_SIZE,isEnabled:function(){var e=this.get("isOwnerEnabled"),t=this.get("selectionNotEmpty");return e&&t}.property("isOwnerEnabled","selectionNotEmpty").cacheable(),isOwnerEnabledBinding:SC.Binding.oneWay(".owner.owner.isEnabled").bool(),selectionNotEmptyBinding:SC.Binding.notEmpty(".owner.owner.selection",NO).bool(),target:SC.outlet("owner.owner.removeTarget"),action:SC.outlet("owner.owner.removeAction"
),icon:"admin-knob-set-list-remove-button-overlay"})})}),Admin.UnScrollableNameListView=SC.View.extend({title:"",description:"",placeHolderString:"",content:null,selection:null,exampleView:SC.ListItemView,isEditable:NO,canEditContent:NO,isEnabled:YES,childViews:["titleLabel","descriptionLabel","headerView","listView","buttonView"],useStaticLayout:YES,titleLabel:Admin.BoldLabelViewAbsolute.design({layout:{height:20},useStaticLayout:YES,isEnabledBinding:SC.Binding.oneWay(".owner.isEnabled").bool(),isVisibleBinding:SC.Binding.oneWay(".owner.title").bool(),valueBinding:".owner.title"}),descriptionLabel:Admin.DescriptionLabelViewAbsolute.design({layout:{height:20},useStaticLayout:YES,isEnabledBinding:SC.Binding.oneWay(".owner.isEnabled").bool(),isVisibleBinding:SC.Binding.oneWay(".owner.description").bool(),valueBinding:".owner.description"}),headerView:SC.View.design({isVisible:NO,useStaticLayout:YES}),listView:Admin.ListView.design(SC.Border,{layout:{height:70},useStaticLayout:YES,contentLengthObserver:function(){var e=70,t=this.get("contentLength");t>3&&(e=22*t),this.adjust("height",e)}.observes("contentLength"),contentLengthBinding:".*content.length",collectionViewDeleteContent:function(){arguments.callee.base.apply(this,arguments),this.set("selection",null),this.reload()},selectionBinding:".owner.selection",contentValueKey:"name",canDeleteContentBinding:SC.Binding.oneWay(".owner.canEditContent"),canEditContentBinding:SC.Binding.oneWay(".owner.canEditContent"),isEditableBinding:SC.Binding.oneWay(".owner.isEditable"),exampleViewBinding:SC.Binding.oneWay(".owner.exampleView"),rowHeight
:22,_currentContent:null,content:function(){var e=this.get("ownerContent")||[],t=[],n;return e.forEach(function(e){n=SC.Object.create({name:e}),t.push(n)}),this._currentContent&&this._currentContent.removeObserver("@each.name",this,this.contentNameDidChange),t.addObserver("@each.name",this,this.contentNameDidChange),this._currentContent=t,t}.property("ownerContent").cacheable(),ownerContentBinding:".owner.content",contentNameDidChange:function(){var e=this.get("content").getEach("name");e=e.filter(function(e){return e&&e.trim()!==""}),this.set("ownerContent",e)}}),buttonView:SC.View.design({layout:{height:35},useStaticLayout:YES,childViews:["addButton","removeButton"],addButton:SC.ButtonView.design({layout:{bottom:5,height:25,left:0,width:30},titleMinWidth:0,themeName:"square",controlSize:SC.TINY_CONTROL_SIZE,isEnabledBinding:".owner.owner.isEnabled",action:function(){var e=this.getPath("owner.owner"),t=e.get("listView"),n=t.get("content"),r=e.get("placeHolderString"),i=SC.Object.create({name:r});n.pushObject(i);var s=t.itemViewForContentIndex(n.indexOf(i));t.reload(),this.invokeLater(function(){s.beginEditing()})},icon:"admin-knob-set-list-add-button-overlay"}),removeButton:SC.ButtonView.design({layout:{bottom:5,height:25,left:35,width:30},titleMinWidth:0,themeName:"square",controlSize:SC.TINY_CONTROL_SIZE,isEnabled:function(){var e=this.get("isOwnerEnabled"),t=this.get("selectionNotEmpty");return e&&t}.property("isOwnerEnabled","selectionNotEmpty").cacheable(),isOwnerEnabledBinding:SC.Binding.oneWay(".owner.owner.isEnabled").bool(),selectionNotEmptyBinding:SC.Binding.notEmpty
(".owner.owner.selection",NO).bool(),action:function(){var e=this.getPath("owner.owner.listView");e.deleteSelection(),e.contentNameDidChange()},icon:"admin-knob-set-list-remove-button-overlay"})})}),Admin.FieldContentValueKeyClassNameMixin={fieldContentValueKeyClassName:function(e,t){if(t!==undefined)throw SC.$error("propertyName is ready only for %@".fmt(this.constructor));var n=this.get("fieldContentValueKey");return n?"an-%@".fmt(n):""}.property("fieldContentValueKey").cacheable(),classNameBindings:["fieldContentValueKeyClassName"]},Admin.KNOB_WIDTH=0+parseFloat("_layout_settings_overall_knob_width".loc()),Admin.UnScrollableListViewV2=SC.View.extend({layout:function(){var e=this.listHeightFunction(),t=this.listOffsetFunction();return{top:t,centerX:0,width:Admin.KNOB_WIDTH,height:e}}.property("contentLength").cacheable(),contentLengthBinding:".*content.length",listHeightFunction:function(){return 40},listOffsetFunction:function(){return 40},content:null,selection:null,addTarget:null,addAction:"add",removeTarget:null,removeAction:"remove",isEditable:YES,canEditContent:YES,exampleView:SC.ListItemView,fieldTitle:"",fieldDescription:"",isEnabled:YES,childViews:"title description unScrollView addButton removeButton".w(),title:Admin.BoldLabelViewAbsolute.design({useAbsoluteLayout:YES,layout:{top:0,centerX:0,width:Admin.KNOB_WIDTH,height:20},isEnabledBinding:".owner.isEnabled",valueBinding:".owner.fieldTitle"}),description:Admin.DescriptionLabelViewAbsolute.design({layout:{top:20,centerX:0,width:Admin.KNOB_WIDTH,height:20},isEnabledBinding:".owner.isEnabled",valueBinding:".owner.fieldDescription"
}),unScrollView:SC.View.design(SC.Border,{layout:function(){var e={top:40,left:0,right:0,height:0};return this.get("owner")&&(e.height=this.get("owner").listHeightFunction()-73),e}.property("contentLength").cacheable(),isEnabledBinding:".owner.isEnabled",canDeleteContent:NO,contentLengthBinding:".owner.contentLength",childViews:"contentView".w(),contentView:Admin.ListView.design({canEditContent:function(){return this.getPath("owner.owner.canEditContent")}.property().cacheable(),isEditable:function(){return this.getPath("owner.owner.isEditable")}.property().cacheable(),exampleView:function(){return this.getPath("owner.owner.exampleView")}.property().cacheable(),contentValueKey:"name",contentBinding:".owner.owner.content",selectionBinding:".owner.owner.selection",rowHeight:22})}),addButton:SC.ButtonView.design({layout:{bottom:0,height:25,left:0,width:30},titleMinWidth:0,themeName:"square",controlSize:SC.TINY_CONTROL_SIZE,isEnabledBinding:".owner.isEnabled",target:function(){return this.getPath("owner.addTarget")}.property().cacheable(),action:function(){return this.getPath("owner.addAction")}.property().cacheable(),icon:"admin-knob-set-list-add-button-overlay"}),removeButton:SC.ButtonView.design({layout:{bottom:0,height:25,left:35,width:30},titleMinWidth:0,themeName:"square",controlSize:SC.TINY_CONTROL_SIZE,isEnabledBinding:".owner.isEnabled",target:function(){return this.getPath("owner.removeTarget")}.property().cacheable(),action:function(){return this.getPath("owner.removeAction")}.property().cacheable(),icon:"admin-knob-set-list-remove-button-overlay"})}),Admin.KnobSetFieldView=
SC.View.extend(Admin.FieldContentValueKeyClassNameMixin,{title:null,description:null,alignDescriptionWithHeader:NO,contentBinding:".owner.content",fieldContentValueKey:null,fieldValue:null,useStaticLayout:YES,childViews:["titleView","_titleDescriptionSpacer","descriptionView","_descriptionFieldSpacer","fieldView","_spacerViewBottom"],titleView:Admin.BoldLabelViewAbsolute.design({useStaticLayout:YES,isEnabledBinding:".owner.isEnabled",isVisibleBinding:SC.Binding.oneWay(".value").bool(),valueBinding:".owner.title"}),descriptionView:SC.LabelView.design({classNameBindings:["alignDescriptionWithHeaderClass"],alignDescriptionWithHeaderClass:function(){var e=[];return this.get("alignDescriptionWithHeader")&&e.push("admin-padding-left-20"),e}.property("alignDescriptionWithHeader"),alignDescriptionWithHeaderBinding:SC.Binding.oneWay(".owner.alignDescriptionWithHeader"),useStaticLayout:YES,classNames:"admin-description-label-view".w(),isEnabledBinding:".owner.isEnabled",isVisibleBinding:SC.Binding.oneWay(".value").bool(),valueBinding:".owner.description"}),fieldView:SC.View.design({useStaticLayout:YES,isVisible:NO}),_titleDescriptionSpacer:SC.View.design({layout:{height:5},useStaticLayout:YES,isVisibleBinding:SC.Binding.oneWay(".owner.titleView.isVisible")}),_descriptionFieldSpacer:SC.View.design({layout:{height:5},useStaticLayout:YES,isVisibleBinding:SC.Binding.oneWay(".owner.descriptionView.isVisible")}),_spacerViewBottom:SC.View.design({layout:{height:10},useStaticLayout:YES})}),Admin.KnobSetTextFieldView=Admin.KnobSetFieldView.extend({title:null,description:null,content:null,fieldContentValueKey
:null,fieldValue:null,fieldHint:"",fieldIsPassword:NO,validator:null,fieldWidth:null,applyImmediately:YES,fieldView:SC.View.design({layout:{height:20},useStaticLayout:YES,childViews:["textField","arrowView"],textField:SC.TextFieldView.design(Admin.ValidatorMixin,{layout:function(){var e=this.get("fieldWidth"),t=this.get("fieldIsValid"),n={left:0,right:t?0:20,height:20};return e&&(n={left:0,width:e,height:20}),n}.property("fieldWidth","fieldIsValid").cacheable(),fieldWidthBinding:".owner.owner.fieldWidth",hintBinding:".owner.owner.fieldHint",applyImmediatelyBinding:".owner.owner.applyImmediately",isPasswordBinding:".owner.owner.fieldIsPassword",validatorBinding:".owner.owner.validator",contentBinding:".owner.owner.content",contentValueKeyBinding:".owner.owner.fieldContentValueKey",valueBinding:".owner.owner.fieldValue",isEnabledBinding:".owner.owner.isEnabled",ariaLabelBinding:SC.Binding.oneWay(".owner.owner.title")}),arrowView:SC.ImageView.design({layout:{right:0,width:18,height:18},fieldViewFieldIsValidBinding:".owner.textField.fieldIsValid",isVisible:function(){return!this.get("fieldViewFieldIsValid")}.property("fieldViewFieldIsValid"),value:"admin-icon-invalid-arrow-right-18"})})}),Admin.KnobSetSecureTextFieldView=Admin.KnobSetTextFieldView.extend({fieldIsPassword:YES}),Admin.KnobSetSelectButtonFieldView=Admin.KnobSetFieldView.extend({title:null,description:null,content:null,fieldContentValueKey:null,fieldValue:null,fieldObjects:null,buttonWidth:140,selectViewTitleKey:"name",selectViewValueKey:"value",fieldView:SC.SelectView.design({layout:function(){return{width:this.get
("buttonWidth"),height:25}}.property("buttonWidth").cacheable(),buttonWidthBinding:".owner.buttonWidth",useStaticLayout:YES,itemsBinding:".owner.fieldObjects",checkboxEnabled:NO,itemTitleKeyBinding:".owner.selectViewTitleKey",itemValueKeyBinding:".owner.selectViewValueKey",themeName:"popup",localize:NO,isEnabledBinding:".owner.isEnabled",valueBinding:".owner.fieldValue",contentBinding:".owner.content",contentValueKeyBinding:".owner.fieldContentValueKey",itemSeparatorKey:"isSeparator"})}),Admin.KnobSetCertificateUploadField=Admin.KnobSetFieldView.design({}),Admin.KnobSetCheckBoxFieldView=Admin.KnobSetFieldView.extend({title:null,description:null,fieldContentValueKey:null,fieldValueBinding:".titleView.value",leftIndent:0,layout:function(){var e=this.get("leftIndent"),t={};return e>0&&(t={left:e}),t}.property("leftIndent").cacheable(),render:function(e){e.addStyle("margin-right",this.get("leftIndent")||0),arguments.callee.base.apply(this,arguments)},childViews:["titleView","_descriptionFieldSpacer","descriptionView","_spacerViewBottom"],titleView:Admin.BoldCheckboxViewAbsolute.design({layout:{},useStaticLayout:YES,titleBinding:".owner.title",isEnabledBinding:".owner.isEnabled",contentBinding:".owner.content",contentValueKeyBinding:".owner.fieldContentValueKey"})}),Admin.KnobSetInlineSelectButtonFieldView=SC.View.extend(Admin.FieldContentValueKeyClassNameMixin,{title:null,fieldObjects:null,fieldContentValueKey:null,fieldValue:null,contentBinding:".owner.content",selectViewTitleKey:"name",selectViewValueKey:"value",titleLabelWidth:140,buttonWidth:140,isEnabled:YES,boldTitle:YES,useStaticLayout
:YES,layout:{height:30},childViews:["titleView","fieldView"],titleView:Admin.BoldLabelViewAbsolute.design({layout:function(){return{top:3,left:0,width:this.get("titleLabelWidth")}}.property("titleLabelWidth").cacheable(),titleLabelWidthBinding:".owner.titleLabelWidth",textAlign:SC.ALIGN_RIGHT,fontWeight:function(){return this.get("boldTitle")?SC.BOLD_WEIGHT:SC.REGULAR_WEIGHT}.property("boldTitle").cacheable(),boldTitleBinding:".owner.boldTitle",isEnabledBinding:".owner.isEnabled",isVisibleBinding:SC.Binding.oneWay(".value").bool(),valueBinding:".owner.title"}),fieldView:SC.SelectView.design({layout:function(){return{left:this.get("titleLabelWidth")+15,width:this.get("buttonWidth"),height:25}}.property("titleLabelWidth","buttonWidth").cacheable(),titleLabelWidthBinding:".owner.titleLabelWidth",buttonWidthBinding:".owner.buttonWidth",useStaticLayout:YES,itemsBinding:".owner.fieldObjects",checkboxEnabled:NO,itemTitleKeyBinding:".owner.selectViewTitleKey",itemValueKeyBinding:".owner.selectViewValueKey",themeName:"popup",localize:NO,isEnabledBinding:".owner.isEnabled",valueBinding:".owner.fieldValue",contentBinding:".owner.content",contentValueKeyBinding:".owner.fieldContentValueKey",itemSeparatorKey:"isSeparator"})}),Admin.KnobSetInlineCheckboxFieldView=SC.View.extend(Admin.FieldContentValueKeyClassNameMixin,{title:null,fieldObjects:null,fieldContentValueKey:null,fieldValue:null,contentBinding:".owner.content",titleLabelWidth:140,isEnabled:YES,boldTitle:YES,useStaticLayout:YES,layout:{height:30},childViews:["titleView","fieldView"],titleView:Admin.BoldLabelViewAbsolute.design({layout
:function(){return{top:3,left:0,width:this.get("titleLabelWidth")}}.property("titleLabelWidth").cacheable(),titleLabelWidthBinding:".owner.titleLabelWidth",textAlign:SC.ALIGN_RIGHT,fontWeight:function(){return this.get("boldTitle")?SC.BOLD_WEIGHT:SC.REGULAR_WEIGHT}.property("boldTitle").cacheable(),boldTitleBinding:".owner.boldTitle",isEnabledBinding:".owner.isEnabled",isVisibleBinding:SC.Binding.oneWay(".value").bool(),valueBinding:".owner.title"}),fieldView:SC.CheckboxView.design({layout:function(){return{top:3,left:this.get("titleLabelWidth")+15,width:20,height:20}}.property("titleLabelWidth").cacheable(),titleLabelWidthBinding:".owner.titleLabelWidth",isEnabledBinding:".owner.isEnabled",valueBinding:".owner.fieldValue",contentBinding:".owner.content",contentValueKeyBinding:".owner.fieldContentValueKey"})}),Admin.KnobSetInlineTextFieldView=SC.View.extend(Admin.FieldContentValueKeyClassNameMixin,{title:null,description:null,fieldObjects:null,fieldContentValueKey:null,fieldValue:null,contentBinding:".owner.content",titleLabelWidth:140,fieldWidth:40,isEnabled:YES,boldTitle:YES,useStaticLayout:YES,layout:{height:30},childViews:["titleView","fieldView","descriptionView"],titleView:Admin.BoldLabelViewAbsolute.design({layout:function(){return{top:3,left:0,width:this.get("titleLabelWidth")}}.property("titleLabelWidth").cacheable(),titleLabelWidthBinding:".owner.titleLabelWidth",textAlign:SC.ALIGN_RIGHT,fontWeight:function(){return this.get("boldTitle")?SC.BOLD_WEIGHT:SC.REGULAR_WEIGHT}.property("boldTitle").cacheable(),boldTitleBinding:".owner.boldTitle",isEnabledBinding:".owner.isEnabled"
,isVisibleBinding:SC.Binding.oneWay(".value").bool(),valueBinding:".owner.title"}),fieldView:SC.TextFieldView.design({layout:function(){return{left:this.get("titleLabelWidth")+15,width:this.get("fieldWidth"),height:20}}.property("titleLabelWidth","fieldWidth").cacheable(),titleLabelWidthBinding:".owner.titleLabelWidth",fieldWidthBinding:".owner.fieldWidth",isEnabledBinding:".owner.isEnabled",valueBinding:".owner.fieldValue",contentBinding:".owner.content",contentValueKeyBinding:".owner.fieldContentValueKey",ariaLabelBinding:SC.Binding.oneWay(".owner.title")}),descriptionView:SC.LabelView.design({layout:function(){return{top:3,left:this.get("titleLabelWidth")+this.get("fieldWidth")+20}}.property("titleLabelWidth","fieldWidth").cacheable(),titleLabelWidthBinding:".owner.titleLabelWidth",fieldWidthBinding:".owner.fieldWidth",isEnabledBinding:".owner.isEnabled",isVisibleBinding:SC.Binding.oneWay(".value").bool(),valueBinding:".owner.description"})}),Admin.KnobSetTextFieldAbsolute=SC.View.extend(Admin.FieldContentValueKeyClassNameMixin,{label:null,description:null,fieldHint:"",fieldContentValueKey:null,fieldIsPassword:NO,validator:null,fieldValueBinding:".fieldView.value",layout:{height:70},childViews:"labelView descriptionView fieldView arrowView".w(),labelView:Admin.BoldLabelViewAbsolute.design({layout:{height:20},isEnabledBinding:".owner.isEnabled",valueBinding:".owner.label"}),descriptionView:SC.LabelView.design({layout:{top:20,height:20},classNames:"admin-description-label-view".w(),isEnabledBinding:".owner.isEnabled",valueBinding:".owner.description"}),applyImmediately:YES,
fieldView:SC.TextFieldView.design(Admin.ValidatorMixin,{layout:{top:40,height:20},fieldViewIsValidObserver:function(){var e=this.get("fieldIsValid")?0:20;this.adjust("right",e)}.observes("fieldIsValid"),hintBinding:".owner.fieldHint",applyImmediatelyBinding:".owner.applyImmediately",isPasswordBinding:".owner.fieldIsPassword",validatorBinding:".owner.validator",contentBinding:".owner.content",contentValueKeyBinding:".owner.fieldContentValueKey",isEnabledBinding:".owner.isEnabled"}),arrowView:SC.ImageView.design({layout:{right:0,top:40,width:18,height:18},fieldViewFieldIsValidBinding:".owner.fieldView.fieldIsValid",isVisible:function(){return!this.get("fieldViewFieldIsValid")}.property("fieldViewFieldIsValid"),value:"admin-icon-invalid-arrow-right-18"})}),Admin.KnobSetPasswordFieldView=SC.View.extend(Admin.FieldContentValueKeyClassNameMixin,{label:null,description:null,fieldHint:"",fieldContentValueKey:null,fieldValueBinding:".fieldView.value",applyImmediately:YES,layout:{height:70,width:Admin.KNOB_WIDTH,centerX:0},childViews:"labelView descriptionView fieldView".w(),labelView:Admin.BoldLabelViewAbsolute.design({layout:{top:0,height:20},isEnabledBinding:".owner.isEnabled",valueBinding:".owner.label"}),descriptionView:SC.LabelView.design({layout:{top:20,height:20},classNames:"admin-description-label-view".w(),isEnabledBinding:".owner.isEnabled",valueBinding:".owner.description"}),fieldView:SC.TextFieldView.design({layout:{top:40,height:20},hintBinding:".owner.fieldHint",applyImmediatelyBinding:".owner.applyImmediately",isPassword:YES,contentBinding:".owner.content",contentValueKeyBinding
:".owner.fieldContentValueKey",isEnabledBinding:".owner.isEnabled"})}),Admin.KnobSetPasswordTextFieldView=SC.View.extend({title:null,description:null,fieldHint:"",fieldContentValueKey:null,fieldValueBinding:".fieldView.value",applyImmediately:YES,useStaticLayout:YES,childViews:["labelView","descriptionView","fieldView","_spacerView"],labelView:Admin.BoldLabelViewAbsolute.design({layout:{height:20},useStaticLayout:YES,isEnabledBinding:".owner.isEnabled",isVisibleBinding:SC.Binding.oneWay(".value").bool(),valueBinding:".owner.title"}),descriptionView:SC.LabelView.design({layout:{height:20},useStaticLayout:YES,classNames:"admin-description-label-view".w(),isEnabledBinding:".owner.isEnabled",isVisibleBinding:SC.Binding.oneWay(".value").bool(),valueBinding:".owner.description"}),fieldView:SC.TextFieldView.design({layout:{height:20},useStaticLayout:YES,hintBinding:".owner.fieldHint",applyImmediatelyBinding:".owner.applyImmediately",isPassword:YES,contentBinding:".owner.content",contentValueKeyBinding:".owner.fieldContentValueKey",isEnabledBinding:".owner.isEnabled"}),_spacerView:SC.View.design({layout:{height:10},useStaticLayout:YES})}),Admin.KnobSetButtonFieldView=SC.View.extend(Admin.FieldContentValueKeyClassNameMixin,{label:null,description:null,fieldHint:"",fieldContentValueKey:null,fieldObjects:null,buttonWidth:140,buttonType:"select",fieldValue:null,layout:{height:70},childViews:function(){return this.buttonType==="radio"?(this.bind("fieldValue",".radioFieldView.value"),"labelView descriptionView radioFieldView".w()):(this.bind("fieldValue",".selectFieldView.value"),"labelView descriptionView selectFieldView arrowView"
.w())}.property("buttonType").cacheable(),labelView:Admin.BoldLabelViewAbsolute.design({layout:{centerX:0,top:0,width:Admin.KNOB_WIDTH,height:20},isEnabledBinding:".owner.isEnabled",valueBinding:".owner.label"}),descriptionView:SC.LabelView.design({layout:{centerX:0,top:20,width:Admin.KNOB_WIDTH,height:20},classNames:"admin-description-label-view".w(),isEnabledBinding:".owner.isEnabled",valueBinding:".owner.description"}),selectFieldView:SC.SelectButtonView.design(Admin.ValidatorMixin,{layout:function(){return{centerX:-Admin.KNOB_WIDTH/2+this.buttonWidth/2,top:40,width:this.buttonWidth,height:25}}.property("buttonWidth"),buttonWidthBinding:".owner.buttonWidth",objectsBinding:".owner.fieldObjects",checkboxEnabled:NO,nameKey:"name",valueKey:"value",themeName:"popup",localize:NO,isEnabledBinding:".owner.isEnabled",contentBinding:".owner.content",contentValueKeyBinding:".owner.fieldContentValueKey"}),radioFieldView:SC.RadioView.design({layout:{centerX:0,width:Admin.KNOB_WIDTH,top:40,height:20},itemsBinding:".owner.fieldObjects",itemTitleKey:"name",itemValueKey:"value",themeName:"square",layoutDirection:SC.LAYOUT_HORIZONTAL,isEnabledBinding:".owner.isEnabled",contentBinding:".owner.content",contentValueKeyBinding:".owner.fieldContentValueKey"}),arrowView:SC.ImageView.design({layout:{centerX:Admin.KNOB_WIDTH/2+20,top:42,width:18,height:18},fieldViewFieldIsValidBinding:".owner.selectFieldView.fieldIsValid",isVisible:function(){return!this.get("fieldViewFieldIsValid")}.property("fieldViewFieldIsValid"),value:"admin-icon-invalid-arrow-right-18"})}),Admin.KnobSetCheckBoxFieldViewAbsolute=
SC.View.extend(Admin.FieldContentValueKeyClassNameMixin,{description:null,label:null,fieldContentValueKey:null,fieldValueBinding:".fieldView.value",descriptionHeight:20,descriptionCenterX:0,layout:{height:45,width:Admin.KNOB_WIDTH},childViews:"fieldView descriptionView".w(),viewWidth:Admin.KNOB_WIDTH,fieldView:Admin.BoldCheckboxViewAbsolute.design({viewWidthBinding:".owner.viewWidth",layout:function(e,t){if(t!==undefined)throw SC.$error("layout is ready only for %@".fmt(this.constructor));return{centerX:0,top:0,width:this.get("viewWidth"),height:20}}.property("viewWidth").cacheable(),titleBinding:".owner.label",hintBinding:".owner.fieldHint",isEnabledBinding:".owner.isEnabled",contentBinding:".owner.content",contentValueKeyBinding:".owner.fieldContentValueKey"}),descriptionView:SC.LabelView.design({heightBinding:".owner.descriptionHeight",centerXBinding:".owner.descriptionCenterX",viewWidthBinding:".owner.viewWidth",layout:function(){return{centerX:this.get("centerX"),top:20,width:this.get("viewWidth"),height:this.get("height")}}.property("height","viewWidth"),classNames:"admin-description-label-view".w(),isEnabledBinding:".owner.isEnabled",valueBinding:".owner.description"})}),Admin.KnobSetIpPortFieldViewAbsolute=SC.View.extend(Admin.FieldContentValueKeyClassNameMixin,{label:null,description:null,fieldHint:"",fieldIpHostContentValueKey:null,fieldPortContentValueKey:null,validator:null,fieldValueBinding:".ipHostView.value",layout:{height:70,width:Admin.KNOB_WIDTH},childViews:"labelView descriptionView ipHostView colonView portView arrowView".w(),labelView:Admin.BoldLabelViewAbsolute
.design({layout:{top:0,height:20},valueBinding:".owner.label"}),descriptionView:SC.LabelView.design({layout:{top:20,height:20},classNames:"admin-description-label-view".w(),valueBinding:".owner.description"}),ipHostView:SC.TextFieldView.design(Admin.ValidatorMixin,{layout:{top:40,right:60,height:20},hintBinding:".owner.fieldHint",contentBinding:".owner.content",contentValueKeyBinding:".owner.fieldIpHostContentValueKey",validatorBinding:".owner.validator"}),colonView:SC.LabelView.design({layout:{right:45,top:40,width:5,height:20},value:":"}),portView:SC.TextFieldView.design(Admin.ValidatorMixin,{layout:{top:40,width:40,right:5,height:20},contentBinding:".owner.content",validator:SC.Validator.Number,contentValueKeyBinding:".owner.fieldPortContentValueKey"}),isValidObserver:function(){!this.get("ipHostFieldIsValid")||!this.get("portFieldIsValid")?(this.get("ipHostView").adjust("right",80),this.get("colonView").adjust("right",65),this.get("portView").adjust("right",20)):(this.get("ipHostView").adjust("right",60),this.get("colonView").adjust("right",45),this.get("portView").adjust("right",0))}.observes("ipHostFieldIsValid","portFieldIsValid"),portFieldIsValidBinding:".portView.fieldIsValid",ipHostFieldIsValidBinding:".ipHostView.fieldIsValid",arrowView:SC.ImageView.design({layout:{top:40,width:18,right:0,height:18},portFieldIsValidBinding:".owner.portView.fieldIsValid",ipHostFieldIsValidBinding:".owner.ipHostView.fieldIsValid",isVisible:function(){return!this.get("portFieldIsValid")||!this.get("ipHostFieldIsValid")}.property("portFieldIsValid","ipHostFieldIsValid"),value:"admin-icon-invalid-arrow-right-18"
})}),Admin.KnobSetIpPortFieldView=SC.View.extend(Admin.FieldContentValueKeyClassNameMixin,{title:null,description:null,fieldHint:"",fieldIpHostContentValueKey:null,fieldPortContentValueKey:null,validator:null,fieldValueBinding:".ipHostView.value",useStaticLayout:YES,layout:{height:70,width:Admin.KNOB_WIDTH},childViews:"labelView descriptionView ipHostView colonView portView arrowView".w(),labelView:Admin.BoldLabelView.design({valueBinding:".owner.title"}),descriptionView:SC.LabelView.design({useStaticLayout:YES,classNames:"admin-description-label-view".w(),valueBinding:".owner.description"}),ipHostView:SC.TextFieldView.design(Admin.ValidatorMixin,{layout:{top:40,right:60,height:20},hintBinding:".owner.fieldHint",contentBinding:".owner.content",contentValueKeyBinding:".owner.fieldIpHostContentValueKey",validatorBinding:".owner.validator"}),colonView:SC.LabelView.design({layout:{right:45,top:40,width:5,height:20},value:":"}),portView:SC.TextFieldView.design(Admin.ValidatorMixin,{layout:{top:40,width:40,right:5,height:20},contentBinding:".owner.content",validator:SC.Validator.Number,contentValueKeyBinding:".owner.fieldPortContentValueKey"}),isValidObserver:function(){!this.get("ipHostFieldIsValid")||!this.get("portFieldIsValid")?(this.get("ipHostView").adjust("right",80),this.get("colonView").adjust("right",65),this.get("portView").adjust("right",20)):(this.get("ipHostView").adjust("right",60),this.get("colonView").adjust("right",45),this.get("portView").adjust("right",0))}.observes("ipHostFieldIsValid","portFieldIsValid"),portFieldIsValidBinding:".portView.fieldIsValid",ipHostFieldIsValidBinding
:".ipHostView.fieldIsValid",arrowView:SC.ImageView.design({layout:{top:40,width:18,right:0,height:18},portFieldIsValidBinding:".owner.portView.fieldIsValid",ipHostFieldIsValidBinding:".owner.ipHostView.fieldIsValid",isVisible:function(){return!this.get("portFieldIsValid")||!this.get("ipHostFieldIsValid")}.property("portFieldIsValid","ipHostFieldIsValid"),value:"admin-icon-invalid-arrow-right-18"})}),Admin.KnobSetLeftButtonFieldView=SC.View.extend(Admin.FieldContentValueKeyClassNameMixin,{label:null,description:null,fieldContentValueKey:null,fieldObjects:null,buttonWidth:140,fieldValueBinding:".selectFieldView.value",layout:{height:55,width:Admin.KNOB_WIDTH},childViews:"labelView descriptionView selectFieldView".w(),labelView:Admin.BoldLabelViewAbsolute.design({layout:function(){return{left:this.get("buttonWidthValue")+27,top:5,width:Admin.KNOB_WIDTH-this.get("buttonWidthValue")-27,height:20}}.property("buttonWidthValue"),buttonWidthValueBinding:".owner.buttonWidth",isEnabledBinding:".owner.isEnabled",valueBinding:".owner.label"}),descriptionView:SC.LabelView.design({layout:function(){return{left:this.get("buttonWidthValue")+27,top:25,right:5,height:40}}.property("buttonWidthValue"),buttonWidthValueBinding:".owner.buttonWidth",classNames:"admin-description-label-view".w(),isEnabledBinding:".owner.isEnabled",valueBinding:".owner.description"}),selectFieldView:SC.SelectButtonView.design({titleMinWidth:0,layout:function(){return{left:2,top:1,width:this.buttonWidthValue,height:25}}.property("buttonWidthValue"),buttonWidthValueBinding:".owner.buttonWidth",objectsBinding:".owner.fieldObjects"
,checkboxEnabled:NO,nameKey:"name",valueKey:"value",themeName:"popup",isEnabledBinding:".owner.isEnabled",contentBinding:".owner.content",contentValueKeyBinding:".owner.fieldContentValueKey"})}),Admin.KnobSetLeftFieldView=SC.View.extend(Admin.FieldContentValueKeyClassNameMixin,{label:null,description:null,fieldContentValueKey:null,textWidth:140,descriptionWidth:Admin.KNOB_WIDTH,validator:null,fieldValueBinding:".textFieldView.value",layout:{height:55,width:Admin.KNOB_WIDTH+40},childViews:"labelView descriptionView textFieldView arrowView".w(),labelView:Admin.BoldLabelViewAbsolute.design({layout:function(){return{left:this.textWidthValue+24+5,top:5,width:Admin.KNOB_WIDTH-this.textWidthValue-24,height:20}}.property("textWidthValue").cacheable(),textWidthValueBinding:".owner.textWidth",isEnabledBinding:".owner.isEnabled",valueBinding:".owner.label"}),descriptionView:SC.LabelView.design({layout:function(){return{left:this.textWidthValue+24+5,top:25,width:this.get("descriptionWidth")-this.textWidthValue-24}}.property("textWidthValue","descriptionWidth"),classNames:"admin-description-label-view".w(),textWidthValueBinding:".owner.textWidth",descriptionWidthBinding:".owner.descriptionWidth",isEnabledBinding:".owner.isEnabled",valueBinding:".owner.description"}),textFieldView:SC.TextFieldView.design(Admin.ValidatorMixin,{layout:function(){return{left:23,top:0,width:this.textWidthValue,height:25}}.property("textWidthValue"),textWidthValueBinding:".owner.textWidth",isEnabledBinding:".owner.isEnabled",contentBinding:".owner.content",validator:SC.Validator.Number,contentValueKeyBinding:".owner.fieldContentValueKey"
}),arrowView:SC.ImageView.design({layout:{left:0,top:4,width:18,height:18},textFieldViewIsValidBinding:".owner.textFieldView.fieldIsValid",isVisible:function(){return!this.get("textFieldViewIsValid")}.property("textFieldViewIsValid"),value:"admin-icon-invalid-arrow-left-18"})}),Admin.KnobSetView=SC.View.extend({showKnobSetRemove:YES,showKnobSetAdd:YES,childViews:["knobSetRemove","knobSetAdd","_spacerView","contentView","_spacerView"],useStaticLayout:YES,render:function(e){e.addClass(this.get("contentIndex")%2===0?"odd":"even"),arguments.callee.base.apply(this,arguments)},isReusableInCollections:NO,knobsetHeightDidChange:function(){var e=this.get("knobSetHeight"),t=this.get("contentView")||this;e&&t.adjust("height",e)}.observes("knobSetHeight"),knobSetHeightBinding:".content.knobSetHeight",knobSetRemove:SC.ButtonView.design({layout:{right:35,top:10,width:24,height:24,zIndex:1},useAbsoluteLayout:YES,themeName:"admin-knob-set-remove-button",title:"",target:"Admin",action:"destroyKnobSet",isVisibleBinding:".owner.showKnobSetRemove",isEnabledBinding:".owner.isNotInherited"}),knobSetAdd:SC.ButtonView.design({layout:{right:10,top:10,width:24,height:24,zIndex:1},isVisibleBinding:".owner.showKnobSetAdd",useAbsoluteLayout:YES,themeName:"admin-knob-set-add-button",title:"+",target:"Admin",action:"addKnobSet"}),temporaryKnobSetWallBlock:SC.View.design(SC.Border,{classNames:["admin-temporary-knobset-wallblock"],layout:{centerX:0,width:Admin.KNOB_WIDTH+10,top:0,bottom:12},useAbsoluteLayout:YES,isVisibleBinding:".owner*content.isFromServermgr",isVisibleBindingDefault:SC.Binding.bool(),childViews
:"explanation".w(),explanation:SC.LabelView.design(SC.Border,{layout:{centerX:0,top:5,width:300,height:17},textAlign:SC.ALIGN_CENTER,fontWeight:SC.BOLD_WEIGHT,classNames:["admin-background-color-white"],value:"_temporary_knob_set_wall_block_explanation".loc()})}),_spacerView:SC.View.design({layout:{height:25},useStaticLayout:YES}),knobSetSeparator:SC.View.design({layout:{width:0,height:0},useAbsoluteLayout:YES})}),Admin.KnobSetContentView=SC.View.extend({contentBinding:".owner.content",layout:{width:Admin.KNOB_WIDTH,centerX:0},useStaticLayout:YES}),Admin.GeneralKnobSetView=Admin.KnobSetView.extend({showKnobSetRemove:NO,showKnobSetAdd:NO,contentView:Admin.KnobSetContentView.design({managedFieldIsVisibleBinding:".owner.managedField.isVisible",childViews:["managedField","organizationView","descriptionView","consentText","security","automaticProfileRemoval"],managedField:Admin.KnobSetButtonFieldView.design({layout:{height:65},useStaticLayout:YES,label:"_generic_string_Profile Distribution Type".loc(),description:"_generic_string_The manner in which the profile is distributed to devices".loc(),fieldObjects:[{value:NO,name:"_generic_string_Automatic Push".loc()},{value:YES,name:"_generic_string_Manual Download".loc()}],isVisible:function(){return!this.get("noODMode")&&!this.get("profileIsFromServermgr")}.property("noODMode","profileIsFromServermgr"),noODModeBinding:"Admin.noODMode",profileIsFromServermgrBinding:"Admin.itemSelectionController.isFromServermgr",buttonType:"radio",contentBinding:"Admin.itemSelectionController",fieldContentValueKey:"isALaCarteFromNestedStore"}),organizationView
:SC.View.design({contentBinding:".owner.owner.content",layout:{height:70},useStaticLayout:YES,childViews:["organizationLabel","organizationDescription","organization"],organizationLabel:Admin.BoldLabelViewAbsolute.design({layout:{height:20},useStaticLayout:YES,value:"_generic_string_Organization".loc()}),organizationDescription:Admin.DescriptionLabelViewAbsolute.design({layout:{height:20},useStaticLayout:YES,value:"_generic_string_Name of the organization for the profile".loc()}),organization:SC.TextFieldView.design({isEnabledBinding:"Admin.settings.use_code_signing",isEnabledBindingDefault:SC.Binding.not(),layout:{height:20},useStaticLayout:YES,value:function(e,t){return t!==undefined&&this.set("actualValue",t),this.get("isEnabled")?this.get("actualValue"):this.get("codeSigningOrgValue")}.property("isEnabled","actualValue","codeSigningOrgValue"),actualValueBinding:".owner*content.organization",codeSigningOrgValueBinding:"Admin.settings.signing_org"})}),descriptionView:SC.View.design({contentBinding:".owner.owner.content",layout:{height:95},useStaticLayout:YES,childViews:["descriptionLabel","descriptionDescription","description"],descriptionLabel:Admin.BoldLabelViewAbsolute.design({layout:{height:20},useStaticLayout:YES,value:"_generic_string_Description".loc()}),descriptionDescription:Admin.DescriptionLabelViewAbsolute.design({layout:{height:20},useStaticLayout:YES,value:"_generic_string_Brief explanation of the content or purpose of the profile".loc()}),description:SC.TextFieldView.design({layout:{height:50},useStaticLayout:YES,isTextArea:YES,contentBinding:".owner.content"
,contentValueKey:"description"})}),consentText:SC.View.design({layout:{height:95},useStaticLayout:YES,isVisible:function(){return this.isManagedProfile}.property("isManagedProfile"),isManagedProfileBinding:".owner.owner.managedField.fieldValue",childViews:["consentTextLabel","consentTextDescription","consentTextInput"],consentTextLabel:Admin.BoldLabelViewAbsolute.design({layout:{height:20},useStaticLayout:YES,value:"_generic_string_Consent".loc()}),consentTextDescription:Admin.DescriptionLabelViewAbsolute.design({layout:{height:20},useStaticLayout:YES,value:"_generic_string_Consent Text Description".loc()}),consentTextInput:SC.TextFieldView.design({layout:{height:50},useStaticLayout:YES,isTextArea:YES,contentBinding:".owner.owner.owner.content",contentValueKey:"consentText"})}),security:SC.View.design({isManagedProfileBinding:".owner.owner.managedField.fieldValue",useStaticLayout:YES,childViews:["securityField","passwordView"],securityField:Admin.KnobSetButtonFieldView.design({layout:{height:70},useStaticLayout:YES,label:"_general_knob_set_view_security_field".loc(),description:"_generic_string_Controls when the profile can be removed".loc(),fieldObjects:[{value:"always",name:"_generic_string_Always".loc()},{value:"withauthorization",name:"_generic_string_With Authorization".loc()},{value:"never",name:"_generic_string_Never".loc()}],buttonWidth:Admin.KNOB_WIDTH-17,contentBinding:".owner.owner.owner.content",fieldContentValueKey:"security"}),passwordView:Admin.KnobSetSecureTextFieldView.design({description:"_generic_string_Authorization Password".loc(),contentBinding:".owner.owner.owner.content"
,fieldContentValueKey:"password",isVisible:function(){return this.securityTypeValue==="withauthorization"}.property("securityTypeValue").cacheable(),securityTypeValueBinding:".owner.securityField.fieldValue"})}),automaticProfileRemoval:SC.View.extend({layout:{height:70},useStaticLayout:YES,isManagedProfileBinding:".owner.owner.managedField.fieldValue",securityTypeValueBinding:".owner.security.securityField.fieldValue",childViews:"labelView descriptionView automaticProfileRemovalTypeField removalDate afterIntervalDaysDuration afterIntervalDaysLabel afterIntervalHoursDuration afterIntervalHoursLabel".w(),labelView:Admin.BoldLabelViewAbsolute.design({layout:{centerX:0,top:0,width:Admin.KNOB_WIDTH,height:20},isEnabledBinding:".owner.isEnabled",value:"_general_knob_set_view_automatic_profile_removal_field".loc()}),descriptionView:SC.LabelView.design({layout:{centerX:0,top:20,width:Admin.KNOB_WIDTH,height:20},classNames:"admin-description-label-view".w(),isEnabledBinding:".owner.isEnabled",value:"_general_string_Settings for automatic profile removal".loc()}),automaticProfileRemovalTypeField:SC.SelectButtonView.design(Admin.ValidatorMixin,{buttonWidth:130,layout:function(){return{centerX:-Admin.KNOB_WIDTH/2+this.buttonWidth/2,top:40,width:this.buttonWidth,height:25}}.property("buttonWidth"),objects:[{value:"never",name:"_generic_string_Never".loc()},{value:"on_date",name:"_general_string_On date".loc()},{value:"after_interval",name:"_general_string_After interval".loc()}],checkboxEnabled:NO,nameKey:"name",valueKey:"value",themeName:"popup",localize:NO,isEnabledBinding:".owner.isEnabled"
,contentBinding:".owner.owner.owner.content",contentValueKey:"automaticProfileRemovalType"}),removalDate:SC.DateFieldView.design({layout:{top:40,height:18,left:180,right:3},classNames:"admin-cfprefs-knob-set-datetime".w(),showTime:NO,formatDate:"_generic_date_format".loc(),showDate:YES,isVisible:function(){return this.automaticProfileRemovalType==="on_date"}.property("automaticProfileRemovalType").cacheable(),valueBinding:".owner.owner.owner*content.removalDate",automaticProfileRemovalTypeBinding:".owner.automaticProfileRemovalTypeField.value"}),afterIntervalDaysDuration:SC.TextFieldView.design({layout:{top:40,left:170,width:30,height:23},contentBinding:".owner.owner.owner.content",contentValueKey:"daysUntilRemoval",isVisible:function(){return this.automaticProfileRemovalType==="after_interval"}.property("automaticProfileRemovalType").cacheable(),automaticProfileRemovalTypeBinding:".owner.automaticProfileRemovalTypeField.value",validator:SC.Validator.PositiveInteger}),afterIntervalDaysLabel:SC.LabelView.design({layout:{top:45,heigth:25,left:205},value:"_generic_string_Days".loc(),isVisible:function(){return this.automaticProfileRemovalType==="after_interval"}.property("automaticProfileRemovalType").cacheable(),automaticProfileRemovalTypeBinding:".owner.automaticProfileRemovalTypeField.value"}),afterIntervalHoursDuration:SC.TextFieldView.design({layout:{top:40,left:245,width:30,height:23},contentBinding:".owner.owner.owner.content",contentValueKey:"hoursUntilRemoval",isVisible:function(){return this.automaticProfileRemovalType==="after_interval"}.property("automaticProfileRemovalType"
).cacheable(),automaticProfileRemovalTypeBinding:".owner.automaticProfileRemovalTypeField.value",validator:SC.Validator.PositiveInteger}),afterIntervalHoursLabel:SC.LabelView.design({layout:{top:45,heigth:25,left:280},value:"_generic_string_Hours".loc(),isVisible:function(){return this.automaticProfileRemovalType==="after_interval"}.property("automaticProfileRemovalType").cacheable(),automaticProfileRemovalTypeBinding:".owner.automaticProfileRemovalTypeField.value"})})})}),Admin.GeneralKnobSet=Admin.KnobSet.extend({description:SC.Record.attr(String,{key:"description"}),_security:SC.Record.attr(Boolean,{key:"security",defaultValue:NO}),password:SC.Record.attr(String,{key:"password"}),organization:SC.Record.attr(String,{defaultValue:function(){return Admin.getPath("settings.server_organization")}}),consentText:SC.Record.attr(String,{key:"consentText"}),_durationUntilRemoval:SC.Record.attr(Number,{key:"durationUntilRemoval"}),_removalDate:SC.Record.attr(String,{key:"removalDate"}),removalDate:function(e,t){return t!==undefined&&(t!==null?this.set("_removalDate",t.toFormattedString(SC.DATETIME_ISO8601)):this.set("_removalDate",null)),this.get("_removalDate")?SC.DateTime.parse(this.get("_removalDate"),SC.DATETIME_ISO8601):null}.property("_removalDate"),security:function(e,t){t!==undefined&&(t==="always"?(this.set("_security",NO),this.set("password",null)):t==="withauthorization"?(this.set("_security",YES),this.set("password","")):t==="never"&&(this.set("_security",YES),this.set("password",null)));var n=!SC.none(this.get("password")),r=this.get("_security");return r?n?"withauthorization"
:"never":"always"}.property("_security","password").cacheable(),automaticProfileRemovalType:function(e,t){t!==undefined&&(t==="never"?(this.set("removalDate",null),this.set("_durationUntilRemoval",null)):t==="on_date"?(this.set("_durationUntilRemoval",null),this.set("removalDate",SC.DateTime.create().advance({day:90}))):t==="after_interval"&&(this.set("removalDate",null),this.set("_durationUntilRemoval",7776e3)));var n="never";return this.get("removalDate")!==null?n="on_date":this.get("_durationUntilRemoval")!==null&&(n="after_interval"),n}.property("_durationUntilRemoval","removalDate"),daysUntilRemoval:function(e,t){return t!==undefined&&((t>0||this.get("hoursUntilRemoval")>0)&&this.set("_durationUntilRemoval",(this.get("hoursUntilRemoval")+t*24)*60*60),this.notifyPropertyChange("_durationUntilRemoval")),Math.floor(this.get("_durationUntilRemoval")/86400)}.property("_durationUntilRemoval"),hoursUntilRemoval:function(e,t){return t!==undefined&&((t>0||this.get("daysUntilRemoval")>0)&&this.set("_durationUntilRemoval",(t+this.get("daysUntilRemoval")*24)*60*60),this.notifyPropertyChange("_durationUntilRemoval")),Math.floor(this.get("_durationUntilRemoval")/3600%24)}.property("_durationUntilRemoval"),isAlaCarteBinding:"Admin.itemSelectionController.isALaCarteFromNestedStore",noODModeBinding:"Admin.noODMode",profileIsFromServermgrBinding:"Admin.itemSelectionController.isFromServermgr",contentExampleView:Admin.GeneralKnobSetView}),Admin.GeneralKnobSet.displayName="_general_knob_set_name".loc(),Admin.GeneralKnobSet.largeIcon="admin-general-knob-set-large-icon",Admin.GeneralKnobSet.
numLines="_general_knob_set_num_lines".loc(),Admin.GeneralKnobSet.profilePropertyName="generalKnobSets",SC.mixin(Admin.GeneralKnobSet,{sortOrder:1,platformTypes:"iOS OSX"}),Admin.GeneralKnobSet.systemLevel=YES,Admin.GeneralKnobSet.userLevel=YES,Admin.GeneralKnobSet.settingTypeDescription="_general_knob_set_description".loc(),Admin.fakeProfile=SC.Object.create({displayName:function(){return"_items_settings".loc(this.get("itemSelectionDisplayNameFromNestedStore"))}.property("itemSelectionDisplayNameFromNestedStore"),itemSelectionDisplayNameFromNestedStoreBinding:"Admin.itemSelectionController.displayNameFromNestedStore",knobSetTypesUsed:[SC.Object.create({numLines:Admin.GeneralKnobSet.numLines||1,displayName:Admin.GeneralKnobSet.displayName||"Unknown Name",largeIcon:Admin.GeneralKnobSet.largeIcon||null})],isNewProfileTemplate:YES}),Admin.profilesFromNestedStoreController=SC.ArrayController.create({contentBinding:SC.Binding.oneWay("Admin.itemSelectionController.profilesFromNestedStore")}),Admin.profileController=SC.ObjectController.create({profileFromNestedStoreBinding:SC.Binding.oneWay("Admin.profilesFromNestedStoreController.content"),profileFromNestedStoreLengthBinding:SC.Binding.oneWay("Admin.profilesFromNestedStoreController.length"),itemListSelectionBinding:SC.Binding.oneWay("Admin.itemListController.selection"),itemSelectionHasCompleteDataBinding:SC.Binding.oneWay("Admin.itemSelectionController.hasCompleteData"),content:function(e,t){if(t!==undefined)throw SC.$error("This is read-only!");var n=Admin.profilesFromNestedStoreController.get("content"),r=Admin.fakeProfile;return n&&
n.get("length")>0&&(r=n.get("firstObject")),r}.property("profileFromNestedStoreLength","itemListSelection","profileFromNestedStore","itemSelectionHasCompleteData"),profileMarkedForDeletion:NO,hasUnsavedChangesBinding:SC.Binding.oneWay("Admin.itemSelectionNestedStore.hasChanges"),nestedStoreChangesObserver:function(){this.get("hasUnsavedChanges")||this.set("profileMarkedForDeletion",NO)}.observes("hasUnsavedChanges")}),Admin.knobSetTypesUsedController=SC.ArrayController.create(SC.CollectionViewDelegate,{knobSetTypesUsedBinding:SC.Binding.oneWay("Admin.profileController.knobSetTypesUsed"),content:function(e,t){if(t!==undefined)throw SC.$error("This is read-only!");return Admin.profileController.get("knobSetTypesUsed")}.property("knobSetTypesUsed")}),Admin.PushAppsPickerManager=Admin.VppContentBaseFilterManager.create({pushAppsPickerTableViewColumns:[SC.Object.create(SCTable.Column,{name:"",valueKey:"selectionCheckbox",width:.05,canResize:NO}),SC.Object.create(SCTable.Column,{name:"_table_header_Name".loc(),valueKey:"name",width:.75,canResize:NO}),SC.Object.create(SCTable.Column,{name:"_table_header_Kind".loc(),valueKey:"supportedDevices",width:.2,canResize:NO})],licenseFilterValue:"appstore",itemSelectionObserver:function(){var e=Admin.itemSelectionController.getPath("content.firstObject"),t,n;if(!e||e.constructor!==Admin.UserGroup&&e.constructor!==Admin.User)return;n=e.get("appAssignmentData")||[],t=SC.clone(e.get("assignedApplications"))||[],n.forEach(function(e){e.assigned.length>0&&t.push(e.app_id)}),this.set("restrictSearchWithinContentIds",t)}.observes("Admin.itemSelectionController.content"
)}),Admin.PushAppsPickerTableViewColumnsController=SC.ArrayController.create({contentBinding:SC.Binding.oneWay("Admin.PushAppsPickerManager.pushAppsPickerTableViewColumns"),selectNameColumn:function(){this.selectObject(this.getPath("content.firstObject"))}.observes("content")}),Admin.pushAppsPickerTableViewController=Admin.vppContentBaseTableViewController.create({contentBinding:SC.Binding.oneWay("Admin.PushAppsPickerManager.vppContentFilteredSearchResults"),showAppDetailIcon:NO,allowsSelection:NO,showLicenseWarning:NO,useRoundedCornersForIcon:YES}),Admin.PushBooksPickerManager=Admin.VppContentBaseFilterManager.create({vppContentRecordArrayMembershipObserver:function(){var e=Admin.AllUnifiedBooksController.get("length");this.set("contentLength",e)}.observes("Admin.AllUnifiedBooksController.[]"),contentBinding:"Admin.AllUnifiedBooksController.arrangedObjects",contentRecordType:"UnifiedBook",pushBooksPickerTableViewColumns:[SC.Object.create(SCTable.Column,{name:"",valueKey:"selectionCheckbox",width:.05,canResize:NO}),SC.Object.create(SCTable.Column,{name:"_table_header_Name".loc(),valueKey:"name",width:.75,canResize:NO}),SC.Object.create(SCTable.Column,{name:"_table_header_Kind".loc(),valueKey:"supportedDevices",width:.2,canResize:NO})],licenseFilterValue:"appstore",itemSelectionObserver:function(){var e=Admin.itemSelectionController.getPath("content.firstObject"),t,n;if(!e||!e.get("isDirectoryItem"))return;n=e.get("bookAssignmentData")||[],t=SC.clone(e.get("assignedBooks"))||[],n.forEach(function(e){e.assigned.length>0&&t.push(e.book_id)}),this.set("restrictSearchWithinContentIds"
,t)}.observes("Admin.itemSelectionController.content")}),Admin.PushBooksPickerTableViewColumnsController=SC.ArrayController.create({contentBinding:SC.Binding.oneWay("Admin.PushBooksPickerManager.pushBooksPickerTableViewColumns"),selectNameColumn:function(){this.selectObject(this.getPath("content.firstObject"))}.observes("content")}),Admin.pushBooksPickerTableViewController=Admin.vppContentBaseTableViewController.create({contentBinding:SC.Binding.oneWay("Admin.PushBooksPickerManager.vppContentFilteredSearchResults"),showAppDetailIcon:NO,allowsSelection:NO,showLicenseWarning:NO}),Admin.PushOSXEnterpriseAppsFilterManager=Admin.VppContentBaseFilterManager.create({pushAppsPickerTableViewColumns:[SC.Object.create(SCTable.Column,{name:"",valueKey:"selectionCheckbox",width:.05,canResize:NO}),SC.Object.create(SCTable.Column,{name:"_table_header_Name".loc(),valueKey:"name",width:.75,canResize:NO}),SC.Object.create(SCTable.Column,{name:"_table_header_Size".loc(),valueKey:"sizeDisplayValue",width:.2,canResize:NO})],licenseFilterValue:"enterprise",kindFilterValue:"mac",excludeEnterpriseOSXApps:NO}),Admin.PushOSXEnterpriseAppsTableViewColumnsController=SC.ArrayController.create({contentBinding:SC.Binding.oneWay("Admin.PushOSXEnterpriseAppsFilterManager.pushAppsPickerTableViewColumns"),selectNameColumn:function(){this.selectObject(this.getPath("content.firstObject"))}.observes("content")}),Admin.PushOSXEnterpriseAppsTableViewController=Admin.vppContentBaseTableViewController.create({contentBinding:SC.Binding.oneWay("Admin.PushOSXEnterpriseAppsFilterManager.vppContentFilteredSearchResults")
,showAppDetailIcon:NO,allowsSelection:NO,showLicenseWarning:NO,useRoundedCornersForIcon:YES}),Admin.PasscodeCheckboxView=SC.View.extend({layout:{left:parseFloat("_layout_grace_period_field".loc())+7,width:Admin.KNOB_WIDTH-(parseFloat("_layout_grace_period_field".loc())+7)},title:null,description:null,contentValueKey:null,isEnabled:YES,contentBinding:".owner.content",useStaticLayout:YES,childViews:["checkboxView","descriptionView","_spacerView"],checkboxView:Admin.BoldCheckboxViewAbsolute.design({layout:{height:20},useStaticLayout:YES,fontWeight:SC.BOLD_WEIGHT,titleBinding:".owner.title",isEnabledBinding:".owner.isEnabled",contentBinding:".owner.content",contentValueKeyBinding:".owner.contentValueKey"}),descriptionView:Admin.DescriptionLabelViewAbsolute.design({layout:{left:20,width:Admin.KNOB_WIDTH-(parseFloat("_layout_grace_period_field".loc())+7+20)},useStaticLayout:YES,classNames:"admin-description-label-view".w(),isEnabledBinding:".owner.isEnabled",valueBinding:".owner.description"}),_spacerView:SC.View.design({layout:{height:15},useStaticLayout:YES})}),Admin.PasscodeKnobSetView=Admin.KnobSetView.extend({showKnobSetRemove:YES,showKnobSetAdd:NO,contentView:Admin.KnobSetContentView.design({childViews:["allowSimple","requireAlphanumeric","minimumPasscodeLengthField","minimumComplexField","maximumPasscodeAgeField","autoLockField","passcodeHistoryField","gracePeriodField","maxFailedField","failedAttemptsTimeoutField"],allowSimple:Admin.PasscodeCheckboxView.design({title:"_generic_string_Allow simple value".loc(),description:"_generic_string_Permit the use of repeating, ascending, and descending character sequences"
.loc(),contentValueKey:"allowSimple",isEnabledBinding:".owner.requirePasscodeOnDevice.value"}),requireAlphanumeric:Admin.PasscodeCheckboxView.design({title:"_generic_string_Require alphanumeric value".loc(),description:"_generic_string_Requires passcode to contain at least one letter".loc(),contentValueKey:"requireAlphanumeric",isEnabledBinding:".owner.requirePasscodeOnDevice.value"}),minimumPasscodeLengthField:Admin.KnobSetLeftButtonFieldView.design({layout:{left:parseFloat("_layout_grace_period_field".loc())-50,height:55},useStaticLayout:YES,label:"_generic_string_Minimum passcode length".loc(),isEnabledBinding:".owner.requirePasscodeOnDevice.value",description:"_generic_string_Smallest number of passcode characters allowed".loc(),buttonWidth:50,fieldObjects:[{value:null,name:"_generic_string_--".loc()},{value:1,name:"1".loc()},{value:2,name:"2".loc()},{value:3,name:"3".loc()},{value:4,name:"4".loc()},{value:5,name:"5".loc()},{value:6,name:"6".loc()},{value:7,name:"7".loc()},{value:8,name:"8".loc()},{value:9,name:"9".loc()},{value:10,name:"_generic_string_10".loc()},{value:11,name:"_generic_string_11".loc()},{value:12,name:"_generic_string_12".loc()},{value:13,name:"_generic_string_13".loc()},{value:14,name:"_generic_string_14".loc()},{value:15,name:"_generic_string_15".loc()},{value:16,name:"_generic_string_16".loc()}],contentBinding:".owner.content",fieldContentValueKey:"minLength"}),minimumComplexField:Admin.KnobSetLeftButtonFieldView.design({layout:{left:parseFloat("_layout_grace_period_field".loc())-50,height:55},useStaticLayout:YES,label:"_generic_string_Minimum number of complex characters"
.loc(),isEnabledBinding:".owner.requirePasscodeOnDevice.value",description:"_generic_string_Smallest number of non-alphanumeric characters allowed".loc(),buttonWidth:50,fieldObjects:[{value:null,name:"_generic_string_--".loc()},{value:1,name:"1".loc()},{value:2,name:"2".loc()},{value:3,name:"3".loc()},{value:4,name:"4".loc()}],contentBinding:".owner.content",fieldContentValueKey:"minComplexChars"}),maximumPasscodeAgeField:Admin.KnobSetLeftFieldView.design({layout:{left:parseFloat("_layout_grace_period_field".loc())-50,height:55},useStaticLayout:YES,label:"_generic_string_Maximum passcode age (1-730 days, or none)".loc(),isEnabledBinding:".owner.requirePasscodeOnDevice.value",description:"_generic_string_Days after which the passcode must be changed".loc(),textWidth:50,contentBinding:".owner.content",fieldContentValueKey:"maxPINAgeInDays"}),autoLockField:Admin.KnobSetLeftButtonFieldView.design({layout:{left:parseFloat("_layout_grace_period_field".loc())-80,height:55},useStaticLayout:YES,label:"_generic_string_Maximum Auto-Lock".loc(),isEnabledBinding:".owner.requirePasscodeOnDevice.value",description:"_generic_string_Longest auto-lock time available to the user".loc(),buttonWidth:80,fieldObjects:[{value:null,name:"_generic_string_--".loc()},{value:1,name:"_generic_string_1 minute".loc()},{value:2,name:"_generic_string_2 minutes".loc()},{value:3,name:"_generic_string_3 minutes".loc()},{value:4,name:"_generic_string_4 minutes".loc()},{value:5,name:"_generic_string_5 minutes".loc()}],contentBinding:".owner.content",fieldContentValueKey:"maxInactivity"}),passcodeHistoryField:Admin
.KnobSetLeftFieldView.design({layout:{left:parseFloat("_layout_grace_period_field".loc())-50,height:55,width:Admin.KNOB_WIDTH-(parseFloat("_layout_grace_period_field".loc())-50)},useStaticLayout:YES,label:"_generic_string_Passcode history (1-50 passcodes, or none)".loc(),isEnabledBinding:".owner.requirePasscodeOnDevice.value",description:"_generic_string_Number of unique passcodes before reuse".loc(),textWidth:50,contentBinding:".owner.content",fieldContentValueKey:"pinHistory"}),gracePeriodField:Admin.KnobSetLeftButtonFieldView.design({useStaticLayout:YES,label:"_generic_string_Maximum grace period for device lock".loc(),isEnabledBinding:".owner.requirePasscodeOnDevice.value",description:"_generic_string_Longest device lock grace period available to the user".loc(),buttonWidth:0+parseFloat("_layout_grace_period_field".loc()),fieldObjects:[{value:null,name:"_generic_string_--".loc()},{value:0,name:"_generic_string_Immediately".loc()},{value:1,name:"_generic_string_1 minute".loc()},{value:5,name:"_generic_string_5 minutes".loc()},{value:15,name:"_generic_string_15 minutes".loc()},{value:60,name:"_generic_string_1 hour".loc()},{value:240,name:"_generic_string_4 hours".loc()}],contentBinding:".owner.content",fieldContentValueKey:"maxGracePeriod"}),maxFailedField:Admin.KnobSetLeftButtonFieldView.design({layout:{left:parseFloat("_layout_grace_period_field".loc())-50,height:75,width:Admin.KNOB_WIDTH-(parseFloat("_layout_grace_period_field".loc())-50)},useStaticLayout:YES,label:"_generic_string_Maximum number of failed attempts".loc(),isEnabledBinding:".owner.requirePasscodeOnDevice.value"
,description:"_passcode_string_maximum_failed_attempts_description".loc(),buttonWidth:50,fieldObjects:[{value:null,name:"_generic_string_--".loc()},{value:2,name:"2".loc()},{value:3,name:"3".loc()},{value:4,name:"4".loc()},{value:5,name:"5".loc()},{value:6,name:"6".loc()},{value:7,name:"7".loc()},{value:8,name:"8".loc()},{value:9,name:"9".loc()},{value:10,name:"_generic_string_10".loc()},{value:11,name:"_generic_string_11".loc()}],contentBinding:".owner.content",fieldContentValueKey:"maxFailedAttempts"}),failedAttemptsTimeoutField:Admin.KnobSetLeftFieldView.design({layout:{left:parseFloat("_layout_grace_period_field".loc())-50,height:65},descriptionWidth:Admin.KNOB_WIDTH-(parseFloat("_layout_grace_period_field".loc())-50),useStaticLayout:YES,label:"_passcode_string_failed_attempt_timeout_label".loc(),description:"_passcode_string_failed_attempt_timeout_description".loc(),textWidth:50,contentBinding:".owner.content",fieldContentValueKey:"failedLoginTimeout"})})}),Admin.PasscodeKnobSet=Admin.KnobSet.extend({allowSimple:SC.Record.attr(Boolean,{key:"allowSimple",defaultValue:YES}),forcePIN:SC.Record.attr(Boolean,{key:"forcePIN",defaultValue:YES}),maxFailedAttempts:SC.Record.attr(Number,{key:"maxFailedAttempts"}),maxInactivity:SC.Record.attr(Number,{key:"maxInactivity"}),maxPINAgeInDays:SC.Record.attr(Number,{key:"maxPINAgeInDays"}),minComplexChars:SC.Record.attr(Number,{key:"minComplexChars"}),minLength:SC.Record.attr(Number,{key:"minLength"}),requireAlphanumeric:SC.Record.attr(Boolean,{key:"requireAlphanumeric"}),pinHistory:SC.Record.attr(Number,{key:"pinHistory"}),manualFetchingWhenRoaming
:SC.Record.attr(Boolean),maxGracePeriod:SC.Record.attr(Number,{key:"maxGracePeriod",defaultValue:null}),failedLoginTimeout:SC.Record.attr(Number,{key:"minutesUntilFailedLoginReset"}),validatedProperties:{maxPINAgeInDays:Admin.NumberWithRangeValidator.create({minimumValue:1,maximumValue:730}),pinHistory:Admin.NumberWithRangeValidator.create({minimumValue:1,maximumValue:50})},contentExampleView:Admin.PasscodeKnobSetView}),Admin.PasscodeKnobSet.displayName="_passcode_knob_set_name".loc(),Admin.PasscodeKnobSet.largeIcon="admin-passcode-knob-set-large-icon",Admin.PasscodeKnobSet.numLines="_passcode_knob_set_num_lines".loc(),Admin.PasscodeKnobSet.profilePropertyName="passcodeKnobSets",SC.mixin(Admin.PasscodeKnobSet,{sortOrder:2,platformTypes:"iOS OSX"}),Admin.PasscodeKnobSet.systemLevel=YES,Admin.PasscodeKnobSet.userLevel=YES,Admin.PasscodeKnobSet.settingTypeDescription="_passcode_knob_set_description".loc(),Admin.RESTRICTIONS_INDENT=65,Admin.RestrictionCheckboxView=Admin.BoldCheckboxViewAbsolute.extend({layout:function(){var e=this.get("indentLevel"),t=this.get("beginGroup")||this.get("endGroup"),n=t?35:25;return{left:20*e,height:n,top:this.get("beginGroup")?10:0}}.property("indentLevel","beginGroup","endGroup").cacheable(),indentLevel:0,beginGroup:NO,endGroup:NO,useStaticLayout:YES,supportsAutoResize:NO}),Admin.RestrictionsKnobSetView=Admin.KnobSetView.extend({showKnobSetAdd:NO,contentView:Admin.KnobSetContentView.design({childViews:["mainSegmentedView","spacerView","deviceFunctionalityContainer","applicationsContainer","mediaContentContainer"],mainSegmentedView:SC.SegmentedView
.design({layout:{centerX:0,width:Admin.KNOB_WIDTH,height:50},useStaticLayout:YES,itemTitleKey:"title",itemValueKey:"value",items:[{title:"_generic_string_Functionality".loc(),value:"functionality"},{title:"_generic_string_Applications".loc(),value:"applications"},{title:"_generic_string_Media Content".loc(),value:"media"}],contentBinding:".owner.content",contentValueKey:"tabValue"}),spacerView:SC.View.design({layout:{height:30},useStaticLayout:YES}),deviceFunctionalityContainer:SC.View.design({useStaticLayout:YES,isVisible:function(){return this.get("tabValue")==="functionality"}.property("tabValue").cacheable(),tabValueBinding:".owner*content.tabValue",childViews:["allowCamera","allowVideoConferencing","allowScreenShot","allowAirDropView","allowChat","allowVoiceDialing","allowAssistant","allowAssistantWhileLocked","forceAssistantProfanityFilter","allowAssistantUserGeneratedContentView","allowBookstore","allowAppInstallation","allowAppRemoval","allowInAppPurchases","forceITunesPassword","allowCloudBackup","allowCloudDocumentSync","allowCloudKeychainSyncView","allowManagedAppsCloudSync","backupEnterpriseBooks","syncEnterpriseBooksMetadata","allowSharedStream","allowPhotoStream","allowGlobalBackgroundFetchWhenRoaming","forceEncryptedBackup","forceLimitAdTrackingView","allowEraseContentAndSettingsView","allowUntrustedTLSPrompt","allowOTAPKIUpdates","allowConfiguringRestrictionsView","allowUIConfigurationProfileInstallation","allowAccountModificationView","allowAppCellularDataModification","allowFindMyFriendsModificationView","allowHostPairing","allowOpenFromManagedToUnmanagedView"
,"allowOpenFromUnmanagedToManagedView","allowActivityContinuationView","allowSpotlightInternetResultsView","allowFingerprintForUnlockView","allowFingerprintModificationView","forceWatchWristDetectionView","forceAirplayPairing","allowPredictiveKeyboardView","allowAutoCorrectionView","allowSpellCheckView","allowDefineView","allowPassbookWhileLocked","allowLockScreenControlCenterView","allowLockScreenNotificationsView","allowLockScreenTodayView"],allowCamera:Admin.RestrictionCheckboxView.design({indentLevel:0,title:"_generic_string_Allow use of camera".loc(),contentBinding:".owner.owner.content",contentValueKey:"allowCamera"}),allowVideoConferencing:Admin.RestrictionCheckboxView.design({indentLevel:1,title:"_generic_string_Allow FaceTime".loc(),contentBinding:".owner.owner.content",contentValueKey:"allowVideoConferencing",isEnabledBinding:".owner.allowCamera.value"}),allowScreenShot:Admin.RestrictionCheckboxView.design({indentLevel:0,title:"_generic_string_Allow screen capture".loc(),contentBinding:".owner.owner.content",contentValueKey:"allowScreenShot"}),allowAirDropView:Admin.RestrictionCheckboxView.design({indentLevel:0,title:"_generic_string_Allow AirDrop (supervised only)".loc(),contentBinding:".owner.owner.content",contentValueKey:"allowAirDrop"}),allowChat:Admin.RestrictionCheckboxView.design({indentLevel:0,title:"_generic_string_Allow use of Messages".loc(),contentBinding:".owner.owner.content",contentValueKey:"allowChat"}),allowVoiceDialing:Admin.RestrictionCheckboxView.design({indentLevel:0,title:"_generic_string_Allow voice dialing".loc(),contentBinding:".owner.owner.content"
,contentValueKey:"allowVoiceDialing"}),allowAssistant:Admin.RestrictionCheckboxView.design({indentLevel:0,title:"_generic_string_Allow Siri".loc(),contentBinding:".owner.owner.content",contentValueKey:"allowAssistant"}),allowAssistantWhileLocked:Admin.RestrictionCheckboxView.design({indentLevel:1,title:"_generic_string_Allow Siri while device locked".loc(),contentBinding:".owner.owner.content",contentValueKey:"allowAssistantWhileLocked",isEnabledBinding:".owner.allowAssistant.value"}),forceAssistantProfanityFilter:Admin.RestrictionCheckboxView.design({indentLevel:1,title:"_generic_string_Enable Siri profanity filter (supervised only)".loc(),contentBinding:".owner.owner.content",contentValueKey:"forceAssistantProfanityFilter",isEnabledBinding:".owner.allowAssistant.value"}),allowAssistantUserGeneratedContentView:Admin.RestrictionCheckboxView.design({indentLevel:1,title:"_generic_string_Allow user-generated content in Siri (supervised only)".loc(),contentBinding:".owner.owner.content",contentValueKey:"allowAssistantUserGeneratedContent",isEnabledBinding:".owner.allowAssistant.value"}),allowBookstore:Admin.RestrictionCheckboxView.design({indentLevel:0,title:"_generic_string_Allow iBooks Store (supervised only)".loc(),contentBinding:".owner.owner.content",contentValueKey:"allowBookstore"}),allowAppInstallation:Admin.RestrictionCheckboxView.design({indentLevel:0,title:"_generic_string_Allow installing apps".loc(),contentBinding:".owner.owner.content",contentValueKey:"allowAppInstallation"}),allowAppRemoval:Admin.RestrictionCheckboxView.design({indentLevel:0,title:"_generic_string_Allow removing apps"
.loc(),contentBinding:".owner.owner.content",contentValueKey:"allowAppRemoval"}),allowInAppPurchases:Admin.RestrictionCheckboxView.design({indentLevel:0,title:"_generic_string_Allow In-App Purchase".loc(),contentBinding:".owner.owner.content",contentValueKey:"allowInAppPurchases"}),forceITunesPassword:Admin.RestrictionCheckboxView.design({indentLevel:0,title:"_generic_string_Require iTunes password for all purchases".loc(),contentBinding:".owner.owner.content",contentValueKey:"forceITunesPassword"}),allowCloudBackup:Admin.RestrictionCheckboxView.design({indentLevel:0,title:"_generic_string_Allow iCloud backup".loc(),contentBinding:".owner.owner.content",contentValueKey:"allowCloudBackup"}),allowCloudDocumentSync:Admin.RestrictionCheckboxView.design({indentLevel:0,title:"_generic_string_Allow iCloud documents & data".loc(),contentBinding:".owner.owner.content",contentValueKey:"allowCloudDocumentSync"}),allowCloudKeychainSyncView:Admin.RestrictionCheckboxView.design({indentLevel:0,title:"_generic_string_Allow iCloud keychain".loc(),contentBinding:".owner.owner.content",contentValueKey:"allowCloudKeychainSync"}),allowManagedAppsCloudSync:Admin.RestrictionCheckboxView.design({indentLevel:0,displayTitle:"_generic_string_Allow managed apps to store data in iCloud".loc(),contentBinding:".owner.owner.content",contentValueKey:"allowManagedAppsCloudSync"}),backupEnterpriseBooks:Admin.RestrictionCheckboxView.design({indentLevel:0,displayTitle:"_restriction_string_Backup enterprise books".loc(),contentBinding:".owner.owner.content",contentValueKey:"allowEnterpriseBookBackup"}),syncEnterpriseBooksMetadata
:Admin.RestrictionCheckboxView.design({indentLevel:0,displayTitle:"_restriction_string_Sync enterprise books notes and highlights".loc(),contentBinding:".owner.owner.content",contentValueKey:"allowEnterpriseBookMetadataSync"}),allowSharedStream:Admin.RestrictionCheckboxView.design({indentLevel:0,title:"_generic_string_Allow iCloud photo sharing".loc(),contentBinding:".owner.owner.content",contentValueKey:"allowSharedStream"}),allowPhotoStream:Admin.RestrictionCheckboxView.design({indentLevel:0,title:"_generic_string_Allow My Photo Stream (disallowing can cause data loss)".loc(),contentBinding:".owner.owner.content",contentValueKey:"allowPhotoStream"}),allowGlobalBackgroundFetchWhenRoaming:Admin.RestrictionCheckboxView.design({indentLevel:0,title:"_generic_string_Allow automatic sync while roaming".loc(),contentBinding:".owner.owner.content",contentValueKey:"allowGlobalBackgroundFetchWhenRoaming"}),forceEncryptedBackup:Admin.RestrictionCheckboxView.design({indentLevel:0,title:"_generic_string_Force encrypted backups".loc(),contentBinding:".owner.owner.content",contentValueKey:"forceEncryptedBackup"}),forceLimitAdTrackingView:Admin.RestrictionCheckboxView.design({indentLevel:0,title:"_generic_string_Force limited ad tracking".loc(),contentBinding:".owner.owner.content",contentValueKey:"forceLimitAdTracking"}),allowEraseContentAndSettingsView:Admin.RestrictionCheckboxView.design({indentLevel:0,title:"_restrictions_string_Allow Erase All Content and Settings".loc(),contentBinding:".owner.owner.content",contentValueKey:"allowEraseContentAndSettings"}),allowUntrustedTLSPrompt:Admin
.RestrictionCheckboxView.design({indentLevel:0,title:"_generic_string_Allow accepting untrusted TLS certificates".loc(),contentBinding:".owner.owner.content",contentValueKey:"allowUntrustedTLSPrompt"}),allowOTAPKIUpdates:Admin.RestrictionCheckboxView.design({indentLevel:0,title:"_generic_string_Allow automatic updates to certificate trust settings".loc(),contentBinding:".owner.owner.content",contentValueKey:"allowOTAPKIUpdates"}),allowConfiguringRestrictionsView:Admin.RestrictionCheckboxView.design({indentLevel:0,title:"_restrictions_string_Allow configuring restrictions".loc(),contentBinding:".owner.owner.content",contentValueKey:"allowEnablingRestrictions"}),allowUIConfigurationProfileInstallation:Admin.RestrictionCheckboxView.design({indentLevel:0,title:"_generic_string_Allow installing configuration profiles (supervised only)".loc(),contentBinding:".owner.owner.content",contentValueKey:"allowUIConfigurationProfileInstallation"}),allowAccountModificationView:Admin.RestrictionCheckboxView.design({indentLevel:0,title:"_generic_string_Allow modifying account settings (supervised only)".loc(),contentBinding:".owner.owner.content",contentValueKey:"allowAccountModification"}),allowAppCellularDataModification:Admin.RestrictionCheckboxView.design({indentLevel:0,title:"_generic_string_Allow modifying cellular data settings (supervised only)".loc(),contentBinding:".owner.owner.content",contentValueKey:"allowAppCellularDataModification"}),allowFindMyFriendsModificationView:Admin.RestrictionCheckboxView.design({indentLevel:0,title:"_generic_string_Allow modifying Find My Friends settings (supervised only)"
.loc(),contentBinding:".owner.owner.content",contentValueKey:"allowFindMyFriendsModification"}),allowHostPairing:Admin.RestrictionCheckboxView.design({indentLevel:0,title:"_generic_string_Allow pairing with non-Configurator hosts (supervised only)".loc(),contentBinding:".owner.owner.content",contentValueKey:"allowHostPairing"}),allowOpenFromManagedToUnmanagedView:Admin.RestrictionCheckboxView.design({indentLevel:0,title:"_generic_string_Allow documents from managed sources in unmanaged destinations".loc(),contentBinding:".owner.owner.content",contentValueKey:"allowOpenFromManagedToUnmanaged"}),allowOpenFromUnmanagedToManagedView:Admin.RestrictionCheckboxView.design({indentLevel:0,title:"_generic_string_Allow documents from unmanaged sources in managed destinations".loc(),contentBinding:".owner.owner.content",contentValueKey:"allowOpenFromUnmanagedToManaged"}),allowActivityContinuationView:Admin.RestrictionCheckboxView.design({indentLevel:0,title:"_restrictions_string_Allow Handoff".loc(),contentBinding:".owner.owner.content",contentValueKey:"allowActivityContinuation"}),allowSpotlightInternetResultsView:Admin.RestrictionCheckboxView.design({indentLevel:0,title:"_restrictions_string_Allow internet results in Spotlight".loc(),contentBinding:".owner.owner.content",contentValueKey:"allowSpotlightInternetResults"}),allowFingerprintForUnlockView:Admin.RestrictionCheckboxView.design({indentLevel:0,title:"_generic_string_Allow Touch ID to unlock device".loc(),contentBinding:".owner.owner.content",contentValueKey:"allowFingerprintForUnlock"}),allowFingerprintModificationView:Admin.RestrictionCheckboxView
.design({indentLevel:0,title:"_restriction_string_allow_modifying_touchid".loc(),contentBinding:".owner.owner.content",contentValueKey:"allowFingerprintModification"}),forceAirplayPairing:Admin.RestrictionCheckboxView.design({indentLevel:0,title:"_generic_string_Require passcode on first AirPlay pairing".loc(),contentBinding:".owner.owner.content",contentValueKey:"forceAirplayPairing"}),forceWatchWristDetectionView:Admin.RestrictionCheckboxView.design({indentLevel:0,title:"restriction_string_Force Watch wrist detection".loc(),contentBinding:".owner.owner.content",contentValueKey:"forceWatchWristDetection"}),allowPredictiveKeyboardView:Admin.RestrictionCheckboxView.design({indentLevel:0,beginGroup:YES,title:"_restriction_string_allow_predictive_keyboard".loc(),contentBinding:".owner.owner.content",contentValueKey:"allowPredictiveKeyboard"}),allowAutoCorrectionView:Admin.RestrictionCheckboxView.design({indentLevel:0,title:"_restriction_string_allow_auto_correction".loc(),contentBinding:".owner.owner.content",contentValueKey:"allowAutoCorrection"}),allowSpellCheckView:Admin.RestrictionCheckboxView.design({indentLevel:0,title:"_restriction_string_allow_spellcheck".loc(),contentBinding:".owner.owner.content",contentValueKey:"allowSpellCheck"}),allowDefineView:Admin.RestrictionCheckboxView.design({indentLevel:0,endGroup:YES,title:"_restriction_string_allow_define".loc(),contentBinding:".owner.owner.content",contentValueKey:"allowDefine"}),allowPassbookWhileLocked:Admin.RestrictionCheckboxView.design({indentLevel:0,title:"_generic_string_Allow Passbook while device locked".loc(),contentBinding
:".owner.owner.content",contentValueKey:"allowPassbookWhileLocked"}),allowLockScreenControlCenterView:Admin.RestrictionCheckboxView.design({indentLevel:0,title:"_generic_string_Allow Control Center on lock screen".loc(),contentBinding:".owner.owner.content",contentValueKey:"allowLockScreenControlCenter"}),allowLockScreenNotificationsView:Admin.RestrictionCheckboxView.design({indentLevel:0,title:"_generic_string_Show notifications view on lock screen".loc(),contentBinding:".owner.owner.content",contentValueKey:"allowLockScreenNotificationsView"}),allowLockScreenTodayView:Admin.RestrictionCheckboxView.design({indentLevel:0,title:"_generic_string_Show today view on lock screen".loc(),contentBinding:".owner.owner.content",contentValueKey:"allowLockScreenTodayView"})}),applicationsContainer:SC.View.design({useStaticLayout:YES,isVisible:function(){return this.get("tabValue")==="applications"}.property("tabValue").cacheable(),tabValueBinding:".owner*content.tabValue",childViews:["allowiTunes","allowPodcasts","allowGameCenter","allowMultiplayerGaming","allowAddingGameCenterFriends","allowSafari","safariAllowAutoFill","safariForceFraudWarning","safariAllowJavaScript","safariAllowPopups","safariAcceptCookies","autonomousSingleAppModePermittedAppIDs"],allowiTunes:Admin.RestrictionCheckboxView.design({indentLevel:0,title:"_generic_string_Allow use of iTunes Store".loc(),contentBinding:".owner.owner.content",contentValueKey:"allowiTunes"}),allowPodcasts:Admin.RestrictionCheckboxView.design({indentLevel:0,title:"_generic_string_Allow Podcasts (supervised only)".loc(),contentBinding:".owner.owner.content"
,contentValueKey:"allowPodcasts"}),allowGameCenter:Admin.RestrictionCheckboxView.design({indentLevel:0,title:"_generic_string_Allow GameCenter".loc(),contentBinding:".owner.owner.content",contentValueKey:"allowGameCenter"}),allowMultiplayerGaming:Admin.RestrictionCheckboxView.design({indentLevel:1,title:"_generic_string_Allow multiplayer gaming".loc(),contentBinding:".owner.owner.content",contentValueKey:"allowMultiplayerGaming",isEnabledBinding:".owner.allowGameCenter.value"}),allowAddingGameCenterFriends:Admin.RestrictionCheckboxView.design({indentLevel:1,title:"_generic_string_Allow adding Game Center friends".loc(),contentBinding:".owner.owner.content",contentValueKey:"allowAddingGameCenterFriends",isEnabledBinding:".owner.allowGameCenter.value"}),allowSafari:Admin.RestrictionCheckboxView.design({indentLevel:0,title:"_generic_string_Allow use of Safari".loc(),contentBinding:".owner.owner.content",contentValueKey:"allowSafari"}),safariAllowAutoFill:Admin.RestrictionCheckboxView.design({indentLevel:1,title:"_generic_string_Enable autofill".loc(),isEnabledBinding:".owner.allowSafari.value",contentBinding:".owner.owner.content",contentValueKey:"safariAllowAutoFill"}),safariForceFraudWarning:Admin.RestrictionCheckboxView.design({indentLevel:1,title:"_generic_string_Force fraud warning".loc(),isEnabledBinding:".owner.allowSafari.value",contentBinding:".owner.owner.content",contentValueKey:"safariForceFraudWarning"}),safariAllowJavaScript:Admin.RestrictionCheckboxView.design({indentLevel:1,title:"_generic_string_Enable JavaScript".loc(),isEnabledBinding:".owner.allowSafari.value"
,contentBinding:".owner.owner.content",contentValueKey:"safariAllowJavaScript"}),safariAllowPopups:Admin.RestrictionCheckboxView.design({indentLevel:1,title:"_generic_string_Block pop-ups".loc(),isEnabledBinding:".owner.allowSafari.value",contentBinding:".owner.owner.content",contentValueKey:"blockPopups"}),safariAcceptCookies:SC.View.design({layout:{height:60},useStaticLayout:YES,childViews:["safariAcceptCookiesLabel","safariAcceptCookiesSelect"],safariAcceptCookiesLabel:Admin.BoldLabelViewAbsolute.design({layout:{height:25,left:20},useStaticLayout:YES,isEnabledBinding:".owner.owner.allowSafari.value",value:"_restriction_string_Block Cookies".loc()}),safariAcceptCookiesSelect:SC.SelectButtonView.design({layout:{left:20,width:parseFloat("_restriction_safari_block_cookies_options_width".loc()),height:25},useStaticLayout:YES,isEnabledBinding:".owner.owner.allowSafari.value",objects:[{value:0,name:"_restriction_string_block_cookies_Always Block".loc()},{value:1,name:"_restriction_string_block_cookies_Allow from Current Website Only".loc()},{value:1.5,name:"_restriction_string_block_cookies_Allow from Websites I Visit".loc()},{value:2,name:"_restriction_string_block_cookies_Always Allow".loc()}],themeName:"popup",nameKey:"name",valueKey:"value",contentBinding:".owner.owner.owner.content",contentValueKey:"safariAcceptCookies"})}),autonomousSingleAppModePermittedAppIDs:Admin.UnScrollableListView.design({title:"_generic_string_Autonomous Single App Mode (Supervised Only)".loc(),description:"_generic_string_Allow these apps to enter Single App Mode".loc(),isVisibleBinding:"Admin.itemSelectionController.isSystemLevel"
,addAction:function(){var e=Admin.InstalledAppPickerPage.getPath("addInstalledAppsSheet");e.set("whiteListedApps",this.getPath("owner.owner.content")),e.append(),e.set("delegate",this.getPath("owner.owner"))},addApplications:function(e){var t=this.get("content");t.pushObjects(e)},removeAction:"removeSelectedApplication",removeTarget:SC.outlet("owner.owner.content"),canEditContent:NO,isEditable:NO,exampleView:SC.ListItemView.extend({isEditing:NO}),contentBinding:SC.Binding.oneWay(".owner.owner*content.autonomousSingleAppModePermittedAppIDs"),selectionBinding:".owner.owner*content.autonomousSingleAppModePermittedAppIDsSelection"})}),mediaContentContainer:SC.View.design({layout:{centerX:0,width:Admin.KNOB_WIDTH,height:275},useStaticLayout:YES,isVisible:function(){return this.get("tabValue")==="media"}.property("tabValue").cacheable(),tabValueBinding:".owner*content.tabValue",childViews:["ratingsRegionLabel","ratingsRegionDescription","ratingsRegion","allowedContentLabel","allowedContentDescription","moviesLabel","ratingMovies","tvShowsLabel","ratingTVShows","appsLabel","ratingApps","allowExplicitContent","allowBookstoreErotica"],ratingsRegionLabel:Admin.BoldLabelViewAbsolute.design({layout:{left:Admin.RESTRICTIONS_INDENT,right:0,height:20,top:5},value:"_generic_string_Ratings region".loc()}),ratingsRegionDescription:Admin.DescriptionLabelViewAbsolute.design({layout:{left:Admin.RESTRICTIONS_INDENT,right:0,height:20,top:25},value:"_generic_string_Sets the region for the ratings".loc()}),ratingsRegion:SC.SelectButtonView.design({layout:{left:Admin.RESTRICTIONS_INDENT-3,width:195,height
:25,top:45},objects:[{value:"au",name:"_generic_string_Australia".loc()},{value:"ca",name:"_generic_string_Canada".loc()},{value:"fr",name:"_generic_string_France".loc()},{value:"de",name:"_generic_string_Germany".loc()},{value:"ie",name:"_generic_string_Ireland".loc()},{value:"jp",name:"_generic_string_Japan".loc()},{value:"nz",name:"_generic_string_New Zealand".loc()},{value:"gb",name:"_generic_string_United Kingdom".loc()},{value:"us",name:"_generic_string_United States".loc()}],themeName:"popup",nameKey:"name",valueKey:"value",contentBinding:".owner.owner.content",contentValueKey:"ratingRegion"}),allowedContentLabel:Admin.BoldLabelViewAbsolute.design({layout:{left:Admin.RESTRICTIONS_INDENT,right:0,height:20,top:80},value:"_generic_string_Allowed content ratings".loc()}),allowedContentDescription:Admin.DescriptionLabelViewAbsolute.design({layout:{left:Admin.RESTRICTIONS_INDENT,right:0,height:20,top:100},value:"_generic_string_Sets the maximum allowed ratings".loc()}),moviesLabel:Admin.BoldLabelViewAbsolute.design({layout:{left:Admin.RESTRICTIONS_INDENT-32,width:parseFloat("_layout_allowed_content_button_labels_width".loc()),height:20,top:130},textAlign:SC.ALIGN_RIGHT,value:"_generic_string_Movies:".loc()}),ratingMovies:SC.SelectButtonView.design({layout:{left:Admin.RESTRICTIONS_INDENT+75-100+parseFloat("_layout_allowed_content_button_labels_width".loc()),width:0+parseFloat("_layout_allowed_content_popup_menu_items_width".loc()),height:25,top:127},objects:function(){var e=[];switch(this.ratingsRegionValue){case"au":e=[{value:0,name:"_generic_string_Don't Allow Movies".loc(
)},{value:100,name:"_generic_string_G".loc().loc()},{value:200,name:"_generic_string_PG".loc()},{value:350,name:"_generic_string_M".loc().loc()},{value:375,name:"_generic_string_MA15+".loc()},{value:400,name:"_generic_string_R18+".loc()},{value:1e3,name:"_generic_string_Allow All Movies".loc()}];break;case"ca":e=[{value:0,name:"_generic_string_Don't Allow Movies".loc()},{value:100,name:"_generic_string_G".loc().loc()},{value:200,name:"_generic_string_PG".loc()},{value:325,name:"_generic_string_14A".loc()},{value:400,name:"_generic_string_18A".loc()},{value:500,name:"_generic_string_R".loc().loc()},{value:1e3,name:"_generic_string_Allow All Movies".loc()}];break;case"fr":e=[{value:0,name:"_generic_string_Don't Allow Movies".loc()},{value:100,name:"_generic_string_-10".loc()},{value:200,name:"_generic_string_-12".loc()},{value:500,name:"_generic_string_-16".loc()},{value:600,name:"_generic_string_-18".loc()},{value:1e3,name:"_generic_string_Allow All Movies".loc()}];break;case"de":e=[{value:0,name:"_generic_string_Don't Allow Movies".loc()},{value:75,name:"_generic_string_ab 0 Jahren".loc()},{value:100,name:"_generic_string_ab 6 Jahren".loc()},{value:200,name:"_generic_string_ab 12 Jahren".loc()},{value:500,name:"_generic_string_ab 16 Jahren".loc()},{value:600,name:"_generic_string_ab 18 Jahren".loc()},{value:1e3,name:"_generic_string_Allow All Movies".loc()}];break;case"ie":e=[{value:0,name:"_generic_string_Don't Allow Movies".loc()},{value:100,name:"_generic_string_G".loc().loc()},{value:200,name:"_generic_string_PG".loc()},{value:300,name:"_generic_string_12".loc()},{value:350
,name:"_generic_string_15".loc()},{value:375,name:"_generic_string_16".loc()},{value:400,name:"_generic_string_18".loc()},{value:1e3,name:"_generic_string_Allow All Movies".loc()}];break;case"jp":e=[{value:0,name:"_generic_string_Don't Allow Movies".loc()},{value:100,name:"_generic_string_G".loc().loc()},{value:200,name:"_generic_string_PG-12".loc()},{value:300,name:"_generic_string_R-15".loc()},{value:400,name:"_generic_string_R-18".loc()},{value:1e3,name:"_generic_string_Allow All Movies".loc()}];break;case"nz":e=[{value:0,name:"_generic_string_Don't Allow Movies".loc()},{value:100,name:"_generic_string_G".loc().loc()},{value:200,name:"_generic_string_PG".loc()},{value:300,name:"_generic_string_M".loc().loc()},{value:325,name:"_generic_string_R13".loc()},{value:350,name:"_generic_string_R15".loc()},{value:375,name:"_generic_string_R16".loc()},{value:400,name:"_generic_string_R18".loc()},{value:500,name:"_generic_string_R".loc().loc()},{value:600,name:"_generic_string_RP16".loc()},{value:1e3,name:"_generic_string_Allow All Movies".loc()}];break;case"gb":e=[{value:0,name:"_generic_string_Don't Allow Movies".loc()},{value:100,name:"_generic_string_U".loc().loc()},{value:150,name:"_generic_string_Uc".loc()},{value:200,name:"_generic_string_PG".loc()},{value:300,name:"_generic_string_12".loc()},{value:325,name:"_generic_string_12A".loc()},{value:350,name:"_generic_string_15".loc()},{value:400,name:"_generic_string_18".loc()},{value:1e3,name:"_generic_string_Allow All Movies".loc()}];break;case"us":e=[{value:0,name:"_generic_string_Don't Allow Movies".loc()},{value:100,name:"_generic_string_G"
.loc().loc()},{value:200,name:"_generic_string_PG".loc()},{value:300,name:"_generic_string_PG-13".loc()},{value:400,name:"_generic_string_R".loc().loc()},{value:500,name:"_generic_string_NC-17".loc()},{value:1e3,name:"_generic_string_Allow All Movies".loc()}]}return e}.property("ratingsRegionValue").cacheable(),ratingsRegionValueBinding:".owner.ratingsRegion.value",themeName:"popup",nameKey:"name",valueKey:"value",contentBinding:".owner.owner.content",contentValueKey:"ratingMovies"}),tvShowsLabel:Admin.BoldLabelViewAbsolute.design({layout:{left:Admin.RESTRICTIONS_INDENT-32,width:parseFloat("_layout_allowed_content_button_labels_width".loc()),height:20,top:160},textAlign:SC.ALIGN_RIGHT,value:"_generic_string_TV Shows:".loc()}),ratingTVShows:SC.SelectButtonView.design({layout:{left:Admin.RESTRICTIONS_INDENT+75-100+parseFloat("_layout_allowed_content_button_labels_width".loc()),width:0+parseFloat("_layout_allowed_content_popup_menu_items_width".loc()),height:25,top:157},objects:function(){var e=[];switch(this.ratingsRegionValue){case"au":e=[{value:0,name:"_generic_string_Don't Allow TV Shows".loc()},{value:100,name:"_generic_string_P".loc().loc()},{value:200,name:"_generic_string_C".loc().loc()},{value:300,name:"_generic_string_G".loc().loc()},{value:400,name:"_generic_string_PG".loc()},{value:500,name:"_generic_string_M".loc().loc()},{value:550,name:"_generic_string_MA15+".loc()},{value:575,name:"_generic_string_AV15+".loc()},{value:1e3,name:"_generic_string_Allow All TV Shows".loc()}];break;case"ca":e=[{value:0,name:"_generic_string_Don't Allow TV Shows".loc()},{value:100,name
:"_generic_string_C".loc().loc()},{value:200,name:"_generic_string_C8".loc()},{value:300,name:"_generic_string_G".loc().loc()},{value:400,name:"_generic_string_PG".loc()},{value:500,name:"_generic_string_14+".loc()},{value:600,name:"_generic_string_18+".loc()},{value:1e3,name:"_generic_string_Allow All TV Shows".loc()}];break;case"fr":e=[{value:0,name:"_generic_string_Don't Allow TV Shows".loc()},{value:100,name:"_generic_string_-10".loc()},{value:200,name:"_generic_string_-12".loc()},{value:500,name:"_generic_string_-16".loc()},{value:600,name:"_generic_string_-18".loc()},{value:1e3,name:"_generic_string_Allow All TV Shows".loc()}];break;case"de":e=[{value:0,name:"_generic_string_Don't Allow TV Shows".loc()},{value:75,name:"_generic_string_ab 0 Jahren".loc()},{value:100,name:"_generic_string_ab 6 Jahren".loc()},{value:200,name:"_generic_string_ab 12 Jahren".loc()},{value:500,name:"_generic_string_ab 16 Jahren".loc()},{value:600,name:"_generic_string_ab 18 Jahren".loc()},{value:1e3,name:"_generic_string_Allow All TV Shows".loc()}];break;case"ie":e=[{value:0,name:"_generic_string_Don't Allow TV Shows".loc()},{value:100,name:"_generic_string_GA".loc()},{value:200,name:"_generic_string_Ch".loc()},{value:400,name:"_generic_string_YA".loc()},{value:500,name:"_generic_string_PS".loc()},{value:600,name:"_generic_string_MA".loc()},{value:1e3,name:"_generic_string_Allow All TV Shows".loc()}];break;case"jp":e=[{value:0,name:"_generic_string_Don't Allow TV Shows".loc()},{value:500,name:"_generic_string_Explicit Allowed".loc()},{value:1e3,name:"_generic_string_Allow All TV Shows".loc()}
];break;case"nz":e=[{value:0,name:"_generic_string_Don't Allow TV Shows".loc()},{value:200,name:"_generic_string_G".loc().loc()},{value:400,name:"_generic_string_PGR".loc()},{value:600,name:"_generic_string_AO".loc()},{value:1e3,name:"_generic_string_Allow All TV Shows".loc()}];break;case"gb":e=[{value:0,name:"_generic_string_Don't Allow TV Shows".loc()},{value:500,name:"_generic_string_Caution".loc()},{value:1e3,name:"_generic_string_Allow All TV Shows".loc()}];break;case"us":e=[{value:0,name:"_generic_string_Don't Allow TV Shows".loc()},{value:100,name:"_generic_string_TV-Y".loc()},{value:200,name:"_generic_string_TV-Y7".loc()},{value:300,name:"_generic_string_TV-G".loc()},{value:400,name:"_generic_string_TV-PG".loc()},{value:500,name:"_generic_string_TV-14".loc()},{value:600,name:"_generic_string_TV-MA".loc()},{value:1e3,name:"_generic_string_Allow All TV Shows".loc()}]}return e}.property("ratingsRegionValue").cacheable(),ratingsRegionValueBinding:".owner.ratingsRegion.value",themeName:"popup",nameKey:"name",valueKey:"value",contentBinding:".owner.owner.content",contentValueKey:"ratingTVShows"}),appsLabel:Admin.BoldLabelViewAbsolute.design({layout:{left:Admin.RESTRICTIONS_INDENT-32,width:parseFloat("_layout_allowed_content_button_labels_width".loc()),height:20,top:190},textAlign:SC.ALIGN_RIGHT,value:"_generic_string_Apps:".loc()}),ratingApps:SC.SelectButtonView.design({layout:{left:Admin.RESTRICTIONS_INDENT+75-100+parseFloat("_layout_allowed_content_button_labels_width".loc()),width:0+parseFloat("_layout_allowed_content_popup_menu_items_width".loc()),height:25,top:187},objects
:[{value:0,name:"_generic_string_Don't Allow Apps".loc()},{value:100,name:"_generic_string_4+".loc()},{value:200,name:"_generic_string_9+".loc()},{value:300,name:"_generic_string_12+".loc()},{value:600,name:"_generic_string_17+".loc()},{value:1e3,name:"_generic_string_Allow All Apps".loc()}],themeName:"popup",nameKey:"name",valueKey:"value",contentBinding:".owner.owner.content",contentValueKey:"ratingApps"}),allowExplicitContent:Admin.BoldCheckboxViewAbsolute.design({layout:{left:Admin.RESTRICTIONS_INDENT-4,right:0,height:20,top:230},title:"_generic_string_Allow explicit music, podcasts, and iTunes U".loc(),contentBinding:".owner.owner.content",contentValueKey:"allowExplicitContent"}),allowBookstoreErotica:Admin.BoldCheckboxViewAbsolute.design({layout:{left:Admin.RESTRICTIONS_INDENT-4,right:0,height:20,top:255},title:"_generic_string_Allow explicit sexual content in iBooks Store".loc(),contentBinding:".owner.owner.content",contentValueKey:"allowBookstoreErotica"})})})}),Admin.RestrictionsKnobSet=Admin.KnobSet.extend({tabValue:"functionality",allowAppInstallation:SC.Record.attr(Boolean,{key:"allowAppInstallation",defaultValue:YES}),_allowCamera:SC.Record.attr(Boolean,{key:"allowCamera",defaultValue:YES}),allowCamera:function(e,t){return t!==undefined&&(this.set("_allowCamera",t),this.set("allowVideoConferencing",t)),this.get("_allowCamera")}.property("_allowCamera"),allowVideoConferencing:SC.Record.attr(Boolean,{key:"allowVideoConferencing",defaultValue:YES}),allowExplicitContent:SC.Record.attr(Boolean,{key:"allowExplicitContent",defaultValue:YES}),allowScreenShot:SC.Record.attr
(Boolean,{key:"allowScreenShot",defaultValue:YES}),allowiTunes:SC.Record.attr(Boolean,{key:"allowiTunes",defaultValue:YES}),allowVoiceDialing:SC.Record.attr(Boolean,{key:"allowVoiceDialing",defaultValue:YES}),allowMultiplayerGaming:SC.Record.attr(Boolean,{key:"allowMultiplayerGaming",defaultValue:YES}),allowAddingGameCenterFriends:SC.Record.attr(Boolean,{key:"allowAddingGameCenterFriends",defaultValue:YES}),allowGlobalBackgroundFetchWhenRoaming:SC.Record.attr(Boolean,{key:"allowGlobalBackgroundFetchWhenRoaming",defaultValue:YES}),allowLocationServices:SC.Record.attr(Boolean,{key:"allowLocationServices"}),forceEncryptedBackup:SC.Record.attr(Boolean,{key:"forceEncryptedBackup",defaultValue:NO}),forceContentProtection:SC.Record.attr(Boolean,{key:"forceContentProtection"}),_forceAirPlayOutgoingRequestsPairingPassword:SC.Record.attr(Boolean,{key:"forceAirPlayOutgoingRequestsPairingPassword",defaultValue:NO}),_forceAirPlayIncomingRequestsPairingPassword:SC.Record.attr(Boolean,{key:"forceAirPlayIncomingRequestsPairingPassword",defaultValue:NO}),forceAirplayPairing:function(e,t){return t!==undefined&&(this.set("_forceAirPlayOutgoingRequestsPairingPassword",t),this.set("_forceAirPlayIncomingRequestsPairingPassword",t)),this.get("_forceAirPlayIncomingRequestsPairingPassword")}.property("_forceAirPlayOutgoingRequestsPairingPassword","_forceAirPlayIncomingRequestsPairingPassword").cacheable(),forceWatchWristDetection:SC.Record.attr(Boolean,{key:"forceWatchWristDetection",defaultValue:NO}),allowPredictiveKeyboard:SC.Record.attr(Boolean,{key:"allowPredictiveKeyboard",defaultValue:YES}),allowAutoCorrection
:SC.Record.attr(Boolean,{key:"allowAutoCorrection",defaultValue:YES}),allowSpellCheck:SC.Record.attr(Boolean,{key:"allowSpellCheck",defaultValue:YES}),allowDefine:SC.Record.attr(Boolean,{key:"allowDefinitionLookup",defaultValue:YES}),_allowSafari:SC.Record.attr(Boolean,{key:"allowSafari",defaultValue:YES}),allowSafari:function(e,t){return t!==undefined&&(t===NO?(this.set("safariAllowAutoFill",t),this.set("safariForceFraudWarning",t),this.set("safariAllowJavaScript",t),this.set("blockPopups",t),this.set("safariAcceptCookies",2)):(this.set("safariAllowAutoFill",t),this.set("safariAllowJavaScript",t)),this.set("_allowSafari",t)),this.get("_allowSafari")}.property("_allowSafari").cacheable(),safariAllowAutoFill:SC.Record.attr(Boolean,{key:"safariAllowAutoFill",defaultValue:YES}),safariForceFraudWarning:SC.Record.attr(Boolean,{key:"safariForceFraudWarning",defaultValue:NO}),safariAllowJavaScript:SC.Record.attr(Boolean,{key:"safariAllowJavaScript",defaultValue:YES}),_safariAllowPopups:SC.Record.attr(Boolean,{key:"safariAllowPopups",defaultValue:YES}),blockPopups:function(e,t){return t!==undefined&&this.set("_safariAllowPopups",!t),!this.get("_safariAllowPopups")}.property("_safariAllowPopups").cacheable(),safariAcceptCookies:SC.Record.attr(Number,{key:"safariAcceptCookies",defaultValue:2}),allowInAppPurchases:SC.Record.attr(Boolean,{key:"allowInAppPurchases",defaultValue:YES}),_ratingRegion:SC.Record.attr(String,{key:"ratingRegion",defaultValue:"us"}),ratingMovies:SC.Record.attr(Number,{key:"ratingMovies",defaultValue:1e3}),ratingTVShows:SC.Record.attr(Number,{key:"ratingTVShows",
defaultValue:1e3}),ratingApps:SC.Record.attr(Number,{key:"ratingApps",defaultValue:1e3}),forceITunesPassword:SC.Record.attr(Boolean,{key:"forceITunesStorePasswordEntry",defaultValue:NO}),allowUntrustedTLSPrompt:SC.Record.attr(Boolean,{key:"allowUntrustedTLSPrompt",defaultValue:YES}),allowOTAPKIUpdates:SC.Record.attr(Boolean,{key:"allowOTAPKIUpdates",defaultValue:YES}),allowEnablingRestrictions:SC.Record.attr(Boolean,{key:"allowEnablingRestrictions",defaultValue:YES}),_allowAssistant:SC.Record.attr(Boolean,{key:"allowAssistant",defaultValue:YES}),allowAssistant:function(e,t){return t!==undefined&&(this.set("_allowAssistant",t),this.set("allowAssistantWhileLocked",t),this.set("forceAssistantProfanityFilter",!1),this.set("allowAssistantUserGeneratedContent",t)),this.get("_allowAssistant")}.property("_allowAssistant"),allowAssistantWhileLocked:SC.Record.attr(Boolean,{key:"allowAssistantWhileLocked",defaultValue:YES}),forceAssistantProfanityFilter:SC.Record.attr(Boolean,{key:"forceAssistantProfanityFilter",defaultValue:NO}),allowCloudBackup:SC.Record.attr(Boolean,{key:"allowCloudBackup",defaultValue:YES}),allowPhotoStream:SC.Record.attr(Boolean,{key:"allowPhotoStream",defaultValue:YES}),allowCloudDocumentSync:SC.Record.attr(Boolean,{key:"allowCloudDocumentSync",defaultValue:YES}),allowCloudKeychainSync:SC.Record.attr(Boolean,{key:"allowCloudKeychainSync",defaultValue:YES}),allowManagedAppsCloudSync:SC.Record.attr(Boolean,{key:"allowManagedAppsCloudSync",defaultValue:YES}),allowAppRemoval:SC.Record.attr(Boolean,{key:"allowAppRemoval",defaultValue:YES}),ratingRegion:function(e,t){return t!==
undefined&&(this.set("_ratingRegion",t),this.set("ratingMovies",1e3),this.set("ratingTVShows",1e3),this.set("ratingApps",1e3)),this.get("_ratingRegion")}.property("_ratingRegion").cacheable(),allowBookstore:SC.Record.attr(Boolean,{key:"allowBookstore",defaultValue:YES}),allowBookstoreErotica:SC.Record.attr(Boolean,{key:"allowBookstoreErotica",defaultValue:YES}),allowPodcasts:SC.Record.attr(Boolean,{key:"allowPodcasts",defaultValue:YES}),allowSharedStream:SC.Record.attr(Boolean,{key:"allowSharedStream",defaultValue:YES}),allowPassbookWhileLocked:SC.Record.attr(Boolean,{key:"allowPassbookWhileLocked",defaultValue:YES}),_allowGameCenter:SC.Record.attr(Boolean,{key:"allowGameCenter",defaultValue:YES}),allowGameCenter:function(e,t){return t!==undefined&&(this.set("allowAddingGameCenterFriends",t),this.set("allowMultiplayerGaming",t),this.set("_allowGameCenter",t)),this.get("_allowGameCenter")}.property("_allowGameCenter"),allowUIConfigurationProfileInstallation:SC.Record.attr(Boolean,{key:"allowUIConfigurationProfileInstallation",defaultValue:YES}),allowChat:SC.Record.attr(Boolean,{key:"allowChat",defaultValue:YES}),allowAccountModification:SC.Record.attr(Boolean,{key:"allowAccountModification",defaultValue:YES}),allowFindMyFriendsModification:SC.Record.attr(Boolean,{key:"allowFindMyFriendsModification",defaultValue:YES}),allowHostPairing:SC.Record.attr(Boolean,{key:"allowHostPairing",defaultValue:YES}),allowAppCellularDataModification:SC.Record.attr(Boolean,{key:"allowAppCellularDataModification",defaultValue:YES}),allowOpenFromUnmanagedToManaged:SC.Record.attr(Boolean,{key:"allowOpenFromUnmanagedToManaged"
,defaultValue:YES}),allowOpenFromManagedToUnmanaged:SC.Record.attr(Boolean,{key:"allowOpenFromManagedToUnmanaged",defaultValue:YES}),allowActivityContinuation:SC.Record.attr(Boolean,{key:"allowActivityContinuation",defaultValue:YES}),allowSpotlightInternetResults:SC.Record.attr(Boolean,{key:"allowSpotlightInternetResults",defaultValue:YES}),allowLockScreenControlCenter:SC.Record.attr(Boolean,{key:"allowLockScreenControlCenter",defaultValue:YES}),allowLockScreenNotificationsView:SC.Record.attr(Boolean,{key:"allowLockScreenNotificationsView",defaultValue:YES}),allowLockScreenTodayView:SC.Record.attr(Boolean,{key:"allowLockScreenTodayView",defaultValue:YES}),allowAssistantUserGeneratedContent:SC.Record.attr(Boolean,{key:"allowAssistantUserGeneratedContent",defaultValue:YES}),allowAirDrop:SC.Record.attr(Boolean,{key:"allowAirDrop",defaultValue:YES}),forceLimitAdTracking:SC.Record.attr(Boolean,{key:"forceLimitAdTracking",defaultValue:NO}),allowEraseContentAndSettings:SC.Record.attr(Boolean,{key:"allowEraseContentAndSettings",defaultValue:YES}),allowFingerprintForUnlock:SC.Record.attr(Boolean,{key:"allowFingerprintForUnlock",defaultValue:YES}),allowFingerprintModification:SC.Record.attr(Boolean,{key:"allowFingerprintModification",defaultValue:YES}),allowEnterpriseBookMetadataSync:SC.Record.attr(Boolean,{key:"allowEnterpriseBookMetadataSync",defaultValue:YES}),allowEnterpriseBookBackup:SC.Record.attr(Boolean,{key:"allowEnterpriseBookBackup",defaultValue:YES}),autonomousSingleAppModePermittedAppIDsSelection:null,removeSelectedApplication:function(e){var t=this.get("autonomousSingleAppModePermittedAppIDsSelection"
);t&&this.get("autonomousSingleAppModePermittedAppIDs").removeObjects(t)},autonomousSingleAppModePermittedAppIDs:SC.Record.attr(Array,{key:"autonomousSingleAppModePermittedAppIDs",defaultValue:function(){return[]},transform:{to:function(e,t,n,r,i){var s=[],o=r.get("profile"),u=o?o.get("installedApplications"):[];return e&&u&&e.forEach(function(e){u.forEach(function(t){e===t.value&&s.push(t)})}),s},from:function(e,t,n,r,i){var s=null;return e&&(s=[],e.forEach(function(e){s.push(e.value)})),s},observesChildren:["[]"]}}),contentExampleView:Admin.RestrictionsKnobSetView}),Admin.RestrictionsKnobSet.displayName="_restrictions_knob_set_name".loc(),Admin.RestrictionsKnobSet.largeIcon="admin-restrictions-knob-set-large-icon",Admin.RestrictionsKnobSet.numLines="_restrictions_knob_set_num_lines".loc(),Admin.RestrictionsKnobSet.profilePropertyName="restrictionsKnobSets",SC.mixin(Admin.RestrictionsKnobSet,{sortOrder:2.5,platformTypes:"iOS"}),Admin.RestrictionsKnobSet.systemLevel=YES,Admin.RestrictionsKnobSet.userLevel=YES,Admin.RestrictionsKnobSet.settingTypeDescription="_restrictions_knob_set_description".loc(),Admin.InterfaceKnobSetView=Admin.KnobSetView.extend({contentView:Admin.KnobSetContentView.design({childViews:["networkInterfaceField","hotspotDisplayedOperatorName","hotspotDomainName","hotspotRoamingConsortiumOIs","nAIRealmNames","mCCAndMNCsTitle","mCCAndMNCsDescription","mCCAndMNCsTable","mCCAndMNCsAddRemoveContainer","ssidField","wifiOptions","manualProxySettings","automaticProxySettings","securityTypeField","passwordField","loginWindowField","enterpriseNetworkSettings","protocolsView"
,"protocolEapFast","authenticationDirectoryCheckbox","authenticationUsernameField","authenticationPerConnectionPasswordField","authenticationPasswordField","authenticationIdentityCertificateField","protocolInnerAuthenticationField","authenticationOuterIdentityField","eapSimFields","trustedCertificatesTitle","trustedCertificatesDescription","trustedCertificates","trustedServerCertificates"],showWifi:function(){var e=this.get("interfaceType");return e==="BuiltInWireless"||e==="Hotspot"||e==="Hotspot2"}.property("interfaceType").cacheable(),showHotspot2:function(){var e=this.get("interfaceType");return e==="Hotspot2"}.property("interfaceType").cacheable(),interfaceTypeBinding:".networkInterfaceField.fieldValue",networkInterfaceField:Admin.KnobSetButtonFieldView.design({layout:{height:70},useStaticLayout:YES,label:"_generic_string_Network Interface".loc(),description:"_generic_string_Type of network interface on the device".loc(),fieldObjects:[{value:"BuiltInWireless",name:"_generic_string_Wi-Fi".loc()},{value:"Hotspot",name:"_generic_string_Legacy Hotspot".loc()},{value:"Hotspot2",name:"_generic_string_Passpoint".loc()},{value:"FirstActiveEthernet",name:"_generic_string_Ethernet (OS X only)".loc()}],buttonWidth:190,contentBinding:".owner.content",fieldContentValueKey:"interfaceType"}),hotspotDisplayedOperatorName:Admin.KnobSetTextFieldAbsolute.design({layout:{height:70},useStaticLayout:YES,isVisibleBinding:".owner.showHotspot2",label:"_generic_string_Provider Display Name".loc(),description:"_generic_string_Display name of the Passpoint service provider".loc(),fieldHint:"_hint_required"
.loc(),contentBinding:".owner.content",fieldContentValueKey:"displayedOperatorName"}),hotspotDomainName:Admin.KnobSetTextFieldAbsolute.design({layout:{top:0,height:70},useStaticLayout:YES,isVisibleBinding:".owner.showHotspot2",label:"_generic_string_Domain Name".loc(),description:"_generic_string_Domain name of the Passpoint service provider".loc(),fieldHint:"_hint_required".loc(),contentBinding:".owner.content",fieldContentValueKey:"domainName"}),hotspotRoamingConsortiumOIs:Admin.UnScrollableNameListView.design({title:"_generic_string_Roaming Consortium OIs".loc(),description:"_generic_string_Roaming Consortium Organization Identifiers".loc(),placeHolderString:"_generic_string_Roaming Consortium OI".loc(),canEditContent:YES,isEditable:YES,isVisibleBinding:".owner.showHotspot2",contentBinding:".owner*content.roamingConsortiumOIs"}),nAIRealmNames:Admin.UnScrollableNameListView.design({title:"_generic_string_NAI Realm Names".loc(),description:"_generic_string_Network Access Identifier Realm Names".loc(),placeHolderString:"_generic_string_NAI Realm Name".loc(),canEditContent:YES,isEditable:YES,isVisibleBinding:".owner.showHotspot2",contentBinding:".owner*content.nAIRealmNames"}),mCCAndMNCsTitle:Admin.BoldLabelViewAbsolute.design({layout:{height:20},useStaticLayout:YES,isVisibleBinding:".owner.showHotspot2",value:"_generic_string_MCC/MNCs".loc()}),mCCAndMNCsDescription:Admin.DescriptionLabelViewAbsolute.design({layout:{height:20},useStaticLayout:YES,isVisibleBinding:".owner.showHotspot2",value:"_generic_string_Mobile Country Code and Mobile Network Configurations".loc()}),mCCAndMNCsTable
:SCTable.TableViewNoFastPath.design(SC.Border,{layout:{height:100},useStaticLayout:YES,isVisibleBinding:".owner.showHotspot2",classNames:["admin-background-color-white"],rowHeight:22,headerHeight:17,columns:[SC.Object.create(SCTable.Column,{name:"_generic_string_MCC".loc(),valueKey:"MCC",width:.5,canResize:NO}),SC.Object.create(SCTable.Column,{name:"_generic_string_MNC".loc(),valueKey:"MNC",width:.5,canResize:NO})],contentBinding:".owner*content.mCCAndMNCsController.arrangedObjects",selectionBinding:".owner*content.mCCAndMNCsController.selection",showAlternatingRows:NO,canReorderColumns:NO}),mCCAndMNCsAddRemoveContainer:SC.View.design({contentBinding:".owner.content",layout:{height:65},useStaticLayout:YES,childViews:["addButton","removeButton","enableRoaming"],isVisibleBinding:".owner.showHotspot2",addButton:SC.ButtonView.design({layout:{top:5,height:25,width:30},titleMinWidth:0,themeName:"square",controlSize:SC.TINY_CONTROL_SIZE,action:function(){var e=Admin.InterfaceHotspotPage.get("addMCCAndMNCSheet");e.set("delegate",this),e.append()},addMCCAndMNC:function(e,t){var n=this.getPath("owner.content"),r=n.get("mCCAndMNCsController");r.addObject({MCC:e,MNC:t})},icon:"admin-knob-set-list-add-button-overlay"}),removeButton:SC.ButtonView.design({layout:{top:5,height:25,left:35,width:30},titleMinWidth:0,themeName:"square",controlSize:SC.TINY_CONTROL_SIZE,isEnabledBinding:".owner.isEnabled",action:function(){var e=this.getPath("owner.content.mCCAndMNCsController"),t=e.get("selection");e.removeObjects(t),e.notifyPropertyChange("length")},icon:"admin-knob-set-list-remove-button-overlay"
}),enableRoaming:Admin.BoldCheckboxViewAbsolute.design({contentBinding:".owner.content",useAbsoluteLayout:YES,layout:{top:35,width:Admin.KNOB_WIDTH,centerX:0,height:20},title:"_generic_string_Connect to roaming partner Passpoint networks".loc(),showHotspot2Binding:SC.Binding.oneWay(".owner.showHotspot2"),contentValueKey:"roamingEnabled"})}),ssidField:Admin.KnobSetTextFieldAbsolute.design({layout:{height:70},useStaticLayout:YES,isVisible:function(){return this.get("showWifi")&&!this.get("showHotspot2")}.property("showWifi","showHotspot2").cacheable(),showWifiBinding:".owner.showWifi",showHotspot2Binding:".owner.showHotspot2",label:"_generic_string_Service Set Identifier (SSID)".loc(),description:"_generic_string_Identification of the wireless network to connect to".loc(),fieldHint:"_hint_required".loc(),contentBinding:".owner.content",fieldContentValueKey:"ssid"}),wifiOptions:SC.View.design({contentBinding:".owner.content",childViews:["isHiddenNetworkField","autoJoinNetworkField","proxySetupField"],useStaticLayout:YES,isVisibleBinding:".owner.showWifi",isHiddenNetworkField:Admin.KnobSetCheckBoxFieldViewAbsolute.design({layout:{height:50},useStaticLayout:YES,label:"_generic_string_Hidden Network".loc(),description:"_generic_string_Enable if target network is not open or broadcasting".loc(),contentBinding:".owner.content",fieldContentValueKey:"isHiddenNetwork"}),autoJoinNetworkField:Admin.KnobSetCheckBoxFieldViewAbsolute.design({layout:{height:50},useStaticLayout:YES,label:"_generic_string_Auto Join".loc(),description:"_generic_string_Automatically join this wireless network".loc
(),contentBinding:".owner.content",fieldContentValueKey:"AutoJoin"}),proxySetupField:Admin.KnobSetButtonFieldView.design({layout:{height:70},useStaticLayout:YES,label:"_generic_string_Proxy Setup".loc(),description:"_generic_string_Configures proxy settings to be used with this network".loc(),fieldObjects:[{value:"None",name:"_network_proxy_setting_None".loc()},{value:"Manual",name:"_network_proxy_type_Manual".loc()},{value:"Auto",name:"_network_proxy_type_Automatic".loc()}],buttonWidth:140,contentBinding:".owner.content",fieldContentValueKey:"proxyType"})}),manualProxySettings:SC.View.design({contentBinding:".owner.content",useStaticLayout:YES,isVisible:function(){return this.get("showWifi")&&this.get("proxyType")==="Manual"}.property("proxyType","showWifi").cacheable(),showWifiBinding:".owner.showWifi",proxyTypeBinding:".owner.wifiOptions.proxySetupField.fieldValue",childViews:["proxyServerField","proxyUsernameField","proxyPasswordField"],proxyServerField:Admin.KnobSetIpPortFieldViewAbsolute.design({layout:{height:70},useStaticLayout:YES,label:"_generic_string_Proxy Server and Port".loc(),description:"_generic_string_Hostname or IP address, and port number for the proxy server".loc(),fieldHint:"_hint_required".loc(),contentBinding:".owner.owner.content",fieldIpHostContentValueKey:"proxyServer",fieldPortContentValueKey:"proxyServerPort"}),proxyUsernameField:Admin.KnobSetTextFieldAbsolute.design({layout:{height:70},useStaticLayout:YES,label:"_generic_string_Authentication".loc(),description:"_generic_string_Username used to connect to the proxy".loc(),fieldHint:"_generic_string_optional"
.loc(),contentBinding:".owner.content",fieldContentValueKey:"proxyUsername"}),proxyPasswordField:Admin.KnobSetPasswordFieldView.design({layout:{height:70},useStaticLayout:YES,label:"_generic_string_Password".loc(),description:"_generic_string_Password used to authenticate with the proxy".loc(),fieldIsPassword:YES,fieldHint:"_generic_string_optional".loc(),contentBinding:".owner.content",fieldContentValueKey:"proxyPassword"})}),automaticProxySettings:SC.View.design({contentBinding:".owner.content",useStaticLayout:YES,isVisible:function(){return this.get("showWifi")&&this.get("proxyType")==="Auto"}.property("proxyType","showWifi").cacheable(),showWifiBinding:".owner.showWifi",proxyTypeBinding:".owner.wifiOptions.proxySetupField.fieldValue",childViews:["proxyServerUrlField","proxyPACFallbackAllowedCheckbox"],proxyServerUrlField:Admin.KnobSetTextFieldAbsolute.design({layout:{height:70},useStaticLayout:YES,label:"_generic_string_Proxy Server URL".loc(),description:"_generic_string_URL used to retrieve proxy settings".loc(),fieldHint:"_generic_string_optional".loc(),contentBinding:".owner.owner.content",fieldContentValueKey:"proxyPACURL"}),proxyPACFallbackAllowedCheckbox:Admin.KnobSetCheckBoxFieldViewAbsolute.design({layout:{height:50},useStaticLayout:YES,label:"_generic_string_PAC Fallback".loc(),description:"_generic_string_Enable to allow direct connection if PAC is unreachable".loc(),contentBinding:".owner.owner.content",fieldContentValueKey:"proxyPACFallbackAllowed"})}),securityTypeField:Admin.KnobSetSelectButtonFieldView.design({isVisibleBinding:".owner.showWifi",proxyTypeBinding
:".owner*content.proxyType",title:"_generic_string_Security Type".loc(),description:"_generic_string_Wireless network encryption to use when connecting".loc(),fieldObjects:[{value:"None",name:"_network_security_type_None".loc()},{isSeparator:YES},{value:"WEP",name:"_generic_string_WEP".loc()},{value:"WPA",name:"_wifi_security_type_wpa_wp2_personal".loc()},{value:"WPA2",name:"_wifi_security_type_wpa2_personal".loc()},{value:"Any",name:"_generic_string_Any (Personal)".loc()},{isSeparator:YES},{value:"WEP Enterprise",name:"_generic_string_WEP Enterprise".loc()},{value:"WPA Enterprise",name:"_generic_string_WPA / WPA2 Enterprise".loc()},{value:"wpa2_enterprise",name:"_wifi_security_type_wpa2_enterprise".loc()},{value:"Any Enterprise",name:"_generic_string_Any (Enterprise)".loc()}],buttonWidth:0+parseFloat("_layout_security_type_button_field_width".loc()),contentBinding:".owner.content",fieldContentValueKey:"securityType",isEnabledBinding:SC.Binding.not(".owner.showHotspot2")}),securityTypeBinding:".securityTypeField.fieldValue",showPersonalSettings:function(){var e=this.get("securityType"),t=this.get("showWifi");return t&&["WEP","WPA","WPA2","Any"].contains(e)}.property("showWifi","securityType").cacheable(),showEnterpriseSettings:function(){var e=this.get("securityType"),t=this.get("showWifi"),n=this.get("content");return n&&n.notifyPropertyChange("currentTab"),!t||["WEP Enterprise","WPA Enterprise","wpa2_enterprise","Any Enterprise"].contains(e)}.property("securityType","showWifi").cacheable(),passwordField:Admin.KnobSetPasswordFieldView.design({layout:{height:70},useStaticLayout
:YES,label:"_generic_string_Password".loc(),description:"_generic_string_Password for the wireless network".loc(),isVisibleBinding:".owner.showPersonalSettings",contentBinding:".owner.content",fieldContentValueKey:"password"}),loginWindowField:Admin.KnobSetCheckBoxFieldViewAbsolute.design({layout:{height:50},useStaticLayout:YES,label:"_generic_string_Use as a Login Window configuration".loc(),description:"_generic_string_User logs in to authenticate the Mac to the network".loc(),isVisibleBinding:".owner.showEnterpriseSettings",contentBinding:".owner.content",fieldContentValueKey:"loginWindow"}),enterpriseNetworkSettings:SC.View.design({contentBinding:".owner.content",useStaticLayout:YES,isVisibleBinding:".owner.showEnterpriseSettings",childViews:["networkSecurityLabel","networkSecurityDescription","networkSecurityTypeSegment"],networkSecurityLabel:Admin.BoldLabelViewAbsolute.design({layout:{height:20},useStaticLayout:YES,value:"_generic_string_Network Security Settings".loc()}),networkSecurityDescription:Admin.DescriptionLabelViewAbsolute.design({layout:{height:20},useStaticLayout:YES,value:"_generic_string_Configurations options for 802.1X network authentication".loc()}),networkSecurityTypeSegment:SC.SegmentedView.design({layout:{height:30},useStaticLayout:YES,itemTitleKey:"title",itemValueKey:"value",itemWidthKey:"width",items:[{title:"_generic_string_Protocols".loc(),value:"Protocols",width:90},{title:"_generic_string_Trust".loc(),value:"Trust",width:90}],valueBinding:".owner*content.currentTab"})}),networkSecurityTypeBinding:".enterpriseNetworkSettings.networkSecurityTypeSegment.value"
,showProtocols:function(){return this.get("showEnterpriseSettings")&&this.get("networkSecurityType")==="Protocols"}.property("showEnterpriseSettings","networkSecurityType"),showTrust:function(){return this.get("showEnterpriseSettings")&&this.get("networkSecurityType")==="Trust"}.property("showEnterpriseSettings","networkSecurityType"),protocolsView:SC.View.design({contentBinding:".owner.content",layout:{height:85},useStaticLayout:YES,isVisibleBinding:".owner.showProtocols",childViews:["acceptedEAPTypesLabel","acceptedEAPTypesDescriptions","tlsBox","ttlsBox","leapBox","peapBox","eapFastBox","eapSimBox","eapAkaBox"],acceptedEAPTypesLabel:Admin.BoldLabelViewAbsolute.design({layout:{left:4,top:0,width:Admin.KNOB_WIDTH,height:20},value:"_generic_string_Accepted EAP Types".loc()}),acceptedEAPTypesDescriptions:Admin.DescriptionLabelViewAbsolute.design({layout:{left:4,top:20,width:Admin.KNOB_WIDTH,height:20},value:"_generic_string_Authentication protocols supported on target network".loc()}),tlsBox:SC.CheckboxView.design({layout:{left:0,top:40,width:Admin.KNOB_WIDTH,height:20},title:"_generic_string_TLS".loc(),isEnabled:function(){return!this.get("lw")||!!this.get("sys")}.property("sys","lw").cacheable(),sysBinding:".owner.owner.owner*content.system",sysBindingDefault:SC.Binding.oneWay(),lwBinding:".owner.owner.owner*content.loginWindow",lwBindingDefault:SC.Binding.oneWay(),valueBinding:".owner.owner.owner*content.protocolTlsSupported"}),ttlsBox:SC.CheckboxView.design({layout:{left:0,top:60,width:Admin.KNOB_WIDTH,height:20},title:"_generic_string_TTLS".loc(),valueBinding:".owner*content.protocolTtlsSupported"
}),leapBox:SC.CheckboxView.design({layout:{left:Admin.KNOB_WIDTH/4,top:40,width:Admin.KNOB_WIDTH,height:20},title:"_generic_string_LEAP".loc(),valueBinding:".owner*content.protocolLeapSupported"}),peapBox:SC.CheckboxView.design({layout:{left:Admin.KNOB_WIDTH/4,top:60,width:Admin.KNOB_WIDTH,height:20},title:"_generic_string_PEAP".loc(),valueBinding:".owner*content.protocolPeapSupported"}),eapFastBox:SC.CheckboxView.design({layout:{left:Admin.KNOB_WIDTH/4*2,top:40,width:Admin.KNOB_WIDTH,height:20},title:"_generic_string_EAP-FAST".loc(),isEnabled:function(){return!this.get("lw")||!!this.get("sys")}.property("sys","lw").cacheable(),sysBinding:".owner*content.system",sysBindingDefault:SC.Binding.oneWay(),lwBinding:".owner*content.loginWindow",lwBindingDefault:SC.Binding.oneWay(),valueBinding:".owner*content.protocolEapFastSupported"}),eapSimBox:SC.CheckboxView.design({layout:{left:Admin.KNOB_WIDTH/4*2,top:60,width:Admin.KNOB_WIDTH,height:20},title:"_generic_string_EAP-SIM".loc(),isEnabledBinding:".owner.owner.showWifi",valueBinding:".owner.owner.owner*content.protocolEapSimSupported"}),eapAkaBox:SC.CheckboxView.design({layout:{left:Admin.KNOB_WIDTH/4*3,top:40,width:Admin.KNOB_WIDTH,height:20},isEnabledBinding:".owner.owner.showWifi",title:"_generic_string_EAP-AKA".loc(),valueBinding:".owner.owner.owner*content.protocolEapAkaSupported"})}),protocolEapFast:SC.View.design({contentBinding:".owner.content",layout:{height:105},useStaticLayout:YES,isVisible:function(){return this.get("eapFast")&&this.get("showProtocols")}.property("showProtocols","eapFast").cacheable(),eapFastBinding:SC
.Binding.oneWay(".*content.protocolEapFastSupported"),showProtocolsBinding:SC.Binding.oneWay(".owner.showProtocols"),childViews:"label description usePac provPac provPacAnon".w(),label:Admin.BoldLabelViewAbsolute.design({layout:{left:0,top:0,width:Admin.KNOB_WIDTH,height:20},value:"_generic_string_EAP-FAST".loc()}),description:Admin.DescriptionLabelViewAbsolute.design({layout:{left:0,top:20,width:Admin.KNOB_WIDTH,height:20},value:"_generic_string_Configuration of Protected Access Credential (PAC)".loc()}),usePac:SC.CheckboxView.design({layout:{left:20,top:40,width:Admin.KNOB_WIDTH,height:20},title:"_generic_string_Use PAC".loc(),valueBinding:".owner*content.protocolEapFastUsePac"}),provPac:SC.CheckboxView.design({layout:{left:20,top:60,width:Admin.KNOB_WIDTH,height:20},title:"_generic_string_Provision PAC".loc(),usePacBinding:".owner.usePac.value",usePacBindingDefault:SC.Binding.oneWay().bool(),isEnabled:function(){return this.get("usePac")&&this.get("ef")}.property("usePac","ef").cacheable(),efBinding:SC.Binding.oneWay(".owner*content.protocolEapFastSupported"),valueBinding:".owner*content.protocolEapFastProvisionPac"}),provPacAnon:SC.CheckboxView.design({layout:{left:20,top:80,width:Admin.KNOB_WIDTH,height:20},title:"_generic_string_Provision PAC Anonymously".loc(),provPacBinding:".owner.provPac.value",provPacBindingDefault:SC.Binding.oneWay(),usePacBinding:".owner.usePac.value",usePacBindingDefault:SC.Binding.oneWay(),isEnabled:function(){return this.get("provPac")&&this.get("usePac")&&this.get("ef")}.property("provPac","usePac","ef").cacheable(),efBinding:SC.Binding.oneWay
(".owner*content.protocolEapFastSupported"),valueBinding:".owner*content.protocolEapFastProvisionPacAnonymously"})}),authenticationDirectoryCheckbox:Admin.KnobSetCheckBoxFieldViewAbsolute.design({contentBinding:".owner.content",layout:{height:40},useStaticLayout:YES,label:"_generic_string_Use Directory Authentication".loc(),description:"_generic_string_Authenticate with the target machine's directory credentials".loc(),isVisible:function(){return this.get("showProtocols")&&Admin.getPath("itemSelectionController.is_system_level")&&this.get("shouldShowDirectory")}.property("shouldShowDirectory","showProtocols").cacheable(),shouldShowDirectoryBinding:SC.Binding.oneWay(".*content.shouldShowDirectory"),showProtocolsBinding:SC.Binding.oneWay(".owner.showProtocols"),fieldContentValueKey:"useDirectory"}),authenticationUsernameField:Admin.KnobSetTextFieldAbsolute.design({contentBinding:".owner.content",layout:{height:70},useStaticLayout:YES,label:"_generic_string_Username".loc(),description:"_generic_string_Username for connection to the network".loc(),isEnabled:function(){return!this.get("directory")}.property("directory").cacheable(),fieldHint:function(){var e=this.directory?"_generic_string_set by directory".loc():"";return this.get("showCertificate")&&!this.get("showPassword")&&(e="_knob_set_view_optional_hint".loc()),e}.property("directory","showCertificate","showPassword"),directoryBinding:".owner.authenticationDirectoryCheckbox.fieldValue",isVisible:function(){return this.get("showProtocols")&&this.get("shouldShowUsername")}.property("shouldShowUsername","showProtocols"),shouldShowUsernameBinding
:SC.Binding.oneWay(".*content.shouldShowUsername"),showProtocolsBinding:SC.Binding.oneWay(".owner.showProtocols"),fieldContentValueKey:"authenticationUsername"}),authenticationPerConnectionPasswordField:Admin.BoldCheckboxViewAbsolute.design({contentBinding:".owner.content",layout:{height:20},useStaticLayout:YES,title:"_generic_string_Use Per-Connection Password".loc(),isEnabled:function(){return!this.get("directory")}.property("directory").cacheable(),directoryBinding:".owner.authenticationDirectoryCheckbox.fieldValue",isVisible:function(){return this.get("showProtocols")&&!Admin.getPath("itemSelectionController.is_system_level")&&this.get("showPassword")}.property("showProtocols","showPassword").cacheable(),showPasswordBinding:SC.Binding.oneWay(".*content.shouldShowPassword"),showProtocolsBinding:SC.Binding.oneWay(".owner.showProtocols"),contentValueKey:"authenticationPerConnectionPassword"}),authenticationPasswordField:Admin.KnobSetTextFieldAbsolute.design({contentBinding:".owner.content",layout:{height:70},useStaticLayout:YES,label:"_generic_string_Password".loc(),description:"_generic_string_Password for the provided username".loc(),isEnabled:function(){return!this.get("directory")&&!this.get("perConnectionPassword")}.property("directory","perConnectionPassword").cacheable(),fieldHint:function(){return this.get("directory")?"_generic_string_set by directory".loc():""}.property("directory"),directoryBinding:".owner.authenticationDirectoryCheckbox.fieldValue",perConnectionPasswordBinding:".owner.authenticationPerConnectionPasswordField.value",isVisible:function(){return this
.get("showProtocols")&&this.get("showPassword")}.property("showProtocols","showPassword").cacheable(),showProtocolsBinding:SC.Binding.oneWay(".owner.showProtocols"),showPasswordBinding:SC.Binding.oneWay(".*content.shouldShowPassword"),fieldIsPassword:YES,fieldContentValueKey:"authenticationPassword"}),authenticationIdentityCertificateField:Admin.KnobSetButtonFieldView.design({contentBinding:".owner.content",layout:{height:70},useStaticLayout:YES,label:"_generic_string_Identity Certificate".loc(),description:"_generic_string_Credentials for connection to the network".loc(),buttonWidth:Admin.KNOB_WIDTH-17,fieldObjectsBinding:".*content.authenticationIdentityCertificateContent",themeName:"square",checkboxEnabled:NO,isEnabled:function(){return!this.get("directory")&&!SC.none(this.get("fieldObjects"))&&(this.get("fieldObjects").length!==1||this.get("fieldObjects")[0].value!=="--none--")}.property("directory","fieldObjects").cacheable(),directoryBinding:".owner.authenticationDirectoryCheckbox.fieldValue",isVisible:function(){return this.get("showProtocols")&&this.get("showCertificate")}.property("showProtocols","showCertificate").cacheable(),showProtocolsBinding:SC.Binding.oneWay(".owner.showProtocols"),showCertificateBinding:SC.Binding.oneWay(".*content.shouldShowCertificate"),showPasswordBinding:SC.Binding.oneWay(".*content.shouldShowPassword"),fieldContentValueKey:"authenticationIdentityCertificate"}),protocolInnerAuthenticationField:Admin.KnobSetButtonFieldView.design({contentBinding:".owner.content",layout:{height:70},useStaticLayout:YES,label:"_generic_string_Inner Authentication"
.loc(),description:"_generic_string_Authentication protocol (for use only with TTLS)".loc(),fieldObjects:[{name:"_generic_string_MSCHAPv2".loc(),value:"MSCHAPv2"},{name:"_generic_string_MSCHAP".loc(),value:"MSCHAP"},{name:"_generic_string_CHAP".loc(),value:"CHAP"},{name:"_generic_string_PAP".loc(),value:"PAP"}],isVisible:function(){return this.get("showProtocols")&&this.get("ttls")}.property("ttls","showProtocols").cacheable(),ttlsBinding:SC.Binding.oneWay(".*content.protocolTtlsSupported"),showProtocolsBinding:SC.Binding.oneWay(".owner.showProtocols"),fieldContentValueKey:"protocolTtlsInnerAuthentication"}),authenticationOuterIdentityField:Admin.KnobSetTextFieldAbsolute.design({contentBinding:".owner.content",layout:{height:70},useStaticLayout:YES,label:"_generic_string_Outer Identity".loc(),description:"_generic_string_Externally visible identification (TTLS, PEAP, and EAP-FAST)".loc(),isVisible:function(){return this.get("showProtocols")&&(this.get("ttls")||this.get("peap")||this.get("eapFast"))}.property("ttls","peap","eapFast","showProtocols").cacheable(),showProtocolsBinding:SC.Binding.oneWay(".owner.showProtocols"),ttlsBinding:SC.Binding.oneWay(".*content.protocolTtlsSupported"),peapBinding:SC.Binding.oneWay(".*content.protocolPeapSupported"),eapFastBinding:SC.Binding.oneWay(".*content.protocolEapFastSupported"),fieldContentValueKey:"authenticationOuterIdentity"}),eapSimFields:SC.View.design({contentBinding:".owner.content",layout:{height:105},useStaticLayout:YES,isVisible:function(){return this.get("eapSim")&&this.get("showProtocols")}.property("showProtocols","eapSim"
).cacheable(),eapSimBinding:SC.Binding.oneWay(".*content.protocolEapSimSupported"),showProtocolsBinding:SC.Binding.oneWay(".owner.showProtocols"),childViews:"eapSimHeaderView allowTwoRandsView".w(),eapSimHeaderView:Admin.BoldLabelView.design({value:"_generic_string_EAP-SIM".loc()}),allowTwoRandsView:Admin.KnobSetCheckBoxFieldView.design({title:"_interface_knobset_allow_two_rands".loc(),description:"_interface_knobset_allow_two_rands_description".loc(),fieldContentValueKey:"allowTwoRands"})}),trustedCertificatesTitle:Admin.BoldLabelViewAbsolute.design({layout:{height:20},useStaticLayout:YES,value:"_generic_string_Trusted Certificates".loc(),isVisible:function(){return this.get("showTrust")}.property("showTrust").cacheable(),showTrustBinding:SC.Binding.oneWay(".owner.showTrust")}),trustedCertificatesDescription:Admin.DescriptionLabelViewAbsolute.design({layout:{height:20},useStaticLayout:YES,value:"_generic_string_Certificates trusted/expected for authentication".loc(),isVisible:function(){return this.get("showTrust")}.property("showTrust").cacheable(),showTrustBinding:SC.Binding.oneWay(".owner.showTrust")}),trustedCertificates:SC.View.design({contentBinding:".owner.content",layout:{height:140},useStaticLayout:YES,certsHeightObserver:function(){this.adjust("height",this.get("certsHeight")+10)}.observes("certsHeight"),certsHeightBinding:SC.Binding.oneWay(".*content.CertsHeight"),isVisible:function(){return this.get("showTrust")}.property("showTrust").cacheable(),showTrustBinding:SC.Binding.oneWay(".owner.showTrust"),borderStyle:SC.BORDER_GRAY,childViews:"contentView trustedCertificatesHelperText"
.w(),contentView:Admin.ListView.design({layout:{top:5},useAbsoluteLayout:YES,isEnabled:YES,contentCheckboxKey:"trusted",contentValueKey:"name",isSelectable:NO,contentBinding:".owner*content.trustedCertificatesContent",selectionBinding:".owner*content.trustedCertificatesSelection",rowHeight:20}),trustedCertificatesHelperText:SC.LabelView.design(SC.Border,{layout:{top:7,centerX:0,width:Admin.KNOB_WIDTH-10,height:20},useAbsoluteLayout:YES,isVisible:function(){return!this.get("trustedCertificatesContent")||this.get("trustedCertificatesContent").get("length")===0}.property("trustedCertificatesContent").cacheable(),textAlign:SC.ALIGN_CENTER,trustedCertificatesContentBinding:SC.Binding.oneWay(".owner.contentView.content"),value:"_generic_string_No applicable Certificate payload is configured".loc()})}),trustedServerCertificates:Admin.UnScrollableNameListView.design({title:"_generic_string_Trusted Server Certificate Names".loc(),description:"_generic_string_Certificate names expected from authentication server".loc(),placeHolderString:"_generic_string_Certificate Common Name".loc(),canEditContent:YES,isEditable:YES,isVisibleBinding:".owner.showTrust",contentBinding:".owner*content.trustedServerCertificateNames"})})}),Admin.WIFI_TLS_AUTH=13,Admin.WIFI_TTLS_AUTH=21,Admin.WIFI_LEAP_AUTH=17,Admin.WIFI_PEAP_AUTH=25,Admin.WIFI_EAP_FAST_AUTH=43,Admin.WIFI_EAP_SIM_AUTH=18,Admin.WIFI_EAP_AKA_AUTH=23,Admin.SSIDValidator=SC.Object.extend({owner:null,validate:function(e,t){var n=YES,r=Admin.getPath("profileForEditingController.interfaceKnobSets"),i,s;for(i=0,s=r.get("length");i<s;i++)if(r.objectAt
(i)!==this.get("owner")&&r.objectAt(i).get("interfaceType")==="BuiltInWireless"&&r.objectAt(i).get("ssid")===t){n=NO;break}return n?!SC.none(t)&&t!=="":NO}}),Admin.InterfaceKnobSet=Admin.KnobSet.extend({init:function(){arguments.callee.base.apply(this,arguments),this.set("mCCAndMNCsController",Admin.InterfaceMCCAndMNCTableViewController.create({contentBinding:SC.Binding.from("mCCAndMNCs",this)}))},_interfaceType:SC.Record.attr(String,{key:"Interface"}),interfaceType:function(e,t){if(t!==undefined){if(this.get("_interfaceType")===t)return;t==="FirstActiveEthernet"&&!this.get("_EAPClientConfiguration")&&this.set("_EAPClientConfiguration",{}),t!=="BuiltInWireless"&&this.set("ssid",null);var n=t==="Hotspot"||t==="Hotspot2"?YES:null;this.set("isHotspot",n),t!=="Hotspot2"?(this.set("displayedOperatorName",null),this.set("domainName",null),this.set("roamingConsortiumOIs",null),this.set("nAIRealmNames",null),this.set("mCCAndMNCs",null),this.set("hessid",null),this.set("roamingEnabled",null)):(this.set("roamingConsortiumOIs",[]),this.set("nAIRealmNames",[]),this.set("mCCAndMNCs",[]),this.set("roamingEnabled",NO),this.set("securityType","wpa2_enterprise")),t==="FirstActiveEthernet"&&(this.set("protocolEapSimSupported",NO),this.set("protocolEapAkaSupported",NO)),t==="FirstActiveEthernet"&&this.set("proxyType","None"),this.set("_interfaceType",t)}return this.get("_interfaceType")}.property("_interfaceType").cacheable(),ssid:SC.Record.attr(String,{key:"SSID_STR"}),ssidObserver:function(){this.updateSystemMode()}.observes("ssid"),isHiddenNetwork:SC.Record.attr(Boolean,{defaultValue:NO,key
:"HIDDEN_NETWORK"}),AutoJoin:SC.Record.attr(Boolean,{defaultValue:YES,key:"AutoJoin"}),password:SC.Record.attr(String,{key:"Password"}),_proxyType:SC.Record.attr(String,{key:"ProxyType",defaultValue:"None"}),proxyType:function(e,t){return t!==undefined&&(t!=="Manual"&&(this.set("proxyServer",null),this.set("proxyServerPort",null),this.set("proxyUsername",null),this.set("proxyPassword",null)),t==="Auto"?this.set("proxyPACFallbackAllowed",YES):(this.set("proxyPACURL",null),this.set("proxyPACFallbackAllowed",null)),this.set("_proxyType",t)),this.get("_proxyType")}.property("_proxyType"),isManualProxy:function(){return this.get("_proxyType")==="Manual"}.property("_proxyType").cacheable(),isAutomaticProxy:function(){return this.get("_proxyType")==="Automatic"}.property("_proxyType").cacheable(),proxyServer:SC.Record.attr(String,{key:"ProxyServer"}),proxyServerPort:SC.Record.attr(Number,{key:"ProxyServerPort"}),proxyUsername:SC.Record.attr(String,{key:"ProxyUsername"}),proxyPassword:SC.Record.attr(String,{key:"ProxyPassword"}),proxyPACURL:SC.Record.attr(String,{key:"ProxyPACURL"}),proxyPACFallbackAllowed:SC.Record.attr(Boolean,{key:"ProxyPACFallbackAllowed"}),_EncryptionType:SC.Record.attr(String,{key:"EncryptionType",defaultValue:"Any"}),securityType:function(e,t){t!==undefined&&(t==="WEP"||t==="WEP Enterprise"?this.set("_EncryptionType","WEP"):t==="WPA"||t==="WPA Enterprise"?this.set("_EncryptionType","WPA"):t==="WPA2"||t==="wpa2_enterprise"?this.set("_EncryptionType","WPA2"):t==="Any"||t==="Any Enterprise"?this.set("_EncryptionType","Any"):t==="None"?this.set("_EncryptionType","None"
):this.set("_EncryptionType","Any"),["WEP","WPA","WPA2","Any"].contains(t)?(this.set("password",""),this.set("_EAPClientConfiguration",null)):(this.set("password",null),this.set("_EAPClientConfiguration",{})));var n=!SC.none(this.get("_EAPClientConfiguration"));return this.get("_EncryptionType")==="WEP"?n?"WEP Enterprise":"WEP":this.get("_EncryptionType")==="WPA"?n?"WPA Enterprise":"WPA":this.get("_EncryptionType")==="WPA2"?n?"wpa2_enterprise":"WPA2":this.get("_EncryptionType")==="Any"?n?"Any Enterprise":"Any":this.get("_EncryptionType")==="None"?"None":"Any"}.property("_EncryptionType").cacheable(),_setupModes:SC.Record.attr(Array,{key:"SetupModes",defaultValue:function(){return Admin.getPath("itemSelectionController.is_system_level")?["System"]:[]}}),system:function(e,t){if(t!==undefined){var n=this.get("_setupModes"),r=n.indexOf("System");r<0&&t?n.pushObject("System"):r>=0&&!t&&n.removeObject("System"),this.set("_setupModes",SC.clone(n)),this.updateSystemMode()}return this.get("_setupModes")?this.get("_setupModes").indexOf("System")>=0:NO}.property("_setupModes"),loginWindow:function(e,t){if(t!==undefined){var n=this.get("_setupModes"),r=n.indexOf("Loginwindow");r<0&&t?n.pushObject("Loginwindow"):r>=0&&!t&&n.removeObject("Loginwindow"),this.set("_setupModes",SC.clone(n)),this.get("invalidFields").splice(0,this.get("invalidFields").length),this.notifyPropertyChange("invalidFields")}return this.get("_setupModes")?this.get("_setupModes").indexOf("Loginwindow")>=0:NO}.property("_setupModes").cacheable(),updateSystemMode:function(){var e=this.getPath("profile.interfaceKnobSets"
);if(!e||!e.get("length")||!e.objectAt)return;for(var t=0,n=e.get("length");t<n;t++){if(!e.objectAt(t)||!e.objectAt(t).notifyPropertyChange)return;e.objectAt(t).notifyPropertyChange("allowSystemMode")}},allowSystemMode:function(){var e=this.getPath("profile.interfaceKnobSets");if(!e||!e.get("length")||!e.objectAt)return;var t,n;if(this.get("interfaceType")==="BuiltInWireless"){var r=this.get("ssid");for(t=0,n=e.get("length");t<n;t++)if(e.objectAt(t)!==this&&e.objectAt(t).get("interfaceType")==="BuiltInWireless"&&e.objectAt(t).get("system")&&e.objectAt(t).get("ssid")===r)return NO;return YES}for(t=0,n=e.get("length");t<n;t++)if(e.objectAt(t)!==this&&e.objectAt(t).get("interfaceType")!=="BuiltInWireless"&&e.objectAt(t).get("system"))return NO;return YES}.property().cacheable(),currentTab:"Protocols",_EAPClientConfiguration:SC.Record.attr(Object,{key:"EAPClientConfiguration"}),protocolEapFastUsePac:function(e,t){return t!==undefined&&!t&&this.set("protocolEapFastProvisionPac",t),this.packUnpackProperty("_EAPClientConfiguration","EAPFASTUsePAC",t)}.property("_EAPClientConfiguration").cacheable(),protocolEapFastProvisionPac:function(e,t){return t!==undefined&&!t&&this.set("protocolEapFastProvisionPacAnonymously",t),this.packUnpackProperty("_EAPClientConfiguration","EAPFASTProvisionPAC",t)}.property("_EAPClientConfiguration","protocolEapFastUsePac").cacheable(),protocolEapFastProvisionPacAnonymously:function(e,t){return this.packUnpackProperty("_EAPClientConfiguration","EAPFASTProvisionPACAnonymously",t)}.property("_EAPClientConfiguration").cacheable(),protocolTtlsInnerAuthentication
:function(e,t){return!SC.none(this.get("_EAPClientConfiguration"))&&SC.none(this.get("password"))?this.packUnpackProperty("_EAPClientConfiguration","TTLSInnerAuthentication",t):null}.property("_EAPClientConfiguration").cacheable(),authenticationUsername:function(e,t){return this.packUnpackProperty("_EAPClientConfiguration","UserName",t)}.property("_EAPClientConfiguration"),authenticationPassword:function(e,t){return this.packUnpackProperty("_EAPClientConfiguration","UserPassword",t)}.property("_EAPClientConfiguration"),authenticationOuterIdentity:function(e,t){return this.packUnpackProperty("_EAPClientConfiguration","OuterIdentity",t)}.property("_EAPClientConfiguration"),authenticationPerConnectionPassword:function(e,t){return t===YES&&this.set("authenticationPassword",""),this.packUnpackProperty("_EAPClientConfiguration","OneTimeUserPassword",t)}.property("_EAPClientConfiguration"),allowTwoRands:function(e,t){if(t!==undefined){var n=null;t===YES&&(n=2),this.packUnpackProperty("_EAPClientConfiguration","EAPSIMNumberOfRANDs",n)}return this.packUnpackProperty("_EAPClientConfiguration","EAPSIMNumberOfRANDs")===2}.property("_EAPClientConfiguration").cacheable(),_AcceptEAPTypes:function(e,t){return this.packUnpackProperty("_EAPClientConfiguration","AcceptEAPTypes",t)}.property("_EAPClientConfiguration"),_authenticationIdentityCertificate:SC.Record.attr(String,{key:"PayloadCertificateUUID",defaultValue:null}),authenticationIdentityCertificate:function(e,t){return t!==undefined&&(t=t==="--none--"?null:t,this.set("_authenticationIdentityCertificate",t)),this.get("_authenticationIdentityCertificate"
)||"--none--"}.property("_authenticationIdentityCertificate").cacheable(),_trustedCertificates:function(e,t){return this.packUnpackProperty("_EAPClientConfiguration","PayloadCertificateAnchorUUID",t)}.property("_EAPClientConfiguration"),trustedServerCertificateNames:function(e,t){return this.packUnpackProperty("_EAPClientConfiguration","TLSTrustedServerNames",t)}.property("_EAPClientConfiguration"),nonIdentityCertificatesKnobSetsBinding:SC.Binding.oneWay(".profile.nonIdentityCertificateKnobSets"),nonIdentityCertificatesKnobSetsLengthBinding:SC.Binding.oneWay(".profile*nonIdentityCertificateKnobSets.length"),trustedCertificatesContent:function(){var e=[],t=this.get("nonIdentityCertificatesKnobSets"),n=this.get("_trustedCertificates")||[],r,i;if(t!==undefined){var s=t.get("length");for(i=0;i<s;i++){r=t.objectAt(i);if(r){var o=SC.Object.create({ref:r,nameBinding:".ref.displayName",value:r.get("payloadUUID"),trusted:n.indexOf(r.get("payloadUUID"))>=0});o.addObserver("trusted",this,this._trustedCertificatesDidChange),e.pushObject(o)}}}return e}.property("nonIdentityCertificatesKnobSets").cacheable(),trustedCertificatesSelection:null,_trustedCertificatesDidChange:function(){var e=this.get("trustedCertificatesContent")||[],t=[],n;for(n=0;n<e.length;n++)e[n].get("trusted")===YES&&t.push(e[n].get("value"));this.set("_trustedCertificates",t)},authenticationIdentityCertificateContentBinding:SC.Binding.oneWay(".profile.identityScepAndAdCertObjects"),useDirectory:function(e,t){return t!==undefined&&(t&&(this.set("authenticationUsername",""),this.set("authenticationPassword",""),this.set("authenticationPerConnectionPassword"
,NO)),this.set("authenticationMethod",t?"directory":""),this.notifyPropertyChange("invalidFields")),this.get("authenticationMethod")==="directory"}.property("authenticationMethod"),authenticationMethod:function(e,t){return t!==undefined&&(this.set("_authenticationMethod",t),this.set("systemModeCredentialsSource",t==="directory"?"ActiveDirectory":null)),this.get("_authenticationMethod")}.property("_authenticationMethod"),_authenticationMethod:SC.Record.attr(String,{key:"AuthenticationMethod",defaultValue:""}),directoryDomain:SC.Record.attr(String,{key:"DirectoryDomain"}),systemModeCredentialsSource:function(e,t){if(t!==undefined){var n=this.get("_EAPClientConfiguration");t===null&&n?delete n.SystemModeCredentialsSource:this.packUnpackProperty("_EAPClientConfiguration","SystemModeCredentialsSource",t)}return this.packUnpackProperty("_EAPClientConfiguration","SystemModeCredentialsSource")}.property("_EAPClientConfiguration"),toggleProtocol:function(e,t){var n=this.get("_AcceptEAPTypes")||[];return e!==undefined&&!SC.none(this.get("_EAPClientConfiguration")&&!SC.none(t))&&(n.indexOf(t,0)<0&&e===YES?n.push(t):n.indexOf(t,0)>=0&&e===NO&&n.splice(n.indexOf(t,0),1),this.set("_AcceptEAPTypes",n)),n=this.get("_AcceptEAPTypes")||[],n.indexOf(t,0)>=0},protocolTlsSupported:function(e,t){return t===NO&&this.set("authenticationIdentityCertificate",null),this.toggleProtocol(t,Admin.WIFI_TLS_AUTH)}.property("_AcceptEAPTypes").cacheable(),protocolTtlsSupported:function(e,t){return t!==undefined&&(this.set("protocolTtlsInnerAuthentication",t?"MSCHAPv2":null),t===NO&&(!this.get("protocolEapFastSupported"
)&&!this.get("protocolPeapSupported")&&this.set("authenticationOuterIdentity",""),!this.get("protocolEapFastSupported")&&!this.get("protocolPeapSupported")&&!this.get("protocolLeapSupported")&&(this.set("authenticationUsername",""),this.set("authenticationPassword",""),this.set("authenticationPerConnectionPassword",NO),this.set("useDirectory",NO)))),this.toggleProtocol(t,Admin.WIFI_TTLS_AUTH)}.property("_AcceptEAPTypes").cacheable(),protocolLeapSupported:function(e,t){return t===NO&&!this.get("protocolEapFastSupported")&&!this.get("protocolPeapSupported")&&!this.get("protocolTtlsSupported")&&(this.set("authenticationUsername",""),this.set("authenticationPassword",""),this.set("authenticationPerConnectionPassword",NO),this.set("useDirectory",NO)),this.toggleProtocol(t,Admin.WIFI_LEAP_AUTH)}.property("_AcceptEAPTypes").cacheable(),protocolPeapSupported:function(e,t){return t===NO&&(!this.get("protocolEapFastSupported")&&!this.get("protocolTtlsSupported")&&this.set("authenticationOuterIdentity",""),!this.get("protocolEapFastSupported")&&!this.get("protocolTtlsSupported")&&!this.get("protocolLeapSupported")&&(this.set("authenticationUsername",""),this.set("authenticationPassword",""),this.set("authenticationPerConnectionPassword",NO),this.set("useDirectory",NO))),this.toggleProtocol(t,Admin.WIFI_PEAP_AUTH)}.property("_AcceptEAPTypes").cacheable(),protocolEapFastSupported:function(e,t){return t===NO&&(this.set("protocolEapFastUsePac",NO),this.set("protocolEapFastProvisionPac",NO),this.set("protocolEapFastProvisionPacAnonymously",NO),!this.get("protocolPeapSupported")&&!this.get("protocolTtlsSupported"
)&&this.set("authenticationOuterIdentity","")),this.toggleProtocol(t,Admin.WIFI_EAP_FAST_AUTH)}.property("_AcceptEAPTypes").cacheable(),protocolEapSimSupported:function(e,t){return this.toggleProtocol(t,Admin.WIFI_EAP_SIM_AUTH)}.property("_AcceptEAPTypes").cacheable(),protocolEapAkaSupported:function(e,t){return this.toggleProtocol(t,Admin.WIFI_EAP_AKA_AUTH)}.property("_AcceptEAPTypes").cacheable(),isHotspot:SC.Record.attr(Boolean,{key:"IsHotspot",defaultValue:!1}),displayedOperatorName:SC.Record.attr(String,{key:"DisplayedOperatorName"}),domainName:SC.Record.attr(String,{key:"DomainName"}),roamingConsortiumOIs:SC.Record.attr(Array,{key:"RoamingConsortiumOIs"}),nAIRealmNames:SC.Record.attr(Array,{key:"NAIRealmNames"}),mCCAndMNCs:SC.Record.attr(Array,{key:"MCCAndMNCs",defaultValue:function(){return[]},transform:{to:function(e,t,n,r,i){var s=[];return e&&e.forEach(function(e){var t=e.slice(0,3),n=e.slice(-3);s.push({MCC:Number(t),MNC:Number(n)})}),s},_zeroPad:function(e){return e===undefined&&(e=0),("000"+e).slice(-3)},from:function(e,t,n,r,i){var s=null,o=this._zeroPad;return e&&(s=[],e.forEach(function(e){s.push(o(e.MCC)+o(e.MNC))})),s},observesChildren:["[]"]}}),mCCAndMNCsController:null,hessid:SC.Record.attr(String,{key:"HESSID"}),roamingEnabled:SC.Record.attr(Boolean,{key:"ServiceProviderRoamingEnabled"}),shouldShowUsername:function(){return this.get("protocolLeapSupported")||this.get("protocolEapFastSupported")||this.get("protocolTtlsSupported")||this.get("protocolPeapSupported")}.property("protocolEapFastSupported","protocolTtlsSupported","protocolLeapSupported","protocolPeapSupported"
).cacheable(),shouldShowPassword:function(){return this.get("protocolEapFastSupported")||this.get("protocolTtlsSupported")||this.get("protocolLeapSupported")||this.get("protocolPeapSupported")}.property("protocolEapFastSupported","protocolTtlsSupported","protocolLeapSupported","protocolPeapSupported").cacheable(),shouldShowCertificate:function(){return this.get("protocolTlsSupported")||this.get("protocolTtlsSupported")||this.get("protocolPeapSupported")||this.get("protocolEapFastSupported")}.property("protocolTlsSupported","protocolTtlsSupported","protocolPeapSupported","protocolEapFastSupported").cacheable(),shouldShowDirectory:function(){return this.get("protocolEapFastSupported")||this.get("protocolTtlsSupported")||this.get("protocolLeapSupported")||this.get("protocolPeapSupported")}.property("protocolEapFastSupported","protocolTtlsSupported","protocolLeapSupported","protocolPeapSupported").cacheable(),_CertsHeight:function(){this.setIfChanged("CertsHeight",this.nonIdentityCertificatesKnobSetsLength>1?30+20*(this.nonIdentityCertificatesKnobSetsLength-1):30)}.observes("nonIdentityCertificatesKnobSetsLength"),CertsHeight:30,validatedProperties:function(){var e={},t=this.get("interfaceType"),n=this.get("proxyType");if(t==="BuiltInWireless"||t==="Hotspot")e.ssid=Admin.SSIDValidator.create({owner:this});return t==="Hotspot2"&&(e.displayedOperatorName=Admin.RequiredValidator.create({}),e.domainName=Admin.RequiredValidator.create({})),n==="Manual"&&(e.proxyServer=Admin.RequiredValidator.create({})),Admin.getPath("itemSelectionController.is_system_level")&&(this.get("protocolTlsSupported"
)&&(e.authenticationIdentityCertificate=Admin.RequiredValidator.create({})),this.get("shouldShowDirectory")&&!this.get("useDirectory")&&!this.get("loginWindow")&&(e.authenticationUsername=Admin.RequiredValidator.create({}),e.authenticationPassword=Admin.RequiredValidator.create({}))),this.get("invalidFields").splice(0,this.get("invalidFields").length),e}.property("interfaceType","proxyType","loginWindow","protocolTlsSupported","useDirectory","authenticationPerConnectionPassword","shouldShowDirectory").cacheable(),contentExampleView:Admin.InterfaceKnobSetView}),Admin.InterfaceKnobSet.displayName="_generic_string_Network".loc(),Admin.InterfaceKnobSet.largeIcon="admin-interface-knob-set-large-icon",Admin.InterfaceKnobSet.numLines="_interface_knob_set_num_lines".loc(),Admin.InterfaceKnobSet.profilePropertyName="interfaceKnobSets",SC.mixin(Admin.InterfaceKnobSet,{sortOrder:8,platformTypes:"iOS OSX"}),Admin.InterfaceKnobSet.systemLevel=YES,Admin.InterfaceKnobSet.userLevel=YES,Admin.InterfaceKnobSet.settingTypeDescription="_interface_knob_set_description".loc(),Admin.VpnKnobSetCustomSSLDataView=Admin.UnScrollableListView.extend({title:"_vpn_custom_ssl_data_header".loc(),description:"_vpn_custom_ssl_data_description".loc(),contentBinding:".owner*content.customSSLData",selectionBinding:".owner*content.customSSLDataSelection",addAction:"addCustomSSLDataItem",addTarget:SC.outlet("owner.content"),removeAction:"removeCustomSSLDataItem",removeTarget:SC.outlet("owner.content"),isEditable:YES,canEditContent:YES,isVisibleBinding:".owner.showCustomSSLVPNFields",exampleView:SC.View.design(SC.Control
,{childViews:"customDataKeyView customDataValueView".w(),customDataKeyView:SC.LabelView.design({layout:{centerY:2,left:5,width:Admin.KNOB_WIDTH/2-10,height:20},isEditable:YES,valueBinding:".owner*content.key",mouseDown:function(){var e=this.getPath("owner.owner"),t=this.getPath("owner.content"),n=SC.SelectionSet.create();return n.addObject(t),e.set("selection",n),YES}}),customDataValueView:SC.LabelView.design({layout:{centerY:1,left:Admin.KNOB_WIDTH/2+5,width:Admin.KNOB_WIDTH/2-10,height:20},isEditable:YES,valueBinding:".owner*content.value",mouseDown:function(){var e=this.getPath("owner.owner"),t=this.getPath("owner.content"),n=SC.SelectionSet.create();return n.addObject(t),e.set("selection",n),YES}})}),headerView:SC.View.design(SC.Border,{layout:{height:20},useStaticLayout:YES,classNames:["admin-unscrollable-list-view-header"],childViews:"keyLabelView valueLabelView".w(),keyLabelView:SC.LabelView.design({layout:{centerY:2,left:5,right:Admin.KNOB_WIDTH/2,height:20},value:"_vpn_custom_ssl_data_table_header_key".loc()}),valueLabelView:SC.LabelView.design({layout:{centerY:2,left:Admin.KNOB_WIDTH/2+5,right:0,height:20},value:"_vpn_custom_ssl_data_table_header_value".loc()})})}),Admin.VpnKnobSetUserAuthenticationFieldView=SC.View.extend({contentBinding:".owner.content",layout:{height:160},useStaticLayout:YES,isVisibleBinding:SC.Binding.oneWay(".owner.showNonIPSecFields"),childViews:["labelView","descriptionView","radioFieldView","userAuthPassword","userAuthCertificateBox"],labelView:Admin.BoldLabelViewAbsolute.design({layout:{centerX:0,top:0,width:Admin.KNOB_WIDTH,height:20},isEnabledBinding
:".owner.isEnabled",value:"_generic_string_User Authentication".loc()}),descriptionView:SC.LabelView.design({layout:{centerX:0,top:20,width:Admin.KNOB_WIDTH,height:20},classNames:"admin-description-label-view".w(),isEnabledBinding:".owner.isEnabled",value:"_generic_string_User authentication type for the connection".loc()}),radioFieldView:SC.RadioView.design({layout:{centerX:0,width:Admin.KNOB_WIDTH,top:40,height:120},items:[{value:"Password",name:"_generic_string_Password".loc()},{value:"RSA SecurID",name:"_generic_string_RSA SecurID".loc()},{value:"Certificate",name:"_generic_string_Certificate (OS X only)".loc()},{value:"Kerberos",name:"_generic_string_Kerberos (OS X only)".loc()},{value:"CryptoCard",name:"_generic_string_CryptoCard (OS X only)".loc()}],itemTitleKey:"name",itemValueKey:"value",themeName:"square",classNames:"admin-knob-set-tall-radio".w(),layoutDirection:SC.LAYOUT_VERTICAL,contentBinding:".owner.owner.content",contentValueKey:"userAuthenticationType"}),userAuthPassword:SC.TextFieldView.design({layout:{top:40,centerX:(Admin.KNOB_WIDTH-362)/2,width:362,height:20},isPassword:YES,isEnabled:function(){return this.get("userAuthType")==="Password"}.property("userAuthType").cacheable(),userAuthTypeBinding:".owner*content.userAuthenticationType",contentBinding:".owner.content",contentValueKey:"password"}),userAuthCertificateBox:SC.SelectButtonView.design({layout:{top:85,left:197,height:25},objectsBinding:SC.Binding.oneWay(".owner*content.credentialForAuthenticatingContent"),userAuthTypeBinding:".owner*content.userAuthenticationType",nameKey:"name",valueKey:"value",
localize:NO,themeName:"popup",checkboxEnabled:NO,isEnabled:function(){var e=this.get("objects");return!SC.none(e)&&e.length>1&&this.get("userAuthType")==="Certificate"}.property("userAuthType","objects").cacheable(),valueBinding:".owner*content.VPNCredentialForAuthenticating"})}),Admin.VpnKnobSetOnDemandDomainsView=Admin.UnScrollableListView.extend({title:null,description:null,contentBinding:".owner*content.matchDomains",selectionBinding:".owner*content.matchDomainSelection",addAction:"addMatchDomain",addTarget:SC.outlet("owner.content"),removeAction:"removeMatchDomain",removeTarget:SC.outlet("owner.content"),isEditable:YES,canEditContent:YES,isVisibleBinding:".owner.enableVpnOnDemandField.isVisible",isEnabledBinding:".owner.enableVpnOnDemandField.fieldValue",exampleView:SC.View.design(SC.Control,{childViews:"domainLabel actionButton".w(),domainLabel:SC.LabelView.design({layout:{centerY:2,left:5,width:Admin.KNOB_WIDTH/2-10,height:20},isEditable:YES,valueBinding:".owner*content.domain",mouseDown:function(){var e=this.getPath("owner.owner"),t=this.getPath("owner.content"),n=SC.SelectionSet.create();return n.addObject(t),e.set("selection",n),YES}}),actionButton:SC.SelectButtonView.design({layout:{centerY:1,left:Admin.KNOB_WIDTH/2+5,width:Admin.KNOB_WIDTH/2-10,height:20},objects:function(){return[{name:"_generic_string_always".loc(),value:"always"},{name:"_generic_string_never".loc(),value:"never"},{name:"_generic_string_establish".loc(),value:"establish"}]}.property().cacheable(),nameKey:"name",valueKey:"value",controlSize:SC.SMALL_CONTROL_SIZE,isSelectable:NO,textAlign:"left",
valueBinding:".owner*content.action"})}),headerView:SC.View.design(SC.Border,{layout:{height:20},useStaticLayout:YES,classNames:["admin-unscrollable-list-view-header"],childViews:"domainOrHostLabel label2".w(),domainOrHostLabel:SC.LabelView.design({layout:{centerY:2,left:5,right:Admin.KNOB_WIDTH/2,height:20},value:"_generic_string_Match Domain or Host".loc()}),label2:SC.LabelView.design({layout:{centerY:2,left:Admin.KNOB_WIDTH/2+5,right:0,height:20},isEditable:NO,value:"_generic_string_On Demand Action".loc()})})}),Admin.VpnKnobSetProxyFieldsView=SC.View.extend({useStaticLayout:YES,childViews:["proxySetupField","proxyServerField","proxyUsernameField","proxyPasswordField","proxyServerUrlField"],proxySetupField:Admin.KnobSetSelectButtonFieldView.design({title:"_generic_string_Proxy Setup".loc(),description:"_generic_string_Configures proxies to be used with this VPN connection".loc(),fieldObjects:[{value:"None",name:"_vpn_proxy_setting_None".loc()},{value:"Manual",name:"_vpn_proxy_type_Manual".loc()},{value:"Automatic",name:"_vpn_proxy_type_Automatic".loc()}],buttonWidth:140,contentBinding:".owner.owner.content",fieldContentValueKey:"proxySetup"}),proxyServerField:Admin.KnobSetIpPortFieldViewAbsolute.design({label:"_generic_string_Proxy Server and Port".loc(),description:"_generic_string_Hostname or IP address, and port number for the proxy server".loc(),isVisible:function(){return this.get("proxySetupValue")==="Manual"}.property("proxySetupValue").cacheable(),useStaticLayout:YES,proxySetupValueBinding:".owner.proxySetupField.fieldValue",proxySetupValueBindingDefault:SC.Binding
.oneWay(),fieldHint:"_hint_required".loc(),contentBinding:".owner.owner.content",fieldIpHostContentValueKey:"proxyServer",fieldPortContentValueKey:"proxyPort"}),proxyUsernameField:Admin.KnobSetTextFieldAbsolute.design({label:"_generic_string_Authentication".loc(),description:"_generic_string_Username used to connect to the proxy".loc(),fieldHint:"_generic_string_ask during installation".loc(),isVisible:function(){return this.proxySetupValue==="Manual"}.property("proxySetupValue").cacheable(),useStaticLayout:YES,proxySetupValueBinding:".owner.proxySetupField.fieldValue",proxySetupValueBindingDefault:SC.Binding.oneWay(),contentBinding:".owner.owner.content",fieldContentValueKey:"proxyUsername"}),proxyPasswordField:Admin.KnobSetPasswordFieldView.design({label:"_generic_string_Password".loc(),description:"_generic_string_Password used to authenticate with the proxy".loc(),isVisible:function(){return this.get("proxySetupValue")==="Manual"}.property("proxySetupValue").cacheable(),useStaticLayout:YES,proxySetupValueBinding:".owner.proxySetupField.fieldValue",proxySetupValueBindingDefault:SC.Binding.oneWay(),fieldIsPassword:YES,contentBinding:".owner.owner.content",fieldContentValueKey:"proxyPassword"}),proxyServerUrlField:Admin.KnobSetTextFieldAbsolute.design({label:"_generic_string_Proxy Server URL".loc(),description:"_generic_string_URL used to retrieve proxy settings".loc(),fieldHint:"_generic_string_optional".loc(),isVisible:function(){return this.get("proxySetupValue")==="Automatic"}.property("proxySetupValue").cacheable(),useStaticLayout:YES,proxySetupValueBinding:".owner.proxySetupField.fieldValue"
,proxySetupValueBindingDefault:SC.Binding.oneWay(),contentBinding:".owner.owner.content",fieldContentValueKey:"proxyServerUrl"})}),Admin.VpnKnobSetIKEv2SecurityAssociationParamsView=SC.View.extend({encryptionAlgorithmContentValueKey:"",integrityAlgorithmContentValueKey:"",diffieHellmanGroupContentValueKey:"",lifetimeContentValueKey:"",useStaticLayout:YES,contentBinding:".owner.content",childViews:["encryptionAlgorithmView","integrityAlgorithmView","diffieHellmanGroupView","lifetimeView"],encryptionAlgorithmView:Admin.KnobSetSelectButtonFieldView.design({title:"_vpn_ikev2_encryption_algorithm_header".loc(),description:"_vpn_ikev2_encryption_algorithm_description".loc(),fieldObjects:[{value:"DES",name:"_vpn_ikev2_encryption_algorithm_type_DES".loc()},{value:"3DES",name:"_vpn_ikev2_encryption_algorithm_type_3DES".loc()},{value:"AES-128",name:"_vpn_ikev2_encryption_algorithm_type_AES-128".loc()},{value:"AES-256",name:"_vpn_ikev2_encryption_algorithm_type_AES-256".loc()},{value:"AES-128-GCM",name:"_vpn_ikev2_encryption_algorithm_type_AES-128-GCM".loc()},{value:"AES-256-GCM",name:"_vpn_ikev2_encryption_algorithm_type_AES-256-GCM".loc()}],buttonWidth:220,fieldContentValueKeyBinding:SC.Binding.oneWay(".owner.encryptionAlgorithmContentValueKey")}),integrityAlgorithmView:Admin.KnobSetSelectButtonFieldView.design({title:"_vpn_ikev2_integrity_algorithm_header".loc(),description:"_vpn_ikev2_integrity_algorithm_description".loc(),fieldObjects:[{value:"SHA1-96",name:"_vpn_ikev2_integrity_algorithm_type_SHA1-96".loc()},{value:"SHA1-160",name:"_vpn_ikev2_integrity_algorithm_type_SHA1-160".loc
()},{value:"SHA2-256",name:"_vpn_ikev2_integrity_algorithm_type_SHA2-256".loc()},{value:"SHA2-384",name:"_vpn_ikev2_integrity_algorithm_type_SHA2-384".loc()},{value:"SHA2-512",name:"_vpn_ikev2_integrity_algorithm_type_SHA2-512".loc()}],buttonWidth:220,fieldContentValueKeyBinding:SC.Binding.oneWay(".owner.integrityAlgorithmContentValueKey")}),diffieHellmanGroupView:Admin.KnobSetSelectButtonFieldView.design({title:"_vpn_ikev2_diffie_hellman_group_header".loc(),description:"_vpn_ikev2_diffie_hellman_group_description".loc(),fieldObjects:[{value:"0",name:"0".loc()},{value:"1",name:"1".loc()},{value:"2",name:"2".loc()},{value:"5",name:"5".loc()},{value:"14",name:"14".loc()},{value:"15",name:"15".loc()},{value:"16",name:"16".loc()},{value:"17",name:"17".loc()},{value:"18",name:"18".loc()},{value:"19",name:"19".loc()},{value:"20",name:"20".loc()},{value:"21",name:"21".loc()}],buttonWidth:220,fieldContentValueKeyBinding:SC.Binding.oneWay(".owner.diffieHellmanGroupContentValueKey")}),lifetimeView:Admin.KnobSetTextFieldView.design({title:"_vpn_ikev2_lifetime_header".loc(),description:"_vpn_ikev2_lifetime_description".loc(),fieldHint:"_knob_set_view_optional_hint".loc(),fieldWidth:parseFloat("_vpn_ikev2_lifetime_field_width".loc()),applyImmediately:NO,fieldContentValueKeyBinding:SC.Binding.oneWay(".owner.lifetimeContentValueKey")})}),Admin.VpnKnobSetIKEv2View=SC.View.extend({useStaticLayout:YES,contentBinding:".owner.content",childViews:["remoteAddressView","localIdentifierView","remoteIdentifierView","authenticationMethodView","sharedSecretView","certificateView","certificateTypeView"
,"serverCertificateIssuerCommonNameView","serverCertificateCommonNameView","extendedAuthEnabledView","eapFields","DeadPeerDetectionRateView","securityAssociationParametersView"],remoteAddressContentValueKey:"",localIdentifierContentValueKey:"",remoteIdentifierContentValueKey:"",authenticationMethodContentValueKey:"",sharedSecretContentValueKey:"",payloadCertificateUUIDContentValueKey:"",certificateTypeContentValueKey:"",serverCertificateIssuerCommonNameContentValueKey:"",serverCertificateCommonNameContentValueKey:"",extendedAuthEnabledContentValueKey:"",eapAuthenticationMethodContentValueKey:"",authNameContentValueKey:"",authPasswordContentValueKey:"",DeadPeerDetectionRateContentValueKey:"",IKESAEncryptionAlgorithmContentValueKey:"",IKESAIntegrityAlgorithmContentValueKey:"",IKESADiffieHellmanGroupContentValueKey:"",IKESALifeTimeContentValueKey:"",childSAEncryptionAlgorithmContentValueKey:"",childSAIntegrityAlgorithmContentValueKey:"",childSADiffieHellmanGroupContentValueKey:"",childSALifeTimeContentValueKey:"",remoteAddressView:Admin.KnobSetTextFieldView.design({title:"_generic_string_Server".loc(),description:"_generic_string_Hostname or IP address for server".loc(),fieldHint:"_hint_required".loc(),fieldContentValueKeyBinding:SC.Binding.oneWay(".owner.remoteAddressContentValueKey")}),localIdentifierView:Admin.KnobSetTextFieldView.design({title:"_vpn_ikev2_local_identifier_header".loc(),description:"_vpn_ikev2_local_identifier_description".loc(),fieldHint:"_hint_required".loc(),fieldContentValueKeyBinding:SC.Binding.oneWay(".owner.localIdentifierContentValueKey")}),remoteIdentifierView
:Admin.KnobSetTextFieldView.design({title:"_vpn_ikev2_remote_identifier_header".loc(),description:"_vpn_ikev2_remote_identifier_description".loc(),fieldHint:"_hint_required".loc(),fieldContentValueKeyBinding:SC.Binding.oneWay(".owner.remoteIdentifierContentValueKey")}),authenticationMethodView:Admin.KnobSetSelectButtonFieldView.design({title:"_generic_string_Machine Authentication".loc(),description:"_generic_string_Authentication type for connection".loc(),fieldObjects:[{value:"SharedSecret",name:"_generic_string_Shared Secret".loc()},{value:"Certificate",name:"_generic_string_Certificate".loc()}],buttonWidth:220,fieldContentValueKeyBinding:SC.Binding.oneWay(".owner.authenticationMethodContentValueKey")}),sharedSecretView:Admin.KnobSetSecureTextFieldView.design({title:"_generic_string_Shared Secret".loc(),description:"_generic_string_Shared secret for the connection".loc(),fieldHint:"_generic_string_optional".loc(),authenticationMethodBinding:".owner.authenticationMethodView.fieldValue",isVisible:function(){return this.get("authenticationMethod")==="SharedSecret"}.property("authenticationMethod").cacheable(),fieldIsPassword:YES,fieldContentValueKeyBinding:SC.Binding.oneWay(".owner.sharedSecretContentValueKey")}),certificateView:Admin.KnobSetSelectButtonFieldView.design({title:"_authentication_certificate_header_credential".loc(),description:"_generic_string_Credential for authenticating the connection".loc(),fieldContentValueKeyBinding:SC.Binding.oneWay(".owner.payloadCertificateUUIDContentValueKey"),fieldObjectsBinding:".owner*content.credentialForAuthenticatingContent",buttonWidth
:Admin.KNOB_WIDTH-20,isEnabled:function(){var e=this.get("fieldObjects");return e!==null&&e.length>1}.property("fieldObjects").cacheable(),authenticationMethodBinding:".owner.authenticationMethodView.fieldValue",extendedAuthEnabledBinding:".owner.extendedAuthEnabledView.fieldValue",isVisible:function(){return this.get("authenticationMethod")==="Certificate"&&!this.get("extendedAuthEnabled")}.property("authenticationMethod","extendedAuthEnabled").cacheable()}),certificateTypeView:Admin.KnobSetSelectButtonFieldView.design({title:"_vpn_ikev2_server_certificate_type_header".loc(),description:"_vpn_ikev2_server_certificate_type_description".loc(),fieldContentValueKeyBinding:SC.Binding.oneWay(".owner.certificateTypeContentValueKey"),fieldObjects:[{value:"RSA",name:"_vpn_ikev2_certificate_type_RSA".loc()},{value:"ECDSA256",name:"_vpn_ikev2_certificate_type_ECDSA256".loc()},{value:"ECDSA384",name:"_vpn_ikev2_certificate_type_ECDSA384".loc()},{value:"ECDSA521",name:"_vpn_ikev2_certificate_type_ECDSA521".loc()}],buttonWidth:220,authenticationMethodBinding:".owner.authenticationMethodView.fieldValue",extendedAuthEnabledBinding:".owner.extendedAuthEnabledView.fieldValue",isVisible:function(){return this.get("authenticationMethod")==="Certificate"&&!this.get("extendedAuthEnabled")}.property("authenticationMethod","extendedAuthEnabled").cacheable()}),serverCertificateIssuerCommonNameView:Admin.KnobSetTextFieldView.design({title:"_vpn_ikev2_server_certificate_issuer_common_name_header".loc(),description:"_vpn_ikev2_server_certificate_issuer_common_name_description".loc(),fieldHint:"_knob_set_view_optional_hint"
.loc(),fieldContentValueKeyBinding:SC.Binding.oneWay(".owner.serverCertificateIssuerCommonNameContentValueKey"),authenticationMethodBinding:".owner.authenticationMethodView.fieldValue",isVisible:function(){return this.get("authenticationMethod")==="Certificate"}.property("authenticationMethod").cacheable()}),serverCertificateCommonNameView:Admin.KnobSetTextFieldView.design({title:"_vpn_ikev2_server_certificate_common_name_header".loc(),description:"_vpn_ikev2_server_certificate_common_name_description".loc(),fieldHint:"_knob_set_view_optional_hint".loc(),fieldContentValueKeyBinding:SC.Binding.oneWay(".owner.serverCertificateCommonNameContentValueKey"),authenticationMethodBinding:".owner.authenticationMethodView.fieldValue",isVisible:function(){return this.get("authenticationMethod")==="Certificate"}.property("authenticationMethod").cacheable()}),extendedAuthEnabledView:Admin.KnobSetCheckBoxFieldView.design({title:"_vpn_ikev2_extended_auth_header".loc(),description:"_vpn_ikev2_extended_auth_description".loc(),fieldContentValueKeyBinding:SC.Binding.oneWay(".owner.extendedAuthEnabledContentValueKey")}),eapFields:SC.View.design({useStaticLayout:YES,contentBinding:".owner.content",childViews:["eapAuthenticationMethodView","eapCertificateView","eapCertificateTypeView","authNameField","authPasswordField"],isVisibleBinding:".owner.extendedAuthEnabledView.fieldValue",eapAuthenticationMethodView:Admin.KnobSetSelectButtonFieldView.design({title:"_vpn_ikev2_eap_authentication_type_header".loc(),description:"_generic_string_Authentication type for connection".loc(),fieldObjects:[{value:"Password"
,name:"_vpn_ikev2_eap_authentication_type_password".loc()},{value:"Certificate",name:"_generic_string_Certificate".loc()}],buttonWidth:220,fieldContentValueKeyBinding:SC.Binding.oneWay(".owner.owner.eapAuthenticationMethodContentValueKey")}),eapCertificateView:Admin.KnobSetSelectButtonFieldView.design({title:"_authentication_certificate_header_credential".loc(),description:"_generic_string_Credential for authenticating the connection".loc(),fieldContentValueKeyBinding:SC.Binding.oneWay(".owner.owner.payloadCertificateUUIDContentValueKey"),fieldObjectsBinding:".owner*content.credentialForAuthenticatingContent",buttonWidth:Admin.KNOB_WIDTH-20,isEnabled:function(){var e=this.get("fieldObjects");return e!==null&&e.length>1}.property("fieldObjects").cacheable(),authenticationMethodBinding:".owner.eapAuthenticationMethodView.fieldValue",isVisible:function(){return this.get("authenticationMethod")==="Certificate"}.property("authenticationMethod").cacheable()}),eapCertificateTypeView:Admin.KnobSetSelectButtonFieldView.design({title:"_vpn_ikev2_server_certificate_type_header".loc(),description:"_vpn_ikev2_server_certificate_type_description".loc(),fieldContentValueKeyBinding:SC.Binding.oneWay(".owner.owner.certificateTypeContentValueKey"),fieldObjects:[{value:"RSA",name:"_vpn_ikev2_certificate_type_RSA".loc()},{value:"ECDSA256",name:"_vpn_ikev2_certificate_type_ECDSA256".loc()},{value:"ECDSA384",name:"_vpn_ikev2_certificate_type_ECDSA384".loc()},{value:"ECDSA521",name:"_vpn_ikev2_certificate_type_ECDSA521".loc()}],buttonWidth:220,authenticationMethodBinding:".owner.eapAuthenticationMethodView.fieldValue"
,isVisible:function(){return this.get("authenticationMethod")==="Certificate"}.property("authenticationMethod").cacheable()}),authNameField:Admin.KnobSetTextFieldView.design({title:"_generic_string_Account".loc(),description:"_generic_string_User account for authenticating the connection".loc(),fieldHint:"_knob_set_view_optional_hint".loc(),fieldContentValueKeyBinding:SC.Binding.oneWay(".owner.owner.authNameContentValueKey"),authenticationMethodBinding:".owner.eapAuthenticationMethodView.fieldValue",isVisible:function(){return this.get("authenticationMethod")==="Password"}.property("authenticationMethod").cacheable()}),authPasswordField:Admin.KnobSetSecureTextFieldView.design({title:"_generic_string_Password".loc(),description:"_generic_string_Password for authenticating the connection".loc(),fieldContentValueKeyBinding:SC.Binding.oneWay(".owner.owner.authPasswordContentValueKey"),fieldHint:"_knob_set_view_optional_hint".loc(),authenticationMethodBinding:".owner.eapAuthenticationMethodView.fieldValue",isVisible:function(){return this.get("authenticationMethod")==="Password"}.property("authenticationMethod").cacheable()})}),DeadPeerDetectionRateView:Admin.KnobSetSelectButtonFieldView.design({title:"_vpn_ikev2_dead_peer_detection_interval_header".loc(),description:"_vpn_ikev2_dead_peer_detection_interval_description".loc(),fieldObjects:[{value:"None",name:"_vpn_ikev2_dead_peer_detection_interval_disable".loc()},{value:"Low",name:"_vpn_ikev2_dead_peer_detection_interval_low".loc()},{value:"Medium",name:"_vpn_ikev2_dead_peer_detection_interval_medium".loc()},{value:"High",name:"_vpn_ikev2_dead_peer_detection_interval_high"
.loc()}],buttonWidth:220,fieldContentValueKeyBinding:SC.Binding.oneWay(".owner.DeadPeerDetectionRateContentValueKey")}),securityAssociationParametersView:SC.View.design({contentBinding:".owner.content",useStaticLayout:YES,childViews:["ikeChildSegmentedView","ikeSecurityAssociationParamsView","childSecurityAssociationParamsView"],classNames:["admin-margin-top-7"],ikeChildSegmentedView:SC.SegmentedView.design({classNames:["admin-margin-bottom-5"],layout:{height:30},useStaticLayout:YES,itemTitleKey:"title",itemValueKey:"value",itemWidthKey:"width",items:[{title:"_vpn_ikev2_ike_security_association_params".loc(),value:"ike"},{title:"_vpn_ikev2_child_security_association_params".loc(),value:"child"}],valueBinding:".owner*content.ikeSecurityParamsTab"}),ikeSecurityAssociationParamsView:Admin.VpnKnobSetIKEv2SecurityAssociationParamsView.design({paramsTabValueBinding:SC.Binding.oneWay(".owner.ikeChildSegmentedView.value"),isVisible:function(e,t){if(t!==undefined)throw SC.$error("isVisible is ready only for %@".fmt(this.constructor));return this.get("paramsTabValue")==="ike"}.property("paramsTabValue").cacheable(),encryptionAlgorithmContentValueKeyBinding:SC.Binding.oneWay(".owner.owner.IKESAEncryptionAlgorithmContentValueKey"),integrityAlgorithmContentValueKeyBinding:SC.Binding.oneWay(".owner.owner.IKESAIntegrityAlgorithmContentValueKey"),diffieHellmanGroupContentValueKeyBinding:SC.Binding.oneWay(".owner.owner.IKESADiffieHellmanGroupContentValueKey"),lifetimeContentValueKeyBinding:SC.Binding.oneWay(".owner.owner.IKESALifeTimeContentValueKey")}),childSecurityAssociationParamsView:Admin
.VpnKnobSetIKEv2SecurityAssociationParamsView.design({paramsTabValueBinding:SC.Binding.oneWay(".owner.ikeChildSegmentedView.value"),isVisible:function(e,t){if(t!==undefined)throw SC.$error("isVisible is ready only for %@".fmt(this.constructor));return this.get("paramsTabValue")==="child"}.property("paramsTabValue").cacheable(),encryptionAlgorithmContentValueKeyBinding:SC.Binding.oneWay(".owner.owner.childSAEncryptionAlgorithmContentValueKey"),integrityAlgorithmContentValueKeyBinding:SC.Binding.oneWay(".owner.owner.childSAIntegrityAlgorithmContentValueKey"),diffieHellmanGroupContentValueKeyBinding:SC.Binding.oneWay(".owner.owner.childSADiffieHellmanGroupContentValueKey"),lifetimeContentValueKeyBinding:SC.Binding.oneWay(".owner.owner.childSALifeTimeContentValueKey")})})}),Admin.VpnKnobSetServiceExceptionView=SC.View.extend({serviceName:"",contentBinding:".owner.content",fieldContentValueKey:"",useStaticLayout:YES,layout:{height:30},childViews:["serviceNameView","serviceActionView"],serviceNameView:SC.LabelView.design({valueBinding:SC.Binding.oneWay(".owner.serviceName"),classNames:["admin-about-info-item-view-key"],textAlign:SC.ALIGN_RIGHT,layout:{height:20,width:parseFloat("_vpn_always_on_service_exception_name_width".loc()),top:3}}),serviceActionView:SC.SelectView.design({layout:{top:0,left:parseFloat("_vpn_always_on_service_exception_name_width".loc())+10,width:180,height:25},items:[{title:"_vpn_always_on_service_exception_allow_via_tunnel".loc(),value:"default"},{title:"_vpn_always_on_service_exception_allow_outside_tunnel".loc(),value:"Allow"},{title:"_vpn_always_on_service_exception_drop"
.loc(),value:"Drop"}],checkboxEnabled:NO,itemTitleKey:"title",itemValueKey:"value",themeName:"popup",localize:NO,valueBinding:".owner.fieldValue",contentBinding:".owner.content",contentValueKeyBinding:".owner.fieldContentValueKey",itemSeparatorKey:"isSeparator"})}),Admin.VpnKnobSetAlwaysOnView=SC.View.extend({useStaticLayout:YES,contentBinding:".owner.content",childViews:["allowUIToggleView","useSameTunnelConfigView","commonTunnelConfigView","cellularAndWifiTunnelConfigView","serviceExceptionsView","allowCaptiveWebSheetView","allowAllCaptiveNetworkPluginsView","allowCaptiveNetworkPluginsView"],allowUIToggleView:Admin.CheckboxView.design({title:"_vpn_always_on_allow_ui_toggle".loc(),contentValueKey:"alwaysOnUIToggleEnabled"}),useSameTunnelConfigView:Admin.CheckboxView.design({classNames:["admin-margin-bottom-7"],title:"_vpn_always_on_use_same_tunnel_configuration".loc(),contentValueKey:"useCommonAlwaysOnTunnelConfig"}),commonTunnelConfigView:Admin.VpnKnobSetIKEv2View.design({isVisibleBinding:".owner.useSameTunnelConfigView.value",remoteAddressContentValueKey:"alwaysOnCommonRemoteAddress",localIdentifierContentValueKey:"alwaysOnCommonLocalIdentifier",remoteIdentifierContentValueKey:"alwaysOnCommonRemoteIdentifier",authenticationMethodContentValueKey:"alwaysOnCommonAuthenticationMethod",sharedSecretContentValueKey:"alwaysOnCommonSharedSecret",payloadCertificateUUIDContentValueKey:"alwaysOnCommonPayloadCertificateUUID",certificateTypeContentValueKey:"alwaysOnCommonCertificateType",serverCertificateIssuerCommonNameContentValueKey:"alwaysOnCommonServerCertificateIssuerCommonName",
serverCertificateCommonNameContentValueKey:"alwaysOnCommonServerCertificateCommonName",extendedAuthEnabledContentValueKey:"alwaysOnCommonExtendedAuthEnabled",eapAuthenticationMethodContentValueKey:"alwaysOnCommoneapAuthenticationMethod",authNameContentValueKey:"alwaysOnCommonAuthName",authPasswordContentValueKey:"alwaysOnCommonAuthPassword",DeadPeerDetectionRateContentValueKey:"alwaysOnCommonDeadPeerDetectionRate",IKESAEncryptionAlgorithmContentValueKey:"alwaysOnCommonIKESAEncryptionAlgorithm",IKESAIntegrityAlgorithmContentValueKey:"alwaysOnCommonIKESAIntegrityAlgorithm",IKESADiffieHellmanGroupContentValueKey:"alwaysOnCommonIKESADiffieHellmanGroup",IKESALifeTimeContentValueKey:"alwaysOnCommonIKESALifeTimeInMinutes",childSAEncryptionAlgorithmContentValueKey:"alwaysOnCommonchildSAEncryptionAlgorithm",childSAIntegrityAlgorithmContentValueKey:"alwaysOnCommonchildSAIntegrityAlgorithm",childSADiffieHellmanGroupContentValueKey:"alwaysOnCommonChildSADiffieHellmanGroup",childSALifeTimeContentValueKey:"alwaysOnCommonChildSALifeTimeInMinutes"}),cellularAndWifiTunnelConfigView:SC.View.design({useStaticLayout:YES,contentBinding:".owner.content",isVisibleBinding:SC.Binding.not(".owner.useSameTunnelConfigView.value"),childViews:["tunnelConfigSegmentedView","cellularTunnelConfigView","wifiTunnelConfigView"],tunnelConfigSegmentedView:SC.SegmentedView.design({classNames:["admin-margin-bottom-5"],layout:{height:30},useStaticLayout:YES,itemTitleKey:"title",itemValueKey:"value",itemWidthKey:"width",items:[{title:"_vpn_always_on_cellular_tunnel_config_tab".loc(),value:"cellular"},{title:"_vpn_always_on_cellular_wifi_config_tab"
.loc(),value:"wifi"}],valueBinding:".owner*content.alwaysOnTunnelConfigTab"}),cellularTunnelConfigView:Admin.VpnKnobSetIKEv2View.design({tunnelConfigTabValueBinding:".owner.tunnelConfigSegmentedView.value",isVisible:function(){return this.get("tunnelConfigTabValue")==="cellular"}.property("tunnelConfigTabValue"),remoteAddressContentValueKey:"alwaysOnCellularRemoteAddress",localIdentifierContentValueKey:"alwaysOnCellularLocalIdentifier",remoteIdentifierContentValueKey:"alwaysOnCellularRemoteIdentifier",authenticationMethodContentValueKey:"alwaysOnCellularAuthenticationMethod",sharedSecretContentValueKey:"alwaysOnCellularSharedSecret",payloadCertificateUUIDContentValueKey:"alwaysOnCellularPayloadCertificateUUID",certificateTypeContentValueKey:"alwaysOnCellularCertificateType",serverCertificateIssuerCommonNameContentValueKey:"alwaysOnCellularServerCertificateIssuerCommonName",serverCertificateCommonNameContentValueKey:"alwaysOnCellularServerCertificateCommonName",extendedAuthEnabledContentValueKey:"alwaysOnCellularExtendedAuthEnabled",eapAuthenticationMethodContentValueKey:"alwaysOnCellulareapAuthenticationMethod",authNameContentValueKey:"alwaysOnCellularAuthName",authPasswordContentValueKey:"alwaysOnCellularAuthPassword",DeadPeerDetectionRateContentValueKey:"alwaysOnCellularDeadPeerDetectionRate",IKESAEncryptionAlgorithmContentValueKey:"alwaysOnCellularIKESAEncryptionAlgorithm",IKESAIntegrityAlgorithmContentValueKey:"alwaysOnCellularIKESAIntegrityAlgorithm",IKESADiffieHellmanGroupContentValueKey:"alwaysOnCellularIKESADiffieHellmanGroup",IKESALifeTimeContentValueKey:"alwaysOnCellularIKESALifeTimeInMinutes"
,childSAEncryptionAlgorithmContentValueKey:"alwaysOnCellularchildSAEncryptionAlgorithm",childSAIntegrityAlgorithmContentValueKey:"alwaysOnCellularchildSAIntegrityAlgorithm",childSADiffieHellmanGroupContentValueKey:"alwaysOnCellularChildSADiffieHellmanGroup",childSALifeTimeContentValueKey:"alwaysOnCellularChildSALifeTimeInMinutes"}),wifiTunnelConfigView:Admin.VpnKnobSetIKEv2View.design({tunnelConfigTabValueBinding:".owner.tunnelConfigSegmentedView.value",isVisible:function(){return this.get("tunnelConfigTabValue")==="wifi"}.property("tunnelConfigTabValue"),remoteAddressContentValueKey:"alwaysOnWifiRemoteAddress",localIdentifierContentValueKey:"alwaysOnWifiLocalIdentifier",remoteIdentifierContentValueKey:"alwaysOnWifiRemoteIdentifier",authenticationMethodContentValueKey:"alwaysOnWifiAuthenticationMethod",sharedSecretContentValueKey:"alwaysOnWifiSharedSecret",payloadCertificateUUIDContentValueKey:"alwaysOnWifiPayloadCertificateUUID",certificateTypeContentValueKey:"alwaysOnWifiCertificateType",serverCertificateIssuerCommonNameContentValueKey:"alwaysOnWifiServerCertificateIssuerCommonName",serverCertificateCommonNameContentValueKey:"alwaysOnWifiServerCertificateCommonName",extendedAuthEnabledContentValueKey:"alwaysOnWifiExtendedAuthEnabled",eapAuthenticationMethodContentValueKey:"alwaysOnWifieapAuthenticationMethod",authNameContentValueKey:"alwaysOnWifiAuthName",authPasswordContentValueKey:"alwaysOnWifiAuthPassword",DeadPeerDetectionRateContentValueKey:"alwaysOnWifiDeadPeerDetectionRate",IKESAEncryptionAlgorithmContentValueKey:"alwaysOnWifiIKESAEncryptionAlgorithm",IKESAIntegrityAlgorithmContentValueKey
:"alwaysOnWifiIKESAIntegrityAlgorithm",IKESADiffieHellmanGroupContentValueKey:"alwaysOnWifiIKESADiffieHellmanGroup",IKESALifeTimeContentValueKey:"alwaysOnWifiIKESALifeTimeInMinutes",childSAEncryptionAlgorithmContentValueKey:"alwaysOnWifichildSAEncryptionAlgorithm",childSAIntegrityAlgorithmContentValueKey:"alwaysOnWifichildSAIntegrityAlgorithm",childSADiffieHellmanGroupContentValueKey:"alwaysOnWifiChildSADiffieHellmanGroup",childSALifeTimeContentValueKey:"alwaysOnWifiChildSALifeTimeInMinutes"})}),serviceExceptionsView:SC.View.design({useStaticLayout:YES,contentBinding:".owner.content",childViews:["serviceExceptionsHeaderView","voiceMailServiceView","airprintServiceView"],serviceExceptionsHeaderView:Admin.BoldLabelView.design({value:"_vpn_always_on_service_exceptions".loc(),classNames:["admin-margin-top-7","admin-margin-bottom-7"]}),voiceMailServiceView:Admin.VpnKnobSetServiceExceptionView.design({contentBinding:".owner.content",fieldContentValueKey:"alwaysOnVoiceMailServiceException",serviceName:"_vpn_always_on_service_voicemail".loc()}),airdropServiceView:Admin.VpnKnobSetServiceExceptionView.design({contentBinding:".owner.content",serviceName:"_vpn_always_on_service_airdrop".loc(),fieldContentValueKey:"alwaysOnAirDropServiceException"}),airprintServiceView:Admin.VpnKnobSetServiceExceptionView.design({contentBinding:".owner.content",serviceName:"_vpn_always_on_service_airprint".loc(),fieldContentValueKey:"alwaysOnAirPrintServiceException"}),airplayServiceView:Admin.VpnKnobSetServiceExceptionView.design({contentBinding:".owner.content",serviceName:"_vpn_always_on_service_airplay"
.loc(),fieldContentValueKey:"alwaysOnAirPlayServiceException"})}),allowCaptiveWebSheetView:Admin.CheckboxView.design({classNames:["admin-margin-top-15"],title:"_vpn_always_on_allow_captive_web_sheet".loc(),contentValueKey:"alwaysOnAllowCaptiveWebSheet"}),allowAllCaptiveNetworkPluginsView:Admin.CheckboxView.design({title:"_vpn_always_on_allow_all_captive_network_plugins".loc(),contentValueKey:"alwaysOnAllowAllCaptiveNetworkPlugins"}),allowCaptiveNetworkPluginsView:Admin.UnScrollableListView.design({isVisibleBinding:SC.Binding.not(".owner.allowAllCaptiveNetworkPluginsView.value"),classNames:["admin-margin-top-7"],title:"_vpn_always_on_allow_whitelist_captive_network_plugins_header".loc(),description:"_vpn_always_on_allow_whitelist_captive_network_plugins_description".loc(),addAction:"addAlwaysOnAllowedCaptiveNetworkPluginsContent",addTarget:SC.outlet("owner.content"),removeAction:"removeAlwaysOnAllowedCaptiveNetworkPluginsContent",removeTarget:SC.outlet("owner.content"),isEditable:YES,canEditContent:YES,contentBinding:".owner*content.alwaysOnAllowedCaptiveNetworkPluginsContent",selectionBinding:".owner*content.alwaysOnAllowedCaptiveNetworkPluginsSelection"})}),Admin.VpnKnobSetView=Admin.KnobSetView.extend({contentView:Admin.KnobSetContentView.design({childViews:["connectionNameField","connectionTypeField","alwaysOnVpnOptionView","alwaysOnFieldsView","regularVpnFieldsView"],connectionNameField:Admin.KnobSetTextFieldAbsolute.design({label:"_generic_string_Connection Name".loc(),description:"_generic_string_Display name of the connection (displayed on the device)".loc(),fieldHint
:"_hint_required".loc(),useStaticLayout:YES,contentBinding:".owner.content",fieldContentValueKey:"connectionName"}),connectionTypeField:Admin.KnobSetSelectButtonFieldView.design({useStaticLayout:YES,title:"_generic_string_Connection Type".loc(),description:"_generic_string_The type of connection enabled by this policy".loc(),fieldObjects:[{value:"L2TP",name:"L2TP"},{value:"PPTP",name:"PPTP"},{value:"IPSec",name:"IPsec (Cisco)"},{value:"AnyConnect",name:"Cisco AnyConnect"},{value:"Juniper",name:"Juniper SSL"},{value:"F5",name:"F5 SSL"},{value:"SonicWALL",name:"_generic_string_SonicWALL Mobile Connect".loc()},{value:"ArubaVIA",name:"_generic_string_Aruba VIA".loc()},{value:"CheckPointMobile",name:"_generic_string_Check Point Mobile VPN".loc()},{value:"IKEv2",name:"_vpn_type_string_IKEv2".loc()},{value:"custom_ssl",name:"_vpn_type_string_custom_ssl".loc()}],buttonWidth:"_layout_vpn_connection_type_button_width".loc(),contentBinding:".owner.content",fieldContentValueKey:"connectionType"}),connectionTypeBinding:".content.connectionType",alwaysOnVpnOptionView:Admin.BoldCheckboxView.design({title:"_vpn_type_string_always_on".loc(),contentValueKey:"isAlwaysOn",connectionTypeBinding:".owner*content.connectionType",isVisible:function(){return this.get("connectionType")==="IKEv2"}.property("connectionType").cacheable()}),alwaysOnFieldsView:Admin.VpnKnobSetAlwaysOnView.design({isVisibleBinding:SC.Binding.oneWay(".owner.alwaysOnVpnOptionView.value")}),regularVpnFieldsView:SC.View.design({isVisibleBinding:SC.Binding.not(".owner.alwaysOnVpnOptionView.value"),useStaticLayout:YES,contentBinding
:".owner.content",childViews:["ikev2FieldsView","customSSLIdentifierField","serverField","userAccountField","xAuthPasswordField","customSSLDataView","groupField","loginGroupOrDomainField","realmField","roleField","sslUserAuthenticationField","passwordField","userAuthenticationField","encryptionLevelField","machineAuthenticationTypeField","groupNameField","sharedSecretField","certificateField","sendAllTrafficField","includeUserPinField","enableVpnOnDemandField","useHybridAuthenticationField","promptForPasswordField","matchDomains","proxyFieldsView"],connectionTypeBinding:".owner*content.connectionType",showL2TPFields:function(){return this.get("connectionType")==="L2TP"}.property("connectionType").cacheable(),showPPTPFields:function(){return this.get("connectionType")==="PPTP"}.property("connectionType").cacheable(),showIPSecFields:function(){return this.get("connectionType")==="IPSec"}.property("connectionType").cacheable(),showNonIPSecFields:function(){return this.get("connectionType")==="L2TP"||this.get("connectionType")==="PPTP"}.property("connectionType").cacheable(),showSSLVPNFields:function(){return["ArubaVIA","SonicWALL","Juniper","AnyConnect","F5","CheckPointMobile","custom_ssl"].contains(this.get("connectionType"))}.property("connectionType").cacheable(),showNonSSLVPNFields:function(){return this.get("connectionType")==="L2TP"||this.get("connectionType")==="PPTP"||this.get("connectionType")==="IPSec"}.property("connectionType").cacheable(),showCustomSSLVPNFields:function(){return this.get("connectionType")==="custom_ssl"}.property("connectionType").cacheable(),showIKEv2Fields
:function(){return this.get("connectionType")==="IKEv2"}.property("connectionType").cacheable(),ikev2FieldsView:Admin.VpnKnobSetIKEv2View.design({isVisibleBinding:".owner.showIKEv2Fields",remoteAddressContentValueKey:"ikev2RemoteAddress",localIdentifierContentValueKey:"ikev2LocalIdentifier",remoteIdentifierContentValueKey:"ikev2RemoteIdentifier",authenticationMethodContentValueKey:"ikev2AuthenticationMethod",sharedSecretContentValueKey:"ikev2SharedSecret",payloadCertificateUUIDContentValueKey:"ikev2PayloadCertificateUUID",certificateTypeContentValueKey:"ikev2CertificateType",serverCertificateIssuerCommonNameContentValueKey:"ikev2ServerCertificateIssuerCommonName",serverCertificateCommonNameContentValueKey:"ikev2ServerCertificateCommonName",extendedAuthEnabledContentValueKey:"ikev2ExtendedAuthEnabled",eapAuthenticationMethodContentValueKey:"ikev2eapAuthenticationMethod",authNameContentValueKey:"ikev2AuthName",authPasswordContentValueKey:"ikev2AuthPassword",DeadPeerDetectionRateContentValueKey:"ikev2DeadPeerDetectionRate",IKESAEncryptionAlgorithmContentValueKey:"ikev2IKESAEncryptionAlgorithm",IKESAIntegrityAlgorithmContentValueKey:"ikev2IKESAIntegrityAlgorithm",IKESADiffieHellmanGroupContentValueKey:"ikev2IKESADiffieHellmanGroup",IKESALifeTimeContentValueKey:"ikev2IKESALifeTimeInMinutes",childSAEncryptionAlgorithmContentValueKey:"ikev2ChildSAEncryptionAlgorithm",childSAIntegrityAlgorithmContentValueKey:"ikev2ChildSAIntegrityAlgorithm",childSADiffieHellmanGroupContentValueKey:"ikev2ChildSADiffieHellmanGroup",childSALifeTimeContentValueKey:"ikev2ChildSALifeTimeInMinutes"}),customSSLIdentifierField
:Admin.KnobSetTextFieldView.design({title:"_vpn_custom_ssl_identifier".loc(),description:"_vpn_custom_ssl_identifier_description".loc(),fieldHint:"_hint_required".loc(),useStaticLayout:YES,contentBinding:".owner.content",fieldContentValueKey:"vpnSubType",isVisibleBinding:".owner.showCustomSSLVPNFields"}),serverField:Admin.KnobSetTextFieldAbsolute.design({label:"_generic_string_Server".loc(),description:"_generic_string_Hostname or IP address for server".loc(),fieldHint:"_hint_required".loc(),useStaticLayout:YES,contentBinding:".owner.content",fieldContentValueKey:"server",isVisibleBinding:SC.Binding.not(".owner.showIKEv2Fields")}),userAccountField:Admin.KnobSetTextFieldAbsolute.design({label:"_generic_string_Account".loc(),description:"_generic_string_User account for authenticating the connection".loc(),fieldHint:function(){var e;return this.get("isAutoPush")?this.get("connectionType")==="AnyConnect"?e="_knob_set_view_optional_hint".loc():e="_hint_required".loc():e="_generic_string_set on device".loc(),e}.property("isAutoPush","connectionType").cacheable(),connectionTypeBinding:".owner*content.connectionType",isAutoPushBinding:"Admin.itemSelectionController.isManaged",isEnabled:function(){return!this.get("identificationKnobSetsLength")}.property("identificationKnobSetsLength").cacheable(),identificationKnobSetsLengthBinding:".owner*content.profile.identificationKnobSets.length",useStaticLayout:YES,contentBinding:".owner.content",fieldContentValueKey:"userAccount",isVisibleBinding:SC.Binding.not(".owner.showIKEv2Fields")}),xAuthPasswordField:Admin.KnobSetPasswordFieldView.design
({label:"_generic_string_Password".loc(),description:"_generic_string_Password for authenticating the connection".loc(),fieldHint:"_knob_set_view_optional_hint".loc(),useStaticLayout:YES,contentBinding:".owner.content",fieldContentValueKey:"XAuthPassword",isVisibleBinding:SC.Binding.oneWay(".owner.showIPSecFields")}),customSSLDataView:Admin.VpnKnobSetCustomSSLDataView.design({}),groupField:Admin.KnobSetTextFieldAbsolute.design({label:"_generic_string_Group".loc(),description:"_generic_string_Group for authenticating the connection".loc(),isVisible:function(){return this.get("connectionTypeValue")==="AnyConnect"}.property("connectionTypeValue").cacheable(),fieldHint:function(){return this.get("isAutoPush")?"_knob_set_view_optional_hint".loc():"_generic_string_set on device".loc()}.property("isAutoPush").cacheable(),isAutoPushBinding:"Admin.itemSelectionController.isManaged",connectionTypeValueBinding:SC.Binding.oneWay(".owner*content.connectionType"),useStaticLayout:YES,contentBinding:".owner.content",fieldContentValueKey:"group"}),loginGroupOrDomainField:Admin.KnobSetTextFieldAbsolute.design({label:"_generic_string_Login Group or Domain".loc(),description:"_generic_string_Login Group or Domain for the connection".loc(),isVisible:function(){return this.get("connectionTypeValue")==="SonicWALL"}.property("connectionTypeValue").cacheable(),fieldHint:function(){return this.get("isAutoPush")?"_hint_required".loc():"_generic_string_set on device".loc()}.property("isAutoPush").cacheable(),isAutoPushBinding:"Admin.itemSelectionController.isManaged",connectionTypeValueBinding:SC.Binding
.oneWay(".owner*content.connectionType"),useStaticLayout:YES,contentBinding:".owner.content",fieldContentValueKey:"loginGroupOrDomain"}),realmField:Admin.KnobSetTextFieldAbsolute.design({label:"_generic_string_Realm".loc(),description:"_generic_string_Realm for authenticating the connection".loc(),fieldHint:function(){return this.get("isAutoPush")?"_hint_required".loc():"_generic_string_set on device".loc()}.property("isAutoPush").cacheable(),isAutoPushBinding:"Admin.itemSelectionController.isManaged",isVisible:function(){return this.get("connectionTypeValue")==="Juniper"}.property("connectionTypeValue").cacheable(),connectionTypeValueBinding:SC.Binding.oneWay(".owner*content.connectionType"),useStaticLayout:YES,contentBinding:".owner.content",fieldContentValueKey:"realm"}),roleField:Admin.KnobSetTextFieldAbsolute.design({label:"_generic_string_Role".loc(),description:"_generic_string_Role for authenticating the connection".loc(),fieldHint:function(){return this.get("isAutoPush")?"_hint_required".loc():"_generic_string_set on device".loc()}.property("isAutoPush").cacheable(),isAutoPushBinding:"Admin.itemSelectionController.isManaged",isVisible:function(){return this.get("connectionTypeValue")==="Juniper"}.property("connectionTypeValue").cacheable(),connectionTypeValueBinding:SC.Binding.oneWay(".owner*content.connectionType"),useStaticLayout:YES,contentBinding:".owner.content",fieldContentValueKey:"role"}),sslUserAuthenticationField:Admin.KnobSetButtonFieldView.design({label:"_generic_string_User Authentication".loc(),description:"_generic_string_Authentication type for the connection"
.loc(),fieldObjects:[{value:"Password",name:"_generic_string_Password".loc()},{value:"Certificate",name:"_generic_string_Certificate".loc()}],buttonWidth:140,isVisibleBinding:SC.Binding.oneWay(".owner.showSSLVPNFields"),useStaticLayout:YES,contentBinding:".owner.content",fieldContentValueKey:"SSLAuthenticationMethod"}),passwordField:Admin.KnobSetPasswordFieldView.design({label:"_generic_string_Password".loc(),description:"_generic_string_Password for authenticating the connection".loc(),isVisible:function(){return this.get("showSSLVPN")&&this.get("sslUserAuthenticationValue")==="Password"}.property("showSSLVPN","sslUserAuthenticationValue").cacheable(),sslUserAuthenticationValueBinding:SC.Binding.oneWay(".owner*content.SSLAuthenticationMethod"),showSSLVPNBinding:SC.Binding.oneWay(".owner.showSSLVPNFields"),isEnabled:function(){return!this.get("identificationKnobSetsLength")}.property("identificationKnobSetsLength").cacheable(),identificationKnobSetsLengthBinding:".owner*content.profile.identificationKnobSets.length",useStaticLayout:YES,contentBinding:".owner.content",fieldContentValueKey:"password"}),userAuthenticationField:Admin.VpnKnobSetUserAuthenticationFieldView.design({}),encryptionLevelField:Admin.KnobSetButtonFieldView.design({label:"_generic_string_Encryption Level".loc(),description:"_generic_string_Level of data encryption applied to the connection".loc(),fieldObjects:[{value:"None",name:"_vpn_encryption_level_None".loc()},{value:"Automatic",name:"_vpn_data_encryption_level_Automatic".loc()},{value:"Maximum",name:"_generic_string_Maximum (128-bit)".loc()}],buttonWidth
:180,isVisibleBinding:SC.Binding.oneWay(".owner.showPPTPFields"),useStaticLayout:YES,contentBinding:".owner.content",fieldContentValueKey:"encryptionLevel"}),machineAuthenticationTypeField:Admin.KnobSetButtonFieldView.design({label:"_generic_string_Machine Authentication".loc(),description:"_generic_string_Authentication type for connection".loc(),fieldObjects:function(){return this.get("connectionTypeValue")==="L2TP"?[{value:"SharedSecret",name:"_generic_string_Shared Secret".loc()},{value:"Certificate",name:"_generic_string_Certificate".loc()}]:[{value:"SharedSecret",name:"_generic_string_Shared Secret / Group Name".loc()},{value:"Certificate",name:"_generic_string_Certificate".loc()}]}.property("connectionTypeValue").cacheable(),buttonWidth:220,isVisible:function(){return this.get("connectionTypeValue")==="L2TP"||this.get("connectionTypeValue")==="IPSec"}.property("connectionTypeValue","machineAuthenticationTypeValue").cacheable(),connectionTypeValueBinding:SC.Binding.oneWay(".owner*content.connectionType"),useStaticLayout:YES,contentBinding:".owner.content",fieldContentValueKey:"machineAuthenticationType"}),groupNameField:Admin.KnobSetTextFieldAbsolute.design({label:"_generic_string_Group Name".loc(),description:"_generic_string_Group identifier for the connection".loc(),fieldHint:"_generic_string_optional".loc(),isVisible:function(){return this.get("connectionTypeValue")==="IPSec"&&this.get("machineAuthenticationTypeValue")==="SharedSecret"}.property("connectionTypeValue","machineAuthenticationTypeValue").cacheable(),machineAuthenticationTypeValueBinding:SC.Binding.oneWay
(".owner*content.machineAuthenticationType"),connectionTypeValueBinding:SC.Binding.oneWay(".owner*content.connectionType"),useStaticLayout:YES,contentBinding:".owner.content",fieldContentValueKey:"groupName"}),sharedSecretField:Admin.KnobSetSecureTextFieldView.design({title:function(){var e="_generic_string_Shared Secret".loc(),t=this.get("connectionTypeValue");return t==="L2TP"&&(e=null),e}.property("connectionTypeValue").cacheable(),description:"_generic_string_Shared secret for the connection".loc(),fieldHint:"_generic_string_optional".loc(),isVisible:function(){return(this.get("connectionTypeValue")==="L2TP"||this.get("connectionTypeValue")==="IPSec")&&this.get("machineAuthenticationTypeValue")==="SharedSecret"}.property("connectionTypeValue","machineAuthenticationTypeValue").cacheable(),fieldIsPassword:YES,machineAuthenticationTypeValueBinding:SC.Binding.oneWay(".owner*content.machineAuthenticationType"),connectionTypeValueBinding:SC.Binding.oneWay(".owner*content.connectionType"),contentBinding:".owner.content",fieldContentValueKey:"sharedSecret"}),certificateField:Admin.KnobSetSelectButtonFieldView.design({title:"_authentication_certificate_header_credential".loc(),description:"_generic_string_Credential for authenticating the connection".loc(),fieldValueBinding:".owner*content.VPNCredentialForAuthenticating",fieldObjectsBinding:".owner*content.credentialForAuthenticatingContent",buttonWidth:Admin.KNOB_WIDTH-20,isVisible:function(){var e=this.get("connectionTypeValue"),t=this.get("machineAuthenticationTypeValue"),n=this.get("sslUserAuthenticationValue"),r=NO;return t==="Certificate"&&
(r=e==="IPSec"||e==="L2TP"),n==="Certificate"&&(r=["SonicWALL","Juniper","AnyConnect","F5","ArubaVIA","CheckPointMobile","custom_ssl"].contains(e)),r}.property("connectionTypeValue","machineAuthenticationTypeValue","sslUserAuthenticationValue").cacheable(),connectionTypeValueBinding:SC.Binding.oneWay(".owner*content.connectionType"),machineAuthenticationTypeValueBinding:SC.Binding.oneWay(".owner*content.machineAuthenticationType"),sslUserAuthenticationValueBinding:SC.Binding.oneWay(".owner*content.SSLAuthenticationMethod"),isEnabled:function(){var e=this.get("fieldObjects");return e!==null&&e.length>1}.property("fieldObjects").cacheable()}),sendAllTrafficField:Admin.KnobSetCheckBoxFieldViewAbsolute.design({label:"_generic_string_Send All Traffic".loc(),description:"_generic_string_Routes all network traffic through the VPN connection".loc(),isVisibleBinding:".owner.showNonIPSecFields",isVisibleBindingDefault:SC.Binding.oneWay(),connectionTypeValueBinding:".owner*content.connectionType",useStaticLayout:YES,contentBinding:".owner.content",fieldContentValueKey:"sendAllTraffic"}),includeUserPinField:Admin.KnobSetCheckBoxFieldViewAbsolute.design({label:"_generic_string_Include User PIN".loc(),description:"_generic_string_Credential for authenticating the connection".loc(),isVisible:function(){return this.get("connectionTypeValue")==="IPSec"&&this.get("machineAuthenticationTypeValue")==="Certificate"}.property("connectionTypeValue","machineAuthenticationTypeValue").cacheable(),machineAuthenticationTypeValueBinding:SC.Binding.oneWay(".owner*content.machineAuthenticationType"),connectionTypeValueBinding
:SC.Binding.oneWay(".owner*content.connectionType"),contentBinding:".owner.content",useStaticLayout:YES,fieldContentValueKey:"includeUserPin"}),enableVpnOnDemandField:Admin.KnobSetCheckBoxFieldViewAbsolute.design({label:"_generic_string_Enable VPN on Demand".loc(),description:"_generic_string_Domain and host names that will establish a VPN".loc(),isVisible:function(){var e=NO,t=this.get("connectionTypeValue");return t==="PPTP"||t=="L2TP"?e=YES:t==="IPSec"&&this.get("machineAuthenticationTypeValue")==="Certificate"?e=YES:["SonicWALL","Juniper","AnyConnect","F5","ArubaVIA","CheckPointMobile","custom_ssl"].contains(t)&&this.get("sslUserAuthenticationValue")==="Certificate"&&(e=YES),e}.property("connectionTypeValue","machineAuthenticationTypeValue","sslUserAuthenticationValue").cacheable(),machineAuthenticationTypeValueBinding:SC.Binding.oneWay(".owner*content.machineAuthenticationType"),sslUserAuthenticationValueBinding:SC.Binding.oneWay(".owner*content.SSLAuthenticationMethod"),connectionTypeValueBinding:SC.Binding.oneWay(".owner*content.connectionType"),useStaticLayout:YES,contentBinding:".owner.content",fieldContentValueKey:"enableVpnOnDemand"}),useHybridAuthenticationField:Admin.KnobSetCheckBoxFieldViewAbsolute.design({label:"_generic_string_Use Hybrid Authentication".loc(),description:"_generic_string_Authenticate using secret, name, and server-side certificate".loc(),isEnabled:function(){return this.groupNameValue!==null}.property("groupNameValue").cacheable(),isVisibleBinding:SC.Binding.oneWay(".owner.groupNameField.isVisible"),groupNameValueBinding:SC.Binding.oneWay(".owner.groupNameField.fieldValue"
),useStaticLayout:YES,contentBinding:".owner.content",fieldContentValueKey:"useHybridAuthentication"}),promptForPasswordField:Admin.KnobSetCheckBoxFieldViewAbsolute.design({label:"_generic_string_Prompt for Password".loc(),description:"_generic_string_Prompt user for password on the device".loc(),isEnabledBinding:SC.Binding.oneWay(".owner.useHybridAuthenticationField.isEnabled"),isVisibleBinding:SC.Binding.oneWay(".owner.groupNameField.isVisible"),useStaticLayout:YES,contentBinding:".owner.content",fieldContentValueKey:"promptForPassword"}),matchDomains:Admin.VpnKnobSetOnDemandDomainsView.design({}),proxyFieldsView:Admin.VpnKnobSetProxyFieldsView.design({})})})}),Admin.KnobsetFromServermgrRootInfoItemView=SC.LabelView.extend({classNames:"knob-set-servermgr-root-item-view".w(),layout:{height:30},useStaticLayout:YES}),Admin.KnobsetFromServermgrInfoItemView=SC.View.extend({key:null,value:null,useStaticLayout:YES,labelWidthBinding:".owner.labelWidth",childViews:["keyLabelView","valueLabelView","_spacerView"],keyLabelView:SC.LabelView.design({classNames:"admin-about-info-item-view-key".w(),layout:function(){var e=this.get("labelWidth")||150;return{left:10,width:e,height:25}}.property("labelWidth").cacheable(),labelWidthBinding:".owner.labelWidth",valueBinding:".owner.key",textAlign:SC.ALIGN_RIGHT,fontWeight:SC.BOLD_WEIGHT}),valueLabelView:SC.LabelView.design({layout:function(){var e=this.get("labelWidth")||150;return{top:0,left:e+20,width:Admin.KNOB_WIDTH-(e+20)}}.property("labelWidth").cacheable(),labelWidthBinding:".owner.labelWidth",useStaticLayout:YES,realValueBinding:".owner.value"
,value:function(){var e=this.get("realValue");return e?e:"_generic_string_--".loc()}.property("realValue")}),_spacerView:SC.View.design({layout:{height:10},useStaticLayout:YES})}),Admin.KnobSetFromServermgrView=Admin.KnobSetView.extend({showKnobSetRemove:NO,childViews:["knobSetRemove","knobSetAdd","_spacerView","headerView","contentView","_spacerView"],headerView:SC.View.design({layout:{height:25,width:Admin.KNOB_WIDTH,centerX:0},useStaticLayout:YES,childViews:["icon","helper"],icon:SC.ImageView.design({layout:{top:-1,width:16,height:16},value:"server_icon_16"}),helper:SC.LabelView.design({layout:{top:0,height:20,left:20,width:Admin.KNOB_WIDTH-20},fontWeight:SC.BOLD_WEIGHT,value:"_knob_set_from_servermgr_helper".loc()})}),contentView:Admin.KnobSetContentView.design({})}),Admin.CardDavKnobSetFromServermgrView=Admin.KnobSetFromServermgrView.extend({contentView:Admin.KnobSetContentView.design({labelWidth:parseFloat("_layout_servermgr_card_dav_label_width".loc()),childViews:["accountDescription","hostName","portNumber","useSsl"],accountDescription:Admin.KnobsetFromServermgrInfoItemView.design({key:"_knob_set_from_servermgr_card_dav_account_description".loc(),valueBinding:".owner*content.accountDescription"}),hostName:Admin.KnobsetFromServermgrInfoItemView.design({key:"_knob_set_from_servermgr_card_dav_hostname".loc(),valueBinding:".owner*content.hostName"}),portNumber:Admin.KnobsetFromServermgrInfoItemView.design({key:"_knob_set_from_servermgr_card_dav_port".loc(),valueBinding:".owner*content.portNumber"}),useSsl:Admin.KnobsetFromServermgrInfoItemView.design({key:"_knob_set_from_servermgr_card_dav_ssl"
.loc(),value:function(){return this.get("useSsl")?"_knob_set_from_servermgr_passcode_yes".loc():"_knob_set_from_servermgr_passcode_no".loc()}.property("useSsl"),useSslBinding:".owner*content.useSsl"})})}),Admin.CalDavKnobSetFromServermgrView=Admin.KnobSetFromServermgrView.extend({contentView:Admin.KnobSetContentView.design({labelWidth:parseFloat("_layout_servermgr_cal_dav_label_width".loc()),childViews:["accountDescription","hostName","portNumber","useSsl"],accountDescription:Admin.KnobsetFromServermgrInfoItemView.design({key:"_knob_set_from_servermgr_cal_dav_account_description".loc(),valueBinding:".owner*content.accountDescription"}),hostName:Admin.KnobsetFromServermgrInfoItemView.design({key:"_knob_set_from_servermgr_cal_dav_hostname".loc(),valueBinding:".owner*content.hostName"}),portNumber:Admin.KnobsetFromServermgrInfoItemView.design({key:"_knob_set_from_servermgr_cal_dav_port".loc(),valueBinding:".owner*content.portNumber"}),useSsl:Admin.KnobsetFromServermgrInfoItemView.design({key:"_knob_set_from_servermgr_cal_dav_ssl".loc(),value:function(){return this.get("useSsl")?"_knob_set_from_servermgr_passcode_yes".loc():"_knob_set_from_servermgr_passcode_no".loc()}.property("useSsl"),useSslBinding:".owner*content.useSsl"})})}),Admin.IchatKnobSetFromServermgrView=Admin.KnobSetFromServermgrView.extend({contentView:Admin.KnobSetContentView.design({labelWidth:parseFloat("_layout_servermgr_ichat_label_width".loc()),childViews:["description","payloadType","serverHost","serverPort"],description:Admin.KnobsetFromServermgrInfoItemView.design({key:"_knob_set_from_servermgr_ichat_connection_name"
.loc(),valueBinding:".owner*content.description"}),payloadType:Admin.KnobsetFromServermgrInfoItemView.design({key:"_knob_set_from_servermgr_ichat_connection_type".loc(),value:function(){return this.get("payloadType")==="com.apple.jabber.account"?"_knob_set_from_servermgr_ichat_connection_type_jabber".loc():"_knob_set_from_servermgr_ichat_connection_type_not_jabber".loc()}.property("payloadType"),payloadTypeBinding:".owner*content._payloadType"}),serverHost:Admin.KnobsetFromServermgrInfoItemView.design({key:"_knob_set_from_servermgr_ichat_hostname".loc(),valueBinding:".owner*content.serverHost"}),serverPort:Admin.KnobsetFromServermgrInfoItemView.design({key:"_knob_set_from_servermgr_ichat_port".loc(),valueBinding:".owner*content.serverPort"})})}),Admin.EmailKnobSetFromServermgrView=Admin.KnobSetFromServermgrView.extend({contentView:Admin.KnobSetContentView.design({labelWidth:parseFloat("_layout_servermgr_email_label_width".loc()),childViews:["accountDescription","accountType","incomingMailHeader","incomingMailServer","incomingMailServerPort","incomingMailServerAuthentication","incomingMailUseSSL","outgoingMailHeader","outgoingMailServer","outgoingMailServerPort","outgoingMailServerAuthentication","outgoingMailUseSSL"],accountDescription:Admin.KnobsetFromServermgrInfoItemView.design({key:"_knob_set_from_servermgr_email_account_description".loc(),valueBinding:".owner*content.accountDescription"}),accountType:Admin.KnobsetFromServermgrInfoItemView.design({key:"_knob_set_from_servermgr_ichat_connection_type".loc(),value:function(){return this.get("accountType")==="EmailTypeIMAP"?"_knob_set_from_servermgr_email_account_imap"
.loc():"_knob_set_from_servermgr_email_account_type_pop".loc()}.property("accountType"),accountTypeBinding:".owner*content.accountType"}),incomingMailHeader:Admin.KnobsetFromServermgrRootInfoItemView.design({value:"_knob_set_from_servermgr_email_group_incoming_mail".loc()}),incomingMailServer:Admin.KnobsetFromServermgrInfoItemView.design({key:"_knob_set_from_servermgr_email_incoming_hostname".loc(),valueBinding:".owner*content.incomingMailServer"}),incomingMailServerPort:Admin.KnobsetFromServermgrInfoItemView.design({key:"_knob_set_from_servermgr_email_incoming_port".loc(),valueBinding:".owner*content.incomingMailServerPort"}),incomingMailServerAuthentication:Admin.KnobsetFromServermgrInfoItemView.design({key:"_knob_set_from_servermgr_email_incoming_authentication".loc(),value:function(){return this.get("incomingMailServerAuthentication")==="EmailAuthCRAMMD5"?"_knob_set_from_servermgr_email_account_crammd5".loc():"_knob_set_from_servermgr_email_account_not_crammd5".loc()}.property("incomingMailServerAuthentication"),incomingMailServerAuthenticationBinding:".owner*content.incomingMailServerAuthentication"}),incomingMailUseSSL:Admin.KnobsetFromServermgrInfoItemView.design({key:"_knob_set_from_servermgr_email_incoming_ssl".loc(),value:function(){return this.get("incomingMailUseSSL")?"_knob_set_from_servermgr_passcode_yes".loc():"_knob_set_from_servermgr_passcode_no".loc()}.property("incomingMailUseSSL"),incomingMailUseSSLBinding:".owner*content.incomingMailUseSSL"}),outgoingMailHeader:Admin.KnobsetFromServermgrRootInfoItemView.design({value:"_knob_set_from_servermgr_email_group_outgoing_mail"
.loc()}),outgoingMailServer:Admin.KnobsetFromServermgrInfoItemView.design({key:"_knob_set_from_servermgr_email_outgoing_hostname".loc(),valueBinding:".owner*content.outgoingMailServer"}),outgoingMailServerPort:Admin.KnobsetFromServermgrInfoItemView.design({key:"_knob_set_from_servermgr_email_outgoing_port".loc(),valueBinding:".owner*content.outgoingMailServerPort"}),outgoingMailServerAuthentication:Admin.KnobsetFromServermgrInfoItemView.design({key:"_knob_set_from_servermgr_email_outgoing_authentication".loc(),value:function(){return this.get("outgoingMailServerAuthentication")==="EmailAuthCRAMMD5"?"_knob_set_from_servermgr_email_account_crammd5".loc():"_knob_set_from_servermgr_email_account_not_crammd5".loc()}.property("outgoingMailServerAuthentication"),outgoingMailServerAuthenticationBinding:".owner*content.outgoingMailServerAuthentication"}),outgoingMailUseSSL:Admin.KnobsetFromServermgrInfoItemView.design({key:"_knob_set_from_servermgr_email_outgoing_ssl".loc(),value:function(){return this.get("outgoingMailUseSSL")?"_knob_set_from_servermgr_passcode_yes".loc():"_knob_set_from_servermgr_passcode_no".loc()}.property("outgoingMailUseSSL"),outgoingMailUseSSLBinding:".owner*content.outgoingMailUseSSL"})})}),Admin.VpnKnobSetFromServermgrView=Admin.KnobSetFromServermgrView.extend({contentView:Admin.KnobSetContentView.design({labelWidth:parseFloat("_layout_servermgr_vpn_label_width".loc()),childViews:["connectionName","connectionType","server","userAuthenticationType","sharedSecret","sendAllTraffic","proxySetup"],connectionName:Admin.KnobsetFromServermgrInfoItemView.design({key:"_knob_set_from_servermgr_vpn_connection_name"
.loc(),valueBinding:".owner*content.connectionName"}),connectionType:Admin.KnobsetFromServermgrInfoItemView.design({key:"_knob_set_from_servermgr_vpn_connection_type".loc(),valueBinding:".owner*content.connectionType"}),server:Admin.KnobsetFromServermgrInfoItemView.design({key:"_knob_set_from_servermgr_vpn_server".loc(),valueBinding:".owner*content.server"}),userAuthenticationType:Admin.KnobsetFromServermgrInfoItemView.design({key:"_knob_set_from_servermgr_vpn_user_auth".loc(),valueBinding:".owner*content.userAuthenticationType"}),sharedSecret:Admin.KnobsetFromServermgrInfoItemView.design({key:"_knob_set_from_servermgr_vpn_use_shared_secret".loc(),value:function(){return this.get("sharedSecret")?"_knob_set_from_servermgr_passcode_yes".loc():"_knob_set_from_servermgr_passcode_no".loc()}.property("sharedSecret"),sharedSecretBinding:".owner*content.sharedSecret"}),sendAllTraffic:Admin.KnobsetFromServermgrInfoItemView.design({key:"_knob_set_from_servermgr_vpn_send_all_traffic".loc(),value:function(){return this.get("sendAllTraffic")?"_knob_set_from_servermgr_passcode_yes".loc():"_knob_set_from_servermgr_passcode_no".loc()}.property("sendAllTraffic"),sendAllTrafficBinding:".owner*content.sendAllTraffic"}),proxySetup:Admin.KnobsetFromServermgrInfoItemView.design({key:"_knob_set_from_servermgr_vpn_send_proxy_setup".loc(),proxySetupValueBinding:".owner*content.proxySetup",value:function(e,t){if(t!==undefined)throw SC.$error("value is ready only for %@".fmt(this.constructor));var n=this.get("proxySetupValue");return n==="None"?"_vpn_proxy_setting_None".loc():n}.property("proxySetupValue"
).cacheable()})})}),Admin.IdentificationKnobSetFromServermgrView=Admin.KnobSetFromServermgrView.extend({showKnobSetAdd:NO}),Admin.VpnKnobSet=Admin.KnobSet.extend({connectionName:SC.Record.attr(String,{isRequired:YES,key:"UserDefinedName"}),_connectionType:SC.Record.attr(String,{isRequired:YES,key:"VPNType",defaultValue:"L2TP"}),_PPP:SC.Record.attr(Object,{key:"PPP",defaultValue:function(){return{OnDemandEnabled:0}}}),_TokenCard:function(e,t){return this.packUnpackProperty("_PPP","TokenCard",t)}.property("_PPP"),_AuthName:function(e,t){return this.packUnpackProperty("_PPP","AuthName",t)}.property("_PPP"),_AuthPassword:function(e,t){return this.packUnpackProperty("_PPP","AuthPassword",t)}.property("_PPP"),_commRemoteAddress:function(e,t){return this.packUnpackProperty("_PPP","CommRemoteAddress",t)}.property("_PPP"),_AuthEAPPlugins:function(e,t){return this.packUnpackProperty("_PPP","AuthEAPPlugins",t)}.property("_PPP"),_AuthProtocol:function(e,t){return this.packUnpackProperty("_PPP","AuthProtocol",t)}.property("_PPP"),_CCPMPPE40Enabled:function(e,t){return this.packUnpackProperty("_PPP","CCPMPPE40Enabled",t)}.property("_PPP"),_CCPMPPE128Enabled:function(e,t){return this.packUnpackProperty("_PPP","CCPMPPE128Enabled",t)}.property("_PPP"),_CCPEnabled:function(e,t){return this.packUnpackProperty("_PPP","CCPEnabled",t)}.property("_PPP"),_PPPOnDemandEnabled:function(e,t){return this.packUnpackProperty("_PPP","OnDemandEnabled",t)}.property("_PPP"),_PPPOnDemandMode:function(e,t){return this.packUnpackProperty("_PPP","OnDemandMode",t)}.property("_PPP"),_PPPOnDemandDomains:function(e,t
){return this.packUnpackProperty("_PPP","OnDemandDomains",t)}.property("_PPP"),defaultIPSec:function(){return{AuthenticationMethod:"SharedSecret",PromptForVPNPIN:NO,OnDemandEnabled:0}},_IPSec:SC.Record.attr(Object,{key:"IPSec",defaultValue:function(e){return e.defaultIPSec()}}),_remoteAddress:function(e,t){return this.packUnpackProperty("_IPSec","RemoteAddress",t)}.property("_IPSec"),_machineAuthenticationType:function(e,t){return this.packUnpackProperty("_IPSec","AuthenticationMethod",t)}.property("_IPSec"),_XAuthName:function(e,t){return this.packUnpackProperty("_IPSec","XAuthName",t)}.property("_IPSec"),XAuthPassword:function(e,t){return this.packUnpackProperty("_IPSec","XAuthPassword",t)}.property("_IPSec"),_XAuthEnabled:function(e,t){return this.packUnpackProperty("_IPSec","XAuthEnabled",t)}.property("_IPSec"),_sharedSecret:function(e,t){return this.packUnpackProperty("_IPSec","SharedSecret",t)}.property("_IPSec"),_localIdentifier:function(e,t){return this.packUnpackProperty("_IPSec","LocalIdentifier",t)}.property("_IPSec"),_localIdentifierType:function(e,t){return this.packUnpackProperty("_IPSec","LocalIdentifierType",t)}.property("_IPSec"),credentialForAuthenticating:function(e,t){return t=t==="--none--"?null:t,this.packUnpackProperty("_IPSec","PayloadCertificateUUID",t)||"--none--"}.property("_IPSec"),includeUserPin:function(e,t){return this.packUnpackProperty("_IPSec","PromptForVPNPIN",t)}.property("_IPSec"),_XAuthPasswordEncryption:function(e,t){return this.packUnpackProperty("_IPSec","XAuthPasswordEncryption",t)}.property("_IPSec"),_IPSecOnDemandEnabled:function(e
,t){return this.packUnpackProperty("_IPSec","OnDemandEnabled",t)}.property("_IPSec"),_IPSecOnDemandMatchDomainsAlways:function(e,t){return this.packUnpackProperty("_IPSec","OnDemandMatchDomainsAlways",t)}.property("_IPSec"),_IPSecOnDemandMatchDomainsNever:function(e,t){return this.packUnpackProperty("_IPSec","OnDemandMatchDomainsNever",t)}.property("_IPSec"),_IPSecOnDemandMatchDomainsOnRetry:function(e,t){return this.packUnpackProperty("_IPSec","OnDemandMatchDomainsOnRetry",t)}.property("_IPSec"),_PPPOnDemandMatchDomainsAlways:function(e,t){return this.packUnpackProperty("_PPP","OnDemandMatchDomainsAlways",t)}.property("_PPP"),_PPPOnDemandMatchDomainsNever:function(e,t){return this.packUnpackProperty("_PPP","OnDemandMatchDomainsNever",t)}.property("_PPP"),_PPPOnDemandMatchDomainsOnRetry:function(e,t){return this.packUnpackProperty("_PPP","OnDemandMatchDomainsOnRetry",t)}.property("_PPP"),_OnDemandEnabled:function(e,t){var n=this.get("_connectionType")==="IPSec",r=this.get("_connectionType")==="VPN";return t!==undefined&&(this.set("_VPNOnDemandEnabled",n?0:r?t:0),this.set("_PPPOnDemandEnabled",n?0:r?0:t),this.set("_PPPOnDemandMode",n?null:r?null:"Agressive"),this.set("_IPSecOnDemandEnabled",n?t:0)),n?this.get("_IPSecOnDemandEnabled"):r?this.get("_VPNOnDemandEnabled"):this.get("_PPPOnDemandEnabled")}.property("_connectionType").cacheable(),_OnDemandMatchDomainsAlways:function(e,t){var n=this.get("_connectionType")==="IPSec",r=this.get("_connectionType")==="VPN",i=["L2TP","PPTP"].indexOf(this.get("_connectionType"))>-1;return t!==undefined&&(this.set("_VPNOnDemandMatchDomainsAlways"
,r?t:null),this.set("_IPSecOnDemandMatchDomainsAlways",n?t:null),this.set("_PPPOnDemandMatchDomainsAlways",i?t:null)),r?this.get("_VPNOnDemandMatchDomainsAlways"):i?this.get("_PPPOnDemandMatchDomainsAlways"):this.get("_IPSecOnDemandMatchDomainsAlways")}.property("_connectionType").cacheable(),_OnDemandMatchDomainsNever:function(e,t){var n=this.get("_connectionType")==="IPSec",r=this.get("_connectionType")==="VPN",i=["L2TP","PPTP"].indexOf(this.get("_connectionType"))>-1;return t!==undefined&&(this.set("_VPNOnDemandMatchDomainsNever",r?t:null),this.set("_IPSecOnDemandMatchDomainsNever",n?t:null),this.set("_PPPOnDemandMatchDomainsNever",i?t:null)),r?this.get("_VPNOnDemandMatchDomainsNever"):i?this.get("_PPPOnDemandMatchDomainsNever"):this.get("_IPSecOnDemandMatchDomainsNever")}.property("_connectionType").cacheable(),_OnDemandMatchDomainsOnRetry:function(e,t){var n=this.get("_connectionType")==="IPSec",r=this.get("_connectionType")==="VPN",i=["L2TP","PPTP"].indexOf(this.get("_connectionType"))>-1;return t!==undefined&&(this.set("_VPNOnDemandMatchDomainsOnRetry",r?t:null),this.set("_IPSecOnDemandMatchDomainsOnRetry",n?t:null),this.set("_PPPOnDemandMatchDomainsOnRetry",i?t:null)),r?this.get("_VPNOnDemandMatchDomainsOnRetry"):i?this.get("_PPPOnDemandMatchDomainsOnRetry"):this.get("_IPSecOnDemandMatchDomainsOnRetry")}.property("_connectionType").cacheable(),_OverridePrimary:SC.Record.attr(Boolean,{key:"OverridePrimary",defaultValue:YES}),_VPN:SC.Record.attr(Object,{key:"VPN",defaultValue:function(){return{AuthenticationMethod:"Password"}}}),_SSLAuthName:function(e,t){return this.packUnpackProperty
("_VPN","AuthName",t)}.property("_VPN"),_SSLAuthPassword:function(e,t){return this.packUnpackProperty("_VPN","AuthPassword",t)}.property("_VPN"),_SSLAuthenticationMethod:function(e,t){return this.packUnpackProperty("_VPN","AuthenticationMethod",t)||"Password"}.property("_VPN"),_SSLRemoteAddress:function(e,t){return this.packUnpackProperty("_VPN","RemoteAddress",t)}.property("_VPN"),VPNCredentialForAuthenticating:function(e,t){return t=t==="--none--"?null:t,this.packUnpackProperty("_VPN","PayloadCertificateUUID",t)||"--none--"}.property("_VPN"),_VPNOnDemandEnabled:function(e,t){return this.packUnpackProperty("_VPN","OnDemandEnabled",t)}.property("_VPN"),_VPNOnDemandMatchDomainsAlways:function(e,t){return this.packUnpackProperty("_VPN","OnDemandMatchDomainsAlways",t)}.property("_VPN"),_VPNOnDemandMatchDomainsNever:function(e,t){return this.packUnpackProperty("_VPN","OnDemandMatchDomainsNever",t)}.property("_VPN"),_VPNOnDemandMatchDomainsOnRetry:function(e,t){return this.packUnpackProperty("_VPN","OnDemandMatchDomainsOnRetry",t)}.property("_VPN"),_VPNOnDemandMode:function(e,t){return this.packUnpackProperty("_VPN","OnDemandMode",t)}.property("_VPN"),_VPNOnDemandDomains:function(e,t){return this.packUnpackProperty("_VPN","OnDemandDomains",t)}.property("_VPN"),vpnSubType:SC.Record.attr(String,{key:"VPNSubType"}),ikev2RemoteAddress:SC.Record.attr(String,{key:"ikev2RemoteAddress"}),ikev2LocalIdentifier:SC.Record.attr(String,{key:"ikev2LocalIdentifier"}),ikev2RemoteIdentifier:SC.Record.attr(String,{key:"ikev2RemoteIdentifier"}),_ikev2AuthenticationMethod:SC.Record.attr(String,{key:"ikev2AuthenticationMethod"
}),ikev2AuthenticationMethod:function(e,t){return t!==undefined&&this.set("_ikev2AuthenticationMethod",t),this.get("_ikev2AuthenticationMethod")||"SharedSecret"}.property("_ikev2AuthenticationMethod"),ikev2SharedSecret:SC.Record.attr(String,{key:"ikev2SharedSecret"}),_ikev2PayloadCertificateUUID:SC.Record.attr(String,{key:"ikev2PayloadCertificateUUID"}),ikev2PayloadCertificateUUID:function(e,t){return t!==undefined&&t!=="--none--"&&this.set("_ikev2PayloadCertificateUUID",t),this.get("_ikev2PayloadCertificateUUID")||"--none--"}.property("_ikev2PayloadCertificateUUID"),ikev2CertificateType:SC.Record.attr(String,{key:"ikev2CertificateType"}),ikev2AuthName:SC.Record.attr(String,{key:"ikev2AuthName"}),ikev2AuthPassword:SC.Record.attr(String,{key:"ikev2AuthPassword"}),_ikev2ExtendedAuthEnabled:SC.Record.attr(Number,{key:"ikev2ExtendedAuthEnabled"}),ikev2ExtendedAuthEnabled:function(e,t){if(t!==undefined){var n=t===YES?1:0;this.set("_ikev2ExtendedAuthEnabled",n)}var r=this.get("_ikev2ExtendedAuthEnabled");return r===1?YES:NO}.property("_ikev2ExtendedAuthEnabled"),_ikev2eapAuthenticationMethod:SC.Record.attr(String,{defaultValue:"Password",key:"internal_use_flag_ikev2eapAuthenticationMethod"}),ikev2eapAuthenticationMethod:function(e,t){return t!==undefined&&(this.set("_ikev2eapAuthenticationMethod",t),t==="Certificate"&&(this.set("ikev2AuthName",null),this.set("ikev2AuthPassword",null))),this.get("_ikev2eapAuthenticationMethod")}.property("_ikev2eapAuthenticationMethod").cacheable(),_ikev2DeadPeerDetectionRate:SC.Record.attr(String,{key:"ikev2DeadPeerDetectionRate"}),ikev2DeadPeerDetectionRate
:function(e,t){return t!==undefined&&this.set("_ikev2DeadPeerDetectionRate",t),this.get("_ikev2DeadPeerDetectionRate")||"Medium"}.property("_ikev2DeadPeerDetectionRate"),ikev2ServerCertificateCommonName:SC.Record.attr(String,{key:"ikev2ServerCertificateCommonName"}),ikev2ServerCertificateIssuerCommonName:SC.Record.attr(String,{key:"ikev2ServerCertificateIssuerCommonName"}),ikeSecurityParamsTab:"ike",getDefaultSAParamsConfig:function(){return{EncryptionAlgorithm:"3DES",IntegrityAlgorithm:"SHA1-96",DiffieHellmanGroup:"2",LifeTimeInMinutes:1440}},ikev2IKESAEncryptionAlgorithm:SC.Record.attr(String,{key:"ikev2IKESAEncryptionAlgorithm",defaultValue:"3DES"}),ikev2IKESAIntegrityAlgorithm:SC.Record.attr(String,{key:"ikev2IKESAIntegrityAlgorithm"}),ikev2IKESADiffieHellmanGroup:SC.Record.attr(String,{key:"ikev2IKESADiffieHellmanGroup",defaultValue:"2"}),_ikev2IKESALifeTimeInMinutes:SC.Record.attr(Number,{key:"ikev2IKESALifeTimeInMinutes",defaultValue:1440}),ikev2IKESALifeTimeInMinutes:function(e,t){if(t!==undefined){var n=parseInt(t,10);n>=10&&n<=1440&&this.set("_ikev2IKESALifeTimeInMinutes",t)}return this.get("_ikev2IKESALifeTimeInMinutes")}.property("_ikev2IKESALifeTimeInMinutes").cacheable(),ikev2ChildSAEncryptionAlgorithm:SC.Record.attr(String,{key:"ikev2ChildSAEncryptionAlgorithm",defaultValue:"3DES"}),ikev2ChildSAIntegrityAlgorithm:SC.Record.attr(String,{key:"ikev2ChildSAIntegrityAlgorithm"}),ikev2ChildSADiffieHellmanGroup:SC.Record.attr(String,{key:"ikev2ChildSADiffieHellmanGroup",defaultValue:2}),_ikev2ChildSALifeTimeInMinutes:SC.Record.attr(Number,{key:"ikev2ChildSALifeTimeInMinutes"
,defaultValue:1440}),ikev2ChildSALifeTimeInMinutes:function(e,t){if(t!==undefined){var n=parseInt(t,10);n>=10&&n<=1440&&this.set("_ikev2ChildSALifeTimeInMinutes",t)}return this.get("_ikev2ChildSALifeTimeInMinutes")}.property("_ikev2ChildSALifeTimeInMinutes").cacheable(),_useCommonAlwaysOnTunnelConfig:SC.Record.attr(Boolean,{key:"internal_use_flag_useCommonAlwaysOnTunnelConfig"}),useCommonAlwaysOnTunnelConfig:function(e,t){return t!==undefined&&(this.set("_useCommonAlwaysOnTunnelConfig",t),this.set("alwaysOnTunnelConfigurations",[])),this.get("_useCommonAlwaysOnTunnelConfig")}.property("_useCommonAlwaysOnTunnelConfig"),alwaysOnTunnelConfigTab:"cellular",_alwaysOn:SC.Record.attr(Object,{key:"AlwaysOn"}),alwaysOnUIToggleEnabled:function(e,t){return this.packUnpackProperty("_alwaysOn","UIToggleEnabled",t)}.property("_alwaysOn"),alwaysOnAllowCaptiveWebSheet:function(e,t){return this.packUnpackProperty("_alwaysOn","AllowCaptiveWebSheet",t)}.property("_alwaysOn"),alwaysOnAllowAllCaptiveNetworkPlugins:function(e,t){return this.packUnpackProperty("_alwaysOn","AllowAllCaptiveNetworkPlugins",t)}.property("_alwaysOn"),alwaysOnServiceExceptions:function(e,t){return this.packUnpackProperty("_alwaysOn","ServiceExceptions",t)}.property("_alwaysOn"),alwaysOnAllowedCaptiveNetworkPlugins:function(e,t){var n,r;if(t!==undefined){var i=[];for(n=0,r=t.length;n<r;n++)i.push({BundleIdentifier:t[n]});this.packUnpackProperty("_alwaysOn","AllowedCaptiveNetworkPlugins",i)}var s=this.packUnpackProperty("_alwaysOn","AllowedCaptiveNetworkPlugins")||[],o=[];for(n=0,r=s.length;n<r;n++)o.push(s[n].BundleIdentifier
);return o}.property("_alwaysOn"),alwaysOnAllowedCaptiveNetworkPluginsSelection:null,alwaysOnAllowedCaptiveNetworkPluginsContent:function(){var e=this,t=0,n=[],r=this.get("alwaysOnAllowedCaptiveNetworkPlugins");return r&&r.forEach(function(r){var s=SC.Object.create({index:t,name:r});s.addObserver("name",e,e._updateAlwaysOnAllowedCaptiveNetworkPluginsContent),n.push(s),t++}),n}.property("alwaysOnAllowedCaptiveNetworkPlugins").cacheable(),_updateAlwaysOnAllowedCaptiveNetworkPluginsContent:function(){var e=[],t=this.get("alwaysOnAllowedCaptiveNetworkPluginsContent"),n,r;for(r=0;r<t.length;r++)n=t[r],e.push(n.get("name"));this.set("alwaysOnAllowedCaptiveNetworkPlugins",e)},addAlwaysOnAllowedCaptiveNetworkPluginsContent:function(){var e="_vpn_always_on_captive_network_app_bundle_id_placeholder".loc(),t=SC.clone(this.get("alwaysOnAllowedCaptiveNetworkPlugins"),YES);t.push(e),this.set("alwaysOnAllowedCaptiveNetworkPlugins",t)},removeAlwaysOnAllowedCaptiveNetworkPluginsContent:function(){var e=this.get("alwaysOnAllowedCaptiveNetworkPluginsSelection");if(e&&e.firstObject()){var t=e.firstObject(),n=SC.clone(this.get("alwaysOnAllowedCaptiveNetworkPlugins"),YES);n.splice(t.get("index"),1),this.set("alwaysOnAllowedCaptiveNetworkPlugins",n)}},_getOrSetServiceException:function(e,t,n){var r=this.packUnpackProperty("_alwaysOn","ServiceExceptions")||[],i,s=-1;for(var o=0,u=r.length;o<u;o++){var a=r[o];if(a.ServiceName===n){i=a,s=o;break}}return t!==undefined&&(t==="default"?s>-1&&(r.removeAt(s),i=null):(s===-1&&(i={ServiceName:n},r.push(i)),i.Action=t),this.packUnpackProperty("_alwaysOn","ServiceExceptions"
,r)),i?i.Action:"default"},alwaysOnVoiceMailServiceException:function(e,t){return this._getOrSetServiceException(e,t,"VoiceMail")}.property("alwaysOnServiceExceptions"),alwaysOnAirDropServiceException:function(e,t){return this._getOrSetServiceException(e,t,"AirDrop")}.property("alwaysOnServiceExceptions"),alwaysOnAirPrintServiceException:function(e,t){return this._getOrSetServiceException(e,t,"AirPrint")}.property("alwaysOnServiceExceptions"),alwaysOnAirPlayServiceException:function(e,t){return this._getOrSetServiceException(e,t,"AirPlay")}.property("alwaysOnServiceExceptions"),alwaysOnTunnelConfigurations:function(e,t){return this.packUnpackProperty("_alwaysOn","TunnelConfigurations",t)}.property("_alwaysOn"),alwaysOnCommonTunnelConfig:function(e,t){var n=this.get("alwaysOnTunnelConfigurations")||[],r=this.get("_useCommonAlwaysOnTunnelConfig"),i,s;for(var o=0,u=n.length;o<u;o++){var a=n[o],f=a.Interfaces;if(f.contains("Cellular")&&f.contains("WiFi")){i=a,s=o;break}}return!i&&r&&(i={ProtocolType:"IKEv2",Interfaces:["Cellular","WiFi"],AuthenticationMethod:"SharedSecret",DeadPeerDetectionRate:"Medium"},n.push(i),s=n.length-1),t!==undefined&&(n[s]=t,this.set("alwaysOnTunnelConfigurations",n)),n[s]}.property("_alwaysOn","_useCommonAlwaysOnTunnelConfig"),alwaysOnCommonRemoteAddress:function(e,t){return this.packUnpackProperty("alwaysOnCommonTunnelConfig","RemoteAddress",t)}.property("alwaysOnCommonTunnelConfig"),alwaysOnCommonLocalIdentifier:function(e,t){return this.packUnpackProperty("alwaysOnCommonTunnelConfig","LocalIdentifier",t)}.property("alwaysOnCommonTunnelConfig"),alwaysOnCommonRemoteIdentifier
:function(e,t){return this.packUnpackProperty("alwaysOnCommonTunnelConfig","RemoteIdentifier",t)}.property("alwaysOnCommonTunnelConfig"),alwaysOnCommonAuthenticationMethod:function(e,t){return this.packUnpackProperty("alwaysOnCommonTunnelConfig","AuthenticationMethod",t)||"SharedSecret"}.property("alwaysOnCommonTunnelConfig"),alwaysOnCommonSharedSecret:function(e,t){return this.packUnpackProperty("alwaysOnCommonTunnelConfig","SharedSecret",t)}.property("alwaysOnCommonTunnelConfig"),alwaysOnCommonPayloadCertificateUUID:function(e,t){return t!==undefined&&t!=="--none--"&&this.packUnpackProperty("alwaysOnCommonTunnelConfig","PayloadCertificateUUID",t),this.packUnpackProperty("alwaysOnCommonTunnelConfig","PayloadCertificateUUID")||"--none--"}.property("alwaysOnCommonTunnelConfig"),alwaysOnCommonCertificateType:function(e,t){return this.packUnpackProperty("alwaysOnCommonTunnelConfig","CertificateType",t)}.property("alwaysOnCommonTunnelConfig"),alwaysOnCommonAuthName:function(e,t){return this.packUnpackProperty("alwaysOnCommonTunnelConfig","AuthName",t)}.property("alwaysOnCommonTunnelConfig"),alwaysOnCommonAuthPassword:function(e,t){return this.packUnpackProperty("alwaysOnCommonTunnelConfig","AuthPassword",t)}.property("alwaysOnCommonTunnelConfig"),alwaysOnCommonExtendedAuthEnabled:function(e,t){if(t!==undefined){var n=t===YES?1:0;this.packUnpackProperty("alwaysOnCommonTunnelConfig","ExtendedAuthEnabled",n)}var r=this.packUnpackProperty("alwaysOnCommonTunnelConfig","ExtendedAuthEnabled");return r===1?YES:NO}.property("alwaysOnCommonTunnelConfig"),_alwaysOnCommoneapAuthenticationMethod
:SC.Record.attr(String,{defaultValue:"Password",key:"internal_use_flag_alwaysOnCommoneapAuthenticationMethod"}),alwaysOnCommoneapAuthenticationMethod:function(e,t){return t!==undefined&&(this.set("_alwaysOnCommoneapAuthenticationMethod",t),t==="Certificate"&&(this.packUnpackProperty("alwaysOnCommonTunnelConfig","AuthName",null),this.packUnpackProperty("alwaysOnCommonTunnelConfig","AuthPassword",null))),this.get("_alwaysOnCommoneapAuthenticationMethod")}.property("_alwaysOnCommoneapAuthenticationMethod").cacheable(),alwaysOnCommonDeadPeerDetectionRate:function(e,t){return this.packUnpackProperty("alwaysOnCommonTunnelConfig","DeadPeerDetectionRate",t)||"Medium"}.property("alwaysOnCommonTunnelConfig"),alwaysOnCommonServerCertificateCommonName:function(e,t){return this.packUnpackProperty("alwaysOnCommonTunnelConfig","ServerCertificateCommonName",t)}.property("alwaysOnCommonTunnelConfig"),alwaysOnCommonServerCertificateIssuerCommonName:function(e,t){return this.packUnpackProperty("alwaysOnCommonTunnelConfig","ServerCertificateIssuerCommonName",t)}.property("alwaysOnCommonTunnelConfig"),alwaysOnCommonSecurityParamsTab:"ike",alwaysOnCommonIKESecurityAssociationParameters:function(e,t){return this.packUnpackProperty("alwaysOnCommonTunnelConfig","IKESecurityAssociationParameters",t)||this.getDefaultSAParamsConfig()}.property("alwaysOnCommonTunnelConfig"),alwaysOnCommonIKESAEncryptionAlgorithm:function(e,t){return this.packUnpackProperty("alwaysOnCommonIKESecurityAssociationParameters","EncryptionAlgorithm",t)}.property("alwaysOnCommonIKESecurityAssociationParameters"),alwaysOnCommonIKESAIntegrityAlgorithm
:function(e,t){return this.packUnpackProperty("alwaysOnCommonIKESecurityAssociationParameters","IntegrityAlgorithm",t)}.property("alwaysOnCommonIKESecurityAssociationParameters"),alwaysOnCommonIKESADiffieHellmanGroup:function(e,t){return this.packUnpackProperty("alwaysOnCommonIKESecurityAssociationParameters","DiffieHellmanGroup",t)}.property("alwaysOnCommonIKESecurityAssociationParameters"),_alwaysOnCommonIKESALifeTimeInMinutes:function(e,t){return this.packUnpackProperty("alwaysOnCommonIKESecurityAssociationParameters","LifeTimeInMinutes",t)}.property("alwaysOnCommonIKESecurityAssociationParameters"),alwaysOnCommonIKESALifeTimeInMinutes:function(e,t){if(t!==undefined){var n=parseInt(t,10);n>=10&&n<=1440&&this.set("_alwaysOnCommonIKESALifeTimeInMinutes",t)}return this.get("_alwaysOnCommonIKESALifeTimeInMinutes")}.property("_alwaysOnCommonIKESALifeTimeInMinutes").cacheable(),alwaysOnCommonChildSecurityAssociationParameters:function(e,t){return this.packUnpackProperty("alwaysOnCommonTunnelConfig","ChildSecurityAssociationParameters",t)||this.getDefaultSAParamsConfig()}.property("alwaysOnCommonTunnelConfig"),alwaysOnCommonchildSAEncryptionAlgorithm:function(e,t){return this.packUnpackProperty("alwaysOnCommonChildSecurityAssociationParameters","EncryptionAlgorithm",t)}.property("alwaysOnCommonChildSecurityAssociationParameters"),alwaysOnCommonchildSAIntegrityAlgorithm:function(e,t){return this.packUnpackProperty("alwaysOnCommonChildSecurityAssociationParameters","IntegrityAlgorithm",t)}.property("alwaysOnCommonChildSecurityAssociationParameters"),alwaysOnCommonChildSADiffieHellmanGroup
:function(e,t){return this.packUnpackProperty("alwaysOnCommonChildSecurityAssociationParameters","DiffieHellmanGroup",t)}.property("alwaysOnCommonChildSecurityAssociationParameters"),_alwaysOnCommonChildSALifeTimeInMinutes:function(e,t){return this.packUnpackProperty("alwaysOnCommonChildSecurityAssociationParameters","LifeTimeInMinutes",t)}.property("alwaysOnCommonChildSecurityAssociationParameters"),alwaysOnCommonChildSALifeTimeInMinutes:function(e,t){if(t!==undefined){var n=parseInt(t,10);n>=10&&n<=1440&&this.set("_alwaysOnCommonChildSALifeTimeInMinutes",t)}return this.get("_alwaysOnCommonChildSALifeTimeInMinutes")}.property("_alwaysOnCommonChildSALifeTimeInMinutes").cacheable(),alwaysOnCellularTunnelConfig:function(e,t){var n=this.get("alwaysOnTunnelConfigurations")||[],r=this.get("_useCommonAlwaysOnTunnelConfig"),i,s;for(var o=0,u=n.length;o<u;o++){var a=n[o],f=a.Interfaces;if(f.length===1&&f.contains("Cellular")){i=a,s=o;break}}return!i&&!r&&(i={ProtocolType:"IKEv2",Interfaces:["Cellular"],AuthenticationMethod:"SharedSecret",DeadPeerDetectionRate:"Medium"},n.push(i),s=n.length-1),t!==undefined&&(n[s]=t,this.set("alwaysOnTunnelConfigurations",n)),n[s]}.property("_alwaysOn","_useCommonAlwaysOnTunnelConfig"),alwaysOnCellularRemoteAddress:function(e,t){return this.packUnpackProperty("alwaysOnCellularTunnelConfig","RemoteAddress",t)}.property("alwaysOnCellularTunnelConfig"),alwaysOnCellularLocalIdentifier:function(e,t){return this.packUnpackProperty("alwaysOnCellularTunnelConfig","LocalIdentifier",t)}.property("alwaysOnCellularTunnelConfig"),alwaysOnCellularRemoteIdentifier:
function(e,t){return this.packUnpackProperty("alwaysOnCellularTunnelConfig","RemoteIdentifier",t)}.property("alwaysOnCellularTunnelConfig"),alwaysOnCellularAuthenticationMethod:function(e,t){return this.packUnpackProperty("alwaysOnCellularTunnelConfig","AuthenticationMethod",t)}.property("alwaysOnCellularTunnelConfig"),alwaysOnCellularSharedSecret:function(e,t){return this.packUnpackProperty("alwaysOnCellularTunnelConfig","SharedSecret",t)}.property("alwaysOnCellularTunnelConfig"),alwaysOnCellularPayloadCertificateUUID:function(e,t){return t!==undefined&&t!=="--none--"&&this.packUnpackProperty("alwaysOnCellularTunnelConfig","PayloadCertificateUUID",t),this.packUnpackProperty("alwaysOnCellularTunnelConfig","PayloadCertificateUUID")||"--none--"}.property("alwaysOnCellularTunnelConfig"),alwaysOnCellularCertificateType:function(e,t){return this.packUnpackProperty("alwaysOnCellularTunnelConfig","CertificateType",t)}.property("alwaysOnCellularTunnelConfig"),alwaysOnCellularAuthName:function(e,t){return this.packUnpackProperty("alwaysOnCellularTunnelConfig","AuthName",t)}.property("alwaysOnCellularTunnelConfig"),alwaysOnCellularAuthPassword:function(e,t){return this.packUnpackProperty("alwaysOnCellularTunnelConfig","AuthPassword",t)}.property("alwaysOnCellularTunnelConfig"),alwaysOnCellularExtendedAuthEnabled:function(e,t){if(t!==undefined){var n=t===YES?1:0;this.packUnpackProperty("alwaysOnCellularTunnelConfig","ExtendedAuthEnabled",n)}var r=this.packUnpackProperty("alwaysOnCellularTunnelConfig","ExtendedAuthEnabled");return r===1?YES:NO}.property("alwaysOnCellularTunnelConfig"),_alwaysOnCellulareapAuthenticationMethod
:SC.Record.attr(String,{defaultValue:"Password",key:"internal_use_flag_alwaysOnCellulareapAuthenticationMethod"}),alwaysOnCellulareapAuthenticationMethod:function(e,t){return t!==undefined&&(this.set("_alwaysOnCellulareapAuthenticationMethod",t),t==="Certificate"&&(this.packUnpackProperty("alwaysOnCellularTunnelConfig","AuthName",null),this.packUnpackProperty("alwaysOnCellularTunnelConfig","AuthPassword",null))),this.get("_alwaysOnCellulareapAuthenticationMethod")}.property("_alwaysOnCellulareapAuthenticationMethod").cacheable(),alwaysOnCellularDeadPeerDetectionRate:function(e,t){return this.packUnpackProperty("alwaysOnCellularTunnelConfig","DeadPeerDetectionRate",t)||"Medium"}.property("alwaysOnCellularTunnelConfig"),alwaysOnCellularServerCertificateCommonName:function(e,t){return this.packUnpackProperty("alwaysOnCellularTunnelConfig","ServerCertificateCommonName",t)}.property("alwaysOnCellularTunnelConfig"),alwaysOnCellularServerCertificateIssuerCommonName:function(e,t){return this.packUnpackProperty("alwaysOnCellularTunnelConfig","ServerCertificateIssuerCommonName",t)}.property("alwaysOnCellularTunnelConfig"),alwaysOnCellularSecurityParamsTab:"ike",alwaysOnCellularIKESecurityAssociationParameters:function(e,t){return this.packUnpackProperty("alwaysOnCellularTunnelConfig","IKESecurityAssociationParameters",t)||this.getDefaultSAParamsConfig()}.property("alwaysOnCellularTunnelConfig"),alwaysOnCellularIKESAEncryptionAlgorithm:function(e,t){return this.packUnpackProperty("alwaysOnCellularIKESecurityAssociationParameters","EncryptionAlgorithm",t)}.property("alwaysOnCellularIKESecurityAssociationParameters"
),alwaysOnCellularIKESAIntegrityAlgorithm:function(e,t){return this.packUnpackProperty("alwaysOnCellularIKESecurityAssociationParameters","IntegrityAlgorithm",t)}.property("alwaysOnCellularIKESecurityAssociationParameters"),alwaysOnCellularIKESADiffieHellmanGroup:function(e,t){return this.packUnpackProperty("alwaysOnCellularIKESecurityAssociationParameters","DiffieHellmanGroup",t)}.property("alwaysOnCellularIKESecurityAssociationParameters"),_alwaysOnCellularIKESALifeTimeInMinutes:function(e,t){return this.packUnpackProperty("alwaysOnCellularIKESecurityAssociationParameters","LifeTimeInMinutes",t)}.property("alwaysOnCellularIKESecurityAssociationParameters"),alwaysOnCellularIKESALifeTimeInMinutes:function(e,t){if(t!==undefined){var n=parseInt(t,10);n>=10&&n<=1440&&this.set("_alwaysOnCellularIKESALifeTimeInMinutes",t)}return this.get("_alwaysOnCellularIKESALifeTimeInMinutes")}.property("_alwaysOnCellularIKESALifeTimeInMinutes").cacheable(),alwaysOnCellularChildSecurityAssociationParameters:function(e,t){return this.packUnpackProperty("alwaysOnCellularTunnelConfig","ChildSecurityAssociationParameters",t)||this.getDefaultSAParamsConfig()}.property("alwaysOnCellularTunnelConfig"),alwaysOnCellularchildSAEncryptionAlgorithm:function(e,t){return this.packUnpackProperty("alwaysOnCellularChildSecurityAssociationParameters","EncryptionAlgorithm",t)}.property("alwaysOnCellularChildSecurityAssociationParameters"),alwaysOnCellularchildSAIntegrityAlgorithm:function(e,t){return this.packUnpackProperty("alwaysOnCellularChildSecurityAssociationParameters","IntegrityAlgorithm",t)}.property("alwaysOnCellularChildSecurityAssociationParameters"
),alwaysOnCellularChildSADiffieHellmanGroup:function(e,t){return this.packUnpackProperty("alwaysOnCellularChildSecurityAssociationParameters","DiffieHellmanGroup",t)}.property("alwaysOnCellularChildSecurityAssociationParameters"),_alwaysOnCellularChildSALifeTimeInMinutes:function(e,t){return this.packUnpackProperty("alwaysOnCellularChildSecurityAssociationParameters","LifeTimeInMinutes",t)}.property("alwaysOnCellularChildSecurityAssociationParameters"),alwaysOnCellularChildSALifeTimeInMinutes:function(e,t){if(t!==undefined){var n=parseInt(t,10);n>=10&&n<=1440&&this.set("_alwaysOnCellularChildSALifeTimeInMinutes",t)}return this.get("_alwaysOnCellularChildSALifeTimeInMinutes")}.property("_alwaysOnCellularChildSALifeTimeInMinutes").cacheable(),alwaysOnWifiTunnelConfig:function(e,t){var n=this.get("alwaysOnTunnelConfigurations")||[],r=this.get("_useCommonAlwaysOnTunnelConfig"),i,s;for(var o=0,u=n.length;o<u;o++){var a=n[o],f=a.Interfaces;if(f.length===1&&f.contains("WiFi")){i=a,s=o;break}}return!i&&!r&&(i={ProtocolType:"IKEv2",Interfaces:["WiFi"],AuthenticationMethod:"SharedSecret",DeadPeerDetectionRate:"Medium"},n.push(i),s=n.length-1),t!==undefined&&(n[s]=t,this.set("alwaysOnTunnelConfigurations",n)),n[s]}.property("_alwaysOn","_useCommonAlwaysOnTunnelConfig"),alwaysOnWifiRemoteAddress:function(e,t){return this.packUnpackProperty("alwaysOnWifiTunnelConfig","RemoteAddress",t)}.property("alwaysOnWifiTunnelConfig"),alwaysOnWifiLocalIdentifier:function(e,t){return this.packUnpackProperty("alwaysOnWifiTunnelConfig","LocalIdentifier",t)}.property("alwaysOnWifiTunnelConfig"),alwaysOnWifiRemoteIdentifier
:function(e,t){return this.packUnpackProperty("alwaysOnWifiTunnelConfig","RemoteIdentifier",t)}.property("alwaysOnWifiTunnelConfig"),alwaysOnWifiAuthenticationMethod:function(e,t){return this.packUnpackProperty("alwaysOnWifiTunnelConfig","AuthenticationMethod",t)}.property("alwaysOnWifiTunnelConfig"),alwaysOnWifiSharedSecret:function(e,t){return this.packUnpackProperty("alwaysOnWifiTunnelConfig","SharedSecret",t)}.property("alwaysOnWifiTunnelConfig"),alwaysOnWifiPayloadCertificateUUID:function(e,t){return t!==undefined&&t!=="--none--"&&this.packUnpackProperty("alwaysOnWifiTunnelConfig","PayloadCertificateUUID",t),this.packUnpackProperty("alwaysOnWifiTunnelConfig","PayloadCertificateUUID")||"--none--"}.property("alwaysOnWifiTunnelConfig"),alwaysOnWifiCertificateType:function(e,t){return this.packUnpackProperty("alwaysOnWifiTunnelConfig","CertificateType",t)}.property("alwaysOnWifiTunnelConfig"),alwaysOnWifiAuthName:function(e,t){return this.packUnpackProperty("alwaysOnWifiTunnelConfig","AuthName",t)}.property("alwaysOnWifiTunnelConfig"),alwaysOnWifiAuthPassword:function(e,t){return this.packUnpackProperty("alwaysOnWifiTunnelConfig","AuthPassword",t)}.property("alwaysOnWifiTunnelConfig"),alwaysOnWifiExtendedAuthEnabled:function(e,t){if(t!==undefined){var n=t===YES?1:0;this.packUnpackProperty("alwaysOnWifiTunnelConfig","ExtendedAuthEnabled",n)}var r=this.packUnpackProperty("alwaysOnWifiTunnelConfig","ExtendedAuthEnabled");return r===1?YES:NO}.property("alwaysOnWifiTunnelConfig"),_alwaysOnWifieapAuthenticationMethod:SC.Record.attr(String,{defaultValue:"Password",key:"internal_use_flag_alwaysOnWifieapAuthenticationMethod"
}),alwaysOnWifieapAuthenticationMethod:function(e,t){return t!==undefined&&(this.set("_alwaysOnWifieapAuthenticationMethod",t),t==="Certificate"&&(this.packUnpackProperty("alwaysOnWifiTunnelConfig","AuthName",null),this.packUnpackProperty("alwaysOnWifiTunnelConfig","AuthPassword",null))),this.get("_alwaysOnWifieapAuthenticationMethod")}.property("_alwaysOnWifieapAuthenticationMethod").cacheable(),alwaysOnWifiDeadPeerDetectionRate:function(e,t){return this.packUnpackProperty("alwaysOnWifiTunnelConfig","DeadPeerDetectionRate",t)}.property("alwaysOnWifiTunnelConfig"),alwaysOnWifiServerCertificateCommonName:function(e,t){return this.packUnpackProperty("alwaysOnWifiTunnelConfig","ServerCertificateCommonName",t)}.property("alwaysOnWifiTunnelConfig"),alwaysOnWifiServerCertificateIssuerCommonName:function(e,t){return this.packUnpackProperty("alwaysOnWifiTunnelConfig","ServerCertificateIssuerCommonName",t)}.property("alwaysOnWifiTunnelConfig"),alwaysOnWifiSecurityParamsTab:"ike",alwaysOnWifiIKESecurityAssociationParameters:function(e,t){return this.packUnpackProperty("alwaysOnWifiTunnelConfig","IKESecurityAssociationParameters",t)||this.getDefaultSAParamsConfig()}.property("alwaysOnWifiTunnelConfig"),alwaysOnWifiIKESAEncryptionAlgorithm:function(e,t){return this.packUnpackProperty("alwaysOnWifiIKESecurityAssociationParameters","EncryptionAlgorithm",t)}.property("alwaysOnWifiIKESecurityAssociationParameters"),alwaysOnWifiIKESAIntegrityAlgorithm:function(e,t){return this.packUnpackProperty("alwaysOnWifiIKESecurityAssociationParameters","IntegrityAlgorithm",t)}.property("alwaysOnWifiIKESecurityAssociationParameters"
),alwaysOnWifiIKESADiffieHellmanGroup:function(e,t){return this.packUnpackProperty("alwaysOnWifiIKESecurityAssociationParameters","DiffieHellmanGroup",t)}.property("alwaysOnWifiIKESecurityAssociationParameters"),_alwaysOnWifiIKESALifeTimeInMinutes:function(e,t){return this.packUnpackProperty("alwaysOnWifiIKESecurityAssociationParameters","LifeTimeInMinutes",t)}.property("alwaysOnWifiIKESecurityAssociationParameters"),alwaysOnWifiIKESALifeTimeInMinutes:function(e,t){if(t!==undefined){var n=parseInt(t,10);n>=10&&n<=1440&&this.set("_alwaysOnWifiIKESALifeTimeInMinutes",t)}return this.get("_alwaysOnWifiIKESALifeTimeInMinutes")}.property("_alwaysOnWifiIKESALifeTimeInMinutes").cacheable(),alwaysOnWifiChildSecurityAssociationParameters:function(e,t){return this.packUnpackProperty("alwaysOnWifiTunnelConfig","ChildSecurityAssociationParameters",t)||this.getDefaultSAParamsConfig()}.property("alwaysOnWifiTunnelConfig"),alwaysOnWifichildSAEncryptionAlgorithm:function(e,t){return this.packUnpackProperty("alwaysOnWifiChildSecurityAssociationParameters","EncryptionAlgorithm",t)}.property("alwaysOnWifiChildSecurityAssociationParameters"),alwaysOnWifichildSAIntegrityAlgorithm:function(e,t){return this.packUnpackProperty("alwaysOnWifiChildSecurityAssociationParameters","IntegrityAlgorithm",t)}.property("alwaysOnWifiChildSecurityAssociationParameters"),alwaysOnWifiChildSADiffieHellmanGroup:function(e,t){return this.packUnpackProperty("alwaysOnWifiChildSecurityAssociationParameters","DiffieHellmanGroup",t)}.property("alwaysOnWifiChildSecurityAssociationParameters"),_alwaysOnWifiChildSALifeTimeInMinutes
:function(e,t){return this.packUnpackProperty("alwaysOnWifiChildSecurityAssociationParameters","LifeTimeInMinutes",t)}.property("alwaysOnWifiChildSecurityAssociationParameters"),alwaysOnWifiChildSALifeTimeInMinutes:function(e,t){if(t!==undefined){var n=parseInt(t,10);n>=10&&n<=1440&&this.set("_alwaysOnWifiChildSALifeTimeInMinutes",t)}return this.get("_alwaysOnWifiChildSALifeTimeInMinutes")}.property("_alwaysOnWifiChildSALifeTimeInMinutes").cacheable(),_VendorConfig:SC.Record.attr(Object,{key:"VendorConfig",defaultValue:function(){return{}}}),realm:function(e,t){return this.packUnpackProperty("_VendorConfig","Realm",t)}.property("_VendorConfig"),role:function(e,t){return this.packUnpackProperty("_VendorConfig","Role",t)}.property("_VendorConfig"),group:function(e,t){return this.packUnpackProperty("_VendorConfig","Group",t)}.property("_VendorConfig"),loginGroupOrDomain:function(e,t){return this.packUnpackProperty("_VendorConfig","LoginGroupOrDomain",t)}.property("_VendorConfig"),_Proxies:SC.Record.attr(Object,{key:"Proxies",defaultValue:function(){return{HTTPEnable:0,HTTPSEnable:0,ProxyAutoConfigEnable:0}}}),_HTTPEnable:function(e,t){return this.packUnpackProperty("_Proxies","HTTPEnable",t)}.property("_Proxies"),_HTTPPort:function(e,t){return this.packUnpackProperty("_Proxies","HTTPPort",t)}.property("_Proxies"),_HTTPProxy:function(e,t){return this.packUnpackProperty("_Proxies","HTTPProxy",t)}.property("_Proxies"),_HTTPProxyPassword:function(e,t){return this.packUnpackProperty("_Proxies","HTTPProxyPassword",t)}.property("_Proxies"),_HTTPProxyUsername:function(e,t){return this.
packUnpackProperty("_Proxies","HTTPProxyUsername",t)}.property("_Proxies"),_HTTPSEnable:function(e,t){return this.packUnpackProperty("_Proxies","HTTPSEnable",t)}.property("_Proxies"),_HTTPSPort:function(e,t){return this.packUnpackProperty("_Proxies","HTTPSPort",t)}.property("_Proxies"),_HTTPSProxy:function(e,t){return this.packUnpackProperty("_Proxies","HTTPSProxy",t)}.property("_Proxies"),_ProxyAutoConfigEnable:function(e,t){return this.packUnpackProperty("_Proxies","ProxyAutoConfigEnable",t)}.property("_Proxies"),_ProxyAutoDiscoveryEnable:function(e,t){return this.packUnpackProperty("_Proxies","ProxyAutoDiscoveryEnable",t)}.property("_Proxies"),_ProxyAutoConfigURLString:function(e,t){return this.packUnpackProperty("_Proxies","ProxyAutoConfigURLString",t)}.property("_Proxies"),resetPayloadKeysBasedOnConnectionType:function(e){e==="L2TP"||e==="PPTP"?(this.set("_IPSecOnDemandEnabled",0),this.set("_IPSecOnDemandMatchDomainsAlways",null),this.set("_IPSecOnDemandMatchDomainsNever",null),this.set("_IPSecOnDemandMatchDomainsOnRetry",null),this.set("_VPNOnDemandEnabled",0),this.set("_VPNOnDemandMatchDomainsAlways",null),this.set("_VPNOnDemandMatchDomainsNever",null),this.set("_VPNOnDemandMatchDomainsOnRetry",null),this.set("_IPSec",e==="PPTP"?{}:this.defaultIPSec())):e==="IPSec"?(this.set("_VPNOnDemandEnabled",0),this.set("_VPNOnDemandMatchDomainsAlways",null),this.set("_VPNOnDemandMatchDomainsNever",null),this.set("_VPNOnDemandMatchDomainsOnRetry",null),this.set("_PPPOnDemandEnabled",0),this.set("_PPPOnDemandDomains",null),this.set("_PPPOnDemandMode",null),this.set("_IPSec",this.defaultIPSec
())):(this.set("_IPSecOnDemandEnabled",0),this.set("_IPSecOnDemandMatchDomainsAlways",null),this.set("_IPSecOnDemandMatchDomainsNever",null),this.set("_IPSecOnDemandMatchDomainsOnRetry",null),this.set("_PPPOnDemandEnabled",0),this.set("_PPPOnDemandDomains",null),this.set("_PPPOnDemandMode",null)),["Juniper","AnyConnect","F5","SonicWALL","ArubaVIA","CheckPointMobile","custom_ssl"].contains(e)&&this.set("_IPSec",{}),e==="PPTP"?(this.set("_CCPEnabled",1),this.set("_CCPMPPE40Enabled",1),this.set("_CCPMPPE128Enabled",1)):(this.set("_CCPEnabled",null),this.set("_CCPMPPE40Enabled",null),this.set("_CCPMPPE128Enabled",null)),["L2TP","PPTP","IPSec"].contains(e)&&this.set("_VendorConfig",{}),e==="AlwaysOn"?(this.set("_IPSec",{}),this.set("_VPN",{}),this.set("_Proxies",{})):this.set("_alwaysOn",{})},_setConnectionType:function(e){e==="Juniper"?(this.set("_connectionType","VPN"),this.set("vpnSubType","net.juniper.sslvpn")):e==="AnyConnect"?(this.set("_connectionType","VPN"),this.set("vpnSubType","com.cisco.anyconnect.applevpn.plugin")):e==="F5"?(this.set("_connectionType","VPN"),this.set("vpnSubType","com.f5.F5-Edge-Client.vpnplugin")):e==="SonicWALL"?(this.set("_connectionType","VPN"),this.set("vpnSubType","com.sonicwall.SonicWALL-SSLVPN.vpnplugin")):e==="ArubaVIA"?(this.set("_connectionType","VPN"),this.set("vpnSubType","com.arubanetworks.aruba-via.vpnplugin")):e==="CheckPointMobile"?(this.set("_connectionType","VPN"),this.set("vpnSubType","com.checkpoint.CheckPoint-VPN.vpnplugin")):e==="custom_ssl"?(this.set("_connectionType","VPN"),this.set("vpnSubType",null)):(this.set("_connectionType"
,e),this.set("vpnSubType",null)),this.resetPayloadKeysBasedOnConnectionType(e);var t=this.get("matchDomains"),n=t.length,r;for(r=0;r<n;r++)t[r].removeObserver("domain",this,this._matchDomainDidChange),t[r].removeObserver("action",this,this._matchDomainDidChange);this.notifyPropertyChange("matchDomains")},connectionType:function(e,t){t!==undefined&&this._setConnectionType(t);var n=this.get("_connectionType"),r=this.get("vpnSubType");return n==="VPN"?r==="net.juniper.sslvpn"?n="Juniper":r==="com.cisco.anyconnect.applevpn.plugin"?n="AnyConnect":r==="com.sonicwall.SonicWALL-SSLVPN.vpnplugin"?n="SonicWALL":r==="com.arubanetworks.aruba-via.vpnplugin"?n="ArubaVIA":r==="com.checkpoint.CheckPoint-VPN.vpnplugin"?n="CheckPointMobile":r==="com.f5.F5-Edge-Client.vpnplugin"?n="F5":n="custom_ssl":n==="AlwaysOn"&&(n="IKEv2"),n}.property("_connectionType","vpnSubType").cacheable(),isAlwaysOn:function(e,t){if(t!==undefined){var n=t===YES?"AlwaysOn":"IKEv2";this.set("connectionType",n)}return this.get("_connectionType")==="AlwaysOn"}.property("connectionType"),server:function(e,t){return t!==undefined&&(this.set("_remoteAddress",this.get("_connectionType")==="IPSec"?t:null),this.set("_commRemoteAddress",this.get("_connectionType")==="L2TP"||this.get("_connectionType")==="PPTP"?t:null),this.set("_SSLRemoteAddress",this.get("_connectionType")==="VPN"?t:null)),this.get("_connectionType")==="IPSec"?this.get("_remoteAddress"):this.get("_connectionType")==="L2TP"||this.get("_connectionType")==="PPTP"?this.get("_commRemoteAddress"):this.get("_SSLRemoteAddress")}.property("_commRemoteAddress","_remoteAddress"
,"_SSLRemoteAddress","_connectionType"),userAccount:function(e,t){t!==undefined&&!this.get("identificationKnobSetsLength")&&(this.set("_XAuthName",this.get("_connectionType")==="IPSec"?t:null),this.set("_XAuthEnabled",this.get("_connectionType")==="IPSec"&&t!==""?1:null),this.set("_AuthName",this.get("_connectionType")==="L2TP"||this.get("_connectionType")==="PPTP"?t:null),this.set("_SSLAuthName",this.get("_connectionType")==="VPN"?t:null));var n=this.get("_connectionType")==="IPSec"?this.get("_XAuthName"):this.get("_connectionType")==="L2TP"||this.get("_connectionType")==="PPTP"?this.get("_AuthName"):this.get("_SSLAuthName");return this.get("identificationKnobSetsLength")?"_generic_string_Set in Identification".loc():n}.property("_connectionType","_XAuthName","_XAuthEnabled","_AuthName","_SSLAuthName","identificationKnobSetsLength"),password:function(e,t){t!==undefined&&!this.get("identificationKnobSetsLength")&&this.set("_SSLAuthPassword",this.get("_connectionType")!=="IPSec"?t:null);var n=this.get("_SSLAuthPassword")||"";return this.get("identificationKnobSetsLength")?"_generic_string_Set in Identification".loc():n}.property("_connectionType","_SSLAuthPassword","identificationKnobSetsLength"),SSLAuthenticationMethod:function(e,t){return t!==undefined&&this.set("_SSLAuthenticationMethod",this.get("_connectionType")==="VPN"?t:null),this.get("_SSLAuthenticationMethod")}.property("_connectionType","_SSLAuthenticationMethod"),userAuthenticationType:function(e,t){if(t!==undefined){var n=null;t==="RSA SecurID"?n=["EAP-RSA"]:t==="Certificate"?n=["EAP-TLS"]:t==="Kerberos"&&(n=["EAP-KRB"
]),this.set("_TokenCard",t==="CryptoCard"?1:null),this.set("_AuthProtocol",n?["EAP"]:null),this.set("_AuthEAPPlugins",n)}var r="Password",i=this.get("_AuthEAPPlugins")?this.get("_AuthEAPPlugins")[0]:null;return i==="EAP-RSA"?r="RSA SecurID":i==="EAP-TLS"?r="Certificate":i==="EAP-KRB"?r="Kerberos":this.get("_TokenCard")===1&&(r="CryptoCard"),r}.property("_AuthEAPPlugins","_AuthProtocol","_TokenCard"),sharedSecret:function(e,t){return t!==undefined&&this.set("_sharedSecret",this.get("_connectionType")==="PPTP"?null:t),this.get("_sharedSecret")}.property("_connectionType","_sharedSecret"),encryptionLevel:function(e,t){return t!==undefined&&(this.get("_connectionType")!=="PPTP"?(this.set("_CCPEnabled",null),this.set("_CCPMPPE40Enabled",null),this.set("_CCPMPPE128Enabled",null)):t==="Automatic"?(this.set("_CCPEnabled",1),this.set("_CCPMPPE40Enabled",1),this.set("_CCPMPPE128Enabled",1)):t==="Maximum"?(this.set("_CCPEnabled",1),this.set("_CCPMPPE40Enabled",0),this.set("_CCPMPPE128Enabled",1)):(this.set("_CCPEnabled",0),this.set("_CCPMPPE40Enabled",0),this.set("_CCPMPPE128Enabled",0))),this.get("_CCPEnabled")===0?"None":this.get("_CCPMPPE40Enabled")===0?"Maximum":"Automatic"}.property("_CCPEnabled","_CCPMPPE40Enabled","_CCPMPPE128Enabled","_connectionType"),machineAuthenticationType:function(e,t){if(t!==undefined){var n=this.get("connectionType");n==="VPN"&&this.get("vpnSubType")==="net.juniper.sslvpn"&&(n="Juniper"),["PPTP","Juniper","AnyConnect","F5","SonicWALL","ArubaVIA","CheckPointMobile"].contains(n)||(this.set("_machineAuthenticationType",t),this.set("_localIdentifierType",t==="SharedSecret"?"KeyID"
:null),t==="SharedSecret"?this.set("credentialForAuthenticating",null):t==="Certificate"&&(this.set("groupName",null),this.set("sharedSecret",null)))}return this.get("_machineAuthenticationType")}.property("connectionType","_machineAuthenticationType","_localIdentifierType"),groupName:function(e,t){return t!==undefined&&(this.get("_localIdentifier")?this.set("_localIdentifier",this.get("_connectionType")==="IPSec"?/\[hybrid\]$/.test(this.get("_localIdentifier"))?t+"[hybrid]":t:null):this.set("_localIdentifier",this.get("_connectionType")==="IPSec"?t:null)),this.get("_localIdentifier")?this.get("_localIdentifier").split(/\[hybrid\]$/)[0]:this.get("_localIdentifier")||""}.property("_connectionType","_localIdentifier"),useHybridAuthentication:function(e,t){var n=this.get("_localIdentifier")||"",r=/\[hybrid\]$/;if(t!==undefined)if(r.test(n)&&!t){var i=n.split(/\[hybrid\]$/);this.set("_localIdentifier",i[0])}else!r.test(n)&&t&&this.set("_localIdentifier",n+"[hybrid]");return r.test(n)}.property("_localIdentifier"),promptForPassword:function(e,t){return t!==undefined&&this.set("_XAuthPasswordEncryption",t?"Prompt":null),this.get("_XAuthPasswordEncryption")==="Prompt"}.property("_XAuthPasswordEncryption"),enableVpnOnDemand:function(e,t){return t!==undefined&&this.set("_OnDemandEnabled",t?1:0),this.get("_OnDemandEnabled")===1}.property("_OnDemandEnabled","_connectionType"),sendAllTraffic:function(e,t){return t!==undefined&&this.set("_OverridePrimary",t),this.get("_OverridePrimary")===YES}.property("_OverridePrimary"),credentialForAuthenticatingContentBinding:SC.Binding.oneWay(".profile.identityScepAndAdCertObjects"
),addMatchDomain:function(){var e=this.get("matchDomains"),t="always",n=SC.Object.create({domain:"_generic_string_hostname".loc(),action:t});n.addObserver("domain",this,this._matchDomainDidChange),n.addObserver("action",this,this._matchDomainDidChange),e.pushObject(n),this._matchDomainDidChange()},removeMatchDomain:function(){var e=this.get("matchDomains"),t=this.get("matchDomainSelection");t&&t.firstObject()&&(t.firstObject().removeObserver("domain",this,this._matchDomainDidChange),t.firstObject().removeObserver("action",this,this._matchDomainDidChange),e.removeObject(t.firstObject()),this._matchDomainDidChange())},matchDomains:function(){var e=[],t=this.get("_OnDemandMatchDomainsAlways")||[],n=this.get("_OnDemandMatchDomainsNever")||[],r=this.get("_OnDemandMatchDomainsOnRetry")||[],i=this.get("_PPPOnDemandDomains")||[],s,o;for(s=0;s<t.length;s++)o=SC.Object.create({domain:t[s],action:"always"}),o.addObserver("domain",this,this._matchDomainDidChange),o.addObserver("action",this,this._matchDomainDidChange),e.push(o);for(s=0;s<n.length;s++)o=SC.Object.create({domain:n[s],action:"never"}),o.addObserver("domain",this,this._matchDomainDidChange),o.addObserver("action",this,this._matchDomainDidChange),e.push(o);for(s=0;s<r.length;s++)o=SC.Object.create({domain:r[s],action:"establish"}),o.addObserver("domain",this,this._matchDomainDidChange),o.addObserver("action",this,this._matchDomainDidChange),e.push(o);for(s=0;s<i.length;s++)o=SC.Object.create({domain:i[s],action:"default"}),o.addObserver("domain",this,this._matchDomainDidChange),o.addObserver("action",this,this._matchDomainDidChange
),e.push(o);return e}.property().cacheable(),_matchDomainDidChange:function(){var e=[],t=[],n=[],r=[],i,s,o,u=this.get("matchDomains"),a=u.length;for(i=0;i<a;i++)s=u[i].action,o=u[i].domain,s==="always"?e.push(o):s==="never"?t.push(o):s==="establish"?n.push(o):s==="default"&&r.push(o);this.set("_OnDemandMatchDomainsAlways",e),this.set("_OnDemandMatchDomainsNever",t),this.set("_OnDemandMatchDomainsOnRetry",n),this.set("_PPPOnDemandDomains",null)},addCustomSSLDataItem:function(){var e=this.get("customSSLData")||[],t=SC.Object.create({key:"key",value:"value"});t.addObserver("key",this,this._customSSLDataDidChange),t.addObserver("value",this,this._customSSLDataDidChange),e.pushObject(t),this._customSSLDataDidChange()},removeCustomSSLDataItem:function(){var e=this.get("customSSLData"),t=this.get("customSSLDataSelection");t&&t.firstObject()&&(t.firstObject().removeObserver("key",this,this._customSSLDataDidChange),t.firstObject().removeObserver("value",this,this._customSSLDataDidChange),e.removeObject(t.firstObject()),this._customSSLDataDidChange())},customSSLData:function(){var e=[],t=this.get("_VendorConfig")||{};for(var n in t)if(t.hasOwnProperty(n)){var r=SC.Object.create({key:n,value:t[n]});r.addObserver("key",this,this._customSSLDataDidChange),r.addObserver("value",this,this._customSSLDataDidChange),e.push(r)}return e}.property().cacheable(),_customSSLDataDidChange:function(){var e={},t=this.get("customSSLData");for(var n=0,r=t.length;n<r;n++){var i=t[n],s=i.get("key"),o=i.get("value");e[s]=o}this.set("_VendorConfig",e)},proxySetup:function(e,t){return t!==undefined&&(this.set
("_HTTPEnable",t==="Manual"?1:0),this.set("_HTTPSEnable",t==="Manual"?1:0),this.set("_ProxyAutoConfigEnable",t==="Automatic"?1:0),this.set("_ProxyAutoDiscoveryEnable",t!=="Automatic"||(this.get("_ProxyAutoConfigURLString")&&this.get("_ProxyAutoConfigURLString").get("length"))>0?0:1),t==="None"?(this.set("_HTTPPort",null),this.set("_HTTPProxy",null),this.set("_HTTPProxyPassword",null),this.set("_HTTPProxyUsername",null),this.set("_HTTPSPort",null),this.set("_HTTPSProxy",null),this.set("_ProxyAutoConfigURLString",null)):t==="Automatic"?(this.set("_HTTPPort",null),this.set("_HTTPProxy",null),this.set("_HTTPProxyPassword",null),this.set("_HTTPProxyUsername",null),this.set("_HTTPSPort",null),this.set("_HTTPSProxy",null)):t==="Manual"&&this.set("_ProxyAutoConfigURLString",null)),this.get("_HTTPEnable")===1&&this.get("_ProxyAutoConfigEnable")===0?"Manual":this.get("_HTTPEnable")===0&&this.get("_ProxyAutoConfigEnable")===1?"Automatic":"None"}.property("_Proxies").cacheable(),proxyServer:function(e,t){return t!==undefined&&(this.set("_HTTPProxy",this.get("_HTTPProxyEnable")===0?null:t),this.set("_HTTPSProxy",this.get("_HTTPSProxyEnable")===0?null:t)),this.get("_HTTPProxyEnable")===0?this.get("_HTTPSProxyEnable")===0?null:this.get("_HTTPSProxy"):this.get("_HTTPProxy")}.property("_HTTPProxy","_HTTPSProxy","_HTTPProxyEnable","_HTTPSProxyEnable"),proxyPort:function(e,t){return t!==undefined&&(this.set("_HTTPPort",this.get("_HTTPProxyEnable")===0?null:t),this.set("_HTTPSPort",this.get("_HTTPSProxyEnable")===0?null:t)),this.get("_HTTPProxyEnable")===0?this.get("_HTTPSProxyEnable")===0?null
:this.get("_HTTPSPort"):this.get("_HTTPPort")}.property("_HTTPPort","_HTTPSPort","_HTTPProxyEnable","_HTTPSProxyEnable"),proxyUsername:function(e,t){return t!==undefined&&this.set("_HTTPProxyUsername",t),this.get("_HTTPProxyUsername")}.property("_HTTPProxyUsername"),proxyPassword:function(e,t){return t!==undefined&&this.set("_HTTPProxyPassword",t),this.get("_HTTPProxyPassword")}.property("_HTTPProxyPassword"),proxyServerUrl:function(e,t){return t!==undefined&&(this.set("_ProxyAutoConfigURLString",t),this.set("_ProxyAutoDiscoveryEnable",SC.none(t)||t.length===0?1:0)),this.get("_ProxyAutoConfigURLString")}.property("_ProxyAutoConfigURLString"),validatedProperties:function(){this.get("invalidFields").splice(0,this.get("invalidFields").length);var e={connectionName:Admin.RequiredValidator.create({})},t=this.get("connectionType"),n=this.get("isAlwaysOn"),r=this.get("_useCommonAlwaysOnTunnelConfig");return n?r?e.alwaysOnCommonRemoteAddress=Admin.RequiredValidator.create({}):(e.alwaysOnCellularRemoteAddress=Admin.RequiredValidator.create({}),e.alwaysOnWifiRemoteAddress=Admin.RequiredValidator.create({})):t==="IKEv2"?e.ikev2RemoteAddress=Admin.RequiredValidator.create({}):e.server=Admin.RequiredValidator.create({}),this.get("isAutoPush")&&!this.get("identificationKnobSetsLength")&&(["AnyConnect","IKEv2"].contains(t)||(e.userAccount=Admin.RequiredValidator.create({})),t==="Juniper"?(e.realm=Admin.RequiredValidator.create({}),e.role=Admin.RequiredValidator.create({})):t==="SonicWALL"?e.loginGroupOrDomain=Admin.RequiredValidator.create({}):n?r?(e.alwaysOnCommonLocalIdentifier=Admin.RequiredValidator
.create({}),e.alwaysOnCommonRemoteIdentifier=Admin.RequiredValidator.create({})):(e.alwaysOnCellularLocalIdentifier=Admin.RequiredValidator.create({}),e.alwaysOnCellularRemoteIdentifier=Admin.RequiredValidator.create({}),e.alwaysOnWifiLocalIdentifier=Admin.RequiredValidator.create({}),e.alwaysOnWifiRemoteIdentifier=Admin.RequiredValidator.create({})):t==="IKEv2"&&(e.ikev2LocalIdentifier=Admin.RequiredValidator.create({}),e.ikev2RemoteIdentifier=Admin.RequiredValidator.create({}))),t==="custom_ssl"&&(e.vpnSubType=Admin.RequiredValidator.create({})),this.get("proxySetup")==="Manual"&&(e.proxyServer=Admin.RequiredValidator.create({}),e.proxyPort=Admin.RequiredValidator.create({})),e}.property("connectionType","isAutoPush","identificationKnobSetsLength","isAlwaysOn","_useCommonAlwaysOnTunnelConfig").cacheable(),isAutoPushBinding:"Admin.itemSelectionController.isManaged",identificationKnobSetsLengthBinding:".profile.identificationKnobSets.length",contentExampleView:function(){return this.get("isFromServermgr")?Admin.VpnKnobSetFromServermgrView:Admin.VpnKnobSetView}.property("isFromServermgr")}),Admin.VpnKnobSet.displayName="_vpn_knob_set_name".loc(),Admin.VpnKnobSet.largeIcon="admin-vpn-knob-set-large-icon",Admin.VpnKnobSet.numLines="_vpn_knob_set_num_lines".loc(),Admin.VpnKnobSet.profilePropertyName="vpnKnobSets",SC.mixin(Admin.VpnKnobSet,{sortOrder:9,platformTypes:"iOS OSX"}),Admin.VpnKnobSet.systemLevel=YES,Admin.VpnKnobSet.userLevel=YES,Admin.VpnKnobSet.settingTypeDescription="_vpn_knob_set_description".loc(),Admin.EmailKnobSetView=Admin.KnobSetView.extend({contentView:Admin.
KnobSetContentView.design({childViews:["accountDescriptionField","accountTypeLabel","accountTypeDescription","accountType","accountNameField","emailAddressField","preventMoveField","allowRecentsSyncingField","preventAppSheetField","enableSMIMEFieldView","sMIMESigningCertificateView","sMIMEEncryptionCertificateView","enablePerMessageSMIMESwitchFieldView","incomingOutgoingSettingsView"],accountDescriptionField:Admin.KnobSetTextFieldView.design({title:"_generic_string_Account Description".loc(),description:'_generic_string_The display name of the account (e.g. "Company Mail Account")'.loc(),fieldHint:"_generic_string_optional".loc(),fieldContentValueKey:"accountDescription"}),accountTypeLabel:Admin.BoldLabelView.design({value:"_generic_string_Account Type".loc()}),accountTypeDescription:Admin.DescriptionLabelView.design({value:"_generic_string_The protocol for accessing the email account".loc()}),accountType:SC.View.design({childViews:["accountTypeSelectView","accountIMAPPrefixLabel","accountIMAPPrefix"],classNames:["admin-margin-top-5"],layout:{height:30},useStaticLayout:YES,contentBinding:".owner.content",accountTypeSelectView:SC.SelectButtonView.design({layout:{height:25,width:120},objects:[{value:"EmailTypeIMAP",name:"_generic_string_IMAP".loc()},{value:"EmailTypePOP",name:"_generic_string_POP".loc()}],nameKey:"name",valueKey:"value",themeName:"popup",contentBinding:".owner.content",contentValueKey:"accountType"}),accountIMAPPrefixLabel:Admin.DescriptionLabelViewAbsolute.design({layout:{left:120,width:parseFloat("_layout_path_prefix_width".loc()),height:25,top:5},value:"_generic_string_Path Prefix:"
.loc(),isVisible:function(){return this.get("accountTypeValue")==="EmailTypeIMAP"}.property("accountTypeValue").cacheable(),contentBinding:".owner.content",accountTypeValueBinding:".*content.accountType"}),accountIMAPPrefix:SC.TextFieldView.design({layout:{left:120+parseFloat("_layout_path_prefix_width".loc()),width:Admin.KNOB_WIDTH-(120+parseFloat("_layout_path_prefix_width".loc())),top:3,height:20},hint:"_generic_string_optional".loc(),isVisible:function(){return this.get("accountTypeValue")==="EmailTypeIMAP"}.property("accountTypeValue").cacheable(),accountTypeValueBinding:".*content.accountType",contentBinding:".owner.content",contentValueKey:"accountIMAPPrefix"})}),accountNameField:Admin.KnobSetTextFieldView.design({title:"_generic_string_User Display Name".loc(),description:'_generic_string_The display name of the user (e.g. "John Appleseed")'.loc(),fieldHint:function(){return this.get("isAutoPush")?"_hint_required".loc():"_generic_string_set on device".loc()}.property("isAutoPush").cacheable(),isAutoPushBinding:"Admin.itemSelectionController.isManaged",isEnabled:function(){return!this.get("identificationKnobSetsLength")}.property("identificationKnobSetsLength").cacheable(),identificationKnobSetsLengthBinding:".owner*content.profile.identificationKnobSets.length",fieldContentValueKey:"accountName"}),emailAddressField:Admin.KnobSetTextFieldView.design({title:"_generic_string_Email Address".loc(),description:'_generic_string_The address of the account (e.g. "john@example.com")'.loc(),fieldHint:function(){return this.get("isAutoPush")?"_hint_required".loc():"_generic_string_set on device"
.loc()}.property("isAutoPush").cacheable(),isAutoPushBinding:"Admin.itemSelectionController.isManaged",isEnabled:function(){return!this.get("identificationKnobSetsLength")}.property("identificationKnobSetsLength").cacheable(),identificationKnobSetsLengthBinding:".owner*content.profile.identificationKnobSets.length",fieldContentValueKey:"emailAddress"}),preventMoveField:Admin.KnobSetCheckBoxFieldView.design({title:"_generic_string_Allow user to move messages from this account".loc(),description:"_generic_string_Messages can be moved out of this email account into another".loc(),fieldContentValueKey:"allowMove"}),allowRecentsSyncingField:Admin.KnobSetCheckBoxFieldView.design({title:"_generic_string_Allow recent addresses to be synced".loc(),description:"_generic_string_Include this account in recent address syncing".loc(),fieldContentValueKey:"allowRecentsSyncing"}),preventAppSheetField:Admin.KnobSetCheckBoxFieldView.design({title:"_generic_string_Use Only in Mail".loc(),description:"_generic_string_Send outgoing mail from this account only from Mail app".loc(),fieldContentValueKey:"_preventAppSheet"}),enableSMIMEFieldView:Admin.KnobSetCheckBoxFieldView.design({title:"_generic_string_Enable S/MIME".loc(),description:"_generic_string_Support S/MIME for this account".loc(),fieldContentValueKey:"enableSMIME"}),sMIMESigningCertificateView:Admin.KnobSetSelectButtonFieldView.design({title:"_generic_string_Signing Certificate".loc(),description:"_generic_string_Certificate used to sign messages sent from this account".loc(),buttonWidth:Admin.KNOB_WIDTH-20,isVisibleBinding:".owner.enableSMIMEFieldView.fieldValue"
,fieldObjectsBinding:".owner*content.sMIMECertificates",fieldObjectsBindingDefault:SC.Binding.oneWay(),checkboxEnabled:NO,fieldContentValueKey:"sMIMESigningCertificateUUID"}),sMIMEEncryptionCertificateView:Admin.KnobSetSelectButtonFieldView.design({isVisibleBinding:".owner.enableSMIMEFieldView.fieldValue",title:"_generic_string_Encryption Certificate".loc(),description:"_generic_string_Certificate used to decrypt messages sent to this account".loc(),buttonWidth:Admin.KNOB_WIDTH-20,fieldObjectsBinding:".owner*content.sMIMECertificates",fieldObjectsBindingDefault:SC.Binding.oneWay(),checkboxEnabled:NO,fieldContentValueKey:"sMIMEEncryptionCertificateUUID"}),enablePerMessageSMIMESwitchFieldView:Admin.KnobSetCheckBoxFieldView.design({title:"_smime_per_message_switch_title".loc(),description:"_smime_per_message_switch_title_description".loc(),fieldContentValueKey:"enablePerMessageSMIMESwitch",isEnabled:function(){var e=this.get("sMIMEEncryptionCertificateUUID")!=="--none--";return e||this.set("fieldValue",!1),e}.property("sMIMEEncryptionCertificateUUID").cacheable(),sMIMEEncryptionCertificateUUIDBinding:".owner*content.sMIMEEncryptionCertificateUUID",isVisibleBinding:".owner.enableSMIMEFieldView.fieldValue"}),incomingOutgoingSettingsView:SC.View.design({useStaticLayout:YES,classNames:"admin-margin-top-15",childViews:["incomingOutgoingSegmentedView","_spacerView10","incomingMailServerField","incomingMailUserNameField","incomingMailAuthenticationTypeField","incomingMailPasswordField","incomingMailAuthenticationTypeField","incomingMailUseSSLField","outgoingMailServerField","outgoingMailUserNameField"
,"outgoingMailAuthenticationTypeField","outgoingMailPasswordField","outgoingMailPasswordSameAsIncomingField","outgoingMailUseSSLField"],incomingOutgoingSegmentedView:SC.SegmentedView.design({useStaticLayout:YES,layout:{height:SC.REGULAR_BUTTON_HEIGHT},itemTitleKey:"title",itemValueKey:"value",items:[{title:"_generic_string_Incoming Mail".loc(),value:"incomingMail"},{title:"_generic_string_Outgoing Mail".loc(),value:"outgoingMail"}],contentBinding:".owner.owner.content",contentValueKey:"tabValue",showIncoming:function(){return this.get("value")==="incomingMail"}.property("value"),showOutgoing:function(){return this.get("value")==="outgoingMail"}.property("value")}),_spacerView10:SC.View.design({layout:{height:10},useStaticLayout:YES}),incomingMailServerField:Admin.KnobSetIpPortFieldView.design({title:"_generic_string_Mail Server and Port".loc(),description:"_generic_string_Hostname or IP address, and port number for incoming mail".loc(),isVisibleBinding:".owner.incomingOutgoingSegmentedView.showIncoming",fieldHint:"_hint_required".loc(),contentBinding:".owner.owner.content",fieldIpHostContentValueKey:"incomingMailServer",fieldPortContentValueKey:"incomingMailServerPort"}),incomingMailUserNameField:Admin.KnobSetTextFieldView.design({title:"_generic_string_User Name".loc(),description:"_generic_string_The username used to connect to the server for incoming mail".loc(),fieldHint:function(){return this.get("isAutoPush")?"_hint_required".loc():"_generic_string_set on device".loc()}.property("isAutoPush").cacheable(),isAutoPushBinding:"Admin.itemSelectionController.isManaged",isVisibleBinding
:".owner.incomingOutgoingSegmentedView.showIncoming",isEnabled:function(){return!this.get("identificationKnobSetsLength")}.property("identificationKnobSetsLength").cacheable(),identificationKnobSetsLengthBinding:".owner.owner*content.profile.identificationKnobSets.length",contentBinding:".owner.owner.content",fieldContentValueKey:"incomingMailUserName"}),incomingMailAuthenticationTypeField:Admin.KnobSetSelectButtonFieldView.design({title:"_generic_string_Authentication Type".loc(),description:"_generic_string_The authentication method for the incoming mail server".loc(),fieldObjects:[{value:"EmailAuthNone",name:"_incoming_email_authentication_type_None".loc()},{value:"EmailAuthPassword",name:"_generic_string_Password".loc()},{value:"EmailAuthCRAMMD5",name:"_generic_string_MD5 Challenge-Response".loc()},{value:"EmailAuthNTLM",name:"_generic_string_NTLM".loc()},{value:"EmailAuthHTTPMD5",name:"_generic_string_HTTP MD5 Digest".loc()}],buttonWidth:180,contentBinding:".owner.owner.content",fieldContentValueKey:"incomingMailServerAuthentication",isVisibleBinding:".owner.incomingOutgoingSegmentedView.showIncoming"}),incomingMailPasswordField:Admin.KnobSetSecureTextFieldView.design({title:"_generic_string_Password".loc(),description:"_generic_string_The password for the incoming mail server".loc(),isEnabled:function(){return this.incomingMailAuthenticationTypeValue!=="EmailAuthNone"&&!this.get("identificationKnobSetsLength")}.property("incomingMailAuthenticationTypeValue","identificationKnobSetsLength").cacheable(),incomingMailAuthenticationTypeValueBinding:".owner.incomingMailAuthenticationTypeField.fieldValue"
,identificationKnobSetsLengthBinding:".owner.owner*content.profile.identificationKnobSets.length",contentBinding:".owner.owner.content",fieldContentValueKey:"incomingMailPassword",isVisibleBinding:".owner.incomingOutgoingSegmentedView.showIncoming"}),incomingMailUseSSLField:Admin.KnobSetCheckBoxFieldView.design({title:"_generic_string_Use SSL".loc(),description:"_generic_string_Retrieve incoming mail through secure socket layer".loc(),contentBinding:".owner.owner.content",fieldContentValueKey:"incomingMailUseSSL",isVisibleBinding:".owner.incomingOutgoingSegmentedView.showIncoming"}),outgoingMailServerField:Admin.KnobSetIpPortFieldView.design({isVisibleBinding:".owner.incomingOutgoingSegmentedView.showOutgoing",title:"_generic_string_Mail Server and Port".loc(),description:"_generic_string_Hostname or IP address, and port number for outgoing mail".loc(),fieldHint:"_hint_required".loc(),contentBinding:".owner.owner.content",fieldIpHostContentValueKey:"outgoingMailServer",fieldPortContentValueKey:"outgoingMailServerPort"}),outgoingMailUserNameField:Admin.KnobSetTextFieldView.design({title:"_generic_string_User Name".loc(),description:"_generic_string_The username used to connect to the server for outgoing mail".loc(),fieldHint:function(){var e=this.get("isAutoPush")?"_hint_required".loc():"_generic_string_set on device".loc();return e=this.outgoingMailAuthenticationTypeValue==="EmailAuthNone"?"":e,e}.property("isAutoPush","outgoingMailAuthenticationTypeValue").cacheable(),isAutoPushBinding:"Admin.itemSelectionController.isManaged",isVisibleBinding:".owner.incomingOutgoingSegmentedView.showOutgoing"
,isEnabled:function(){return this.outgoingMailAuthenticationTypeValue!=="EmailAuthNone"&&!this.get("identificationKnobSetsLength")}.property("identificationKnobSetsLength","outgoingMailAuthenticationTypeValue").cacheable(),identificationKnobSetsLengthBinding:".owner.owner*content.profile.identificationKnobSets.length",outgoingMailAuthenticationTypeValueBinding:".owner.outgoingMailAuthenticationTypeField.fieldValue",contentBinding:".owner.owner.content",fieldContentValueKey:"outgoingMailUserName"}),outgoingMailAuthenticationTypeField:Admin.KnobSetSelectButtonFieldView.design({title:"_generic_string_Authentication Type".loc(),description:"_generic_string_The authentication method for the outgoing mail server".loc(),fieldObjects:[{value:"EmailAuthNone",name:"_outgoing_email_authentication_type_None".loc()},{value:"EmailAuthPassword",name:"_generic_string_Password".loc()},{value:"EmailAuthCRAMMD5",name:"_generic_string_MD5 Challenge-Response".loc()},{value:"EmailAuthNTLM",name:"_generic_string_NTLM".loc()},{value:"EmailAuthHTTPMD5",name:"_generic_string_HTTP MD5 Digest".loc()}],buttonWidth:180,contentBinding:".owner.owner.content",fieldContentValueKey:"outgoingMailServerAuthentication",isVisibleBinding:".owner.incomingOutgoingSegmentedView.showOutgoing"}),outgoingMailPasswordField:Admin.KnobSetSecureTextFieldView.design({title:"_generic_string_Password".loc(),description:"_generic_string_The password for the outgoing mail server".loc(),isEnabled:function(){return this.outgoingMailAuthenticationTypeValue!=="EmailAuthNone"&&!this.outgoingMailPasswordSameAsIncomingValue&&!this.get("identificationKnobSetsLength"
)}.property("outgoingMailAuthenticationTypeValue","outgoingMailPasswordSameAsIncomingValue","identificationKnobSetsLength").cacheable(),identificationKnobSetsLengthBinding:".owner.owner*content.profile.identificationKnobSets.length",outgoingMailAuthenticationTypeValueBinding:".owner.outgoingMailAuthenticationTypeField.fieldValue",outgoingMailPasswordSameAsIncomingValueBinding:".owner.outgoingMailPasswordSameAsIncomingField.fieldValue",contentBinding:".owner.owner.content",fieldContentValueKey:"outgoingMailPassword",isVisibleBinding:".owner.incomingOutgoingSegmentedView.showOutgoing"}),outgoingMailPasswordSameAsIncomingField:Admin.KnobSetCheckBoxFieldView.design({title:"_generic_string_Outgoing password same as incoming".loc(),description:"_generic_string_SMTP authentication uses the same password as POP/IMAP".loc(),contentBinding:".owner.owner.content",fieldContentValueKey:"outgoingMailPasswordSameAsIncoming",isVisibleBinding:".owner.incomingOutgoingSegmentedView.showOutgoing"}),outgoingMailUseSSLField:Admin.KnobSetCheckBoxFieldView.design({title:"_generic_string_Use SSL".loc(),description:"_generic_string_Retrieve outgoing mail through secure socket layer".loc(),contentBinding:".owner.owner.content",fieldContentValueKey:"outgoingMailUseSSL",isVisibleBinding:".owner.incomingOutgoingSegmentedView.showOutgoing"})})})}),Admin.EmailKnobSet=Admin.KnobSet.extend({accountDescription:SC.Record.attr(String,{key:"EmailAccountDescription",defaultValue:"_generic_string_Company Account".loc()}),accountType:SC.Record.attr(String,{isRequired:YES,key:"EmailAccountType"}),accountIMAPPrefix:SC
.Record.attr(String,{key:"IncomingMailServerIMAPPathPrefix"}),realAccountName:SC.Record.attr(String,{key:"EmailAccountName"}),accountName:function(e,t){t!==undefined&&!this.get("identificationKnobSetsLength")&&this.set("realAccountName",t);var n=this.get("realAccountName");return this.get("identificationKnobSetsLength")?"_generic_string_Set in Identification".loc():n}.property("realAccountName","identificationKnobSetsLength").cacheable(),realEmailAddress:SC.Record.attr(String,{key:"EmailAddress"}),emailAddress:function(e,t){t!==undefined&&!this.get("identificationKnobSetsLength")&&this.set("realEmailAddress",t);var n=this.get("realEmailAddress");return this.get("identificationKnobSetsLength")?"_generic_string_Set in Identification".loc():n}.property("realEmailAddress","identificationKnobSetsLength").cacheable(),_disableMailRecentsSyncing:SC.Record.attr(Boolean,{key:"disableMailRecentsSyncing",defaultValue:NO}),allowRecentsSyncing:function(e,t){return t!==undefined&&this.set("_disableMailRecentsSyncing",!t),!this.get("_disableMailRecentsSyncing")}.property("_disableMailRecentsSyncing").cacheable(),_preventMove:SC.Record.attr(Boolean,{key:"PreventMove",defaultValue:NO}),allowMove:function(e,t){return t!==undefined&&this.set("_preventMove",!t),!this.get("_preventMove")}.property("_preventMove").cacheable(),_preventAppSheet:SC.Record.attr(Boolean,{key:"PreventAppSheet",defaultValue:NO}),allowAppSheet:function(e,t){return t!==undefined&&this.set("_preventAppSheet",!t),!this.get("_preventAppSheet")}.property("_preventAppSheet").cacheable(),enableSMIME:SC.Record.attr(Boolean,{key:"SMIMEEnabled"
,defaultValue:NO}),_sMIMESigningCertificateUUID:SC.Record.attr(String,{key:"SMIMESigningCertificateUUID"}),sMIMESigningCertificateUUID:function(e,t){return t!==undefined&&(t=t==="--none--"?null:t,this.set("_sMIMESigningCertificateUUID",t)),this.get("_sMIMESigningCertificateUUID")||"--none--"}.property("_sMIMESigningCertificateUUID").cacheable(),_sMIMEEncryptionCertificateUUID:SC.Record.attr(String,{key:"SMIMEEncryptionCertificateUUID"}),sMIMEEncryptionCertificateUUID:function(e,t){return t!==undefined&&(t=t==="--none--"?null:t,this.set("_sMIMEEncryptionCertificateUUID",t)),this.get("_sMIMEEncryptionCertificateUUID")||"--none--"}.property("_sMIMEEncryptionCertificateUUID").cacheable(),sMIMECertificatesBinding:SC.Binding.oneWay(".profile.identityScepAndAdCertObjects"),enablePerMessageSMIMESwitch:SC.Record.attr(Boolean,{key:"SMIMEEnablePerMessageSwitch",defaultValue:NO}),incomingMailServer:SC.Record.attr(String,{isRequired:YES,key:"IncomingMailServerHostName"}),incomingMailServerPort:SC.Record.attr(Number,{key:"IncomingMailServerPortNumber",defaultValue:993}),realIncomingMailUserName:SC.Record.attr(String,{key:"IncomingMailServerUsername"}),incomingMailUserName:function(e,t){t!==undefined&&!this.get("identificationKnobSetsLength")&&this.set("realIncomingMailUserName",t);var n=this.get("realIncomingMailUserName");return this.get("identificationKnobSetsLength")?"_generic_string_Set in Identification".loc():n}.property("realIncomingMailUserName","identificationKnobSetsLength").cacheable(),realIncomingMailPassword:SC.Record.attr(String,{key:"IncomingPassword"}),incomingMailPassword
:function(e,t){t!==undefined&&!this.get("identificationKnobSetsLength")&&this.set("realIncomingMailPassword",t);var n=this.get("realIncomingMailPassword");return this.get("identificationKnobSetsLength")?"_generic_string_Set in Identification".loc():n}.property("realIncomingMailPassword","identificationKnobSetsLength").cacheable(),incomingMailServerAuthentication:SC.Record.attr(String,{key:"IncomingMailServerAuthentication",defaultValue:"EmailAuthPassword"}),incomingMailUseSSL:SC.Record.attr(Boolean,{key:"IncomingMailServerUseSSL",defaultValue:YES}),outgoingMailServer:SC.Record.attr(String,{isRequired:YES,key:"OutgoingMailServerHostName"}),outgoingMailServerPort:SC.Record.attr(Number,{key:"OutgoingMailServerPortNumber",defaultValue:587}),realOutgoingMailUserName:SC.Record.attr(String,{key:"OutgoingMailServerUsername"}),outgoingMailUserName:function(e,t){t!==undefined&&!this.get("identificationKnobSetsLength")&&this.set("realOutgoingMailUserName",t);var n=this.get("realOutgoingMailUserName");return this.get("identificationKnobSetsLength")?"_generic_string_Set in Identification".loc():n}.property("realOutgoingMailUserName","identificationKnobSetsLength").cacheable(),realOutgoingMailPassword:SC.Record.attr(String,{key:"OutgoingPassword"}),outgoingMailPassword:function(e,t){t!==undefined&&!this.get("identificationKnobSetsLength")&&this.set("realOutgoingMailPassword",t);var n=this.get("realOutgoingMailPassword");return this.get("identificationKnobSetsLength")?"_generic_string_Set in Identification".loc():n}.property("realOutgoingMailPassword","identificationKnobSetsLength").cacheable
(),outgoingMailPasswordSameAsIncoming:SC.Record.attr(Boolean,{key:"OutgoingPasswordSameAsIncomingPassword"}),outgoingMailServerAuthentication:SC.Record.attr(String,{key:"OutgoingMailServerAuthentication",defaultValue:"EmailAuthPassword"}),outgoingMailUseSSL:SC.Record.attr(Boolean,{key:"OutgoingMailServerUseSSL",defaultValue:YES}),tabValue:"incomingMail",validatedProperties:function(){this.get("invalidFields").splice(0,this.get("invalidFields").length);var e={incomingMailServer:Admin.RequiredValidator.create({}),incomingMailServerPort:Admin.NumberWithRangeValidator.create({minimumValue:0,maximumValue:65535}),outgoingMailServer:Admin.RequiredValidator.create({}),outgoingMailServerPort:Admin.NumberWithRangeValidator.create({minimumValue:0,maximumValue:65535})};return this.get("isAutoPush")&&!this.get("identificationKnobSetsLength")&&(e.accountName=Admin.RequiredValidator.create({}),e.emailAddress=Admin.RequiredValidator.create({}),e.incomingMailUserName=Admin.RequiredValidator.create({}),this.get("outgoingMailServerAuthentication")!=="EmailAuthNone"&&(e.outgoingMailUserName=Admin.RequiredValidator.create({}))),e}.property("isAutoPush","identificationKnobSetsLength","outgoingMailServerAuthentication").cacheable(),isAutoPushBinding:"Admin.itemSelectionController.isManaged",identificationKnobSetsLengthBinding:".profile.identificationKnobSets.length",contentExampleView:function(){return this.get("isFromServermgr")?Admin.EmailKnobSetFromServermgrView:Admin.EmailKnobSetView}.property("isFromServermgr")}),Admin.EmailKnobSet.displayName="_email_knob_set_name".loc(),Admin.EmailKnobSet.largeIcon="admin-email-knob-set-large-icon"
,Admin.EmailKnobSet.numLines="_email_knob_set_num_lines".loc(),Admin.EmailKnobSet.profilePropertyName="mailKnobSets",SC.mixin(Admin.EmailKnobSet,{sortOrder:3,platformTypes:"iOS OSX"}),Admin.EmailKnobSet.systemLevel=NO,Admin.EmailKnobSet.userLevel=YES,Admin.EmailKnobSet.settingTypeDescription="_email_knob_set_description".loc(),Admin.IchatKnobSetView=Admin.KnobSetView.extend({contentView:Admin.KnobSetContentView.design({childViews:["accountDescriptionField","connectionTypeField","accountNameField","passwordField","serverAndPortField","useSslField","useKerberosField"],accountDescriptionField:Admin.KnobSetTextFieldView.design({title:"_generic_string_Account Description".loc(),description:"_generic_string_The display name of the account".loc(),fieldHint:"_hint_required".loc(),fieldContentValueKey:"description"}),connectionTypeField:Admin.KnobSetSelectButtonFieldView.design({title:"_generic_string_Account Type".loc(),description:"_generic_string_The chat protocol to use for this configuration".loc(),fieldObjects:[{value:"com.apple.jabber.account",name:"Jabber"},{value:"com.apple.AIM.account",name:"AIM"}],buttonWidth:140,contentBinding:".owner.content",fieldContentValueKey:"payloadType",valueIsJabber:function(){return this.get("fieldValue")=="com.apple.jabber.account"}.property("fieldValue").cacheable()}),accountNameField:Admin.KnobSetTextFieldView.design({title:"_generic_string_Account Name".loc(),description:"_generic_string_The chat username".loc(),fieldHint:"_generic_string_optional".loc(),contentBinding:".owner.content",identificationKnobSetsLengthBinding:".owner*content.profile.identificationKnobSets.length"
,valueIsJabberBinding:".owner.connectionTypeField.valueIsJabber",isEnabled:function(){return!this.get("identificationKnobSetsLength")||!this.get("valueIsJabber")}.property("identificationKnobSetsLength","valueIsJabber").cacheable(),fieldContentValueKey:"loginAs"}),passwordField:Admin.KnobSetSecureTextFieldView.design({title:"_generic_string_Password".loc(),description:"_generic_string_Password for the account".loc(),fieldHint:"_generic_string_optional".loc(),contentBinding:".owner.content",kerberosValueBinding:".owner.useKerberosField.fieldValue",identificationKnobSetsLengthBinding:".owner*content.profile.identificationKnobSets.length",valueIsJabberBinding:".owner.connectionTypeField.valueIsJabber",isEnabled:function(){return!this.kerberosValue&&(!this.get("identificationKnobSetsLength")||!this.get("valueIsJabber"))}.property("kerberosValue","identificationKnobSetsLength","valueIsJabber").cacheable(),fieldContentValueKey:"accountPassword"}),serverAndPortField:Admin.KnobSetIpPortFieldViewAbsolute.design({useStaticLayout:YES,label:"_generic_string_Server Address and Port".loc(),description:"_generic_string_Hostname or IP address, and port number for the server".loc(),fieldHint:"_generic_string_auto".loc(),contentBinding:".owner.content",isEnabledBinding:SC.Binding.not(".owner.autoFindField.value"),fieldIpHostContentValueKey:"serverHost",fieldPortContentValueKey:"serverPort",isVisibleBinding:".owner.connectionTypeField.valueIsJabber"}),useSslField:Admin.KnobSetCheckBoxFieldView.design({title:"_generic_string_Use SSL".loc(),description:"_generic_string_Enable Secure Socket Layer communication with chat server"
.loc(),fieldContentValueKey:"useSSL",isVisibleBinding:".owner.connectionTypeField.valueIsJabber"}),useKerberosField:Admin.KnobSetCheckBoxFieldView.design({title:"_generic_string_Use Kerberos v5".loc(),description:"_generic_string_Use Kerberos v5 for authentication".loc(),fieldContentValueKey:"useKerberos5",isVisibleBinding:".owner.connectionTypeField.valueIsJabber"})})}),Admin.IchatKnobSet=Admin.KnobSet.extend({_payloadType:SC.Record.attr(String,{key:"PayloadType",defaultValue:"com.apple.jabber.account"}),_JabberAccountDescription:SC.Record.attr(String,{key:"JabberAccountDescription",defaultValue:"_generic_string_My Messages Account".loc()}),_JabberHostName:SC.Record.attr(String,{key:"JabberHostName"}),_JabberPortNumber:SC.Record.attr(Number,{key:"JabberPort"}),_JabberUserName:SC.Record.attr(String,{key:"JabberUserName"}),_JabberPassword:SC.Record.attr(String,{key:"JabberPassword"}),_JabberUseSSL:SC.Record.attr(Boolean,{key:"JabberUseSSL",defaultValue:YES}),_JabberAuthentication:SC.Record.attr(String,{key:"JabberAuthentication",defaultValue:"JabberAuthPassword"}),_AIMAccountDescription:SC.Record.attr(String,{key:"AIMAccountDescription",defaultValue:"_generic_string_My Messages Account".loc()}),_AIMHostName:SC.Record.attr(String,{key:"AIMHostName"}),_AIMPortNumber:SC.Record.attr(Number,{key:"AIMPort"}),_AIMUserName:SC.Record.attr(String,{key:"AIMUserName"}),_AIMPassword:SC.Record.attr(String,{key:"AIMPassword"}),_AIMUseSSL:SC.Record.attr(Boolean,{key:"AIMUseSSL",defaultValue:YES}),_AIMAuthentication:SC.Record.attr(String,{key:"AIMAuthentication",defaultValue:"AIMAuthPassword"
}),isJabber:function(){return this.get("_payloadType")==="com.apple.jabber.account"}.property("_payloadType"),payloadType:function(e,t){t!==undefined&&(this.set("_payloadType",t),t==="com.apple.AIM.account"?(this.set("serverHost",this.get("useSSL")?"slogin.oscar.aol.com":"login.oscar.aol.com"),this.set("serverPort",5190)):t==="com.apple.jabber.account"&&(this.set("serverHost",""),this.set("serverPort",5223)));var n=this.get("_payloadType");return n==="com.apple.AIM.account"?this.set("knobSetHeight",300):this.set("knobSetHeight",465),n}.property("_payloadType","identificationKnobSetsLength").cacheable(),description:function(e,t){t!==undefined&&(this.set("_JabberAccountDescription",t),this.set("_AIMAccountDescription",t));var n=this.get("_payloadType");return n==="com.apple.jabber.account"?this.get("_JabberAccountDescription"):this.get("_AIMAccountDescription")}.property("_JabberAccountDescription","_AIMAccountDescription","_payloadType").cacheable(),serverHost:function(e,t){return t!==undefined&&(this.set("_JabberHostName",t),this.set("_AIMHostName",t)),this.isJabber()?this.get("_JabberHostName"):this.get("_AIMHostName")}.property("_JabberHostName","_AIMHostName","_payloadType").cacheable(),serverPort:function(e,t){return t!==undefined&&(this.set("_JabberPortNumber",t),this.set("_AIMPortNumber",t)),this.isJabber()?this.get("_JabberPortNumber"):this.get("_AIMPortNumber")}.property("_JabberPortNumber","_AIMPortNumber","_payloadType").cacheable(),loginAs:function(e,t){return t!==undefined&&(!this.get("identificationKnobSetsLength")||!this.isJabber())&&(this.set("_JabberUserName"
,t),this.set("_AIMUserName",t)),this.isJabber()?this.get("identificationKnobSetsLength")?"_generic_string_Set in Identification".loc():this.get("_JabberUserName"):this.get("_AIMUserName")}.property("_JabberUserName","_AIMUserName","identificationKnobSetsLength","_payloadType").cacheable(),accountPassword:function(e,t){return t!==undefined&&(!this.get("identificationKnobSetsLength")||!this.isJabber())&&(this.set("_JabberPassword",t),this.set("_AIMPassword",t)),this.isJabber()?this.get("identificationKnobSetsLength")?"_generic_string_Set in Identification".loc():this.get("_JabberPassword"):this.get("_AIMPassword")}.property("_JabberPassword","_AIMPassword","identificationKnobSetsLength","_payloadType").cacheable(),useSSL:function(e,t){return t!==undefined&&(this.set("_JabberUseSSL",t),this.set("_AIMUseSSL",t)),this.isJabber()?this.get("_JabberUseSSL"):this.get("_AIMUseSSL")}.property("_JabberUseSSL","_AIMUseSSL","_payloadType").cacheable(),useKerberos5:function(e,t){return t!==undefined&&(this.set("_JabberAuthentication",t?"JabberAuthKerberos":"JabberAuthPassword"),this.set("_AIMAuthentication",t?"AIMAuthKerberos":"AIMAuthPassword")),this.isJabber()?this.get("_JabberAuthentication")==="JabberAuthKerberos":this.get("_AIMAuthentication")==="AIMAuthKerberos"}.property("_JabberAuthentication","_AIMAuthentication","_payloadType").cacheable(),identificationKnobSetsLengthBinding:".profile.identificationKnobSets.length",validatedProperties:function(){var e={description:Admin.RequiredValidator.create({}),serverPort:Admin.NumberWithRangeValidator.create({minimumValue:0,maximumValue:65535
})};return this.get("invalidFields").splice(0,this.get("invalidFields").length),e}.property("_payloadType"),contentExampleView:function(){return this.get("isFromServermgr")?Admin.IchatKnobSetFromServermgrView:Admin.IchatKnobSetView}.property("isFromServermgr")}),Admin.IchatKnobSet.displayName="_ichat_knob_set_name".loc(),Admin.IchatKnobSet.largeIcon="admin-ichat-knob-set-large-icon",Admin.IchatKnobSet.numLines="_ichat_knob_set_num_lines".loc(),Admin.IchatKnobSet.profilePropertyName="iChatKnobSets",SC.mixin(Admin.IchatKnobSet,{sortOrder:15,platformTypes:"OSX"}),Admin.IchatKnobSet.systemLevel=NO,Admin.IchatKnobSet.userLevel=YES,Admin.IchatKnobSet.settingTypeDescription="_ichat_knob_set_description".loc(),Admin.UPLOAD_VIEW_CSRF_TOKEN=null,Admin.Uploadable={uploadURL:Admin.PM_WEBAPP_URI_ROOT+"/data_file/upload",uploadName:"upload",uploadOnChange:YES,supportedFilenameExtensions:[],uploadCSRFTokenBinding:"Admin.UPLOAD_VIEW_CSRF_TOKEN",statusBinding:"Admin.mainPage.mainPane.iframeSingleton.status",lastUsedUploadViewBinding:"Admin.mainPage.mainPane.iframeSingleton.lastUsedUploadView",lastUploadedFile:null,allowZipBundles:YES,uploadFile:function(){var e=this.get("supportedFilenameExtensions"),t=YES,n,r,i,s,o,u=this.get("fileTypeIcon")||"pm-upload-generic-document-icon";if(this.get("status")&SC.Record.READY){o=this.$("input")[0].value,Admin.uploadPage.uploadPane.set("filename",o),Admin.uploadPage.uploadPane.set("fileTypeIcon",u);if(e){var a=this.$("input")[0].value.split(".");s=a.pop().toLowerCase(),t=NO,s==="zip"&&this.get("allowZipBundles")&&(s=a.pop().toLowerCase());for(n=0,r=e.length
;n<r;n++){i=e[n];if(i===s){t=YES;break}}}t?(this.$("form")[0].submit(),this.set("lastUsedUploadView",this),this.set("status",SC.Record.BUSY)):SC.AlertPane.error("_filetype_not_supported_message".loc(),"_filetype_not_supported_description".loc(),"","_filetype_not_supported_cancel_button".loc())}else console.error("Tried to upload file while status was not ready");this.invokeLater("resetInputValue",1e3)},resetInputValue:function(){if(!this.$("input")||!this.$("input")[0])return;this.$("input")[0].value=null}},Admin.UploadView=SC.View.extend(Admin.Uploadable,{layout:{width:0,height:0},displayProperties:"uploadURL uploadName uploadCSRFToken".w(),render:function(e){var t=e.begin("form");t.attr("method","POST"),t.attr("enctype","multipart/form-data"),t.attr("target","iframeSingleton"),t.attr("action",this.get("uploadURL")),t.addStyle({position:"absolute",width:"100%",height:"100%"});var n=t.begin("input");n.attr("type","file"),n.attr("name",this.get("uploadName")),n.attr("style","position: absolute; width: 100%; height: 100%; opacity: 0"),n.end();if(Admin.UPLOAD_VIEW_CSRF_TOKEN){var r=t.begin("input");r.attr("name","authenticity_token"),r.attr("type","hidden"),r.attr("value",Admin.UPLOAD_VIEW_CSRF_TOKEN),r.end()}t.end(),arguments.callee.base.apply(this,arguments)},didAppendToDocument:function(){var e=this;SC.Event.add(e.$("input"),"change",e,e.inputDidChange)},didCreateLayer:function(){var e=this;SC.Event.add(e.$("input"),"change",e,e.inputDidChange)},willDestroyLayer:function(){SC.Event.remove(this.$("input"),"change",this,this.inputDidChange)},inputDidChange:function(){SC.RunLoop
.begin(),this.get("uploadOnChange")&&this.uploadFile(),SC.RunLoop.end()}}),Admin.ExchangeKnobSetView=Admin.KnobSetView.extend({contentView:Admin.KnobSetContentView.design({childViews:["accountName","accountType","exchangeActiveSyncHostField","useSSLField","userName","emailAddress","password","exchangeWebInternalHostField","internalServerPath","internalUseSSLField","exchangeWebExternalHostField","externalServerPath","externalUseSSLField","mailNumberOfPastDaysToSyncField","authenticationCredentialNameField","certificateField","allowMoveField","allowRecentsSyncingField","preventAppSheetField","SMIMEEnabled","SMIMESigningCertificateUUID","SMIMEEncryptionCertificateUUID","enablePerMessageSMIMESwitchFieldView"],accountName:Admin.KnobSetTextFieldView.design({title:"_generic_string_Account Name".loc(),description:function(){return this.get("activeSync")?"_generic_string_Name for the Exchange ActiveSync account".loc():"_generic_string_Name for the Exchange Web Services account".loc()}.property("activeSync").cacheable(),activeSyncBinding:".owner.accountType.activeSync",fieldHint:"_hint_required".loc(),contentBinding:".owner.content",fieldContentValueKey:"accountName"}),accountType:Admin.KnobSetSelectButtonFieldView.design({title:"_generic_string_Connection Type".loc(),description:"_generic_string_The type of connection enabled by this policy".loc(),fieldObjects:function(){var e=this.get("isSystemLevel"),t;return e?(t=[{value:"com.apple.eas.account",name:"_generic_string_Exchange ActiveSync".loc()}],this.set("value","com.apple.eas.account")):t=[{value:"com.apple.eas.account",name:"_generic_string_Exchange ActiveSync (iOS only)"
.loc()},{value:"com.apple.ews.account",name:"_generic_string_Exchange Web Services (OS X only)".loc()}],t}.property("isSystemLevel").cacheable(),isSystemLevelBinding:"Admin.itemSelectionController.isSystemLevel",buttonWidth:260,contentBinding:".owner.content",fieldContentValueKey:"payloadType",webServices:function(){return this.get("fieldValue")==="com.apple.ews.account"}.property("fieldValue").cacheable(),activeSync:function(){return this.get("fieldValue")==="com.apple.eas.account"}.property("fieldValue").cacheable()}),userName:Admin.KnobSetTextFieldView.design({title:"_generic_string_User".loc(),description:"_exchange_username_string_autopush".loc(),isAutoPushBinding:"Admin.itemSelectionController.isManaged",webServicesBinding:".owner.accountType.webServices",identificationKnobSetsLengthBinding:".owner*content.profile.identificationKnobSets.length",isEnabled:function(){var e=YES;return this.get("webServices")&&this.get("identificationKnobSetsLength")>0&&(e=NO),e}.property("identificationKnobSetsLength","webServices").cacheable(),fieldHint:function(){return this.get("isAutoPush")?"_hint_required".loc():"_generic_string_set on device".loc()}.property("isAutoPush").cacheable(),contentBinding:".owner.content",fieldContentValueKey:"userName"}),emailAddress:Admin.KnobSetTextFieldView.design({title:"_generic_string_Email Address".loc(),description:'_generic_string_The address of the account (e.g. "john@example.com")'.loc(),fieldHint:function(){return this.get("payloadType")==="com.apple.ews.account"?"_hint_required".loc():"_generic_string_defaults to username@host".loc()}.property
("payloadType").cacheable(),payloadTypeBinding:".owner*content.payloadType",contentBinding:".owner.content",fieldContentValueKey:"emailAddress"}),password:Admin.KnobSetSecureTextFieldView.design({title:"_generic_string_Password".loc(),description:'_generic_string_The password for the account (e.g. "MyP4ssw0rd!")'.loc(),webServicesBinding:".owner.accountType.webServices",identificationKnobSetsLengthBinding:".owner*content.profile.identificationKnobSets.length",useIdentityPayloadValue:function(){var e=NO;return this.get("webServices")&&this.get("identificationKnobSetsLength")>0&&(e=YES),e}.property("identificationKnobSetsLength","webServices").cacheable(),isEnabledBinding:SC.Binding.not(".useIdentityPayloadValue"),fieldHint:function(e,t){return this.get("useIdentityPayloadValue")?"_generic_string_Set in Identification".loc():""}.property("useIdentityPayloadValue").cacheable(),contentBinding:".owner.content",fieldContentValueKey:"password"}),allowMoveField:Admin.KnobSetCheckBoxFieldViewAbsolute.design({useStaticLayout:YES,label:"_generic_string_Allow user to move messages from this account".loc(),description:"_generic_string_Messages can be moved out of this email account into another".loc(),contentBinding:".owner.content",fieldContentValueKey:"allowMove"}),allowRecentsSyncingField:Admin.KnobSetCheckBoxFieldViewAbsolute.design({useStaticLayout:YES,label:"_generic_string_Allow recent addresses to be synced".loc(),description:"_generic_string_Include this account in recent address syncing".loc(),contentBinding:".owner.content",fieldContentValueKey:"allowRecentsSyncing"}),preventAppSheetField
:Admin.KnobSetCheckBoxFieldViewAbsolute.design({useStaticLayout:YES,label:"_generic_string_Use Only in Mail".loc(),description:"_generic_string_Send outgoing mail from this account only from Mail app".loc(),contentBinding:".owner.content",fieldContentValueKey:"preventAppSheet"}),exchangeWebInternalHostField:Admin.KnobSetIpPortFieldViewAbsolute.design({useStaticLayout:YES,label:"_generic_string_Internal Exchange Host".loc(),description:"_generic_string_Microsoft Exchange Server".loc(),isVisibleBinding:".owner.accountType.webServices",isVisibleBindingDefault:SC.Binding.oneWay(),fieldHint:"_hint_required".loc(),contentBinding:".owner.content",fieldIpHostContentValueKey:"host",fieldPortContentValueKey:"port"}),internalServerPath:Admin.KnobSetTextFieldView.design({title:"_generic_string_Internal Server Path".loc(),description:"_generic_string_Server path for the internal exchange host".loc(),isVisibleBinding:".owner.accountType.webServices",fieldHint:"_generic_string_optional".loc(),contentBinding:".owner.content",fieldContentValueKey:"internalPath"}),internalUseSSLField:Admin.KnobSetCheckBoxFieldViewAbsolute.design({useStaticLayout:YES,label:"_generic_string_Use SSL for Internal Exchange Host".loc(),isVisibleBinding:".owner.accountType.webServices",isVisibleBindingDefault:SC.Binding.oneWay(),description:"_generic_string_Send all communication through secure socket layer".loc(),contentBinding:".owner.content",fieldContentValueKey:"useSSL"}),exchangeWebExternalHostField:Admin.KnobSetIpPortFieldViewAbsolute.design({useStaticLayout:YES,label:"_generic_string_External Exchange Host".
loc(),description:"_generic_string_Microsoft Exchange Server".loc(),fieldHint:"_generic_string_optional".loc(),isVisibleBinding:".owner.accountType.webServices",isVisibleBindingDefault:SC.Binding.oneWay(),contentBinding:".owner.content",fieldIpHostContentValueKey:"externalHost",fieldPortContentValueKey:"externalPort"}),externalServerPath:Admin.KnobSetTextFieldView.design({title:"_generic_string_External Server Path".loc(),description:"_generic_string_Server path for the external exchange host".loc(),isVisibleBinding:".owner.accountType.webServices",fieldHint:"_generic_string_optional".loc(),contentBinding:".owner.content",fieldContentValueKey:"externalPath"}),externalUseSSLField:Admin.KnobSetCheckBoxFieldViewAbsolute.design({useStaticLayout:YES,label:"_generic_string_Use SSL for External Exchange Host".loc(),isVisibleBinding:".owner.accountType.webServices",isVisibleBindingDefault:SC.Binding.oneWay(),description:"_generic_string_Send all communication through secure socket layer".loc(),contentBinding:".owner.content",fieldContentValueKey:"externalUseSSL"}),exchangeActiveSyncHostField:Admin.KnobSetTextFieldView.design({title:"_generic_string_Exchange ActiveSync Host".loc(),description:"_generic_string_Microsoft Exchange Server".loc(),isVisibleBinding:".owner.accountType.activeSync",fieldHint:"_hint_required".loc(),contentBinding:".owner.content",fieldContentValueKey:"host"}),useSSLField:Admin.KnobSetCheckBoxFieldViewAbsolute.design({useStaticLayout:YES,label:"_generic_string_Use SSL".loc(),isVisibleBinding:".owner.accountType.activeSync",isVisibleBindingDefault:SC.Binding.oneWay
(),description:"_generic_string_Send all communication through secure socket layer".loc(),contentBinding:".owner.content",fieldContentValueKey:"useSSL"}),mailNumberOfPastDaysToSyncField:Admin.KnobSetSelectButtonFieldView.design({title:"_generic_string_Past Days of Mail to Sync".loc(),description:"_generic_string_The number of past days of mail to synchronize".loc(),fieldObjects:[{value:0,name:"_generic_string_No Limit".loc()},{value:1,name:"_generic_string_1 day".loc()},{value:3,name:"_generic_string_3 days".loc()},{value:7,name:"_generic_string_1 week".loc()},{value:14,name:"_generic_string_2 weeks".loc()},{value:31,name:"_generic_string_1 month".loc()}],buttonWidth:Admin.KNOB_WIDTH-20,isVisibleBinding:".owner.accountType.activeSync",contentBinding:".owner.content",fieldContentValueKey:"mailNumberOfPastDaysToSync"}),SMIMEEnabled:Admin.KnobSetCheckBoxFieldView.design({title:"_exchange_string_Enable S/MIME".loc(),description:"_exchange_string_Support S/MIME for this account".loc(),fieldContentValueKey:"SMIMEEnabled",isVisibleBinding:".owner.accountType.activeSync"}),SMIMESigningCertificateUUID:Admin.KnobSetSelectButtonFieldView.design({title:"_exchange_string_Signing Certificate".loc(),description:"_exchange_string_Certificate used to sign messages sent to this account".loc(),fieldValueBinding:".owner*content.SMIMESigningCertificateUUID",fieldObjectsBinding:".owner*content.authenticationCertificates",buttonWidth:Admin.KNOB_WIDTH-20,isVisible:function(){return this.get("isActiveSync")&&this.get("isSMimeEnabled")}.property("isActiveSync","isSMimeEnabled").cacheable(),isActiveSyncBinding
:".owner.accountType.activeSync",isSMimeEnabledBinding:".owner.SMIMEEnabled.fieldValue"}),SMIMEEncryptionCertificateUUID:Admin.KnobSetSelectButtonFieldView.design({title:"_exchange_string_Encryption Certificate".loc(),description:"_exchange_string_Certificate used to decrypt messages sent to this account".loc(),fieldValueBinding:".owner*content.SMIMEEncryptionCertificateUUID",fieldObjectsBinding:".owner*content.authenticationCertificates",buttonWidth:Admin.KNOB_WIDTH-20,isVisible:function(){return this.get("isActiveSync")&&this.get("isSMimeEnabled")}.property("isActiveSync","isSMimeEnabled").cacheable(),isActiveSyncBinding:".owner.accountType.activeSync",isSMimeEnabledBinding:".owner.SMIMEEnabled.fieldValue"}),enablePerMessageSMIMESwitchFieldView:Admin.KnobSetCheckBoxFieldView.design({title:"_smime_per_message_switch_title".loc(),description:"_smime_per_message_switch_title_description".loc(),fieldContentValueKey:"enablePerMessageSMIMESwitch",isEnabled:function(){var e=this.get("SMIMEEncryptionCertificateUUID")!=="--none--";return e||this.set("fieldValue",!1),e}.property("SMIMEEncryptionCertificateUUID").cacheable(),SMIMEEncryptionCertificateUUIDBinding:".owner*content.SMIMEEncryptionCertificateUUID",isVisibleBinding:".owner.SMIMEEnabled.fieldValue"}),authenticationCredentialNameField:Admin.KnobSetTextFieldView.design({title:"_generic_string_Authentication Credential Name".loc(),description:"_generic_string_Name or description for ActiveSync".loc(),isVisibleBinding:".owner.accountType.activeSync",contentBinding:".owner.content",fieldContentValueKey:"certificateName"}),certificateField
:Admin.KnobSetSelectButtonFieldView.design({title:"_generic_string_Authentication Credential".loc(),description:"_generic_string_Credential for authenticating the ActiveSync account".loc(),buttonWidth:Admin.KNOB_WIDTH-20,fieldObjectsBinding:".owner*content.authenticationCertificates",fieldValueBinding:".owner*content.payloadCertificateUUID",fieldObjectsBindingDefault:SC.Binding.oneWay(),fieldContentValueKey:"payloadCertificateUUID"})})}),Admin.ExchangeKnobSet=Admin.KnobSet.extend({accountName:SC.Record.attr(String,{key:"PayloadDisplayName"}),payloadType:SC.Record.attr(String,{key:"payload_type"}),emailAddress:SC.Record.attr(String,{key:"EmailAddress"}),_preventMove:SC.Record.attr(Boolean,{key:"PreventMove",defaultValue:NO}),allowMove:function(e,t){return t!==undefined&&this.set("_preventMove",!t),!this.get("_preventMove")}.property("_preventMove").cacheable(),_disableMailRecentsSyncing:SC.Record.attr(Boolean,{key:"disableMailRecentsSyncing",defaultValue:NO}),allowRecentsSyncing:function(e,t){return t!==undefined&&this.set("_disableMailRecentsSyncing",!t),!this.get("_disableMailRecentsSyncing")}.property("_disableMailRecentsSyncing").cacheable(),preventAppSheet:SC.Record.attr(Boolean,{key:"PreventAppSheet",defaultValue:NO}),host:SC.Record.attr(String,{key:"Host"}),_useSSL:SC.Record.attr(Boolean,{key:"SSL",defaultValue:YES}),_userName:SC.Record.attr(String,{key:"UserName"}),userName:function(e,t){t!==undefined&&this.set("_userName",t);var n=this.get("_userName");return this.get("identificationKnobSetsLength")>0&&this.get("payloadType")==="com.apple.ews.account"?"_generic_string_Set in Identification"
.loc():n}.property("_userName","identificationKnobSetsLength","payloadType").cacheable(),realPassword:SC.Record.attr(String,{key:"Password"}),password:function(e,t){t!==undefined&&this.set("realPassword",t);var n=this.get("realPassword");return this.get("identificationKnobSetsLength")>0&&this.get("payloadType")==="com.apple.ews.account"&&(n=""),n}.property("realPassword","identificationKnobSetsLength","payloadType").cacheable(),certificateName:SC.Record.attr(String,{key:"CertificateName"}),certificatePassword:SC.Record.attr(String,{key:"CertificatePassword"}),mailNumberOfPastDaysToSync:SC.Record.attr(Number,{key:"MailNumberOfPastDaysToSync",defaultValue:7}),externalHost:SC.Record.attr(String,{key:"ExternalHost"}),_externalUseSSL:SC.Record.attr(Boolean,{key:"ExternalSSL",defaultValue:YES}),externalPath:SC.Record.attr(String,{key:"ExternalPath"}),externalPort:SC.Record.attr(Number,{key:"ExternalPort"}),internalPath:SC.Record.attr(String,{key:"Path"}),port:SC.Record.attr(Number,{key:"Port"}),useSSL:function(e,t){return t!==undefined&&(this.set("_useSSL",t),this.set("port",t?443:80)),this.get("_useSSL")}.property("_useSSL").cacheable(),externalUseSSL:function(e,t){return t!==undefined&&(this.set("_externalUseSSL",t),this.set("externalPort",t?443:80)),this.get("_externalUseSSL")}.property("_externalUseSSL").cacheable(),_payloadCertificateUUID:SC.Record.attr(String,{key:"PayloadCertificateUUID",defaultValue:null}),payloadCertificateUUID:function(e,t){return t!==undefined&&(t=t==="--none--"?null:t,this.set("_payloadCertificateUUID",t)),this.get("_payloadCertificateUUID")||"--none--"
}.property("_payloadCertificateUUID").cacheable(),SMIMEEnabled:SC.Record.attr(Boolean,{key:"SMIMEEnabled",defaultValue:NO}),enablePerMessageSMIMESwitch:SC.Record.attr(Boolean,{key:"SMIMEEnablePerMessageSwitch",defaultValue:NO}),_SMIMESigningCertificateUUID:SC.Record.attr(String,{key:"SMIMESigningCertificateUUID"}),SMIMESigningCertificateUUID:function(e,t){return t!==undefined&&(t=t==="--none--"?null:t,this.set("_SMIMESigningCertificateUUID",t)),this.get("_SMIMESigningCertificateUUID")||"--none--"}.property("_SMIMESigningCertificateUUID").cacheable(),_SMIMEEncryptionCertificateUUID:SC.Record.attr(String,{key:"SMIMEEncryptionCertificateUUID"}),SMIMEEncryptionCertificateUUID:function(e,t){return t!==undefined&&(t=t==="--none--"?null:t,this.set("_SMIMEEncryptionCertificateUUID",t)),this.get("_SMIMEEncryptionCertificateUUID")||"--none--"}.property("_SMIMEEncryptionCertificateUUID").cacheable(),authenticationCertificates:function(){var e=[],t=this.get("identityCertificateKnobSets"),n=this.get("scepKnobSets"),r=this.get("adCertKnobSets"),i,s;if(t!==undefined)for(s=0;s<t.get("length");s++)i=t.objectAt(s),i&&e.push(SC.Object.create({ref:i,nameBinding:".ref.displayName",value:i.get("payloadUUID")}));if(n!==undefined)for(s=0;s<n.get("length");s++)i=n.objectAt(s),e.push(SC.Object.create({ref:i,nameBinding:".ref.certDisplayName",value:i.get("payloadUUID")}));if(r!==undefined)for(s=0;s<r.get("length");s++)i=r.objectAt(s),e.push(SC.Object.create({ref:i,nameBinding:".ref.certDisplayName",value:i.get("payloadUUID")}));return e.length===0?e.push(SC.Object.create({name:"_generic_string_No Certificate payload is configured"
.loc(),value:"--none--"})):e.splice(0,0,SC.Object.create({name:"_generic_string_--".loc(),value:"--none--"})),e}.property().cacheable(),authenticationCertificatesDidChange:function(){this.notifyPropertyChange("authenticationCertificates")}.observes("scepKnobSets.[]","adCertKnobSets.[]","identityCertificateKnobSets.[]"),scepKnobSetsBinding:SC.Binding.oneWay("Admin.profileForEditingController.scepKnobSets"),adCertKnobSetsBinding:SC.Binding.oneWay("Admin.profileForEditingController.adCertKnobSets"),identityCertificateKnobSetsBinding:SC.Binding.oneWay("Admin.profileForEditingController.identityCertificateKnobSets"),validatedProperties:function(){this.get("invalidFields").splice(0,this.get("invalidFields").length);var e={accountName:Admin.RequiredValidator.create({}),host:Admin.RequiredValidator.create({}),port:Admin.NumberWithRangeValidator.create({minimumValue:0,maximumValue:65535}),externalPort:Admin.NumberWithRangeValidator.create({minimumValue:0,maximumValue:65535})};return this.get("payloadType")==="com.apple.ews.account"&&(e.emailAddress=Admin.RequiredValidator.create({})),this.get("isAutoPush")&&!this.get("identificationKnobSetsLength")&&(e.userName=Admin.RequiredValidator.create({})),e}.property("isAutoPush","payloadType","identificationKnobSetsLength").cacheable(),isAutoPushBinding:"Admin.itemSelectionController.isManaged",identificationKnobSetsLengthBinding:".profile.identificationKnobSets.length",contentExampleView:Admin.ExchangeKnobSetView}),Admin.ExchangeKnobSet.displayName="_exchange_knob_set_name".loc(),Admin.ExchangeKnobSet.largeIcon="admin-exchange-knob-set-large-icon"
,Admin.ExchangeKnobSet.numLines="_exchange_knob_set_num_lines".loc(),Admin.ExchangeKnobSet.profilePropertyName="exchangeKnobSets",SC.mixin(Admin.ExchangeKnobSet,{sortOrder:4,platformTypes:"iOS OSX"}),Admin.ExchangeKnobSet.systemLevel=NO,Admin.ExchangeKnobSet.userLevel=YES,Admin.ExchangeKnobSet.settingTypeDescription="_exchange_knob_set_description".loc(),Admin.DirectoryKnobSetView=Admin.KnobSetView.extend({contentView:Admin.KnobSetContentView.design({childViews:["directoryType","hostNameField","userNameField","passwordField","clientIDField","activeDirectorySettings"],directoryType:Admin.KnobSetSelectButtonFieldView.design({title:"_directory_string_Directory Type".loc(),description:"_directory_string_The type of directory server configured with this policy".loc(),buttonWidth:parseFloat("_directory_layout_directory_type_button_width".loc()),fieldObjects:[{name:"_directory_Active Directory".loc(),value:"AD"},{name:"_directory_Open Directory/LDAP".loc(),value:"OD"}],fieldContentValueKey:"directoryType"}),hostNameField:Admin.KnobSetTextFieldView.design({title:"_directory_string_Server Hostname".loc(),description:"_directory_string_The hostname of the directory server".loc(),fieldHint:"_hint_required".loc(),fieldContentValueKey:"hostname"}),userNameField:Admin.KnobSetTextFieldView.design({title:"_generic_string_Username".loc(),description:"_directory_string_The directory server username".loc(),fieldHint:function(){return this.setPath("fieldView.textField.fieldIsValid",YES),this.get("directoryType")==="AD"?"_hint_required".loc():"_knob_set_view_optional_hint".loc()}.property("directoryType"
).cacheable(),directoryTypeBinding:".*content.directoryType",fieldContentValueKey:"username"}),passwordField:Admin.KnobSetSecureTextFieldView.design({title:"_generic_string_Password".loc(),description:"_directory_string_The directory server password".loc(),fieldHint:function(){return this.setPath("fieldView.textField.fieldIsValid",YES),this.get("directoryType")==="AD"?"_hint_required".loc():"_knob_set_view_optional_hint".loc()}.property("directoryType").cacheable(),directoryTypeBinding:".*content.directoryType",fieldContentValueKey:"password"}),clientIDField:Admin.KnobSetTextFieldView.design({title:"_directory_string_Client ID".loc(),description:"_directory_string_The directory server client ID".loc(),fieldHint:"_knob_set_view_optional_hint".loc(),fieldContentValueKey:"clientID"}),activeDirectorySettings:SC.View.design({childViews:["ADOrganizationalUnit","activeDirectorySegmentView","experienceTab","mappingsTab","administrativeTab"],isVisible:function(){return this.get("directoryType")==="AD"}.property("directoryType").cacheable(),useStaticLayout:YES,directoryTypeBinding:".*content.directoryType",contentBinding:".owner.content",ADOrganizationalUnit:Admin.KnobSetTextFieldView.design({title:"_directory_string_Organizational Unit".loc(),description:"_directory_string_The directory server organizational unit".loc(),fieldHint:"_knob_set_view_optional_hint".loc(),fieldContentValueKey:"ADOrganizationalUnit"}),activeDirectorySegmentView:SC.SegmentedView.design({useStaticLayout:YES,classNames:["admin-margin-bottom-10"],itemTitleKey:"title",itemValueKey:"value",items:[{title:"_directory_string_User Experience"
.loc(),value:"experience"},{title:"_directory_string_Mappings".loc(),value:"mappings"},{title:"_directory_string_Administrative".loc(),value:"administrative"}],contentBinding:".owner.content",contentValueKey:"activeDirectoryTabValue"}),experienceTab:SC.View.design({childViews:["ADCreateMobileAccountAtLogin","ADWarnUserBeforeCreatingMA","ADForceHomeLocal","ADUseWindowsUNCPath","ADMountStyle","ADDefaultUserShell"],useStaticLayout:YES,contentBinding:".owner.content",isVisible:function(){return this.get("activeDirectoryTabValue")==="experience"}.property("activeDirectoryTabValue").cacheable(),activeDirectoryTabValueBinding:".*content.activeDirectoryTabValue",ADCreateMobileAccountAtLogin:Admin.KnobSetCheckBoxFieldView.design({title:"_directory_string_Create mobile account at login".loc(),fieldContentValueKey:"ADCreateMobileAccountAtLogin"}),ADWarnUserBeforeCreatingMA:Admin.KnobSetCheckBoxFieldView.design({title:"_directory_string_Require confirmation before creating mobile account".loc(),leftIndent:20,isEnabledBinding:SC.Binding.oneWay(".owner.ADCreateMobileAccountAtLogin.fieldValue"),fieldContentValueKey:"ADWarnUserBeforeCreatingMA"}),ADForceHomeLocal:Admin.KnobSetCheckBoxFieldView.design({title:"_directory_string_Force local home directory on startup disk".loc(),isEnabledBinding:SC.Binding.oneWay(".owner.ADCreateMobileAccountAtLogin.fieldValue").not(),fieldContentValueKey:"ADForceHomeLocal"}),ADUseWindowsUNCPath:Admin.KnobSetCheckBoxFieldView.design({title:"_directory_string_Use UNC path from Active Directory to derive network home location".loc(),fieldContentValueKey:"ADUseWindowsUNCPath"
}),ADMountStyle:Admin.KnobSetSelectButtonFieldView.design({title:"_directory_string_Mount Style".loc(),description:"_directory_string_Network protocol to be used to mount home directory".loc(),buttonWidth:80,fieldObjects:[{name:"_directory_mount_style_afp".loc(),value:"afp"},{name:"_directory_mount_style_smb".loc(),value:"smb"}],isEnabledBinding:SC.Binding.oneWay(".owner.ADUseWindowsUNCPath.fieldValue"),contentBinding:".owner.content",fieldContentValueKey:"ADMountStyle"}),ADDefaultUserShell:Admin.KnobSetTextFieldView.design({title:"_directory_string_Default user shell".loc(),fieldHint:"_knob_set_view_optional_hint".loc(),fieldContentValueKey:"ADDefaultUserShell"})}),mappingsTab:SC.View.design({childViews:["ADMapUIDAttribute","ADMapGIDAttribute","ADMapGGIDAttribute"],useStaticLayout:YES,contentBinding:".owner.content",isVisible:function(){return this.get("activeDirectoryTabValue")==="mappings"}.property("activeDirectoryTabValue").cacheable(),activeDirectoryTabValueBinding:".*content.activeDirectoryTabValue",ADMapUIDAttribute:Admin.KnobSetTextFieldView.design({title:"_directory_string_Map UID to attribute".loc(),fieldHint:"_knob_set_view_optional_hint".loc(),fieldContentValueKey:"ADMapUIDAttribute"}),ADMapGIDAttribute:Admin.KnobSetTextFieldView.design({title:"_directory_string_Map user GID to attribute".loc(),fieldHint:"_knob_set_view_optional_hint".loc(),fieldContentValueKey:"ADMapGIDAttribute"}),ADMapGGIDAttribute:Admin.KnobSetTextFieldView.design({title:"_directory_string_Map group GID to attribute".loc(),fieldHint:"_knob_set_view_optional_hint".loc(),fieldContentValueKey:"ADMapGGIDAttribute"
})}),administrativeTab:SC.View.design({childViews:["ADPreferredDCServer","ADDomainAdminGroupList","ADAllowMultiDomainAuth","ADNamespace","ADPacketSign","ADPacketEncrypt","ADRestrictDDNS","ADTrustChangePassIntervalDays"],useStaticLayout:YES,contentBinding:".owner.content",isVisible:function(){return this.get("activeDirectoryTabValue")==="administrative"}.property("activeDirectoryTabValue").cacheable(),activeDirectoryTabValueBinding:".*content.activeDirectoryTabValue",ADPreferredDCServer:Admin.KnobSetTextFieldView.design({title:"_directory_string_Preferred domain server".loc(),fieldHint:"_knob_set_view_optional_hint".loc(),fieldContentValueKey:"ADPreferredDCServer"}),ADDomainAdminGroupList:Admin.UnScrollableNameListView.design({title:"_directory_string_Allow administration".loc(),description:"_directory_string_All members of these groups will have administrator privileges on this computer".loc(),placeHolderString:"_directory_string_<group name>".loc(),canEditContent:YES,isEditable:YES,contentBinding:".owner*content.ADDomainAdminGroupList"}),ADAllowMultiDomainAuth:Admin.KnobSetCheckBoxFieldView.design({title:"_directory_string_Allow authentication from any domain in the forest".loc(),fieldContentValueKey:"ADAllowMultiDomainAuth"}),ADNamespace:Admin.KnobSetSelectButtonFieldView.design({title:"_directory_string_Namespace".loc(),buttonWidth:150,fieldObjects:[{name:"_directory_mount_style_forest".loc(),value:"forest"},{name:"_directory_mount_style_domain".loc(),value:"domain"}],contentBinding:".owner.content",fieldContentValueKey:"ADNamespace"}),ADPacketSign:Admin.KnobSetSelectButtonFieldView
.design({title:"_directory_string_Packet signing".loc(),buttonWidth:150,fieldObjects:[{name:"_directory_mount_style_allow".loc(),value:"allow"},{name:"_directory_mount_style_disable".loc(),value:"disable"},{name:"_directory_mount_style_require".loc(),value:"require"}],contentBinding:".owner.content",fieldContentValueKey:"ADPacketSign"}),ADPacketEncrypt:Admin.KnobSetSelectButtonFieldView.design({title:"_directory_string_Packet encryption".loc(),buttonWidth:150,fieldObjects:[{name:"_directory_mount_style_allow".loc(),value:"allow"},{name:"_directory_mount_style_disable".loc(),value:"disable"},{name:"_directory_mount_style_require".loc(),value:"require"},{name:"_directory_mount_style_ssl".loc(),value:"ssl"}],contentBinding:".owner.content",fieldContentValueKey:"ADPacketEncrypt"}),ADRestrictDDNS:Admin.UnScrollableNameListView.design({title:"_directory_string_Restrict DDNS".loc(),placeHolderString:"_directory_string_<interface name>".loc(),canEditContent:YES,isEditable:YES,contentBinding:".owner*content.ADRestrictDDNS"}),ADTrustChangePassIntervalDays:Admin.KnobSetTextFieldView.design({title:"_directory_string_Password trust interval".loc(),description:"_directory_string_How often to change computer trust account password in days".loc(),fieldWidth:50,validator:SC.Validator.PositiveInteger,fieldContentValueKey:"ADTrustChangePassIntervalDays"})})})})}),Admin.DirectoryKnobSet=Admin.KnobSet.extend({directoryType:SC.Record.attr(String,{defaultValue:"OD",key:"internal_use_flag_directoryType"}),activeDirectoryTabValue:"experience",hostname:SC.Record.attr(String,{key:"HostName"}),username
:SC.Record.attr(String,{key:"UserName"}),password:SC.Record.attr(String,{key:"Password"}),clientID:SC.Record.attr(String,{key:"ClientID"}),ADOrganizationalUnit:SC.Record.attr(String,{key:"ADOrganizationalUnit"}),ADCreateMobileAccountAtLoginFlag:SC.Record.attr(Boolean,{key:"ADCreateMobileAccountAtLoginFlag",defaultValue:YES}),ADCreateMobileAccountAtLogin:SC.Record.attr(Boolean,{key:"ADCreateMobileAccountAtLogin",defaultValue:NO}),ADWarnUserBeforeCreatingMAFlag:SC.Record.attr(Boolean,{key:"ADWarnUserBeforeCreatingMAFlag",defaultValue:YES}),ADWarnUserBeforeCreatingMA:SC.Record.attr(Boolean,{key:"ADWarnUserBeforeCreatingMA",defaultValue:NO}),ADForceHomeLocalFlag:SC.Record.attr(Boolean,{key:"ADForceHomeLocalFlag",defaultValue:YES}),ADForceHomeLocal:SC.Record.attr(Boolean,{key:"ADForceHomeLocal",defaultValue:YES}),ADUseWindowsUNCPathFlag:SC.Record.attr(Boolean,{key:"ADUseWindowsUNCPathFlag",defaultValue:YES}),ADUseWindowsUNCPath:SC.Record.attr(Boolean,{key:"ADUseWindowsUNCPath",defaultValue:YES}),ADMountStyle:SC.Record.attr(String,{key:"ADMountStyle",defaultValue:"smb"}),ADDefaultUserShellFlag:SC.Record.attr(Boolean,{key:"ADDefaultUserShellFlag",defaultValue:YES}),_ADDefaultUserShell:SC.Record.attr(String,{key:"ADDefaultUserShell",defaultValue:"/bin/bash"}),ADDefaultUserShell:function(e,t){return t!==undefined&&(t=t===""?null:t,this.set("ADDefaultUserShellFlag",t!==null),this.set("_ADDefaultUserShell",t)),this.get("_ADDefaultUserShell")||""}.property("_ADDefaultUserShell").cacheable(),ADMapUIDAttributeFlag:SC.Record.attr(Boolean,{key:"ADMapUIDAttributeFlag",defaultValue:NO}),_ADMapUIDAttribute
:SC.Record.attr(String,{key:"ADMapUIDAttribute",defaultValue:null}),ADMapUIDAttribute:function(e,t){return t!==undefined&&(t=t===""?null:t,this.set("ADMapUIDAttributeFlag",t!==null),this.set("_ADMapUIDAttribute",t)),this.get("_ADMapUIDAttribute")||""}.property("_ADMapUIDAttribute").cacheable(),ADMapGIDAttributeFlag:SC.Record.attr(Boolean,{key:"ADMapGIDAttributeFlag",defaultValue:NO}),_ADMapGIDAttribute:SC.Record.attr(String,{key:"ADMapGIDAttribute",defaultValue:null}),ADMapGIDAttribute:function(e,t){return t!==undefined&&(t=t===""?null:t,this.set("ADMapGIDAttributeFlag",t!==null),this.set("_ADMapGIDAttribute",t)),this.get("_ADMapGIDAttribute")||""}.property("_ADMapGIDAttribute").cacheable(),ADMapGGIDAttributeFlag:SC.Record.attr(Boolean,{key:"ADMapGGIDAttributeFlag",defaultValue:NO}),_ADMapGGIDAttribute:SC.Record.attr(String,{key:"ADMapGGIDAttribute",defaultValue:null}),ADMapGGIDAttribute:function(e,t){return t!==undefined&&(t=t===""?null:t,this.set("ADMapGGIDAttributeFlag",t!==null),this.set("_ADMapGGIDAttribute",t)),this.get("_ADMapGGIDAttribute")||""}.property("_ADMapGGIDAttribute").cacheable(),ADPreferredDCServerFlag:SC.Record.attr(Boolean,{key:"ADPreferredDCServerFlag",defaultValue:NO}),_ADPreferredDCServer:SC.Record.attr(String,{key:"ADPreferredDCServer",defaultValue:null}),ADPreferredDCServer:function(e,t){return t!==undefined&&(t=t===""?null:t,this.set("ADPreferredDCServerFlag",t!==null),this.set("_ADPreferredDCServer",t)),this.get("_ADPreferredDCServer")||""}.property("_ADPreferredDCServer").cacheable(),ADDomainAdminGroupListFlag:SC.Record.attr(Boolean,{key:"ADDomainAdminGroupListFlag"
,defaultValue:NO}),_ADDomainAdminGroupList:SC.Record.attr(Array,{key:"ADDomainAdminGroupList",defaultValue:null}),ADDomainAdminGroupList:function(e,t){return t!==undefined&&(t=t===""?null:t,this.set("ADDomainAdminGroupListFlag",t!==null),this.set("_ADDomainAdminGroupList",t)),this.get("_ADDomainAdminGroupList")||[]}.property("_ADDomainAdminGroupList").cacheable(),ADAllowMultiDomainAuthFlag:SC.Record.attr(Boolean,{key:"ADAllowMultiDomainAuthFlag",defaultValue:YES}),ADAllowMultiDomainAuth:SC.Record.attr(Boolean,{key:"ADAllowMultiDomainAuth",defaultValue:YES}),ADNamespaceFlag:SC.Record.attr(Boolean,{key:"ADNamespaceFlag",defaultValue:YES}),ADNamespace:SC.Record.attr(String,{key:"ADNamespace",defaultValue:"domain"}),ADPacketSignFlag:SC.Record.attr(Boolean,{key:"ADPacketSignFlag",defaultValue:YES}),ADPacketSign:SC.Record.attr(String,{key:"ADPacketSign",defaultValue:"allow"}),ADPacketEncryptFlag:SC.Record.attr(Boolean,{key:"ADPacketEncryptFlag",defaultValue:YES}),ADPacketEncrypt:SC.Record.attr(String,{key:"ADPacketEncrypt",defaultValue:"allow"}),ADRestrictDDNSFlag:SC.Record.attr(Boolean,{key:"ADRestrictDDNSFlag",defaultValue:NO}),_ADRestrictDDNS:SC.Record.attr(Array,{key:"ADRestrictDDNS",defaultValue:null}),ADRestrictDDNS:function(e,t){return t!==undefined&&(t=t===""?null:t,this.set("ADRestrictDDNSFlag",t!==null),this.set("_ADRestrictDDNS",t)),this.get("_ADRestrictDDNS")||[]}.property("_ADRestrictDDNS").cacheable(),ADTrustChangePassIntervalDaysFlag:SC.Record.attr(Boolean,{key:"ADTrustChangePassIntervalDaysFlag",defaultValue:YES}),ADTrustChangePassIntervalDays:SC.Record.attr(Number
,{key:"ADTrustChangePassIntervalDays",defaultValue:0}),validatedProperties:function(e,t){if(t!==undefined)throw SC.$error("validatedProperties is ready only for %@".fmt(this.constructor));var n={hostname:Admin.RequiredValidator.create({})};return this.get("directoryType")==="AD"&&(n.username=Admin.RequiredValidator.create({}),n.password=Admin.RequiredValidator.create({})),n}.property("directoryType").cacheable(),contentExampleView:Admin.DirectoryKnobSetView}),Admin.DirectoryKnobSet.displayName="_directory_knob_set_name".loc(),Admin.DirectoryKnobSet.largeIcon="admin-directory-knob-set-large-icon",Admin.DirectoryKnobSet.numLines="_directory_knob_set_num_lines".loc(),Admin.DirectoryKnobSet.profilePropertyName="directoryKnobSets",SC.mixin(Admin.DirectoryKnobSet,{sortOrder:15.33,platformTypes:"OSX"}),Admin.DirectoryKnobSet.systemLevel=YES,Admin.DirectoryKnobSet.userLevel=NO,Admin.DirectoryKnobSet.settingTypeDescription="_directory_knob_set_description".loc(),Admin.LdapKnobSetView=Admin.KnobSetView.extend({contentView:Admin.KnobSetContentView.design({layout:{width:Admin.KNOB_WIDTH,centerX:0,height:540},childViews:["accountDescriptionField","accountUserNameField","accountPasswordField","accountHostNameField","useSslField","searchSettingsLabel","searchSettingsDescription","searchSettings"],accountDescriptionField:Admin.KnobSetTextFieldAbsolute.design({layout:{top:5,centerX:0,width:Admin.KNOB_WIDTH,height:70},label:"_generic_string_Account Description".loc(),description:"_generic_string_The display name of the account (e.g. 'Company LDAP Account')".loc(),fieldHint:"_generic_string_optional"
.loc(),contentBinding:".owner.content",fieldContentValueKey:"accountDescription"}),accountUserNameField:Admin.KnobSetTextFieldAbsolute.design({layout:{top:75,centerX:0,width:Admin.KNOB_WIDTH,height:70},label:"_generic_string_Account Username".loc(),description:"_generic_string_The username for this LDAP Account".loc(),fieldHint:"_generic_string_optional".loc(),contentBinding:".owner.content",fieldContentValueKey:"accountUserName"}),accountPasswordField:Admin.KnobSetPasswordFieldView.design({layout:{top:145,centerX:0,width:Admin.KNOB_WIDTH,height:70},label:"_generic_string_Account Password".loc(),description:"_generic_string_The password for this LDAP Account".loc(),fieldHint:"_generic_string_optional".loc(),contentBinding:".owner.content",fieldContentValueKey:"accountPassword"}),accountHostNameField:Admin.KnobSetTextFieldAbsolute.design({layout:{top:215,centerX:0,width:Admin.KNOB_WIDTH,height:70},label:"_generic_string_Account Hostname".loc(),description:"_generic_string_The LDAP hostname or IP address".loc(),fieldHint:"_hint_required".loc(),contentBinding:".owner.content",fieldContentValueKey:"accountHostName"}),useSslField:Admin.KnobSetCheckBoxFieldViewAbsolute.design({layout:{top:285,centerX:0,width:Admin.KNOB_WIDTH,height:50},label:"_generic_string_Use SSL".loc(),description:"_generic_string_Enable Secure Socket Layer for this connection".loc(),contentBinding:".owner.content",fieldContentValueKey:"useSsl"}),searchSettingsLabel:Admin.BoldLabelViewAbsolute.design({layout:{centerX:0,width:Admin.KNOB_WIDTH,top:335,height:20},value:"_generic_string_Search Settings".loc()}),searchSettingsDescription
:Admin.DescriptionLabelViewAbsolute.design({layout:{centerX:0,width:Admin.KNOB_WIDTH,top:355,height:20},value:"_generic_string_Search settings for this LDAP server".loc()}),searchSettings:SC.View.design({layout:function(){var e=143,t=this.get("childContentLength");return t>4&&(e+=22*(t-4)),this.setIfChanged("viewHeight",e),{top:375,centerX:0,width:Admin.KNOB_WIDTH,height:e}}.property().cacheable(),layoutObserver:function(){this.invokeOnce(function(){this.notifyPropertyChange("layout")})}.observes("childContentLength"),childContentLengthBinding:".owner*content.ldapSearchSettings.length",childContentLengthBindingDefault:SC.Binding.oneWay(),viewHeightBinding:".owner*content.searchSettingsHeight",childViews:"header unScrollView addButton removeButton".w(),headerLabel1:"_generic_string_Description".loc(),headerLabel2:"_generic_string_Scope".loc(),headerLabel3:"_generic_string_Search Base".loc(),header:SC.View.design(SC.Border,{layout:{top:0,left:0,right:0,height:20},classNames:["admin-unscrollable-list-view-header"],childViews:"label1 label2 label3".w(),label1:SC.LabelView.design({layout:{centerY:2,left:5,right:Admin.KNOB_WIDTH/2,height:20},isEditable:NO,valueBinding:".owner.owner.headerLabel1"}),label2:SC.LabelView.design({layout:{centerY:2,left:Admin.KNOB_WIDTH/3+8,right:Admin.KNOB_WIDTH/3,height:20},isEditable:NO,valueBinding:".owner.owner.headerLabel2"}),label3:SC.LabelView.design({layout:{centerY:2,left:Admin.KNOB_WIDTH*2/3+0,right:0,height:20},isEditable:NO,valueBinding:".owner.owner.headerLabel3"})}),unScrollView:SC.View.design(SC.Border,{layout:function(){var e=89,t=this.
get("childContentLength");return t>4&&(e+=22*(t-4)),{top:21,left:0,right:0,height:e}}.property("childContentLength").cacheable(),childContentLengthBinding:".owner.owner*content.ldapSearchSettings.length",childViews:"contentView".w(),contentView:Admin.ListView.design({canEditContent:YES,isEnabled:YES,contentBinding:".owner.owner.owner*content.ldapSearchSettings",selectionBinding:".owner.owner.owner*content.searchSettingsContentSelection",exampleView:SC.View.extend(SC.Control,{isEnabled:YES,layout:{top:0,left:0,right:0,bottom:0},childViews:"description scope searchBase".w(),description:SC.LabelView.design({layout:{centerY:3,left:5,width:Admin.KNOB_WIDTH/3,height:22},isEditable:YES,mouseDown:function(){var e=this.getPath("owner.owner"),t=this.getPath("owner.content"),n=SC.SelectionSet.create();return n.addObject(t),e.set("selection",n),this.beginEditing()},exampleInlineTextFieldView:SC.InlineTextFieldView.extend({classNames:"nobounce22-label-view".w()}),valueBinding:".owner*content.LDAPSearchSettingDescription"}),scope:SC.SelectButtonView.design({layout:{centerY:2,left:Admin.KNOB_WIDTH/3+5,width:Admin.KNOB_WIDTH/3-10,height:22},controlSize:SC.SMALL_CONTROL_SIZE,objects:[{scope:"LDAPSearchSettingScopeBase",name:"_generic_string_Base".loc()},{scope:"LDAPSearchSettingScopeOneLevel",name:"_generic_string_One Level".loc()},{scope:"LDAPSearchSettingScopeSubtree",name:"_generic_string_Subtree".loc()}],nameKey:"name",valueKey:"scope",valueBinding:".owner*content.LDAPSearchSettingScope"}),searchBase:SC.LabelView.design({classNames:"admin-ldap-knob-set-search-base".w(),layout:{centerY:3,
left:Admin.KNOB_WIDTH*2/3,right:0,height:22},exampleInlineTextFieldView:SC.InlineTextFieldView.extend({classNames:"nobounce22-label-view".w()}),isEditable:YES,mouseDown:function(){var e=this.getPath("owner.owner"),t=this.getPath("owner.content"),n=SC.SelectionSet.create();return n.addObject(t),e.set("selection",n),this.beginEditing()},valueBinding:".owner*content.LDAPSearchSettingSearchBase"})}),rowHeight:22})}),addButton:SC.ButtonView.design({layout:{bottom:0,height:25,left:0,width:30},titleMinWidth:0,themeName:"square",controlSize:SC.TINY_CONTROL_SIZE,targetBinding:".owner.owner.content",action:"addSearchSetting",icon:"admin-knob-set-list-add-button-overlay"}),removeButton:SC.ButtonView.design({layout:{bottom:0,height:25,left:35,width:30},titleMinWidth:0,themeName:"square",controlSize:SC.TINY_CONTROL_SIZE,targetBinding:".owner.owner.content",action:"removeSearchSetting",icon:"admin-knob-set-list-remove-button-overlay"})})})}),Admin.LdapKnobSet=Admin.KnobSet.extend({accountDescription:SC.Record.attr(String,{defaultValue:"_generic_string_LDAP Account".loc(),key:"LDAPAccountDescription"}),accountUserName:SC.Record.attr(String,{key:"LDAPAccountUserName"}),accountPassword:SC.Record.attr(String,{key:"LDAPAccountPassword"}),accountHostName:SC.Record.attr(String,{key:"LDAPAccountHostName"}),useSsl:SC.Record.attr(Boolean,{key:"LDAPAccountUseSSL",defaultValue:YES}),_ldapSearchSettings:SC.Record.attr(Array,{key:"LDAPSearchSettings",defaultValue:function(){return[]}}),ldapSearchSettings:function(e,t){var n=this.get("_ldapSearchSettings")||[],r=[],i;for(i=0;i<n.length;i++){var s=SC.Object
.create(n[i]);s.addObserver("LDAPSearchSettingDescription",this,this._ldapSearchSettingsDidChange),s.addObserver("LDAPSearchSettingScope",this,this._ldapSearchSettingsDidChange),s.addObserver("LDAPSearchSettingSearchBase",this,this._ldapSearchSettingsDidChange),r.push(s)}return r}.property().cacheable(),searchSettingsContentSelection:null,addSearchSetting:function(e,t){var n=this.get("ldapSearchSettings"),r=SC.Object.create({LDAPSearchSettingDescription:"_generic_string_My Search".loc(),LDAPSearchSettingScope:"LDAPSearchSettingScopeSubtree",LDAPSearchSettingSearchBase:"_generic_string_ou=MyDepartment, o=My Company".loc()});r.addObserver("LDAPSearchSettingDescription",this,this._ldapSearchSettingsDidChange),r.addObserver("LDAPSearchSettingScope",this,this._ldapSearchSettingsDidChange),r.addObserver("LDAPSearchSettingSearchBase",this,this._ldapSearchSettingsDidChange),n.pushObject(r),this._ldapSearchSettingsDidChange()},removeSearchSetting:function(e,t){var n=this.get("ldapSearchSettings"),r=this.get("searchSettingsContentSelection");r&&(n.removeObject(r.firstObject()),this._ldapSearchSettingsDidChange())},_ldapSearchSettingsDidChange:function(){var e=[],t=this.get("ldapSearchSettings"),n,r;for(r=0;r<t.length;r++)n=t[r],e.push({LDAPSearchSettingDescription:n.LDAPSearchSettingDescription,LDAPSearchSettingScope:n.LDAPSearchSettingScope,LDAPSearchSettingSearchBase:n.LDAPSearchSettingSearchBase});this.set("_ldapSearchSettings",e)},heightObserver:function(){this.setIfChanged("knobSetHeight",400+this.get("searchSettingsHeight"))}.observes("searchSettingsHeight"),searchSettingsHeight
:143,validatedProperties:{accountHostName:Admin.RequiredValidator.create({})},contentExampleView:Admin.LdapKnobSetView}),Admin.LdapKnobSet.displayName="_ldap_knob_set_name".loc(),Admin.LdapKnobSet.largeIcon="admin-ldap-knob-set-large-icon",Admin.LdapKnobSet.numLines="_ldap_knob_set_num_lines".loc(),Admin.LdapKnobSet.profilePropertyName="ldapKnobSets",SC.mixin(Admin.LdapKnobSet,{sortOrder:5,platformTypes:"iOS OSX"}),Admin.LdapKnobSet.systemLevel=NO,Admin.LdapKnobSet.userLevel=YES,Admin.LdapKnobSet.settingTypeDescription="_ldap_knob_set_description".loc(),Admin.CalDavKnobSetView=Admin.KnobSetView.extend({contentView:Admin.KnobSetContentView.design({layout:{width:Admin.KNOB_WIDTH,centerX:0,height:420},childViews:["accountDescriptionField","hostNameField","principalUrlField","usernameField","passwordField","useSslField"],accountDescriptionField:Admin.KnobSetTextFieldAbsolute.design({layout:{top:5,centerX:0,width:Admin.KNOB_WIDTH,height:70},label:"_generic_string_Account Description".loc(),description:"_generic_string_The display name of the account".loc(),fieldHint:"_generic_string_optional".loc(),contentBinding:".owner.content",fieldContentValueKey:"accountDescription"}),hostNameField:Admin.KnobSetIpPortFieldViewAbsolute.design({layout:{top:75,centerX:0,width:Admin.KNOB_WIDTH,height:70},label:"_generic_string_Account Hostname and Port".loc(),description:"_generic_string_The CalDAV hostname or IP address and port number".loc(),fieldHint:"_hint_required".loc(),contentBinding:".owner.content",fieldIpHostContentValueKey:"hostName",fieldPortContentValueKey:"portNumber"}),principalUrlField
:Admin.KnobSetTextFieldAbsolute.design({layout:{top:145,centerX:0,width:Admin.KNOB_WIDTH,height:70},label:"_generic_string_Principal URL".loc(),description:"_generic_string_The Principal URL for the CalDAV account".loc(),fieldHint:"_generic_string_optional".loc(),contentBinding:".owner.content",fieldContentValueKey:"principalUrl"}),usernameField:Admin.KnobSetTextFieldAbsolute.design({layout:{top:215,centerX:0,width:Admin.KNOB_WIDTH,height:70},label:"_generic_string_Account Username".loc(),description:"_generic_string_The CalDAV username".loc(),fieldHint:function(){return this.get("isAutoPush")?"_hint_required".loc():"_generic_string_set on device".loc()}.property("isAutoPush").cacheable(),isAutoPushBinding:"Admin.itemSelectionController.isManaged",isEnabled:function(){return!this.get("identificationKnobSetsLength")}.property("identificationKnobSetsLength").cacheable(),identificationKnobSetsLengthBinding:".owner*content.profile.identificationKnobSets.length",contentBinding:".owner.content",fieldContentValueKey:"userName"}),passwordField:Admin.KnobSetTextFieldAbsolute.design({fieldIsPassword:YES,layout:{top:285,centerX:0,width:Admin.KNOB_WIDTH,height:70},label:"_generic_string_Account Password".loc(),description:"_generic_string_The CalDAV password".loc(),fieldHint:function(){return this.get("isAutoPush")?"_knob_set_view_optional_hint".loc():"_generic_string_set on device".loc()}.property("isAutoPush").cacheable(),isAutoPushBinding:"Admin.itemSelectionController.isManaged",isEnabled:function(){return!this.get("identificationKnobSetsLength")}.property("identificationKnobSetsLength"
).cacheable(),identificationKnobSetsLengthBinding:".owner*content.profile.identificationKnobSets.length",contentBinding:".owner.content",fieldContentValueKey:"password"}),useSslField:Admin.KnobSetCheckBoxFieldViewAbsolute.design({layout:{top:355,centerX:0,width:Admin.KNOB_WIDTH,height:70},label:"_generic_string_Use SSL".loc(),description:"_generic_string_Enable Secure Socket Layer communication with CalDAV server".loc(),contentBinding:".owner.content",fieldContentValueKey:"useSsl"})})}),Admin.CalDavKnobSet=Admin.KnobSet.extend({accountDescription:SC.Record.attr(String,{key:"CalDAVAccountDescription",defaultValue:"_generic_string_My CalDAV Account".loc()}),hostName:SC.Record.attr(String,{key:"CalDAVHostName"}),portNumber:SC.Record.attr(Number,{key:"CalDAVPort",defaultValue:8443}),principalUrl:SC.Record.attr(String,{key:"CalDAVPrincipalURL"}),realUserName:SC.Record.attr(String,{key:"CalDAVUsername"}),userName:function(e,t){t!==undefined&&!this.get("identificationKnobSetsLength")&&this.set("realUserName",t);var n=this.get("realUserName");return this.get("identificationKnobSetsLength")?"_generic_string_Set in Identification".loc():n}.property("realUserName","identificationKnobSetsLength").cacheable(),realPassword:SC.Record.attr(String,{key:"CalDAVPassword"}),password:function(e,t){t!==undefined&&!this.get("identificationKnobSetsLength")&&this.set("realPassword",t);var n=this.get("realPassword");return this.get("identificationKnobSetsLength")?"_generic_string_Set in Identification".loc():n}.property("realPassword","identificationKnobSetsLength").cacheable(),useSsl:SC.Record.attr(
Boolean,{key:"CalDAVUseSSL",defaultValue:YES}),validatedProperties:function(){var e={hostName:Admin.RequiredValidator.create({}),portNumber:Admin.NumberWithRangeValidator.create({minimumValue:0,maximumValue:65535})};return this.get("isAutoPush")&&!this.get("identificationKnobSetsLength")&&(e.userName=Admin.RequiredValidator.create({})),e}.property("isAutoPush","identificationKnobSetsLength").cacheable(),isAutoPushBinding:"Admin.itemSelectionController.isManaged",identificationKnobSetsLengthBinding:".profile.identificationKnobSets.length",contentExampleView:function(){return this.get("isFromServermgr")?Admin.CalDavKnobSetFromServermgrView:Admin.CalDavKnobSetView}.property("isFromServermgr")}),Admin.CalDavKnobSet.displayName="_cal_dav_knob_set_name".loc(),Admin.CalDavKnobSet.largeIcon="admin-caldav-knob-set-large-icon",Admin.CalDavKnobSet.numLines="_cal_dav_knob_set_num_lines".loc(),Admin.CalDavKnobSet.profilePropertyName="calDavKnobSets",SC.mixin(Admin.CalDavKnobSet,{sortOrder:7,platformTypes:"iOS OSX"}),Admin.CalDavKnobSet.systemLevel=NO,Admin.CalDavKnobSet.userLevel=YES,Admin.CalDavKnobSet.settingTypeDescription="_cal_dav_knob_set_description".loc(),Admin.CardDavKnobSetView=Admin.KnobSetView.extend({contentView:Admin.KnobSetContentView.design({layout:{width:Admin.KNOB_WIDTH,centerX:0,height:420},childViews:["accountDescriptionField","hostNameField","principalUrlField","usernameField","passwordField","useSslField"],accountDescriptionField:Admin.KnobSetTextFieldAbsolute.design({layout:{top:5,centerX:0,width:Admin.KNOB_WIDTH,height:70},label:"_generic_string_Account Description"
.loc(),description:"_generic_string_The display name of the account".loc(),contentBinding:".owner.content",fieldHint:"_generic_string_optional".loc(),fieldContentValueKey:"accountDescription"}),hostNameField:Admin.KnobSetIpPortFieldViewAbsolute.design({layout:{top:75,centerX:0,width:Admin.KNOB_WIDTH,height:70},label:"_generic_string_Account Hostname and Port".loc(),description:"_generic_string_The CardDAV hostname or IP address and port number".loc(),fieldHint:"_hint_required".loc(),contentBinding:".owner.content",fieldIpHostContentValueKey:"hostName",fieldPortContentValueKey:"portNumber"}),principalUrlField:Admin.KnobSetTextFieldAbsolute.design({layout:{top:145,centerX:0,width:Admin.KNOB_WIDTH,height:70},label:"_generic_string_Principal URL".loc(),description:"_generic_string_The Principal URL for the CardDAV account".loc(),contentBinding:".owner.content",fieldHint:"_generic_string_optional".loc(),fieldContentValueKey:"principalUrl"}),usernameField:Admin.KnobSetTextFieldAbsolute.design({layout:{top:215,centerX:0,width:Admin.KNOB_WIDTH,height:70},label:"_generic_string_Account Username".loc(),description:"_generic_string_The CardDAV username".loc(),contentBinding:".owner.content",fieldHint:function(){return this.get("isAutoPush")?"_hint_required".loc():"_generic_string_set on device".loc()}.property("isAutoPush").cacheable(),isAutoPushBinding:"Admin.itemSelectionController.isManaged",isEnabled:function(){return!this.get("identificationKnobSetsLength")}.property("identificationKnobSetsLength").cacheable(),identificationKnobSetsLengthBinding:".owner*content.profile.identificationKnobSets.length"
,fieldContentValueKey:"userName"}),passwordField:Admin.KnobSetPasswordFieldView.design({layout:{top:285,centerX:0,width:Admin.KNOB_WIDTH,height:70},label:"_generic_string_Account Password".loc(),description:"_generic_string_The CardDAV password".loc(),contentBinding:".owner.content",fieldHint:"_generic_string_optional".loc(),isEnabled:function(){return!this.get("identificationKnobSetsLength")}.property("identificationKnobSetsLength").cacheable(),identificationKnobSetsLengthBinding:".owner*content.profile.identificationKnobSets.length",fieldContentValueKey:"password"}),useSslField:Admin.KnobSetCheckBoxFieldViewAbsolute.design({layout:{top:355,centerX:0,width:Admin.KNOB_WIDTH,height:70},label:"_generic_string_Use SSL".loc(),description:"_generic_string_Enable Secure Socket Layer communication with CardDAV server".loc(),contentBinding:".owner.content",fieldHint:"_generic_string_optional".loc(),fieldContentValueKey:"useSsl"})})}),Admin.CardDavKnobSet=Admin.KnobSet.extend({accountDescription:SC.Record.attr(String,{key:"CardDAVAccountDescription",defaultValue:"_generic_string_My CardDAV Account".loc()}),hostName:SC.Record.attr(String,{key:"CardDAVHostName"}),portNumber:SC.Record.attr(Number,{key:"CardDAVPort",defaultValue:8843}),principalUrl:SC.Record.attr(String,{key:"CardDAVPrincipalURL"}),realUserName:SC.Record.attr(String,{key:"CardDAVUsername"}),userName:function(e,t){t!==undefined&&!this.get("identificationKnobSetsLength")&&this.set("realUserName",t);var n=this.get("realUserName");return this.get("identificationKnobSetsLength")?"_generic_string_Set in Identification".loc():n
}.property("realUserName","identificationKnobSetsLength").cacheable(),realPassword:SC.Record.attr(String,{key:"CardDAVPassword"}),password:function(e,t){t!==undefined&&!this.get("identificationKnobSetsLength")&&this.set("realPassword",t);var n=this.get("realPassword");return this.get("identificationKnobSetsLength")?"_generic_string_Set in Identification".loc():n}.property("realPassword","identificationKnobSetsLength").cacheable(),useSsl:SC.Record.attr(Boolean,{key:"CardDAVUseSSL",defaultValue:YES}),validatedProperties:function(){var e={hostName:Admin.RequiredValidator.create({}),portNumber:Admin.NumberWithRangeValidator.create({minimumValue:0,maximumValue:65535})};return this.get("isAutoPush")&&!this.get("identificationKnobSetsLength")&&(e.userName=Admin.RequiredValidator.create({})),e}.property("isAutoPush","identificationKnobSetsLength").cacheable(),isAutoPushBinding:"Admin.itemSelectionController.isManaged",identificationKnobSetsLengthBinding:".profile.identificationKnobSets.length",contentExampleView:function(){return this.get("isFromServermgr")?Admin.CardDavKnobSetFromServermgrView:Admin.CardDavKnobSetView}.property("isFromServermgr")}),Admin.CardDavKnobSet.displayName="_card_dav_knob_set_name".loc(),Admin.CardDavKnobSet.largeIcon="admin-carddav-knob-set-large-icon",Admin.CardDavKnobSet.numLines="_card_dav_knob_set_num_lines".loc(),Admin.CardDavKnobSet.profilePropertyName="cardDavKnobSets",SC.mixin(Admin.CardDavKnobSet,{sortOrder:6,platformTypes:"iOS OSX"}),Admin.CardDavKnobSet.systemLevel=NO,Admin.CardDavKnobSet.userLevel=YES,Admin.CardDavKnobSet.settingTypeDescription="_card_dav_knob_set_description"
.loc(),Admin.CalSubKnobSetView=Admin.KnobSetView.extend({contentView:Admin.KnobSetContentView.design({layout:{width:Admin.KNOB_WIDTH,centerX:0,height:330},childViews:["descriptionField","urlField","usernameField","passwordField","useSsl"],descriptionField:Admin.KnobSetTextFieldAbsolute.design({layout:{top:5,centerX:0,width:Admin.KNOB_WIDTH,height:70},label:"_generic_string_Description".loc(),description:"_generic_string_The description of the calendar subscription".loc(),fieldHint:"_generic_string_optional".loc(),contentBinding:".owner.content",fieldContentValueKey:"description"}),urlField:Admin.KnobSetTextFieldAbsolute.design({layout:{top:75,centerX:0,width:Admin.KNOB_WIDTH,height:70},label:"_generic_string_URL".loc(),description:"_generic_string_The URL of the calendar file".loc(),fieldHint:"_hint_required".loc(),contentBinding:".owner.content",fieldContentValueKey:"url"}),usernameField:Admin.KnobSetTextFieldAbsolute.design({layout:{top:145,centerX:0,width:Admin.KNOB_WIDTH,height:70},label:"_generic_string_Username".loc(),description:"_generic_string_The username for this subscription".loc(),fieldHint:"_generic_string_optional".loc(),contentBinding:".owner.content",fieldContentValueKey:"userName"}),passwordField:Admin.KnobSetPasswordFieldView.design({layout:{top:215,centerX:0,width:Admin.KNOB_WIDTH,height:70},label:"_generic_string_Password".loc(),description:"_generic_string_The password for this subscription".loc(),fieldHint:"_generic_string_optional".loc(),contentBinding:".owner.content",fieldContentValueKey:"password"}),useSsl:Admin.BoldCheckboxViewAbsolute.design({layout
:{centerX:0,width:Admin.KNOB_WIDTH,top:285,height:20},title:"_generic_string_Use SSL".loc(),contentBinding:".owner.content",contentValueKey:"useSsl"})})}),Admin.CalSubKnobSet=Admin.KnobSet.extend({description:SC.Record.attr(String,{key:"SubCalAccountDescription",defaultValue:"_generic_string_My Subscribed Calendar".loc()}),url:SC.Record.attr(String,{key:"SubCalAccountHostName"}),userName:SC.Record.attr(String,{key:"SubCalAccountUsername"}),password:SC.Record.attr(String,{key:"SubCalAccountPassword"}),useSsl:SC.Record.attr(Boolean,{key:"SubCalAccountUseSSL",defaultValue:YES}),validatedProperties:{url:Admin.RequiredValidator.create({})},contentExampleView:Admin.CalSubKnobSetView}),Admin.CalSubKnobSet.displayName="_subscribed_calendar_knob_set_name".loc(),Admin.CalSubKnobSet.largeIcon="admin-subscribed-calendar-knob-set-large-icon",Admin.CalSubKnobSet.numLines="_subscribed_calendar_knob_set_num_lines".loc(),Admin.CalSubKnobSet.profilePropertyName="subscribedCalendarKnobSets",SC.mixin(Admin.CalSubKnobSet,{sortOrder:11.5,platformTypes:"iOS"}),Admin.CalSubKnobSet.systemLevel=YES,Admin.CalSubKnobSet.userLevel=YES,Admin.CalSubKnobSet.settingTypeDescription="_subscribed_calendar_knob_set_description".loc(),Admin.WebClipKnobSetView=Admin.KnobSetView.extend({contentView:Admin.KnobSetContentView.design({childViews:["labelFieldView","urlFieldView","removableFieldView","iconView","precomposedIconFieldView","fullScreenFieldView"],labelFieldView:Admin.KnobSetTextFieldView.design({title:"_generic_string_Label".loc(),description:"_generic_string_The name to display for the Web Clip".loc(),fieldHint
:"_hint_required".loc(),contentBinding:".owner.content",fieldContentValueKey:"label"}),urlFieldView:Admin.KnobSetTextFieldView.design({title:"_generic_string_URL".loc(),description:"_generic_string_The URL to be displayed when opening the Web Clip".loc(),fieldHint:"_hint_required".loc(),contentBinding:".owner.content",fieldContentValueKey:"url"}),removableFieldView:Admin.KnobSetCheckBoxFieldView.design({title:"_generic_string_Removable  (iOS only)".loc(),description:"_generic_string_Enable removal of the Web Clip".loc(),contentBinding:".owner.content",fieldContentValueKey:"isRemovable"}),iconView:SC.View.design({useStaticLayout:YES,contentBinding:".owner.content",childViews:["iconLabel","iconDescription","imagesView","chooseButtonView","invalidIconView"],iconLabel:Admin.BoldLabelView.design({value:"_generic_string_Icon".loc()}),iconDescription:Admin.DescriptionLabelView.design({value:"_generic_string_The icon to use for the Web Clip".loc()}),imagesView:SC.View.design({useStaticLayout:YES,classNames:["admin-margin-top-7"],childViews:["iconImageView","shineImageView","maskImageView"],layout:{height:72},contentBinding:".owner.content",iconImageView:SC.ImageView.design({layout:{width:59,height:60,top:6},valueBinding:".owner*content.icon"}),maskImageView:SC.ImageView.design(SC.Border,{layout:{width:72,height:72,top:0},value:"admin-web-clip-icon-border"}),shineImageView:SC.ImageView.design({layout:{width:59,height:60,top:6},isVisible:function(){return!this.precomposedValue}.property("precomposedValue"),precomposedValueBinding:".owner.owner.owner.precomposedIconFieldView.fieldValue"
,value:"admin-web-clip-icon-shine"})}),chooseButtonView:SC.View.design({useStaticLayout:YES,classNames:["admin-margin-top-7"],layout:{height:25},contentBinding:".owner.content",childViews:["chooseButtonView","iconUploadView"],chooseButtonView:SC.ButtonView.design({layout:{width:85,height:25,top:0},title:"_generic_string_Choose...".loc(),controlSize:SC.SMALL_CONTROL_SIZE}),iconUploadView:Admin.UploadView.design({layout:{width:85,height:25,top:0},supportedFilenameExtensions:"png".w(),lastUploadedFileDidChange:function(){this.getPath("owner.content").set("badFile",NO),Admin.store.dataSource.addRpcs([["file","get_max_size_file_data_as_base64",this.getPath("lastUploadedFile.id")]],NO),this.get("lastUploadedFile").addObserver("fileData",this,"imageDataObtained"),this.getPath("owner.content").set("pendingFile",this.get("lastUploadedFile"))}.observes("lastUploadedFile"),imageDataObtained:function(){var e=this.get("lastUploadedFile");e.removeObserver("fileData",this,"imageDataObtained");var t=this.getPath("owner.content");e.get("fileData")===""?(console.warn("_generic_string_Image was too large, returned empty string".loc()),t.set("pendingFile",null),t.set("badFile",YES)):(t.set("badFile",NO),t.set("_icon",e.get("fileData")))}})}),invalidIconView:SC.View.design({useStaticLayout:YES,layout:{height:20},childViews:["invalidIconView","invalidLabelView"],isVisibleBinding:".owner*content.badFile",invalidIconView:SC.ImageView.design({layout:{width:20,height:20,top:0},value:"sc-icon-alert-16"}),invalidLabelView:SC.LabelView.design({layout:{left:30,width:Admin.KNOB_WIDTH,height:20,top:2},classNames
:"admin-webclip-error-label-view".w(),value:"_generic_string_The image file is invalid or too large".loc()})})}),precomposedIconFieldView:Admin.KnobSetCheckBoxFieldView.design({classNames:["admin-margin-top-7"],title:"_generic_string_Precomposed Icon  (iOS only)".loc(),description:"_generic_string_The icon will be displayed with no added visual effects".loc(),contentBinding:".owner.content",fieldContentValueKey:"precomposed"}),fullScreenFieldView:Admin.KnobSetCheckBoxFieldView.design({title:"_generic_string_Full Screen  (iOS only)".loc(),description:"_generic_string_Displays the web clip as a full screen application".loc(),contentBinding:".owner.content",fieldContentValueKey:"fullScreen"})})}),Admin.WebClipKnobSet=Admin.KnobSet.extend({url:SC.Record.attr(String,{key:"URL"}),label:SC.Record.attr(String,{key:"Label"}),_icon:SC.Record.attr(String,{key:"Icon"}),isRemovable:SC.Record.attr(Boolean,{key:"IsRemovable",defaultValue:YES}),precomposed:SC.Record.attr(Boolean,{key:"Precomposed"}),fullScreen:SC.Record.attr(Boolean,{key:"FullScreen"}),icon:function(e,t){var n=this.get("_icon"),r=null;return n&&(r="data:image/png;base64,"+this.get("_icon")),r}.property("_icon").cacheable(),badFile:NO,pendingFile:null,idDidChange:function(){this.invokeLater(this.idReallyDidChange,250)}.observes("id","status"),idReallyDidChange:function(){if(!this.get("id"))return this.invokeLater(this.idReallyDidChange,250);this.pendingFile&&(Admin.store.dataSource.addRpcs([["file","set_owner",this.pendingFile.get("id"),{owner_class:"WebClipKnobSet",owner_id:this.get("id")}]],YES),this.pendingFile=null)},validatedProperties
:{url:Admin.RequiredValidator.create({}),label:Admin.RequiredValidator.create({})},contentExampleView:Admin.WebClipKnobSetView}),Admin.WebClipKnobSet.displayName="_web_clip_knob_set_name".loc(),Admin.WebClipKnobSet.largeIcon="admin-web-clip-knob-set-large-icon",Admin.WebClipKnobSet.numLines="_web_clip_knob_set_num_lines".loc(),Admin.WebClipKnobSet.profilePropertyName="webClipKnobSets",SC.mixin(Admin.WebClipKnobSet,{sortOrder:12,platformTypes:"iOS OSX"}),Admin.WebClipKnobSet.systemLevel=NO,Admin.WebClipKnobSet.userLevel=YES,Admin.WebClipKnobSet.settingTypeDescription="_web_clip_knob_set_description".loc(),Admin.CertificateKnobSetView=Admin.KnobSetView.extend({contentView:Admin.KnobSetContentView.design({layout:{height:372,width:Admin.KNOB_WIDTH,centerX:0},childViews:["displayNameField","certificates","uploadLabel","uploadDescription","uploadPlaceholder","credentialAddButton","upload","passwordField"],displayNameField:Admin.KnobSetTextFieldAbsolute.design({layout:{top:5,centerX:0,width:Admin.KNOB_WIDTH,height:70},label:"_certificate_knob_set_view_display_name_label".loc(),description:"_certificate_knob_set_view_display_name_description".loc(),contentBinding:".owner.content",fieldContentValueKey:"displayName",fieldHint:"_hint_required".loc()}),uploadLabel:Admin.BoldLabelViewAbsolute.design({layout:{centerX:0,width:Admin.KNOB_WIDTH,top:85,height:20},value:"_certificate_knob_set_view_upload_label".loc()}),uploadDescription:Admin.DescriptionLabelViewAbsolute.design({layout:{centerX:0,width:Admin.KNOB_WIDTH,top:105,height:20},value:"_certificate_knob_set_view_upload_description".loc
()}),certificates:Admin.ListView.design(SC.Border,{isVisibleBinding:".owner*content.showCertificates",layout:{centerX:0,width:Admin.KNOB_WIDTH-2,top:125,height:115},contentBinding:SC.Binding.oneWay(".owner*content.certificates"),rowHeight:113,exampleView:Admin.CertificateInfoItemView}),uploadPlaceholder:SC.View.design(SC.Border,{layout:{centerX:0,width:Admin.KNOB_WIDTH-2,top:125,height:115},childViews:"placeholder".w(),placeholder:SC.LabelView.design({layout:{left:0,right:0,centerY:0,height:20},textAlign:SC.ALIGN_CENTER,fontWeight:SC.BOLD_WEIGHT,value:"_certificate_knob_set_view_upload_placeholder".loc()}),isVisibleBinding:".owner*content.showPlaceholder"}),credentialAddButton:SC.ButtonView.design({layout:{centerX:-Admin.KNOB_WIDTH/2+60,width:parseFloat("_layout_knob_set_view_add_certificate".loc()),top:245,height:18},themeName:"square",titleMinWidth:10,title:"_knob_set_view_add_certificate".loc(),controlSize:SC.TINY_CONTROL_SIZE,isEnabledBinding:".owner*content.showPlaceholder",target:"owner.upload"}),upload:Admin.UploadView.design({layout:{centerX:0,width:Admin.KNOB_WIDTH,top:125,height:138},supportedFilenameExtensions:"cer p12 pfx pem crt der".w(),lastUploadedFileDidChange:function(){Admin.store.dataSource.addRpcs([["file","parse_cert",this.getPath("lastUploadedFile.id")]],YES),this.getPath("owner.content").set("pendingFile",this.get("lastUploadedFile")),this.parentView.certificates.set("content",this.getPath("owner.content.certificates"))}.observes("lastUploadedFile"),isVisibleBinding:".owner*content.showPlaceholder"}),passwordField:Admin.KnobSetPasswordFieldView.design(
{layout:{centerX:0,width:Admin.KNOB_WIDTH,top:283,height:70},label:"_certificate_knob_set_view_password_label".loc(),description:"_certificate_knob_set_view_password_description".loc(),contentBinding:".owner.content",fieldContentValueKey:"password"})})}),Admin.CertificateKnobSet=Admin.KnobSet.extend({init:function(){arguments.callee.base.apply(this,arguments);var e=this.get("profile");e&&!this.get("profileObserverSet")&&(this.addObserver("firstCertIsRoot",e,e._updateNonIdentityCerts),this.addObserver("firstCertIsIdentity",e,e._updateNonIdentityCerts),this.addObserver("firstCertIsIdentity",e,e._updateIdentityCerts),this.set("profileObserverSet",YES))},profileObserver:function(){var e=this.get("profile");e&&!this.get("profileObserverSet")&&(this.get("payloadUUID")||this.set("payloadUUID",Admin.generateUUID()),this.addObserver("isRoot",e,e._updateNonIdentityCerts),this.addObserver("isIdentity",e,e._updateNonIdentityCerts),this.addObserver("isIdentity",e,e._updateIdentityCerts),this.set("profileObserverSet",YES))}.observes(".profile"),profileObserverSet:NO,displayName:SC.Record.attr(String,{key:"PayloadDisplayName"}),password:SC.Record.attr(String,{key:"Password"}),pendingFile:null,metaDataObserver:function(){var e=this.get("pendingFile");if(e&&e.get("metadata")){this.get("dataFiles").pushObject(e),this.notifyPropertyChange("isRoot"),this.notifyPropertyChange("isIdentity");if(!this.get("displayName")){var t=e.get("certDataSubjectName")||e.get("originalName")||"";this.set("displayName",t)}this.pendingFile=null}}.observes(".pendingFile.metadata"),showCertificates:function(e,t){if(
t!==undefined)throw SC.$error("read only");var n;return this.get("dataFilesLength")?n=YES:this.get("pendingFile")?n=YES:n=NO,n}.property("pendingFile","dataFilesLength"),showPlaceholder:function(e,t){if(t!==undefined)throw SC.$error("read only");return!this.get("showCertificates")}.property("showCertificates"),dataFilesLengthBinding:".dataFiles.length",dataFiles:SC.Record.toMany("Admin.File",{key:"data_files"}),certificates:function(e,t){if(t!==undefined)throw SC.$error("read only");return this.pendingFile?[this.get("pendingFile")]:(this.get("dataFiles").getEach("path"),this.get("dataFiles"))}.property("pendingFile"),certificatesLengthBinding:".certificates.length",pendingMetaDataBinding:".pendingFile.metadata",firstCertIsRootBinding:".certificates.firstObject.certDataIsRoot",firstCertIsIdentityBinding:".certificates.firstObject.certDataIsIdentity",isRoot:function(){var e=this.getPath("certificates.firstObject");return e?e.get("certDataIsRoot")?YES:NO:NO}.property("firstCertIsRoot","certificates","certificatesLength","pendingMetaData").cacheable(),isIdentity:function(){var e=this.getPath("certificates.firstObject");return e?e.get("certDataIsIdentity")?YES:NO:NO}.property("firstCertIsIdentity","certificates","certificatesLength","pendingMetaData").cacheable(),validatedProperties:{displayName:Admin.RequiredValidator.create({})},contentExampleView:Admin.CertificateKnobSetView}),Admin.CertificateKnobSet.displayName="_certificate_knob_set_name".loc(),Admin.CertificateKnobSet.largeIcon="admin-certificate-knob-set-large-icon",Admin.CertificateKnobSet.numLines="_certificate_knob_set_num_lines"
.loc(),Admin.CertificateKnobSet.profilePropertyName="certificateKnobSets",SC.mixin(Admin.CertificateKnobSet,{sortOrder:10,platformTypes:"iOS OSX"}),Admin.CertificateKnobSet.systemLevel=YES,Admin.CertificateKnobSet.userLevel=YES,Admin.CertificateKnobSet.settingTypeDescription="_certificate_knob_set_description".loc(),Admin.ScepKnobSetView=Admin.KnobSetView.extend({contentView:Admin.KnobSetContentView.design({childViews:["urlField","nameField","subjectField","subjectAlternativeNameTypeField","subjectAlternativeNameValueField","ntPrincipalField","retriesField","retryDelayField","CertificateRenewalTimeInterval","challengeField","keysizeField","useAsDigitalSignature","useForKeyEncipherment","fingerprintField"],urlField:Admin.KnobSetTextFieldView.design({title:"_admin_scep_knob_set_view_url_field_label".loc(),description:"_admin_scep_knob_set_view_url_field_description".loc(),fieldHint:"_hint_required".loc(),fieldContentValueKey:"url"}),nameField:Admin.KnobSetTextFieldView.design({title:"_admin_scep_knob_set_view_name_field_label".loc(),description:"_admin_scep_knob_set_view_name_field_description".loc(),fieldHint:"_knob_set_view_optional_hint".loc(),fieldContentValueKey:"name"}),subjectField:Admin.KnobSetTextFieldView.design({title:"_admin_scep_knob_set_view_subject_field_label".loc(),description:"_admin_scep_knob_set_view_subject_field_description".loc(),fieldHint:"_generic_string_optional Ex. O=Company Name, CN=Foo".loc(),fieldContentValueKey:"subject"}),subjectAlternativeNameTypeField:Admin.KnobSetSelectButtonFieldView.design({title:"_generic_string_Subject Alternative Name Type"
.loc(),description:"_generic_string_The type of a subject alternative name".loc(),fieldObjects:[{value:null,name:"_scep_subject_alternative_name_type_None".loc()},{value:"rfc822Name",name:"_generic_string_RFC 822 Name".loc()},{value:"dNSName",name:"_generic_string_DNS Name".loc()},{value:"uniformResourceIdentifier",name:"_generic_string_Uniform Resource Identifier".loc()}],buttonWidth:240,contentBinding:".owner.content",fieldContentValueKey:"subjectAltName"}),subjectAlternativeNameValueField:Admin.KnobSetTextFieldView.design({title:"_generic_string_Subject Alternative Name Value".loc(),description:"_generic_string_The value of a subject alternative name".loc(),isEnabled:function(){return!SC.none(this.subjectAlternativeNameTypeFieldValue)}.property("subjectAlternativeNameTypeFieldValue").cacheable(),subjectAlternativeNameTypeFieldValueBinding:".owner.subjectAlternativeNameTypeField.fieldValue",fieldContentValueKey:"subjectAltNameValue"}),ntPrincipalField:Admin.KnobSetTextFieldView.design({title:"_generic_string_NT Principal Name".loc(),description:"_generic_string_An NT principal name for use in the certificate request".loc(),isEnabled:function(){return!SC.none(this.subjectAlternativeNameTypeFieldValue)}.property("subjectAlternativeNameTypeFieldValue").cacheable(),fieldHint:"_generic_string_optional".loc(),subjectAlternativeNameTypeFieldValueBinding:".owner.subjectAlternativeNameTypeField.fieldValue",fieldContentValueKey:"ntPrincipalName"}),retriesField:Admin.KnobSetTextFieldView.design({title:"_generic_string_Retries".loc(),description:"_generic_string_The number of times to poll the SCEP server for a signed certificate before giving up"
.loc(),fieldWidth:40,applyImmediately:NO,fieldContentValueKey:"retries"}),retryDelayField:Admin.KnobSetTextFieldView.design({title:"_generic_string_Retry Delay".loc(),description:"_generic_string_The number of seconds to wait between poll attempts".loc(),fieldWidth:40,applyImmediately:NO,fieldContentValueKey:"retryDelay"}),CertificateRenewalTimeInterval:Admin.KnobSetTextFieldView.design({title:"_scep_string_Certificate Expiration Notification Threshold (OS X only)".loc(),description:"_scep_string_The number of days before the certificate expires at which to start showing the expiration notification".loc(),fieldWidth:40,applyImmediately:NO,fieldContentValueKey:"CertificateRenewalTimeInterval"}),challengeField:Admin.KnobSetTextFieldView.design({title:"_admin_scep_knob_set_view_challenge_field_label".loc(),description:"_admin_scep_knob_set_view_challenge_field_description".loc(),fieldHint:"_knob_set_view_optional_hint".loc(),fieldContentValueKey:"challenge"}),keysizeField:Admin.KnobSetLeftButtonFieldView.design({useStaticLayout:YES,label:"_admin_scep_knob_set_view_keysize_field_label".loc(),description:"_admin_scep_knob_set_view_keysize_field_description".loc(),buttonWidth:70,fieldObjects:[{value:1024,name:"1024".loc()},{value:2048,name:"2048".loc()}],contentBinding:".owner.content",fieldContentValueKey:"keysize"}),useAsDigitalSignature:Admin.BoldCheckboxViewAbsolute.design({useStaticLayout:YES,displayTitle:"_admin_scep_knob_set_view_use_as_digital_signature_display_title".loc(),contentBinding:".owner.content",contentValueKey:"useAsDigitalSignature"}),useForKeyEncipherment:Admin
.BoldCheckboxViewAbsolute.design({useStaticLayout:YES,displayTitle:"_admin_scep_knob_set_view_use_for_key_encipherment".loc(),contentBinding:".owner.content",contentValueKey:"useForKeyEncipherment"}),fingerprintField:Admin.KnobSetTextFieldView.design({title:"_admin_scep_knob_set_view_fingerprint_field_label".loc(),description:"_admin_scep_knob_set_view_fingerprint_field_description".loc(),contentBinding:".owner.content",fieldContentValueKey:"fingerprint"})})}),Admin.ScepKnobSet=Admin.KnobSet.extend({init:function(){arguments.callee.base.apply(this,arguments);var e=this.get("profile");e&&!this.get("profileObserverSet")&&(this.addObserver("firstCertIsIdentity",e,e._updateIdentityCerts),this.set("profileObserverSet",YES))},profileObserver:function(){var e=this.get("profile");e&&!this.get("profileObserverSet")&&(this.get("payloadUUID")||this.set("payloadUUID",Admin.generateUUID()),this.addObserver("firstCertIsIdentity",e,e._updateIdentityCerts),this.set("profileObserverSet",YES))}.observes(".profile"),profileObserverSet:NO,_payloadContent:SC.Record.attr(Object,{key:"PayloadContent",defaultValue:function(){return{}}}),url:SC.Record.attr(String,{key:"URL"}),name:SC.Record.attr(String,{key:"Name"}),_subject:SC.Record.attr(Array,{key:"Subject",defaultValue:function(){return[]}}),_subjectAltName:SC.Record.attr(Object,{key:"SubjectAltName",defaultValue:{}}),challenge:SC.Record.attr(String,{key:"Challenge"}),retries:SC.Record.attr(Number,{key:"Retries",defaultValue:3}),retryDelay:SC.Record.attr(Number,{key:"RetryDelay",defaultValue:10}),_CertificateRenewalTimeInterval:SC.Record.attr(Number
,{key:"CertificateRenewalTimeInterval",defaultValue:14}),CertificateRenewalTimeInterval:function(e,t){return t!==undefined&&parseInt(t,10)>=14&&this.set("_CertificateRenewalTimeInterval",t),this.get("_CertificateRenewalTimeInterval")}.property("_CertificateRenewalTimeInterval").cacheable(),keysize:SC.Record.attr(Number,{key:"Keysize"}),keyType:SC.Record.attr(String,{key:"Key_Type",defaultValue:"RSA"}),keyUsage:SC.Record.attr(Number,{key:"Key_Usage"}),_fingerprint:SC.Record.attr(String,{key:"CAFingerprint"}),fingerprint:function(e,t){if(!SC.none(t)){var n=/[^0-9a-f]/g,r=t.toLowerCase(),i=r.replace(n,"");this.set("_fingerprint",i)}return this.get("_fingerprint")}.property("_fingerprint"),certDisplayName:function(){var e=this.get("url")||"",t=this.get("name")||"";return"SCEP:  %@ - %@".fmt(e,t)}.property("url","name").cacheable(),subject:function(e,t){if(t!==undefined){var n=[],r=t.trim();if(t&&t.length>0){var i=r.split(",");i.forEach(function(e){e=e.split("="),e.forEach(function(e,t,n){n[t]=e.trim()}),n.push([e])})}this.set("_subject",n)}var s=this.get("_subject"),o="";if(s){var u=[];s.forEach(function(e){e[0]&&u.push(e[0].join("="))}),o=u.join(", ")}return o}.property("_subject").cacheable(),useAsDigitalSignature:function(e,t){if(t!==undefined){var n=this.get("keyUsage");t?this.set("keyUsage",n|Admin.ScepKnobSet.USE_AS_DIGITAL_SIGNATURE):this.set("keyUsage",n^Admin.ScepKnobSet.USE_AS_DIGITAL_SIGNATURE)}return!!(this.get("keyUsage")&Admin.ScepKnobSet.USE_AS_DIGITAL_SIGNATURE)}.property("keyUsage"),useForKeyEncipherment:function(e,t){if(t!==undefined){var n=this.get("keyUsage")
;t?this.set("keyUsage",n|Admin.ScepKnobSet.USE_FOR_KEY_ENCIPHERMENT):this.set("keyUsage",n^Admin.ScepKnobSet.USE_FOR_KEY_ENCIPHERMENT)}return!!(this.get("keyUsage")&Admin.ScepKnobSet.USE_FOR_KEY_ENCIPHERMENT)}.property("keyUsage"),subjectAltName:function(e,t){if(t!==undefined){var n=this.get("subjectAltNameValue"),r=this.get("ntPrincipalName");t==="rfc822Name"?this.set("_subjectAltName",{rfc822Name:n}):t==="dNSName"?this.set("_subjectAltName",{dNSName:n}):t==="uniformResourceIdentifier"?this.set("_subjectAltName",{uniformResourceIdentifier:n}):this.set("_subjectAltName",{});if(r){var i=this.get("_subjectAltName");i.ntPrincipalName=r,this.set("_subjectAltName",SC.clone(i))}}var s=null,o=this.get("_subjectAltName");for(var u in o)u!=="ntPrincipalName"&&o.hasOwnProperty(u)&&(s=u);return s}.property("_subjectAltName"),subjectAltNameValue:function(e,t){var n,r,i;if(t!==undefined){n=null,r=this.get("_subjectAltName");for(i in r)i!=="ntPrincipalName"&&r.hasOwnProperty(i)&&(n=i);n&&(r[n]=t,this.set("_subjectAltName",SC.clone(r)))}n=null,r=this.get("_subjectAltName");for(i in r)i!=="ntPrincipalName"&&r.hasOwnProperty(i)&&(n=i);return n?r[n]:""}.property("_subjectAltName"),ntPrincipalName:function(e,t){var n,r,i;return t!==undefined&&(r=this.get("_subjectAltName"),r.ntPrincipalName=t,this.set("_subjectAltName",SC.clone(r))),n=null,r=this.get("_subjectAltName"),r&&(n=r.ntPrincipalName),n}.property("_subjectAltName"),validatedProperties:{url:Admin.RequiredValidator.create({})},contentExampleView:Admin.ScepKnobSetView}),Admin.ScepKnobSet.USE_AS_DIGITAL_SIGNATURE=1,Admin.ScepKnobSet.USE_FOR_KEY_ENCIPHERMENT=4
,Admin.ScepKnobSet.displayName="_scep_knob_set_name".loc(),Admin.ScepKnobSet.largeIcon="admin-scep-knob-set-large-icon",Admin.ScepKnobSet.numLines="_scep_knob_set_numLines".loc(),Admin.ScepKnobSet.profilePropertyName="scepKnobSets",SC.mixin(Admin.ScepKnobSet,{sortOrder:11,platformTypes:"iOS OSX"}),Admin.ScepKnobSet.systemLevel=YES,Admin.ScepKnobSet.userLevel=YES,Admin.ScepKnobSet.settingTypeDescription="_scep_knob_set_description".loc(),Admin.ApnKnobSetView=Admin.KnobSetView.extend({showKnobSetAdd:NO,contentView:Admin.KnobSetContentView.design({layout:{width:Admin.KNOB_WIDTH,centerX:0,height:305},childViews:["apnField","accessPointUserNameField","accessPointPasswordField","proxyServerField"],apnField:Admin.KnobSetTextFieldAbsolute.design({layout:{top:5,centerX:0,width:Admin.KNOB_WIDTH,height:70},label:"_generic_string_Access Point Name (APN)".loc(),description:"_generic_string_The name of the carrier (GPRS) access point".loc(),fieldHint:"_hint_required".loc(),contentBinding:".owner.content",fieldContentValueKey:"apn"}),accessPointUserNameField:Admin.KnobSetTextFieldAbsolute.design({layout:{top:75,centerX:0,width:Admin.KNOB_WIDTH,height:70},label:"_generic_string_Access Point User Name".loc(),description:"_generic_string_The user name to connect to the access point".loc(),fieldHint:"_generic_string_optional".loc(),contentBinding:".owner.content",fieldContentValueKey:"username"}),accessPointPasswordField:Admin.KnobSetPasswordFieldView.design({layout:{top:145,centerX:0,width:Admin.KNOB_WIDTH,height:70},label:"_generic_string_Access Point Password".loc(),description:"_generic_string_The password to connect to the access point"
.loc(),fieldHint:"_generic_string_optional".loc(),contentBinding:".owner.content",fieldContentValueKey:"password"}),proxyServerField:Admin.KnobSetIpPortFieldViewAbsolute.design({layout:{top:215,centerX:0,width:Admin.KNOB_WIDTH,height:70},label:"_generic_string_Proxy Server and Port".loc(),description:"_generic_string_Hostname or IP address, and port number for the proxy server".loc(),fieldHint:"_generic_string_optional".loc(),contentBinding:".owner.content",fieldIpHostContentValueKey:"proxy",fieldPortContentValueKey:"proxyPort"})})}),Admin.ApnKnobSet=Admin.KnobSet.extend({payloadContent:SC.Record.attr(Array,{key:"PayloadContent",defaultValue:function(){return[{DefaultsData:{apns:[{}]}},{DefaultsDomainName:"com.apple.managedCarrier"}]}}),rootItem:function(e,t){var n=SC.clone(this.get("payloadContent"),YES),r=n[0].DefaultsData.apns;return t!==undefined&&(r[0]=t,this.set("payloadContent",n)),r[0]}.property().cacheable(),apn:function(e,t){return this.packUnpackProperty("rootItem","apn",t)}.property("rootItem"),password:function(e,t){return this.packUnpackProperty("rootItem","password",t)}.property("rootItem"),proxy:function(e,t){return this.packUnpackProperty("rootItem","proxy",t)}.property("rootItem"),proxyPort:function(e,t){return this.packUnpackProperty("rootItem","proxyPort",t)}.property("rootItem"),username:function(e,t){return this.packUnpackProperty("rootItem","username",t)}.property("rootItem"),validatedProperties:{apn:Admin.RequiredValidator.create({}),proxyPort:Admin.NumberWithRangeValidator.create({minimumValue:0,maximumValue:65535})},contentExampleView:Admin.ApnKnobSetView
}),Admin.ApnKnobSet.displayName="_apn_knob_set_name".loc(),Admin.ApnKnobSet.largeIcon="admin-apn-knob-set-large-icon",Admin.ApnKnobSet.numLines="_apn_knob_set_num_lines".loc(),Admin.ApnKnobSet.profilePropertyName="apnKnobSets",SC.mixin(Admin.ApnKnobSet,{sortOrder:13,platformTypes:"iOS"}),Admin.ApnKnobSet.systemLevel=YES,Admin.ApnKnobSet.userLevel=YES,Admin.ApnKnobSet.settingTypeDescription="_apn_knob_set_description".loc(),Admin.DockKnobSetView=Admin.KnobSetView.extend({showKnobSetAdd:NO,contentView:Admin.KnobSetContentView.design({childViews:["displaySettingsTitle","dockSize","dockMagnification","dockPosition","minimizeMethod","shouldMinimizeToApp","shouldAnimateOpening","shouldAutoHide","showProcessIndicators","displayApplications","displayItems","mergeCheckbox","addOtherFolders"],displaySettingsTitle:Admin.KnobSetFieldView.design({title:"_generic_string_Display Settings".loc(),description:"_generic_string_Settings for Dock behavior and appearance".loc()}),dockSize:Admin.KnobSetInlineSelectButtonFieldView.design({title:"_generic_string_Dock Size:".loc(),titleLabelWidth:parseFloat("_layout_dock_knob_set_display_settings_label_widths".loc()),buttonWidth:parseFloat("_layout_dock_knob_set_select_button_width".loc()),fieldObjects:function(){var e=[],t=18,n=10;for(var r=0;r<10;r++)e.push({name:""+(r+1),value:r*n+t});return e}.property().cacheable(),fieldContentValueKey:"size"}),dockMagnification:Admin.KnobSetInlineSelectButtonFieldView.design({title:"_generic_string_Magnification:".loc(),titleLabelWidth:parseFloat("_layout_dock_knob_set_display_settings_label_widths".loc()),buttonWidth
:parseFloat("_layout_dock_knob_set_select_button_width".loc()),fieldObjects:function(){var e=[{name:"_generic_string_None".loc(),value:0}],t=18,n=10;for(var r=0;r<10;r++)e.push({name:""+(r+1),value:r*n+t});return e}.property().cacheable(),fieldContentValueKey:"magnification"}),dockPosition:SC.View.design({layout:{height:25},useStaticLayout:YES,childViews:"label radio".w(),label:Admin.BoldLabelViewAbsolute.design({layout:{top:2,left:0,width:0+parseFloat("_layout_dock_knob_set_display_settings_label_widths".loc()),height:20},textAlign:SC.ALIGN_RIGHT,value:"_generic_string_Position:".loc()}),radio:SC.RadioView.design({layout:{top:2,left:16+parseFloat("_layout_dock_knob_set_display_settings_label_widths".loc()),width:250,height:20},items:[{title:"_generic_string_Left".loc(),value:"left"},{title:"_generic_string_Bottom".loc(),value:"bottom"},{title:"_generic_string_Right".loc(),value:"right"}],itemTitleKey:"title",itemValueKey:"value",layoutDirection:SC.LAYOUT_HORIZONTAL,contentBinding:".owner.owner.content",contentValueKey:"orientation"})}),minimizeMethod:Admin.KnobSetInlineSelectButtonFieldView.design({title:"_generic_string_Minimize using:".loc(),titleLabelWidth:parseFloat("_layout_dock_knob_set_display_settings_label_widths".loc()),buttonWidth:parseFloat("_layout_dock_knob_set_select_button_width".loc()),fieldObjects:[{name:"_generic_string_Genie Effect".loc(),value:"genie"},{name:"_generic_string_Scale Effect".loc(),value:"scale"}],fieldContentValueKey:"minimizeMethod"}),shouldMinimizeToApp:Admin.BoldCheckboxView.design({title:"_generic_string_Minimize window into application icon"
.loc(),contentValueKey:"shouldMinimizeToApp"}),shouldAnimateOpening:Admin.BoldCheckboxView.design({title:"_generic_string_Animate opening applications".loc(),contentValueKey:"shouldAnimateOpening"}),shouldAutoHide:Admin.BoldCheckboxView.design({title:"_generic_string_Automatically hide and show the Dock".loc(),contentValueKey:"shouldAutoHide"}),showProcessIndicators:Admin.BoldCheckboxView.design({title:"_generic_string_Show indicator lights for open applications".loc(),contentValueKey:"showProcessIndicators"}),displayApplications:Admin.UnScrollableListView.design({title:"_generic_string_Dock Applications".loc(),description:"_generic_string_The applications that will appear in the user's dock".loc(),addAction:"showSystemApplicationPicker",removeAction:"removeSelectedApplication",addTarget:"Admin",removeTarget:SC.outlet("owner.content"),canEditContent:NO,isEditable:NO,exampleView:SC.ListItemView.extend({contentIconKey:"smallIcon",hasContentIcon:YES,isEditing:NO}),contentBinding:".owner*content.applications",selectionBinding:".owner*content.selectedApplication"}),displayItems:Admin.UnScrollableListView.extend({title:"_generic_string_Dock Items".loc(),description:"_generic_string_The files and folders that will appear in the user's dock".loc(),canEditContent:YES,isEditable:YES,addAction:"addDockItem",removeAction:"removeDockItem",addTarget:SC.outlet("owner.content"),removeTarget:SC.outlet("owner.content"),exampleView:SC.ListItemView.extend({contentIconKey:"icon",hasContentIcon:YES}),contentBinding:".owner*content.dockItemsContent",selectionBinding:".owner*content.selectedItem"})
,mergeCheckbox:Admin.BoldCheckboxViewAbsolute.design({useStaticLayout:YES,title:"_generic_string_Merge with User's Dock".loc(),contentBinding:".owner.content",contentValueKey:"shouldMergeDock"}),addOtherFolders:SC.View.design({layout:{height:50},useStaticLayout:YES,childViews:"label app doc net".w(),label:Admin.BoldLabelViewAbsolute.design({layout:{top:0,left:0,right:0,height:20},value:"_generic_string_Add other folders:".loc()}),app:Admin.BoldCheckboxViewAbsolute.design({layout:{top:25,left:0,width:Admin.KNOB_WIDTH/3,height:20},contentBinding:".owner.owner.content",contentValueKey:"applicationsFolder",title:"_generic_string_My Applications".loc()}),doc:Admin.BoldCheckboxViewAbsolute.design({layout:{top:25,centerX:0,width:Admin.KNOB_WIDTH/3,height:20},contentBinding:".owner.owner.content",contentValueKey:"documentsFolder",title:"_generic_string_Documents".loc()}),net:Admin.BoldCheckboxViewAbsolute.design({layout:{top:25,right:0,width:Admin.KNOB_WIDTH/3,height:20},contentBinding:".owner.owner.content",contentValueKey:"networkHomeFolder",title:"_generic_string_Network Home".loc()})})})}),Admin.DockKnobSet=Admin.KnobSet.extend({shouldFakeSlider:NO,size:SC.Record.attr(Number,{key:"tilesize",defaultValue:68}),_sizeImmutable:SC.Record.attr(Boolean,{key:"size_immutable",defaultValue:YES}),shouldMagnify:SC.Record.attr(Boolean,{key:"magnification",defaultValue:NO}),_magnification:SC.Record.attr(Number,{key:"largesize",defaultValue:0}),_magnifyImmutable:SC.Record.attr(Boolean,{key:"magnify_immutable",defaultValue:YES}),_magsizeImmutable:SC.Record.attr(Boolean,{key:"magsize_immutable",
defaultValue:YES}),magnification:function(e,t){if(t!==undefined){var n=t!==0;this.set("shouldMagnify",n),this.set("_magnification",n?t:null)}return this.get("_magnification")||0}.property("_magnification","shouldMagnify").cacheable(),orientation:SC.Record.attr(String,{key:"orientation",defaultValue:"bottom"}),_positionImmutable:SC.Record.attr(Boolean,{key:"position_immutable",defaultValue:YES}),minimizeMethod:SC.Record.attr(String,{key:"mineffect",defaultValue:"genie"}),_minEffectImmutable:SC.Record.attr(Boolean,{key:"mineffect_immutable",defaultValue:YES}),shouldAnimateOpening:SC.Record.attr(Boolean,{key:"launchanim",defaultValue:YES}),_launchAnimImmutable:SC.Record.attr(Boolean,{key:"launchanim_immutable",defaultValue:YES}),shouldAutoHide:SC.Record.attr(Boolean,{key:"autohide",defaultValue:NO}),_autoHideImmutable:SC.Record.attr(Boolean,{key:"autohide",defaultValue:YES}),showProcessIndicators:SC.Record.attr(Boolean,{key:"show_process_indicators",defaultValue:NO}),_processImmutable:SC.Record.attr(Boolean,{key:"show_process_indicators_immutable",defaultValue:YES}),shouldMinimizeToApp:SC.Record.attr(Boolean,{key:"minimize_to_application",defaultValue:NO}),_appMinimizeImmutable:SC.Record.attr(Boolean,{key:"minimize_to_application_immutable",defaultValue:YES}),MCXDockSpecialFolders:SC.Record.attr(Array,{key:"MCXDockSpecialFolders",defaultValue:function(){return[]}}),applicationsFolder:function(e,t){if(t!==undefined){var n=this.get("MCXDockSpecialFolders");t?n.push("AddDockMCXMyApplicationsFolder"):n.splice(n.indexOf("AddDockMCXMyApplicationsFolder"),1),this.set("MCXDockSpecialFolders"
,SC.clone(n))}return this.get("MCXDockSpecialFolders").indexOf("AddDockMCXMyApplicationsFolder")>-1}.property("MCXDockSpecialFolders").cacheable(),documentsFolder:function(e,t){if(t!==undefined){var n=this.get("MCXDockSpecialFolders");t?n.push("AddDockMCXDocumentsFolder"):n.splice(n.indexOf("AddDockMCXDocumentsFolder"),1),this.set("MCXDockSpecialFolders",SC.clone(n))}return this.get("MCXDockSpecialFolders").indexOf("AddDockMCXDocumentsFolder")>-1}.property("MCXDockSpecialFolders").cacheable(),networkHomeFolder:function(e,t){if(t!==undefined){var n=this.get("MCXDockSpecialFolders");t?n.push("AddDockMCXOriginalNetworkHomeFolder"):n.splice(n.indexOf("AddDockMCXOriginalNetworkHomeFolder"),1),this.set("MCXDockSpecialFolders",SC.clone(n))}return this.get("MCXDockSpecialFolders").indexOf("AddDockMCXOriginalNetworkHomeFolder")>-1}.property("MCXDockSpecialFolders").cacheable(),applications:SC.Record.toMany("Admin.SystemApplication",{key:"system_applications"}),selectedApplication:null,removeSelectedApplication:function(){var e=this.get("selectedApplication");e&&e.firstObject()&&(e=e.firstObject(),this.get("applications").removeObject(e))},_dockItems:SC.Record.attr(Array,{key:"dockItems",defaultValue:[]}),dockItemsContent:function(){var e=this.get("_dockItems"),t=[],n=0,r=this;return e.forEach(function(e){var s=e.path,o=e.isDirectory,u=o?"admin-dock-icon-folder":"admin-dock-icon-document",a=SC.Object.create({index:n,name:s,isDirectory:o,icon:u});a.addObserver("name",r,r._updateDockItems),t.push(a),n++}),t}.property("_dockItems").cacheable(),_updateDockItems:function(e,t,n,r){var i=[],
s=this.get("dockItemsContent"),o,u;for(u=0;u<s.length;u++){o=s[u];var a=o.get("name"),f=a.split("/").lastObject(),l=f.indexOf(".")<0;i.push({path:a,isDirectory:l})}this.set("_dockItems",i)},addDockItem:function(){var e={path:"_generic_string_Path of item".loc(),isDirectory:YES};this.get("_dockItems").pushObject(e);var t=SC.clone(this.get("_dockItems"));this.set("_dockItems",t)},removeDockItem:function(){if(this.get("selectedItem")&&this.get("selectedItem").firstObject()){var e=this.get("selectedItem").firstObject();this.get("_dockItems").splice(e.get("index"),1);var t=SC.clone(this.get("_dockItems"));this.set("_dockItems",t)}},_immutableDock:SC.Record.attr(Boolean,{key:"contents_immutable",defaultValue:NO}),_staticOnly:SC.Record.attr(Boolean,{key:"static_only",defaultValue:NO}),shouldMergeDock:function(e,t){return t!==undefined&&(this.set("_staticOnly",!t),this.set("_immutableDock",!t)),!this.get("_staticOnly")}.property("_staticOnly").cacheable(),contentExampleView:Admin.DockKnobSetView}),Admin.DockKnobSet.displayName="_dock_knob_set_name".loc(),Admin.DockKnobSet.largeIcon="admin-dock-knob-set-large-icon",Admin.DockKnobSet.numLines="_dock_knob_set_num_lines".loc(),Admin.DockKnobSet.profilePropertyName="dockKnobSets",SC.mixin(Admin.DockKnobSet,{sortOrder:18,platformTypes:"OSX"}),Admin.DockKnobSet.systemLevel=YES,Admin.DockKnobSet.userLevel=YES,Admin.DockKnobSet.settingTypeDescription="_dock_knob_set_description".loc(),Admin.LoginWindowKnobSetView=Admin.KnobSetView.extend({showKnobSetAdd:NO,contentView:Admin.KnobSetContentView.design({layout:{width:Admin.KNOB_WIDTH+40,centerX
:0},childViews:["mainSegmentedView","windowContainer","loginScreen","scripts","accessContainer"],mainSegmentedView:SC.SegmentedView.design({layout:{centerX:0,width:Admin.KNOB_WIDTH-40,top:5,height:SC.REGULAR_BUTTON_HEIGHT},itemTitleKey:"title",itemValueKey:"value",items:[{title:"_generic_string_Window".loc(),value:"window"},{title:"_generic_string_Options".loc(),value:"options"},{title:"_generic_string_Access".loc(),value:"access"},{title:"_generic_string_Scripts".loc(),value:"scripts"}],contentBinding:".owner.content",contentValueKey:"tabValue"}),windowContainer:SC.View.design({layout:{top:65,centerX:0,width:Admin.KNOB_WIDTH+60,height:375},contentBinding:".owner.content",isVisible:function(){return this.get("tabValue")=="window"}.property("tabValue").cacheable(),tabValueBinding:".owner*content.tabValue",tabValueBindingDefault:SC.Binding.oneWay(),childViews:["heading","banner","loginPrompt"],heading:Admin.KnobSetCheckBoxFieldViewAbsolute.design({layout:{top:0,centerX:0,width:Admin.KNOB_WIDTH+60,height:40},label:"_generic_string_Show additional information in the menu bar".loc(),description:"_generic_string_Show the host name, OS X version and IP address when the menu bar is clicked.".loc(),contentBinding:".owner.content",fieldContentValueKey:"heading"}),banner:SC.View.design({layout:{top:45,centerX:0,width:Admin.KNOB_WIDTH+20,height:80},childViews:"bannerLabel bannerDescription bannerBox".w(),bannerLabel:Admin.BoldLabelViewAbsolute.design({layout:{top:0,centerX:0,width:Admin.KNOB_WIDTH,height:20},value:"_generic_string_Banner".loc()}),bannerDescription:Admin.DescriptionLabelViewAbsolute
.design({layout:{top:20,centerX:0,width:Admin.KNOB_WIDTH,height:20},value:"_generic_string_A message displayed above the login prompt.".loc()}),bannerBox:SC.TextFieldView.design({layout:{top:40,centerX:0,width:Admin.KNOB_WIDTH,height:40},isTextArea:YES,contentBinding:".owner.owner.content",contentValueKey:"message"})}),loginPrompt:SC.View.design({layout:{top:135,centerX:0,width:Admin.KNOB_WIDTH,height:205},childViews:["loginPromptLabel","loginPromptDescription","showUsersRadioBox","showLocalUsersBox","showMobileAccountsBox","showNetworkUsersBox","showAdministratorsBox","showOtherBox","showShutDown"],loginPromptLabel:Admin.BoldLabelViewAbsolute.design({layout:{top:0,centerX:0,width:Admin.KNOB_WIDTH,height:20},value:"_generic_string_Login Prompt".loc()}),loginPromptDescription:Admin.DescriptionLabelViewAbsolute.design({layout:{top:20,centerX:0,width:Admin.KNOB_WIDTH,height:20},value:"_generic_string_The display style and related options of the login prompt.".loc()}),showUsersRadioBox:SC.RadioView.design({layout:{top:40,centerX:0,width:Admin.KNOB_WIDTH,height:40},items:[{title:"_generic_string_Name and password text fields".loc(),value:YES},{title:"_generic_string_List of users able to use these computers".loc(),value:NO}],itemTitleKey:"title",itemValueKey:"value",layoutDirection:SC.LAYOUT_VERTICAL,contentBinding:".owner.owner.content",contentValueKey:"style"}),showLocalUsersBox:Admin.BoldCheckboxViewAbsolute.design({layout:{top:80,left:15,width:Admin.KNOB_WIDTH,height:20},title:"_generic_string_Show local users".loc(),isEnabledBinding:SC.Binding.not(".owner.showUsersRadioBox.value"
),contentBinding:".owner.owner.content",contentValueKey:"showLocal"}),showMobileAccountsBox:Admin.BoldCheckboxViewAbsolute.design({layout:{top:100,left:15,width:Admin.KNOB_WIDTH,height:20},title:"_generic_string_Show mobile accounts".loc(),isEnabledBinding:SC.Binding.not(".owner.showUsersRadioBox.value"),contentBinding:".owner.owner.content",contentValueKey:"showMobile"}),showNetworkUsersBox:Admin.BoldCheckboxViewAbsolute.design({layout:{top:120,left:15,width:Admin.KNOB_WIDTH,height:20},title:"_generic_string_Show network users".loc(),isEnabledBinding:SC.Binding.not(".owner.showUsersRadioBox.value"),contentBinding:".owner.owner.content",contentValueKey:"showNetwork"}),showAdministratorsBox:Admin.BoldCheckboxViewAbsolute.design({layout:{top:140,left:15,width:Admin.KNOB_WIDTH,height:20},title:"_generic_string_Show computer's administrators".loc(),isEnabledBinding:SC.Binding.not(".owner.showUsersRadioBox.value"),contentBinding:".owner.owner.content",contentValueKey:"showAdministrators"}),showOtherBox:Admin.BoldCheckboxViewAbsolute.design({layout:{top:160,left:15,width:Admin.KNOB_WIDTH,height:20},title:'_generic_string_Show "Other…"'.loc(),isEnabledBinding:SC.Binding.not(".owner.showUsersRadioBox.value"),contentBinding:".owner.owner.content",contentValueKey:"showOther"}),showShutDown:Admin.BoldCheckboxViewAbsolute.design({layout:{top:185,centerX:0,width:Admin.KNOB_WIDTH,height:20},title:"_generic_string_Show the Sleep, Restart and Shut Down buttons".loc(),contentBinding:".owner.owner.content",contentValueKey:"showShutdown"})})}),loginScreen:SC.View.design({isVisible:function(){return this
.get("tabValue")=="options"}.property("tabValue").cacheable(),tabValueBinding:".owner*content.tabValue",tabValueBindingDefault:SC.Binding.oneWay(),layout:{top:65,centerX:0,width:Admin.KNOB_WIDTH+40,height:360},childViews:"showPasswordHintBox disableAutoLoginBox enableConsoleLoginBox enableFastUserSwitchingBox logoutAfterView adminsCanEditManagementBox setComputerNameToRecordNameBox enableExternalAccountsBox allowGuestUserAccountBox restrictScreenSaverStartTime useModuleAtPathBox useModuleAtPathField".w(),showPasswordHintBox:Admin.BoldCheckboxViewAbsolute.design({layout:{top:0,left:15,right:20,height:20},title:"_generic_string_Show password hint when needed and available".loc(),contentBinding:".owner.owner.content",contentValueKey:"showPasswordHint"}),disableAutoLoginBox:Admin.BoldCheckboxViewAbsolute.design({layout:{top:25,left:15,right:20,height:20},title:"_generic_string_Disable automatic login".loc(),contentBinding:".owner.owner.content",contentValueKey:"enableAutomaticLogin"}),enableConsoleLoginBox:Admin.BoldCheckboxViewAbsolute.design({layout:{top:50,left:15,right:20,height:20},title:"_generic_string_Enable >console login".loc(),contentBinding:".owner.owner.content",contentValueKey:"enableConsoleLogin"}),enableFastUserSwitchingBox:Admin.BoldCheckboxViewAbsolute.design({layout:{top:75,left:15,right:20,height:20},title:"_generic_string_Enable Fast User Switching".loc(),contentBinding:".owner.owner.content",contentValueKey:"enableFastUserSwitching"}),logoutAfterView:SC.View.design({layout:{top:100,left:15,right:20,height:20},childViews:"logoutAfterBox logoutAfterTextField logoutAfterLabel"
.w(),logoutAfterBox:Admin.BoldCheckboxViewAbsolute.design({layout:{top:0,left:0,right:20,height:20},title:"_generic_string_Log out users after:".loc(),contentBinding:".owner.owner.owner.content",contentValueKey:"logOutUsers"}),logoutAfterTextField:SC.TextFieldView.design({layout:{top:0,left:30+parseFloat("_log_out_users_after_text_width".loc()),width:30,height:20},isEnabledBinding:SC.Binding.oneWay(".content.logOutUsers"),contentBinding:".owner.owner.owner.content",validator:SC.Validator.Number,contentValueKey:"logOutMinutes"}),logoutAfterLabel:Admin.BoldLabelViewAbsolute.design({layout:{top:1,left:70+parseFloat("_log_out_users_after_text_width".loc()),width:Admin.KNOB_WIDTH-200,height:20},value:"_generic_string_minutes of inactivity".loc()})}),adminsCanEditManagementBox:Admin.BoldCheckboxViewAbsolute.design({layout:{top:125,left:15,right:20,height:20},title:"_generic_string_Computer administrators may refresh or disable management".loc(),contentBinding:".owner.owner.content",contentValueKey:"adminsCanDisable"}),setComputerNameToRecordNameBox:Admin.BoldCheckboxViewAbsolute.design({layout:{top:150,left:15,right:20,height:20},title:"_generic_string_Set computer name to computer record name".loc(),contentBinding:".owner.owner.content",contentValueKey:"useComputerRecordName"}),enableExternalAccountsBox:Admin.BoldCheckboxViewAbsolute.design({layout:{top:175,left:15,right:20,height:20},title:"_generic_string_Enable external accounts".loc(),contentBinding:".owner.owner.content",contentValueKey:"enableExternal"}),allowGuestUserAccountBox:Admin.BoldCheckboxViewAbsolute.design({layout
:{top:200,left:15,right:20,height:20},title:"_generic_string_Allow Guest User".loc(),contentBinding:".owner.owner.content",contentValueKey:"enableGuest"}),restrictScreenSaverStartTime:SC.View.design({layout:{top:223,left:15,width:Admin.KNOB_WIDTH,height:24},childViews:"startTimeCheckbox startTimeSelectView".w(),startTimeCheckbox:Admin.BoldCheckboxViewAbsolute.design({layout:{top:2,left:0,width:Admin.KNOB_WIDTH,height:20},title:"_generic_string_Start screen saver after:".loc(),contentBinding:".owner.owner.owner.content",contentValueKey:"enableScreenSaverTimeout"}),startTimeSelectView:SC.SelectView.design({layout:{top:0,left:parseFloat("_start_screen_saver_after_text_width".loc()),width:parseFloat("_screen_saver_idle_time_popup_width".loc()),height:24},itemTitleKey:"name",itemValueKey:"value",items:[{value:0,name:"_screen_saver_Never".loc()},{value:60,name:"_screen_saver_1 Minute".loc()},{value:120,name:"_screen_saver_2 Minutes".loc()},{value:300,name:"_screen_saver_5 Minutes".loc()},{value:600,name:"_screen_saver_10 Minutes".loc()},{value:1200,name:"_screen_saver_20 Minutes".loc()},{value:1800,name:"_screen_saver_30 Minutes".loc()},{value:3600,name:"_screen_saver_1 Hour".loc()}],isEnabledBinding:".owner.startTimeCheckbox.value",contentBinding:".owner.owner.owner.content",contentValueKey:"startScreenSaverAfter"})}),useModuleAtPathBox:Admin.BoldCheckboxViewAbsolute.design({layout:{top:250,left:15,right:20,height:20},title:"_generic_string_Use screen saver module at path:".loc(),contentBinding:".owner.owner.content",contentValueKey:"enableScreensaverModulePath"}),useModuleAtPathField
:SC.TextFieldView.design({layout:{top:272,left:42,right:20,height:20},isEnabledBinding:".owner.useModuleAtPathBox.value",contentBinding:".owner.owner.content",contentValueKey:"screenSaverModulePath"})}),scripts:SC.View.design({layout:{top:60,centerX:0,width:Admin.KNOB_WIDTH+20,height:400},isVisible:function(){return this.get("tabValue")=="scripts"}.property("tabValue").cacheable(),tabValueBinding:".owner*content.tabValue",tabValueBindingDefault:SC.Binding.oneWay(),childViews:"login logout loginScriptPath uploadLogin executeLoginHook logoutScriptPath uploadLogout executeLogoutHook loginScriptUpload logoutScriptUpload explanatoryText explanatorySubText1 explanatorySubText2".w(),login:Admin.BoldLabelViewAbsolute.design({layout:{top:5,left:10,width:parseFloat("_layout_login_script_and_logout_script_label_width".loc()),height:20},value:"_generic_string_Login Script:".loc()}),loginScriptPath:SC.TextFieldView.design({layout:{top:3,left:10+parseFloat("_layout_login_script_and_logout_script_label_width".loc()),right:20+parseFloat("_layout_scripts_upload_button_width".loc()),height:20},isEnabled:function(){return this.get("value")}.property("value").cacheable(),isEditing:NO,hint:"_generic_string_No file uploaded".loc(),spellCheckEnabled:NO,isContenxtMenuEnabled:NO,contentBinding:".owner.owner.content",contentValueKey:"loginscriptsFilename"}),uploadLogin:SC.ButtonView.design({layout:{top:3,width:parseFloat("_layout_scripts_upload_button_width".loc()),right:10,height:26},title:function(){return this.get("fileName")?"_generic_string_Remove".loc():"_generic_string_Upload...".loc()}.property
("fileName").cacheable(),fileNameBinding:".owner.owner*content.loginscriptsFilename",targetBinding:".owner.loginScriptUpload",action:"removeUploadData",controlSize:SC.TINY_CONTROL_SIZE}),loginScriptUpload:Admin.UploadView.design({layout:{top:3,left:10+parseFloat("_layout_login_script_and_logout_script_label_width".loc()),right:10,height:20},fileNameObserver:function(){this.get("fileName")?this.adjust("right",20+parseFloat("_layout_scripts_upload_button_width".loc())):this.adjust("right",10)}.observes("fileName"),fileNameBinding:".owner.owner*content.loginscriptsFilename",supportedFilenameExtensions:"sh rb py command bash pl".w(),lastUploadedFileDidChange:function(){Admin.store.dataSource.addRpcs([["file","get_max_size_file_data_as_base64",this.getPath("lastUploadedFile.id")]],NO),this.get("lastUploadedFile").addObserver("fileData",this,"fileDataObtained"),this.getPath("owner.owner.content").set("pendingFile",this.get("lastUploadedFile"))}.observes("lastUploadedFile"),fileDataObtained:function(){var e=this.get("lastUploadedFile");e.removeObserver("fileData",this,"fileDataObtained");var t=this.getPath("owner.owner.content");t.set("loginscriptsFilename",e.get("originalName")),t.set("loginscriptsFiledata",e.get("fileData"))},removeUploadData:function(){var e=this.getPath("owner.owner.content");e.set("loginscriptsFilename",""),e.set("loginscriptsFiledata","")}}),executeLoginHook:Admin.BoldCheckboxViewAbsolute.design({layout:{top:30,left:5,right:10,height:20},title:"_generic_string_Also execute the client computer's LoginHook script".loc(),contentBinding:".owner.owner.content",contentValueKey
:"executeLoginHook"}),logout:Admin.BoldLabelViewAbsolute.design({layout:{top:80,left:10,width:parseFloat("_layout_login_script_and_logout_script_label_width".loc()),height:20},value:"_generic_string_Logout Script:".loc()}),logoutScriptPath:SC.TextFieldView.design({layout:{top:78,left:10+parseFloat("_layout_login_script_and_logout_script_label_width".loc()),right:20+parseFloat("_layout_scripts_upload_button_width".loc()),height:20},isEnabled:function(){return this.get("value")}.property("value").cacheable(),isEditing:NO,hint:"_generic_string_No file uploaded".loc(),spellCheckEnabled:NO,isContenxtMenuEnabled:NO,contentBinding:".owner.owner.content",contentValueKey:"logoutscriptsFilename"}),uploadLogout:SC.ButtonView.design({layout:{top:78,width:parseFloat("_layout_scripts_upload_button_width".loc()),right:10,height:26},title:function(){return this.get("fileName")?"_generic_string_Remove".loc():"_generic_string_Upload...".loc()}.property("fileName").cacheable(),fileNameBinding:".owner.owner*content.logoutscriptsFilename",targetBinding:".owner.logoutScriptUpload",action:"removeUploadData",controlSize:SC.TINY_CONTROL_SIZE}),logoutScriptUpload:Admin.UploadView.design({layout:{top:78,left:10+parseFloat("_layout_login_script_and_logout_script_label_width".loc()),right:10,height:20},fileNameObserver:function(){this.get("fileName")?this.adjust("right",20+parseFloat("_layout_scripts_upload_button_width".loc())):this.adjust("right",10)}.observes("fileName"),fileNameBinding:".owner.owner*content.logoutscriptsFilename",supportedFilenameExtensions:"sh rb py command bash pl".w(),lastUploadedFileDidChange
:function(){Admin.store.dataSource.addRpcs([["file","get_max_size_file_data_as_base64",this.getPath("lastUploadedFile.id")]],NO),this.get("lastUploadedFile").addObserver("fileData",this,"fileDataObtained"),this.getPath("owner.owner.content").set("pendingFile",this.get("lastUploadedFile"))}.observes("lastUploadedFile"),fileDataObtained:function(){var e=this.get("lastUploadedFile");e.removeObserver("fileData",this,"fileDataObtained");var t=this.getPath("owner.owner.content");t.set("logoutscriptsFilename",e.get("originalName")),t.set("logoutscriptsFiledata",e.get("fileData"))},removeUploadData:function(){var e=this.getPath("owner.owner.content");e.set("logoutscriptsFilename",""),e.set("logoutscriptsFiledata","")}}),executeLogoutHook:Admin.BoldCheckboxViewAbsolute.design({layout:{top:105,left:5,right:10,height:20},title:"_generic_string_Also execute the client computer's LogoutHook script".loc(),contentBinding:".owner.owner.content",contentValueKey:"executeLogoutHook"}),explanatoryText:SC.LabelView.design({layout:{top:145,left:5,right:10,height:60},controlSize:SC.TINY_CONTROL_SIZE,value:"_generic_string_The above settings require specific properties in the file ~root/Library/Preferences/com.apple.loginwindow.plist, located on the client computer:".loc()}),explanatorySubText1:SC.LabelView.design({layout:{top:190,left:25,right:10,height:20},controlSize:SC.TINY_CONTROL_SIZE,value:"_generic_string_• Set EnableMCXLoginScripts to TRUE.".loc()}),explanatorySubText2:SC.LabelView.design({layout:{top:205,left:25,right:10,height:40},controlSize:SC.TINY_CONTROL_SIZE,value:"_generic_string_• Set MCXScriptTrust to match the binding settings used to connect the client computer to the directory domain."
.loc()})}),accessContainer:SC.View.design({contentBinding:".owner.content",layout:{top:50,width:Admin.KNOB_WIDTH,centerX:0},useStaticLayout:YES,childViews:["allowUsers","denyUsers","loginAccessSettings"],isVisible:function(){return this.get("tabValue")=="access"}.property("tabValue").cacheable(),tabValueBinding:SC.Binding.oneWay(".owner*content.tabValue"),allowUsers:Admin.UnScrollableListView.design({title:"_generic_string_Allow".loc(),description:"_generic_string_The users and groups that can login at this computer".loc(),addAction:"showAllowUserLoginWindowPicker",removeAction:"removeSelectedAllow",addTarget:"Admin",removeTarget:SC.outlet("owner.content"),canEditContent:NO,isEditable:NO,exampleView:SC.ListItemView.extend({classNames:"admin-login-window-user-example-view".w(),contentIconKey:"smallIcon",contentValueKey:"fullName",hasContentIcon:YES,isEditing:NO}),buttonView:SC.View.design({layout:{height:35},useStaticLayout:YES,childViews:["addButton","removeButton"],addButton:SC.PopupButtonView.design({layout:{bottom:5,height:25,left:0,width:30},titleMinWidth:0,themeName:"square",controlSize:SC.TINY_CONTROL_SIZE,menu:SC.MenuPane.create({target:"Admin",items:[{title:"_generic_string_Add Users".loc(),isEnabled:YES,target:"Admin",action:"showAllowUserLoginWindowPicker"},{title:"_generic_string_Add User Groups".loc(),isEnabled:YES,target:"Admin",action:"showAllowUserGroupLoginWindowPicker"}],layout:{width:160}}),icon:"admin-knob-set-list-add-button-overlay"}),removeButton:SC.ButtonView.design({layout:{bottom:5,height:25,left:35,width:30},titleMinWidth:0,themeName:"square",controlSize
:SC.TINY_CONTROL_SIZE,isEnabledBinding:".owner.isEnabled",target:SC.outlet("owner.owner.removeTarget"),action:SC.outlet("owner.owner.removeAction"),icon:"admin-knob-set-list-remove-button-overlay"})}),contentBinding:".owner*content.allowUsersAndUserGroups",selectionBinding:".owner*content.selectedAllow"}),denyUsers:Admin.UnScrollableListView.design({title:"_generic_string_Deny".loc(),description:"_generic_string_The users and groups that cannot login at this computer".loc(),removeAction:"removeSelectedDeny",addTarget:"Admin",removeTarget:SC.outlet("owner.content"),canEditContent:NO,isEditable:NO,exampleView:SC.ListItemView.extend({classNames:"admin-login-window-user-example-view".w(),contentIconKey:"smallIcon",contentValueKey:"fullName",hasContentIcon:YES,isEditing:NO}),buttonView:SC.View.design({layout:{height:35},useStaticLayout:YES,childViews:["addButton","removeButton"],addButton:SC.PopupButtonView.design({layout:{bottom:5,height:25,left:0,width:30},titleMinWidth:0,themeName:"square",controlSize:SC.TINY_CONTROL_SIZE,menu:SC.MenuPane.create({target:"Admin",items:[{title:"_generic_string_Add Users".loc(),isEnabled:YES,target:"Admin",action:"showDenyUserLoginWindowPicker"},{title:"_generic_string_Add User Groups".loc(),isEnabled:YES,target:"Admin",action:"showDenyUserGroupLoginWindowPicker"}],layout:{width:160}}),icon:"admin-knob-set-list-add-button-overlay"}),removeButton:SC.ButtonView.design({layout:{bottom:5,height:25,left:35,width:30},titleMinWidth:0,themeName:"square",controlSize:SC.TINY_CONTROL_SIZE,isEnabledBinding:".owner.isEnabled",target:SC.outlet("owner.owner.removeTarget"
),action:SC.outlet("owner.owner.removeAction"),icon:"admin-knob-set-list-remove-button-overlay"})}),contentBinding:".owner*content.denyUsersAndUserGroups",contentLengthBinding:".owner*content.denyUsersAndUserGroups.length",selectionBinding:".owner*content.selectedDeny"}),loginAccessSettings:SC.View.design({useStaticLayout:YES,childViews:["localUserLoginEnabled","localUsersHaveWorkgroups","flattenUserWorkgroups","combineUserWorkgroups","alwaysShowWorkgroupDialog"],localUserLoginEnabled:Admin.BoldCheckboxViewAbsolute.design({title:"_generic_string_Local-only users may log in".loc(),useStaticLayout:YES,contentBinding:".owner.owner.content",contentValueKey:"localUserLoginEnabled"}),localUsersHaveWorkgroups:Admin.BoldCheckboxViewAbsolute.design({title:"_generic_string_Local-only users use available workgroup settings".loc(),useStaticLayout:YES,contentBinding:".owner.owner.content",contentValueKey:"localUsersHaveWorkgroups"}),flattenUserWorkgroups:Admin.BoldCheckboxViewAbsolute.design({title:"_generic_string_Ignore workgroup nesting".loc(),useStaticLayout:YES,contentBinding:".owner.owner.content",contentValueKey:"flattenUserWorkgroups"}),combineUserWorkgroups:Admin.BoldCheckboxViewAbsolute.design({title:"_generic_string_Combine available workgroup settings".loc(),useStaticLayout:YES,contentBinding:".owner.owner.content",contentValueKey:"combineUserWorkgroups"}),alwaysShowWorkgroupDialog:Admin.BoldCheckboxViewAbsolute.design({title:"_generic_string_Always show workgroup dialog during login".loc(),useStaticLayout:YES,contentBinding:".owner.owner.content",contentValueKey:"alwaysShowWorkgroupDialog"
})})})})}),Admin.LoginWindowKnobSet=Admin.KnobSet.extend({tabValue:"window",_heading:SC.Record.attr(String,{key:"AdminHostInfo"}),message:SC.Record.attr(String,{key:"LoginwindowText"}),_style:SC.Record.attr(Boolean,{key:"SHOWFULLNAME",defaultValue:NO}),_hideLocal:SC.Record.attr(Boolean,{key:"HideLocalUsers",defaultValue:NO}),_hideMobile:SC.Record.attr(Boolean,{key:"HideMobileAccounts",defaultValue:NO}),showNetwork:SC.Record.attr(Boolean,{key:"IncludeNetworkUser",defaultValue:NO}),_hideAdministrators:SC.Record.attr(Boolean,{key:"HideAdminUsers",defaultValue:NO}),showOther:SC.Record.attr(Boolean,{key:"SHOWOTHERUSERS_MANAGED",defaultValue:YES}),_hideShutdown:SC.Record.attr(Boolean,{key:"ShutDownDisabled",defaultValue:YES}),_retriesUntilHint:SC.Record.attr(Number,{key:"RetriesUntilHint",defaultValue:3}),_disableAutoLogin:SC.Record.attr(Boolean,{key:"DisableAutoLoginClient",defaultValue:NO}),_disableConsoleLogin:SC.Record.attr(Boolean,{key:"DisableConsoleAccess",defaultValue:NO}),alwaysShowWorkgroupDialog:SC.Record.attr(Boolean,{key:"AlwaysShowWorkgroupDialog",defaultValue:NO}),combineUserWorkgroups:SC.Record.attr(Boolean,{key:"CombineUserWorkgroups",defaultValue:YES}),flattenUserWorkgroups:SC.Record.attr(Boolean,{key:"FlattenUserWorkgroups",defaultValue:NO}),localUserLoginEnabled:SC.Record.attr(Boolean,{key:"LocalUserLoginEnabled",defaultValue:YES}),localUsersHaveWorkgroups:SC.Record.attr(Boolean,{key:"LocalUsersHaveWorkgroups",defaultValue:NO}),loginAllowUser:SC.Record.toMany("Admin.User",{isMaster:YES,key:"AllowUsers"}),loginDenyUser:SC.Record.toMany("Admin.User",{isMaster:YES
,key:"DenyUsers"}),loginAllowUserGroup:SC.Record.toMany("Admin.UserGroup",{isMaster:YES,key:"AllowUserGroups"}),loginDenyUserGroup:SC.Record.toMany("Admin.UserGroup",{isMaster:YES,key:"DenyUserGroups"}),enableFastUserSwitching:SC.Record.attr(Boolean,{key:"MultipleSessionEnabled",defaultValue:NO}),_logoutSeconds:SC.Record.attr(Number,{key:"AutoLogOutDelay",defaultValue:1800}),adminsCanDisable:SC.Record.attr(Boolean,{key:"AdminMayDisableMCX",defaultValue:NO}),useComputerRecordName:SC.Record.attr(Boolean,{key:"UseComputerNameForComputerRecordName",defaultValue:NO}),enableExternal:SC.Record.attr(Boolean,{key:"EnableExternalAccounts",defaultValue:YES}),_disableGuest:SC.Record.attr(Boolean,{key:"DisableGuestAccount",defaultValue:NO}),_screenSaverSeconds:SC.Record.attr(Number,{key:"idleTime",defaultValue:null}),_loginScreenSaverSeconds:SC.Record.attr(Number,{key:"loginWindowIdleTime",defaultValue:null}),_loginWindowScreenSaverModulePath:SC.Record.attr(String,{key:"loginWindowModulePath",defaultValue:null}),_screenSaverModuleName:SC.Record.attr(String,{key:"moduleName",defaultValue:null}),loginscriptsFiledata:SC.Record.attr(String,{key:"loginscripts_filedata"}),loginscriptsFilename:SC.Record.attr(String,{key:"loginscripts_filename"}),logoutscriptsFiledata:SC.Record.attr(String,{key:"logoutscripts_filedata"}),logoutscriptsFilename:SC.Record.attr(String,{key:"logoutscripts_filename"}),_skipLoginHook:SC.Record.attr(Boolean,{key:"skipLoginHook",defaultValue:NO}),_skipLogoutHook:SC.Record.attr(Boolean,{key:"skipLogoutHook",defaultValue:NO}),heading:function(e,t){return t!==undefined&&this
.set("_heading",t?"HostName":null),this.get("_heading")===undefined&&this.set("_heading","HostName"),this.get("_heading")==="HostName"}.property("_heading").cacheable(),style:function(e,t){return t!==undefined&&(t===YES?(this.set("showLocal",NO),this.set("showMobile",NO),this.set("showNetwork",NO),this.set("showAdministrators",NO),this.set("showOther",NO)):(this.set("showLocal",!this._hideLocal.getDefaultValue()),this.set("showMobile",!this._hideMobile.getDefaultValue()),this.set("showNetwork",this.showNetwork.getDefaultValue()),this.set("showAdministrators",!this._hideAdministrators.getDefaultValue()),this.set("showOther",this.showOther.getDefaultValue())),this.setIfChanged("_style",t)),this.get("_style")}.property("_style").cacheable(),showLocal:function(e,t){return t!==undefined&&this.set("_hideLocal",!t),!this.get("_hideLocal")}.property("_hideLocal").cacheable(),showMobile:function(e,t){return t!==undefined&&this.set("_hideMobile",!t),!this.get("_hideMobile")}.property("_hideMobile").cacheable(),showAdministrators:function(e,t){return t!==undefined&&this.set("_hideAdministrators",!t),!this.get("_hideAdministrators")}.property("_hideAdministrators").cacheable(),showShutdown:function(e,t){return t!==undefined&&this.set("_hideShutdown",!t),!this.get("_hideShutdown")}.property("_hideShutdown").cacheable(),showPasswordHint:function(e,t){return t!==undefined&&this.set("_retriesUntilHint",t?3:0),this.get("_retriesUntilHint")===3}.property("_retriesUntilHint").cacheable(),enableAutomaticLogin:function(e,t){return t!==undefined&&this.set("_disableAutoLogin",t),this.get("_disableAutoLogin"
)}.property("_disableAutoLogin").cacheable(),enableConsoleLogin:function(e,t){return t!==undefined&&this.set("_disableConsoleLogin",!t),!this.get("_disableConsoleLogin")}.property("_disableConsoleLogin").cacheable(),logOutUsers:function(e,t){return t!==undefined&&this.set("_logoutSeconds",t?1800:0),this.get("_logoutSeconds")>0}.property("_logoutSeconds").cacheable(),logOutMinutes:function(e,t){return t!==undefined&&(t=t<3?3:t,this.set("_logoutSeconds",t*60)),this.get("_logoutSeconds")/60}.property("_logoutSeconds").cacheable(),enableGuest:function(e,t){return t!==undefined&&this.set("_disableGuest",!t),!this.get("_disableGuest")}.property("_disableGuest").cacheable(),enableScreenSaverTimeout:function(e,t){return t!==undefined&&(t===!0?(this.set("_loginScreenSaverSeconds",1200),this.set("_screenSaverSeconds",1200)):(this.set("_loginScreenSaverSeconds",null),this.set("_screenSaverSeconds",null))),this.get("_screenSaverSeconds")!==null}.property(),startScreenSaverAfter:function(e,t){t!==undefined&&(this.set("_loginScreenSaverSeconds",t),this.set("_screenSaverSeconds",t));var n=this.get("_screenSaverSeconds");return n===null?1200:n}.property("_screenSaverSeconds").cacheable(),defaultModulePath:"/System/Library/Screen Savers/Flurry.saver",enableScreensaverModulePath:function(e,t){return t!==undefined&&(t===!0?this.screenSaverModulePath(null,this.defaultModulePath):this.screenSaverModulePath(null,null)),this.get("_loginWindowScreenSaverModulePath")!==null}.property(),screenSaverModulePath:function(e,t){if(t!==undefined){var n=null;if(t!==null){var r=t.lastIndexOf("/")+1,i=t.lastIndexOf
(".");n="Flurry",r!=-1&&i!=-1&&(n=t.substring(r,i))}this.set("_screenSaverModuleName",n),this.set("_loginWindowScreenSaverModulePath",t)}var s=this.get("_loginWindowScreenSaverModulePath");return s===null?this.defaultModulePath:s}.property("_loginWindowScreenSaverModulePath").cacheable(),executeLoginHook:function(e,t){return t!==undefined&&this.set("_skipLoginHook",!t),!this.get("_skipLoginHook")}.property("_skipLoginHook").cacheable(),executeLogoutHook:function(e,t){return t!==undefined&&this.set("_skipLogoutHook",!t),!this.get("_skipLogoutHook")}.property("_skipLogoutHook").cacheable(),allowUsersAndUserGroups:function(){var e=this.get("loginAllowUser"),t=this.get("loginAllowUserGroup"),n=[];return e.forEach(function(e){n.push(e)}),t.forEach(function(e){n.push(e)}),n}.property("loginAllowUserLength","loginAllowUserGroupLength").cacheable(),loginAllowUserLengthBinding:".loginAllowUser.length",loginAllowUserGroupLengthBinding:".loginAllowUserGroup.length",selectedAllow:null,removeSelectedAllow:function(){var e=this.get("selectedAllow");e&&e.firstObject()&&(e=e.firstObject(),e.get("isUser")?this.get("loginAllowUser").removeObject(e):this.get("loginAllowUserGroup").removeObject(e))},denyUsersAndUserGroups:function(){var e=this.get("loginDenyUser"),t=this.get("loginDenyUserGroup"),n=[];return e.forEach(function(e){n.push(e)}),t.forEach(function(e){n.push(e)}),n}.property("loginDenyUserLength","loginDenyUserGroupLength").cacheable(),loginDenyUserLengthBinding:".loginDenyUser.length",loginDenyUserGroupLengthBinding:".loginDenyUserGroup.length",selectedDeny:null,removeSelectedDeny:
function(){var e=this.get("selectedDeny");e&&e.firstObject()&&(e=e.firstObject(),e.get("isUser")?this.get("loginDenyUser").removeObject(e):this.get("loginDenyUserGroup").removeObject(e))},pendingFile:null,idDidChange:function(){this.invokeLater(this.idReallyDidChange,250)}.observes("id","status"),idReallyDidChange:function(){if(!this.get("id"))return this.invokeLater(this.idReallyDidChange,250);this.pendingFile&&(this.pendingFile=null)},allowUsersListHeight:function(){var e=140,t=this.get("loginAllowUserLength")+this.get("loginAllowUserGroupLength");return t>3&&(e+=22*(t-3)),e}.property("loginAllowUserLength","loginAllowUserGroupLength").cacheable(),denyUsersListHeight:function(){var e=140,t=this.get("loginDenyUserLength")+this.get("loginDenyUserGroupLength");return t>3&&(e+=22*(t-3)),e}.property("loginDenyUserLength","loginDenyUserGroupLength").cacheable(),heightObserver:function(){var e=this.get("tabValue"),t;switch(e){case"window":t=450;break;case"options":t=420;break;case"access":t=210+this.get("denyUsersListHeight")+this.get("allowUsersListHeight");break;case"scripts":t=300;break;default:t=395}this.setIfChanged("knobSetHeight",t)}.observes("tabValue","denyUsersListHeight","allowUsersListHeight"),contentExampleView:Admin.LoginWindowKnobSetView}),Admin.LoginWindowKnobSet.displayName="_login_window_knob_set_name".loc(),Admin.LoginWindowKnobSet.largeIcon="admin-login-window-knob-set-large-icon",Admin.LoginWindowKnobSet.numLines="_login_window_knob_set_num_lines".loc(),Admin.LoginWindowKnobSet.profilePropertyName="loginWindowKnobSets",SC.mixin(Admin.LoginWindowKnobSet,{sortOrder
:15.66,platformTypes:"OSX"}),Admin.LoginWindowKnobSet.systemLevel=YES,Admin.LoginWindowKnobSet.userLevel=NO,Admin.LoginWindowKnobSet.settingTypeDescription="_login_window_knob_set_description".loc(),Admin.LoginListView=Admin.UnScrollableListView.extend({headerView:SC.View.design(SC.Border,{layout:{height:20},useStaticLayout:YES,classNames:["admin-unscrollable-list-view-header"],childViews:"hideHeader itemHeader".w(),hideHeader:SC.LabelView.design({layout:{centerY:3,left:5,right:Admin.KNOB_WIDTH/2,height:20},isEditable:NO,value:"_generic_string_Hide".loc()}),itemHeader:SC.LabelView.design({layout:{centerY:3,left:parseFloat("_layout_hide_column_width".loc()),right:0,height:20},isEditable:NO,value:"_generic_string_Item".loc()})})}),Admin.LoginItemKnobSetView=Admin.KnobSetView.extend({showKnobSetAdd:NO,contentView:Admin.KnobSetContentView.design({childViews:["applications","items","authenticatedMounts","addNetworkHome","mounts","useShiftKey"],applications:Admin.LoginListView.design({title:"_generic_string_Applications".loc(),description:"_generic_string_The applications that will launch at login".loc(),contentBinding:".owner*content.applications",selectionBinding:".owner*content.selectedApplication",addTarget:"Admin",addAction:"showSystemApplicationPicker",removeTarget:SC.outlet("owner.content"),removeAction:"removeSelectedApplication",exampleView:SC.ListItemView.extend({contentIconKey:"smallIcon",hasContentIcon:YES,contentCheckboxKey:"loginHide",isEditing:NO})}),items:Admin.LoginListView.design({title:"_generic_string_Items".loc(),description:"_generic_string_The files and folders that will open at login"
.loc(),contentBinding:".owner*content.fileItemsContent",selectionBinding:".owner*content.selectedFileItem",addTarget:SC.outlet("owner.content"),addAction:"addFileItem",removeTarget:SC.outlet("owner.content"),removeAction:"removeFileItem",isEditable:YES,canEditContent:YES,exampleView:SC.ListItemView.extend({contentIconKey:"icon",hasContentIcon:YES,contentCheckboxKey:"hidden",isEditing:NO})}),authenticatedMounts:Admin.LoginListView.design({title:"_generic_string_Authenticated Network Mounts".loc(),description:"_generic_string_The network volumes that will be mounted using user's login name and password for authentication".loc(),contentBinding:".owner*content.authenticatedNetworkMountsContent",selectionBinding:".owner*content.selectedAuthenticatedNetworkMount",addTarget:"Admin",addAction:"showAuthenticatedMountPointPicker",removeTarget:SC.outlet("owner.content"),removeAction:"removeAuthenticatedNetworkMount",isEditable:NO,canEditContent:NO,exampleView:SC.ListItemView.extend({contentIconKey:"icon",hasContentIcon:YES,contentCheckboxKey:"hidden",isEditing:NO})}),addNetworkHome:Admin.BoldCheckboxViewAbsolute.design({layout:{height:25},useStaticLayout:YES,title:"_generic_string_Add network home share point".loc(),contentBinding:".owner.owner.content",contentValueKey:"networkHomeSharePoint"}),mounts:Admin.LoginListView.design({title:"_generic_string_Network Mounts".loc(),description:"_generic_string_The network volumes that will be mounted at login".loc(),contentBinding:".owner*content.networkMountsContent",selectionBinding:".owner*content.selectedNetworkMount",addTarget:"Admin",addAction
:"showMountPointPicker",removeTarget:SC.outlet("owner.content"),removeAction:"removeNetworkMount",isEditable:NO,canEditContent:NO,exampleView:SC.ListItemView.extend({contentIconKey:"icon",hasContentIcon:YES,contentCheckboxKey:"hidden",isEditing:NO})}),useShiftKey:Admin.BoldCheckboxViewAbsolute.design({layout:{height:25},useStaticLayout:YES,title:"_generic_string_User may press Shift to keep items from opening".loc(),contentBinding:".owner.owner.content",contentValueKey:"userMayKeepItemsFromOpening"})})}),Admin.LoginItemKnobSet=Admin.KnobSet.extend({applications:SC.Record.toMany("Admin.SystemApplication",{key:"system_applications"}),hiddenApplicationIds:SC.Record.attr(Array,{key:"hiddenApplicationIds",defaultValue:function(){return[]}}),toggleHiddenForApplication:function(e){var t=this.get("hiddenApplicationIds");if(!SC.none(e)){var n=t.indexOf(e);n<0?t.push(e):t.splice(n,1),this.set("hiddenApplicationIds",SC.clone(t))}},hiddenForApplication:function(e){var t=this.get("hiddenApplicationIds");return t.indexOf(e)>=0},_disableLoginItemsSuppression:SC.Record.attr(Boolean,{key:"DisableLoginItemsSuppression",defaultValue:NO}),userMayKeepItemsFromOpening:function(e,t){return t!==undefined&&this.set("_disableLoginItemsSuppression",!t),!this.get("_disableLoginItemsSuppression")}.property("_disableLoginItemsSuppression").cacheable(),selectedApplication:null,removeSelectedApplication:function(){var e=this.get("selectedApplication");e&&e.firstObject()&&(e=e.firstObject(),this.get("applications").removeObject(e))},_fileItems:SC.Record.attr(Array,{key:"files",defaultValue:function(){return[
]}}),selectedFileItem:null,fileItemsContent:function(){var e=this.get("_fileItems"),t=[],n=0,r=this;return e.forEach(function(e){var s=e.isDirectory,o=s?"admin-dock-icon-folder":"admin-dock-icon-document",u=SC.Object.create({index:n,name:e.Path,isDirectory:s,hidden:e.Hide,icon:o});u.addObserver("name",r,r._updateFileItems),u.addObserver("hidden",r,r._updateFileItems),t.push(u),n++}),t}.property("_fileItems").cacheable(),_updateFileItems:function(e,t,n,r){var i=[],s=this.get("fileItemsContent"),o,u;for(u=0;u<s.length;u++){o=s[u],o.removeObserver("hidden",this,this._updateFileItems),o.removeObserver("name",this,this._updateFileItems);var a=o.get("name"),f=a.split("/").lastObject(),l=f.indexOf(".")<0;i.push({Path:a,isDirectory:l,Hide:o.get("hidden")})}this.set("_fileItems",i)},addFileItem:function(){var e={Path:"_generic_string_Path of item".loc(),isDirectory:YES,Hide:NO};this.get("_fileItems").pushObject(e);var t=SC.clone(this.get("_fileItems"));this.set("_fileItems",t)},removeFileItem:function(){if(this.get("selectedFileItem")&&this.get("selectedFileItem").firstObject()){var e=this.get("selectedFileItem").firstObject();this.get("_fileItems").splice(e.get("index"),1);var t=SC.clone(this.get("_fileItems"));this.set("_fileItems",t)}},_networkMounts:SC.Record.attr(Array,{key:"mounts",defaultValue:function(){return[]}}),selectedNetworkMount:null,selectedAuthenticatedNetworkMount:null,authenticatedNetworkMountsContent:function(){var e=this.get("_networkMounts"),t=[],n=0,r=this;return e.forEach(function(e){if(e.AuthenticateAsLoginUserShortName){var s=SC.Object.create({index:n,name:e
.Path,hidden:e.Hide,type:e.Type,auth:e.AuthenticateAsLoginUserShortName,icon:"admin-dock-icon-network-share"});s.addObserver("hidden",r,r._updateNetworkMountItems),t.push(s),n++}}),t}.property("_networkMounts").cacheable(),networkMountsContent:function(){var e=this.get("_networkMounts"),t=[],n=0,r=this;return e.forEach(function(e){if(!e.AuthenticateAsLoginUserShortName){var s=SC.Object.create({index:n,name:e.Path,hidden:e.Hide,type:e.Type,auth:e.AuthenticateAsLoginUserShortName,icon:"admin-dock-icon-network-share"});s.addObserver("hidden",r,r._updateNetworkMountItems),t.push(s),n++}}),t}.property("_networkMounts").cacheable(),_updateNetworkMountItems:function(e){var t=this.get("_networkMounts"),n=e.get("type")+e.get("name");for(var r=0,i=t.length;r<i;r++){var s=t[r],o=s.Type+s.Path;n===o&&(s.Hide=e.get("hidden"))}},addNetworkMount:function(e,t,n){var r={Path:e,Hide:NO,Type:t,AuthenticateAsLoginUserShortName:n};this.get("_networkMounts").pushObject(r);var i=SC.clone(this.get("_networkMounts"));this.set("_networkMounts",i)},removeAuthenticatedNetworkMount:function(){this.get("selectedAuthenticatedNetworkMount")&&this.get("selectedAuthenticatedNetworkMount").firstObject()&&this._removeNetworkMount(YES,this.get("selectedAuthenticatedNetworkMount").firstObject())},removeNetworkMount:function(){this.get("selectedNetworkMount")&&this.get("selectedNetworkMount").firstObject()&&this._removeNetworkMount(NO,this.get("selectedNetworkMount").firstObject())},_removeNetworkMount:function(e,t){var n=t.get("type")+t.get("name"),r=this.get("_networkMounts"),i=SC.clone(r);for(var s=0,o=r.length
;s<o;s++){var u=r[s],a=u.Type+u.Path;if(u.AuthenticateAsLoginUserShortName!==e)continue;if(n===a){i.splice(s,1);break}}this.set("_networkMounts",i)},networkHomeSharePoint:function(e,t){var n=this.get("_networkMounts");if(t!==undefined){var r=n.findProperty("Type","home");if(t&&!r)this.addNetworkMount("_login_item_network_home_share_point_name".loc(),"home",YES);else if(!t&&r){var i=n.indexOf(r);n.splice(i,1),this.notifyPropertyChange("_networkMounts")}}var s=n.findProperty("Type","home");return s!==null}.property("_networkMounts").cacheable(),contentExampleView:Admin.LoginItemKnobSetView}),Admin.LoginItemKnobSet.displayName="_login_item_knob_set_name".loc(),Admin.LoginItemKnobSet.largeIcon="admin-login-item-knob-set-large-icon",Admin.LoginItemKnobSet.numLines="_login_item_knob_set_num_lines".loc(),Admin.LoginItemKnobSet.profilePropertyName="loginItemKnobSets",SC.mixin(Admin.LoginItemKnobSet,{sortOrder:16,platformTypes:"OSX"}),Admin.LoginItemKnobSet.systemLevel=YES,Admin.LoginItemKnobSet.userLevel=YES,Admin.LoginItemKnobSet.settingTypeDescription="_login_item_knob_set_description".loc(),Admin.MobilityKnobSetView=Admin.KnobSetView.extend({showKnobSetAdd:NO,contentView:Admin.KnobSetContentView.design({childViews:["mainSegmentedView","rulesSegmentedView","creationCreationView","creationOptionsView","expiryView","prefSyncView","homeSyncView","syncListViews","rulesOptionsView"],borderStyle:SC.BORDER_BOTTOM,mainSegmentedView:SC.SegmentedView.design({layout:{centerX:0,width:Admin.KNOB_WIDTH-40,top:5,height:SC.REGULAR_BUTTON_HEIGHT},itemTitleKey:"title",itemValueKey:"value",items:[{title
:"_generic_string_Account Creation".loc(),value:"creation"},{title:"_generic_string_Account Expiry".loc(),value:"expiry"},{title:"_generic_string_Rules".loc(),value:"rules"}],contentBinding:".owner.content",contentValueKey:"tabValue"}),rulesSegmentedView:SC.SegmentedView.design({layout:{centerX:0,width:Admin.KNOB_WIDTH-40,top:50,height:SC.REGULAR_BUTTON_HEIGHT},itemTitleKey:"title",itemValueKey:"value",items:[{title:"_generic_string_Preference Sync".loc(),value:"preference"},{title:"_generic_string_Home Sync".loc(),value:"home"},{title:"_generic_string_Options".loc(),value:"options"}],isVisible:function(){return this.get("tabValue")==="rules"}.property("tabValue").cacheable(),tabValueBinding:".owner*content.tabValue",tabValueBindingDefault:SC.Binding.oneWay(),contentBinding:".owner.content",contentValueKey:"rulesTabValue"}),creationCreationView:SC.View.design({layout:{centerX:0,width:Admin.KNOB_WIDTH+40,top:50,height:170},isVisible:function(){return this.get("tab")==="creation"}.property("tab"),tabBinding:".owner*content.tabValue",tabBindingDefault:SC.Binding.oneWay(),childViews:"cbx1 cbx2 cbx3 label4 radio4".w(),cbx1:Admin.BoldCheckboxViewAbsolute.design({layout:{top:5,left:20,right:0,height:20},title:"_generic_string_Create mobile account when user logs in to network account".loc(),contentBinding:".owner.owner.content",contentValueKey:"cachedAccountsCreateAtLogin"}),cbx2:Admin.BoldCheckboxViewAbsolute.design({layout:{top:30,left:40,right:0,height:20},title:"_generic_string_Require confirmation before creating mobile account".loc(),isEnabledBinding:".owner.cbx1.value",isEnabledBindingDefault
:SC.Binding.oneWay(),contentBinding:".owner.owner.content",contentValueKey:"cachedAccountsWarnOnCreate"}),cbx3:Admin.BoldCheckboxViewAbsolute.design({layout:{top:55,left:60,right:0,height:20},title:'_generic_string_Show "Don\'t ask me again" checkbox'.loc(),isEnabled:function(){return this.get("cbx1")&&this.get("cbx2")}.property("cbx1","cbx2").cacheable(),cbx1Binding:".owner.cbx1.value",cbx1BindingDefault:SC.Binding.oneWay(),cbx2Binding:".owner.cbx2.value",cbx2BindingDefault:SC.Binding.oneWay(),contentBinding:".owner.owner.content",contentValueKey:"cachedAccountsAllowNever"}),label4:Admin.BoldLabelViewAbsolute.design({layout:{top:95,left:40,right:0,height:20},isEnabledBinding:".owner.cbx1.value",isEnabledBindingDefault:SC.Binding.oneWay(),value:"_generic_string_Create home using:".loc()}),radio4:SC.RadioView.design({layout:{top:120,left:57,right:0,height:40},items:[{title:"_generic_string_network home and default sync settings".loc(),value:YES},{title:"_generic_string_local home template".loc(),value:NO}],itemTitleKey:"title",itemValueKey:"value",layoutDirection:SC.LAYOUT_VERTICAL,fontWeight:SC.BOLD_WEIGHT,isEnabledBinding:".owner.cbx1.value",isEnabledBindingDefault:SC.Binding.oneWay(),contentBinding:".owner.owner.content",contentValueKey:"cachedAccountsCreatePHDAtLogin"})}),creationOptionsView:SC.View.design({layout:{centerX:0,width:Admin.KNOB_WIDTH+40,top:220,height:405},isVisible:function(){return this.get("tab")==="creation"}.property("tab"),tabBinding:".owner*content.tabValue",tabBindingDefault:SC.Binding.oneWay(),isEnabledBinding:".owner*content.cachedAccountsCreateAtLogin"
,childViews:"cbx1 radio2 cbx3 radio4 box4 box4b label4 label4b label5 radio5 box5".w(),cbx1:Admin.BoldCheckboxViewAbsolute.design({layout:{top:5,left:20,right:0,height:20},title:"_generic_string_Encrypt contents with FileVault".loc(),isEnabledBinding:".owner.isEnabled",contentBinding:".owner.owner.content",contentValueKey:"cachedAccountsEncrypt"}),radio2:SC.RadioView.design({layout:{top:30,left:40,right:0,height:40},items:[{title:"_generic_string_Use computer master password, if available".loc(),value:NO},{title:"_generic_string_Require computer master password".loc(),value:YES}],itemTitleKey:"title",itemValueKey:"value",fontWeight:SC.BOLD_WEIGHT,layoutDirection:SC.LAYOUT_VERTICAL,isEnabled:function(){return this.get("cbx1")&&this.get("ownerEnabled")}.property("ownerEnabled","cbx1"),ownerEnabledBinding:".owner.isEnabled",cbx1Binding:".owner.cbx1.value",cbx1BindingDefault:SC.Binding.oneWay(),contentBinding:".owner.owner.content",contentValueKey:"cachedAccountsEncryptMaster"}),cbx3:Admin.BoldCheckboxViewAbsolute.design({layout:{top:80,left:40,right:0,height:20},title:"_generic_string_Restrict size:".loc(),isEnabled:function(){return this.get("cbx1")&&this.get("ownerEnabled")}.property("ownerEnabled","cbx1"),ownerEnabledBinding:".owner.isEnabled",cbx1Binding:".owner.cbx1.value",cbx1BindingDefault:SC.Binding.oneWay(),contentBinding:".owner.owner.content",contentValueKey:"cachedAccountsMaxSizeCheck"}),radio4:SC.RadioView.design({layout:{top:105,left:40,right:0,height:50},items:[{title:"_generic_string_to fixed size:".loc(),value:"fixed"},{title:"_generic_string_to percentage of network home quota:"
.loc(),value:"percentOfNetworkHome"}],itemTitleKey:"title",itemValueKey:"value",fontWeight:SC.BOLD_WEIGHT,layoutDirection:SC.LAYOUT_VERTICAL,isEnabled:function(){return this.get("cbx1")&&this.get("cbx3")&&this.get("ownerEnabled")}.property("cbx1","cbx3","ownerEnabled").cacheable(),cbx1Binding:".owner.cbx1.value",cbx1BindingDefault:SC.Binding.oneWay(),cbx3Binding:".owner.cbx3.value",cbx3BindingDefault:SC.Binding.oneWay(),ownerEnabledBinding:".owner.isEnabled",classNames:"admin-knob-set-tall-radio".w(),contentBinding:".owner.owner.content",contentValueKey:"cachedAccountsMaxSizeRadio"}),box4:SC.TextFieldView.design({layout:{top:105,left:3+parseFloat("_layout_to_fixed_size_radio_width".loc()),width:60,height:20},isEnabled:function(){return this.get("cachedAccountsMaxSizeRadio")==="fixed"&&this.get("ownerEnabled")&&this.get("cbx1")}.property("cachedAccountsMaxSizeRadio","ownerEnabled","cbx1").cacheable(),cbx1Binding:".owner.cbx1.value",cbx1BindingDefault:SC.Binding.oneWay(),cachedAccountsMaxSizeRadioBinding:".owner.owner*content.cachedAccountsMaxSizeRadio",cachedAccountsMaxSizeRadioBindingDefault:SC.Binding.oneWay(),ownerEnabledBinding:".owner.isEnabled",contentBinding:".owner.owner.content",validator:SC.Validator.PositiveInteger,contentValueKey:"cachedAccountsMaxSizeFixedSize"}),box4b:SC.TextFieldView.design({layout:{top:129,left:3+parseFloat("_layout_to_percentage_of_network_home_quote_radio_width".loc()),width:40,height:20},isEnabled:function(){return this.get("cachedAccountsMaxSizeRadio")==="percentOfNetworkHome"&&this.get("ownerEnabled")&&this.get("cbx1")}.property("cachedAccountsMaxSizeRadio"
,"ownerEnabled","cbx1").cacheable(),cachedAccountsMaxSizeRadioBinding:".owner.owner*content.cachedAccountsMaxSizeRadio",cachedAccountsMaxSizeRadioBindingDefault:SC.Binding.oneWay(),ownerEnabledBinding:".owner.isEnabled",cbx1Binding:".owner.cbx1.value",cbx1BindingDefault:SC.Binding.oneWay(),contentBinding:".owner.owner.content",validator:SC.Validator.PositiveInteger.extend({validateKeyDown:function(e,t,n){var r=t.$input().val();return r||(r=""),r+=n,n.length===0?!0:r.match(/^[0-9\0]*/)[0]===r?parseInt(r,0)<=100:!1}}),contentValueKey:"cachedAccountsMaxSizePercent"}),label4:SC.LabelView.design({layout:{top:108,left:73+parseFloat("_layout_to_fixed_size_radio_width".loc()),right:0,height:20},isEnabled:function(){return this.get("cbx3")&&this.get("ownerEnabled")&&this.get("cbx1")}.property("ownerEnabled","cbx3","cbx1"),ownerEnabledBinding:".owner.isEnabled",cbx1Binding:".owner.cbx1.value",cbx1BindingDefault:SC.Binding.oneWay(),cbx3Binding:".owner.cbx3.value",cbx3BindingDefault:SC.Binding.oneWay(),value:"_generic_string_MB".loc()}),label4b:SC.LabelView.design({layout:{top:131,left:53+parseFloat("_layout_to_percentage_of_network_home_quote_radio_width".loc()),right:0,height:20},isEnabled:function(){return this.get("cbx3")&&this.get("ownerEnabled")&&this.get("cbx1")}.property("ownerEnabled","cbx3","cbx1"),ownerEnabledBinding:".owner.isEnabled",cbx1Binding:".owner.cbx1.value",cbx1BindingDefault:SC.Binding.oneWay(),cbx3Binding:".owner.cbx3.value",cbx3BindingDefault:SC.Binding.oneWay(),value:"_generic_string_%".loc()}),label5:Admin.BoldLabelViewAbsolute.design({layout:{top:165,left:20,right
:0,height:20},isEnabledBinding:".owner.isEnabled",value:"_generic_string_Home folder location:".loc()}),radio5:SC.RadioView.design({layout:{top:190,left:40,right:0,height:175},items:[{title:"_generic_string_on startup volume".loc(),value:"startup"},{title:"_generic_string_at path:".loc(),value:"path"},{title:"_generic_string_user chooses any volume".loc(),value:"userPicksVolume"},{title:"_generic_string_user chooses any internal volume".loc(),value:"userPicksInternalVolume"},{title:"_generic_string_user chooses any external volume".loc(),value:"userPicksExternalVolume"}],itemTitleKey:"title",itemValueKey:"value",classNames:"admin-knob-set-tall-radio".w(),fontWeight:SC.BOLD_WEIGHT,layoutDirection:SC.LAYOUT_VERTICAL,isEnabledBinding:".owner.isEnabled",contentBinding:".owner.owner.content",contentValueKey:"cachedAccountsLocation"}),box5:SC.TextFieldView.design({layout:{top:213,left:0+parseFloat("_mobility_path_at_textField_offset_left".loc()),right:20,height:20},isEnabled:function(){return this.get("cachedAccountsLocation")==="path"&&this.get("ownerEnabled")}.property("cachedAccountsLocation","ownerEnabled").cacheable(),ownerEnabledBinding:".owner.isEnabled",cachedAccountsLocationBinding:".owner.owner*content.cachedAccountsLocation",cachedAccountsLocationBindingDefault:SC.Binding.oneWay(),contentBinding:".owner.owner.content",contentValueKey:"cachedAccountsLocationPath"})}),expiryView:SC.View.design({layout:{centerX:0,width:Admin.KNOB_WIDTH,top:50,height:200},isVisible:function(){return this.get("tab")==="expiry"}.property("tab"),tabBinding:".owner*content.tabValue",tabBindingDefault
:SC.Binding.oneWay(),childViews:"cbx1 box2 button2 label2 sublabel2 cbx3".w(),cbx1:Admin.BoldCheckboxViewAbsolute.design({layout:{top:5,left:0,right:0,height:20},title:"_generic_string_Delete mobile accounts:".loc(),contentBinding:".owner.owner.content",contentValueKey:"cachedAccountsDeleteAfterCheck"}),box2:SC.TextFieldView.design({layout:{top:29,left:36,width:40,height:20},isEnabledBinding:".owner.cbx1.value",isEnabledBindingDefault:SC.Binding.oneWay(),validator:SC.Validator.PositiveInteger,contentBinding:".owner.owner.content",contentValueKey:"cachedAccountsDeleteAfterBox"}),button2:SC.SelectButtonView.design({layout:{top:28,left:89,width:120,height:SC.REGULAR_BUTTON_HEIGHT},objects:[{name:"_generic_string_Hours".loc(),value:3600},{name:"_generic_string_Days".loc(),value:86400},{name:"_generic_string_Weeks".loc(),value:436800}],nameKey:"name",valueKey:"value",isEnabledBinding:".owner.cbx1.value",isEnabledBindingDefault:SC.Binding.oneWay(),contentBinding:".owner.owner.content",contentValueKey:"cachedAccountsDeleteAfterButton"}),label2:SC.LabelView.design({layout:{top:30,left:214,right:0,height:20},isEnabledBinding:".owner.cbx1.value",isEnabledBindingDefault:SC.Binding.oneWay(),value:"_generic_string_after user's last login".loc()}),sublabel2:SC.LabelView.design({layout:{top:55,left:89,right:0,height:30},controlSize:SC.TINY_CONTROL_SIZE,isEnabledBinding:".owner.cbx1.value",isEnabledBindingDefault:SC.Binding.oneWay(),value:"_generic_string_Setting this value to 0 causes the mobile account to be deleted as soon as possible.".loc()}),cbx3:Admin.BoldCheckboxViewAbsolute.design(
{layout:{top:95,left:16,right:0,height:20},title:"_generic_string_Delete only after successful sync".loc(),isEnabledBinding:".owner.cbx1.value",isEnabledBindingDefault:SC.Binding.oneWay(),contentBinding:".owner.owner.content",contentValueKey:"cachedAccountsDeleteAfterSuccess"})}),prefSyncView:SC.View.design({layout:{centerX:0,width:Admin.KNOB_WIDTH+40,top:90,height:50},isVisible:function(){return this.get("tab")==="rules"&&this.get("rulesTab")==="preference"}.property("tab","rulesTab"),rulesTabBinding:".owner*content.rulesTabValue",rulesTabBindingDefault:SC.Binding.oneWay(),tabBinding:".owner*content.tabValue",tabBindingDefault:SC.Binding.oneWay(),childViews:"syncLabel cbx1 cbx2 cbx3 cbx4".w(),syncLabel:Admin.BoldLabelViewAbsolute.design({layout:{top:5,left:20,right:0,height:20},value:"_generic_string_Sync:".loc()}),cbx1:SC.CheckboxView.design({layout:{top:5,left:76,right:0,height:20},title:"_generic_string_at login".loc(),contentBinding:".owner.owner.content",contentValueKey:"syncPreferencesAtLogin"}),cbx2:SC.CheckboxView.design({layout:{top:25,left:76,right:0,height:20},title:"_generic_string_at logout".loc(),contentBinding:".owner.owner.content",contentValueKey:"syncPreferencesAtLogout"}),cbx3:SC.CheckboxView.design({layout:{top:5,left:216,right:0,height:20},title:"_generic_string_in background".loc(),contentBinding:".owner.owner.content",contentValueKey:"syncPreferencesInBackground"}),cbx4:SC.CheckboxView.design({layout:{top:25,left:216,right:0,height:20},title:"_generic_string_manually".loc(),contentBinding:".owner.owner.content",contentValueKey:"syncPreferencesAtSyncNow"
})}),homeSyncView:SC.View.design({layout:{centerX:0,width:Admin.KNOB_WIDTH+40,top:90,height:50},isVisible:function(){return this.get("tab")==="rules"&&this.get("rulesTab")==="home"}.property("tab","rulesTab"),rulesTabBinding:".owner*content.rulesTabValue",rulesTabBindingDefault:SC.Binding.oneWay(),tabBinding:".owner*content.tabValue",tabBindingDefault:SC.Binding.oneWay(),childViews:"syncLabel cbx1 cbx2 cbx3 cbx4".w(),syncLabel:Admin.BoldLabelViewAbsolute.design({layout:{top:5,left:20,right:0,height:20},value:"_generic_string_Sync:".loc()}),cbx1:SC.CheckboxView.design({layout:{top:5,left:76,right:0,height:20},title:"_generic_string_at login".loc(),contentBinding:".owner.owner.content",contentValueKey:"syncBackgroundSetAtLogin"}),cbx2:SC.CheckboxView.design({layout:{top:25,left:76,right:0,height:20},title:"_generic_string_at logout".loc(),contentBinding:".owner.owner.content",contentValueKey:"syncBackgroundSetAtLogout"}),cbx3:SC.CheckboxView.design({layout:{top:5,left:216,right:0,height:20},title:"_generic_string_in background".loc(),contentBinding:".owner.owner.content",contentValueKey:"syncBackgroundSetInBackground"}),cbx4:SC.CheckboxView.design({layout:{top:25,left:216,right:0,height:20},title:"_generic_string_manually".loc(),contentBinding:".owner.owner.content",contentValueKey:"syncBackgroundSetAtSyncNow"})}),syncListViews:SC.View.design({layout:{centerX:0,width:Admin.KNOB_WIDTH,top:140},useStaticLayout:YES,isVisible:function(){return this.get("tab")==="rules"&&(this.get("rulesTab")==="home"||this.get("rulesTab")==="preference")}.property("tab","rulesTab"),rulesTabBinding
:".owner*content.rulesTabValue",rulesTabBindingDefault:SC.Binding.oneWay(),tabBinding:".owner*content.tabValue",tabBindingDefault:SC.Binding.oneWay(),childViews:"syncPref noSyncPref mergeCheckbox".w(),syncPref:Admin.UnScrollableListView.extend({title:"_generic_string_Sync Folders".loc(),description:function(){return this.get("rulesTab")==="preference"?"_generic_string_Preferences in these folders will sync as specified above".loc():"_generic_string_Files in these folders will sync as specified above".loc()}.property("rulesTab").cacheable(),rulesTabBinding:".owner.owner*content.rulesTabValue",rulesTabBindingDefault:SC.Binding.oneWay(),addAction:"addSyncedItem",removeAction:"removeSyncedItem",addTarget:SC.outlet("owner.owner.content"),removeTarget:SC.outlet("owner.owner.content"),contentValueKey:"name",isEditable:YES,canEditContent:YES,exampleView:SC.ListItemView.extend({contentIconKey:"icon",hasContentIcon:YES}),contentBinding:".owner.owner*content.syncContent",selectionBinding:".owner.owner*content.syncedItemSelection"}),noSyncPref:Admin.UnScrollableListView.extend({title:"_generic_string_Skip Items".loc(),description:"_generic_string_Items matching any of the following will not sync".loc(),addAction:"addExcludedItem",removeAction:"removeExcludedItem",addTarget:SC.outlet("owner.owner.content"),removeTarget:SC.outlet("owner.owner.content"),exampleView:SC.View.extend(SC.Control,{childViews:"popup label".w(),popup:SC.SelectButtonView.design({layout:{top:2,left:0,width:120,bottom:0},objects:[{name:"_generic_string_Starts With".loc(),value:"startsWith"},{name:"_generic_string_Ends With"
.loc(),value:"endsWith"},{name:"_generic_string_Name Contains".loc(),value:"contains"},{name:"_generic_string_Name Is".loc(),value:"is"},{name:"_generic_string_Full Path".loc(),value:"fullPath"},{name:"_generic_string_Partial Path".loc(),value:"partialPath"},{name:"_generic_string_RegEx Name".loc(),value:"regex"},{name:"_generic_string_RegEx Path".loc(),value:"regexPath"}],nameKey:"name",valueKey:"value",controlSize:SC.SMALL_CONTROL_SIZE,valueBinding:".owner*content.comparison"}),label:SC.LabelView.design({layout:{top:3,left:120,right:0,bottom:0},classNames:"admin-ldap-knob-set-search-base".w(),isEditable:YES,mouseDown:function(){return YES},valueBinding:".owner*content.name"})}),contentBinding:".owner.owner*content.excludeContent",selectionBinding:".owner.owner*content.excludedItemSelection"}),mergeCheckbox:Admin.BoldCheckboxViewAbsolute.design({title:"_generic_string_Merge with user's settings".loc(),useStaticLayout:YES,contentBinding:".owner.owner.content",contentValueKey:"mergeSyncList"})}),rulesOptionsView:SC.View.design({layout:{centerX:0,width:Admin.KNOB_WIDTH+40,top:90,height:100},isVisible:function(){return this.get("tab")==="rules"&&this.get("rulesTab")==="options"}.property("tab","rulesTab"),rulesTabBinding:".owner*content.rulesTabValue",rulesTabBindingDefault:SC.Binding.oneWay(),tabBinding:".owner*content.tabValue",tabBindingDefault:SC.Binding.oneWay(),childViews:"label1 radio1 min box1 cbx2".w(),label1:Admin.BoldLabelViewAbsolute.design({layout:{top:5,left:20,right:0,height:20},value:"_generic_string_Sync in the background:".loc()}),radio1:SC.RadioView.design({layout
:{top:30,left:17,right:0,height:60},items:[{title:"_generic_string_Manually".loc(),value:NO},{title:"_generic_string_Every".loc(),value:YES}],itemTitleKey:"title",itemValueKey:"value",fontWeight:SC.BOLD_WEIGHT,layoutDirection:SC.LAYOUT_HORIZONTAL,contentBinding:".owner.owner.content",contentValueKey:"periodicSyncOn"}),box1:SC.TextFieldView.design({layout:{top:29,width:40,left:parseFloat("_layout_mobility_rules_options_sync_in_background_width".loc()),height:20},isEnabledBinding:".owner.radio1.value",isEnabledBindingDefault:SC.Binding.oneWay(),contentBinding:".owner.owner.content",contentValueKey:"syncPeriodMinutes"}),min:SC.LabelView.design({layout:{top:30,width:100,left:50+parseFloat("_layout_mobility_rules_options_sync_in_background_width".loc()),height:60},isEnabledBinding:".owner.radio1.value",isEnabledBindingDefault:SC.Binding.oneWay(),value:"_generic_string_minutes".loc()}),cbx2:Admin.BoldCheckboxViewAbsolute.design({layout:{top:65,left:20,right:0,height:20},title:"_generic_string_Show status in menu bar".loc(),contentBinding:".owner.owner.content",contentValueKey:"homeSyncMenu"})})})}),Admin.MobilityKnobSet=Admin.KnobSet.extend({init:function(){arguments.callee.base.apply(this,arguments),this.set("rulesTabValue","preference")},tabValue:"creation",creationTabValue:"creation",rulesTabValue:"",cachedAccountsAllowNever:SC.Record.attr(Boolean,{key:"cachedaccounts_WarnOnCreate_allowNever",defaultValue:NO}),cachedAccountsCreateAtLogin:SC.Record.attr(Boolean,{key:"com_apple_cachedaccounts_CreateAtLogin",defaultValue:NO}),cachedAccountsCreatePHDAtLogin:SC.Record.attr(Boolean,{
key:"com_apple_cachedaccounts_CreatePHDAtLogin",defaultValue:NO}),cachedAccountsWarnOnCreate:SC.Record.attr(Boolean,{key:"com_apple_cachedaccounts_WarnOnCreate",defaultValue:NO}),cachedAccountsEncrypt:SC.Record.attr(Boolean,{key:"cachedaccounts_create_encrypt",defaultValue:NO}),cachedAccountsEncryptMaster:SC.Record.attr(Boolean,{key:"cachedaccounts_create_encrypt_requireMasterPassword",defaultValue:NO}),cachedAccountsLocation:SC.Record.attr(String,{key:"cachedaccounts_create_location",defaultValue:"startup"}),cachedAccountsLocationPath:SC.Record.attr(String,{key:"cachedaccounts_create_location_path"}),_cachedAccountsMaxSize:SC.Record.attr(String,{key:"cachedaccounts_create_maxSize",defaultValue:""}),_cachedAccountsMaxSizeFixedSize:SC.Record.attr(String,{key:"cachedaccounts_create_maxSize_fixedSize",defaultValue:"262144000"}),cachedAccountsMaxSizePercent:SC.Record.attr(Number,{key:"cachedaccounts_create_maxSize_percentOfNetworkHome",defaultValue:100}),_cachedAccountsDeleteAfter:SC.Record.attr(Number,{key:"cachedaccounts_expiry_delete_disusedSeconds",defaultValue:-1}),cachedAccountsDeleteAfterSuccess:SC.Record.attr(Boolean,{key:"cachedaccounts_expiry_cond_successfulSync",defaultValue:YES}),_syncPreferencesAtLogin:SC.Record.attr(String,{key:"syncPreferencesAtLogin",defaultValue:"sync"}),_syncPreferencesAtLogout:SC.Record.attr(String,{key:"syncPreferencesAtLogout",defaultValue:"sync"}),_syncPreferencesAtSyncNow:SC.Record.attr(String,{key:"syncPreferencesAtSyncNow",defaultValue:"sync"}),_syncPreferencesInBackground:SC.Record.attr(String,{key:"syncPreferencesInBackground",defaultValue
:"sync"}),_replaceUserPrefSyncList:SC.Record.attr(Boolean,{key:"replaceUserPrefSyncList",defaultValue:YES}),_excludedPrefItems:SC.Record.attr(Array,{key:"excludedPrefItems",defaultValue:function(){return[{value:"~/.SymAVQSFile",comparison:"fullPath"},{value:"~/Documents/Microsoft User Data/Entourage Temp",comparison:"fullPath"},{value:"~/Library/Application Support/SyncServices",comparison:"fullPath"},{value:"~/Library/Application Support/MobileSync",comparison:"fullPath"},{value:"~/Library/Caches",comparison:"fullPath"},{value:"~/Library/Calendars/Calendar Cache",comparison:"fullPath"},{value:"~/Library/Logs",comparison:"fullPath"},{value:"~/Library/Mail/AvailableFeeds",comparison:"fullPath"},{value:"~/Library/Mail/Envelope Index",comparison:"fullPath"},{value:"~/Library/Preferences/Macromedia/Flash Player",comparison:"fullPath"},{value:"~/Library/Printers",comparison:"fullPath"},{value:"~/Library/PubSub/Database",comparison:"fullPath"},{value:"~/Library/PubSub/Downloads",comparison:"fullPath"},{value:"~/Library/PubSub/Feeds",comparison:"fullPath"},{value:"~/Library/Safari/Icons.db",comparison:"fullPath"},{value:"~/Library/Safari/HistoryIndex.sk",comparison:"fullPath"},{value:"~/Library/iTunes/iPhone Software Updates",comparison:"fullPath"},{value:"IMAP-",comparison:"startsWith"},{value:"Exchange-",comparison:"startsWith"},{value:"EWS-",comparison:"startsWith"},{value:"Mac-",comparison:"startsWith"}]}}),_excludedHomeItems:SC.Record.attr(Array,{key:"excludedItems",defaultValue:function(){return[{value:"~/.SymAVQSFile",comparison:"fullPath"},{value:"~/Documents/Microsoft User Data"
,comparison:"fullPath"},{value:"~/Library",comparison:"fullPath"},{value:"~/NAVMac800QSFile",comparison:"fullPath"}]}}),_syncBackgroundSetAtLogin:SC.Record.attr(String,{key:"syncBackgroundSetAtLogin",defaultValue:"sync"}),_syncBackgroundSetAtLogout:SC.Record.attr(String,{key:"syncBackgroundSetAtLogout",defaultValue:"sync"}),_syncBackgroundSetAtSyncNow:SC.Record.attr(String,{key:"syncBackgroundSetAtSyncNow",defaultValue:"sync"}),_syncBackgroundSetInBackground:SC.Record.attr(String,{key:"syncBackgroundSetInBackground",defaultValue:"sync"}),_replaceUserSyncList:SC.Record.attr(Boolean,{key:"replaceUserSyncList",defaultValue:YES}),_syncedPrefItems:SC.Record.attr(Array,{key:"syncedPrefFolders",defaultValue:function(){return[{path:"~/Library"},{path:"~/Documents/Microsoft User Data"}]}}),_syncedHomeItems:SC.Record.attr(Array,{key:"syncedFolders",defaultValue:function(){return[{path:"~"}]}}),periodicSyncOn:SC.Record.attr(Boolean,{key:"periodicSyncOn",defaultValue:NO}),_syncPeriodSeconds:SC.Record.attr(Number,{key:"syncPeriodSeconds",defaultValue:300}),homeSyncMenu:SC.Record.attr(Boolean,{key:"HomeSync_menu",defaultValue:NO}),cachedAccountsMaxSizeCheck:function(e,t){return t!==undefined&&this.set("_cachedAccountsMaxSize",t?"fixed":""),this.get("_cachedAccountsMaxSize")!==""}.property("_cachedAccountsMaxSize").cacheable(),cachedAccountsMaxSizeRadio:function(e,t){return t!==undefined&&this.set("_cachedAccountsMaxSize",t),this.get("_cachedAccountsMaxSize")}.property("_cachedAccountsMaxSize").cacheable(),cachedAccountsDeleteAfterCheck:function(e,t){return t!==undefined&&this.set("_cachedAccountsDeleteAfter"
,t?0:-1),this.get("_cachedAccountsDeleteAfter")>=0}.property("_cachedAccountsDeleteAfter").cacheable(),_cachedAccountsDeleteAfterButton:SC.Record.attr(Number,{key:"cachedAccountsDeleteAfterMultiplier",defaultValue:3600}),cachedAccountsDeleteAfterButton:function(e,t){if(t!==undefined){var n=this.get("_cachedAccountsDeleteAfterButton"),r=t/n;this.set("_cachedAccountsDeleteAfter",Math.round(this.get("_cachedAccountsDeleteAfter")*r)),this.set("_cachedAccountsDeleteAfterButton",t)}return this.get("_cachedAccountsDeleteAfterButton")}.property("_cachedAccountsDeleteAfterButton").cacheable(),cachedAccountsDeleteAfterBox:function(e,t){var n=this.get("cachedAccountsDeleteAfterButton")||3600;return t!==undefined&&this.set("_cachedAccountsDeleteAfter",t*n),this.get("_cachedAccountsDeleteAfter")<0?0:this.get("_cachedAccountsDeleteAfter")/n}.property("_cachedAccountsDeleteAfter","cachedAccountsDeleteAfterButton").cacheable(),syncPreferencesAtLogin:function(e,t){return t!==undefined&&this.set("_syncPreferencesAtLogin",t?"sync":"dontSync"),this.get("_syncPreferencesAtLogin")==="sync"}.property("_syncPreferencesAtLogin").cacheable(),syncPreferencesAtLogout:function(e,t){return t!==undefined&&this.set("_syncPreferencesAtLogout",t?"sync":"dontSync"),this.get("_syncPreferencesAtLogout")==="sync"}.property("_syncPreferencesAtLogout").cacheable(),syncPreferencesAtSyncNow:function(e,t){return t!==undefined&&this.set("_syncPreferencesAtSyncNow",t?"sync":"dontSync"),this.get("_syncPreferencesAtSyncNow")==="sync"}.property("_syncPreferencesAtSyncNow").cacheable(),syncPreferencesInBackground:function(
e,t){return t!==undefined&&this.set("_syncPreferencesInBackground",t?"sync":"dontSync"),this.get("_syncPreferencesInBackground")==="sync"}.property("_syncPreferencesInBackground").cacheable(),mergeUserPrefSyncList:function(e,t){return t!==undefined&&this.set("_replaceUserPrefSyncList",!t),!this.get("_replaceUserPrefSyncList")}.property("_replaceUserPrefSyncList").cacheable(),syncBackgroundSetAtLogin:function(e,t){return t!==undefined&&this.set("_syncBackgroundSetAtLogin",t?"sync":"dontSync"),this.get("_syncBackgroundSetAtLogin")==="sync"}.property("_syncBackgroundSetAtLogin").cacheable(),syncBackgroundSetAtLogout:function(e,t){return t!==undefined&&this.set("_syncBackgroundSetAtLogout",t?"sync":"dontSync"),this.get("_syncBackgroundSetAtLogout")==="sync"}.property("_syncBackgroundSetAtLogout").cacheable(),syncBackgroundSetAtSyncNow:function(e,t){return t!==undefined&&this.set("_syncBackgroundSetAtSyncNow",t?"sync":"dontSync"),this.get("_syncBackgroundSetAtSyncNow")==="sync"}.property("_syncBackgroundSetAtSyncNow").cacheable(),syncBackgroundSetInBackground:function(e,t){return t!==undefined&&this.set("_syncBackgroundSetInBackground",t?"sync":"dontSync"),this.get("_syncBackgroundSetInBackground")==="sync"}.property("_syncBackgroundSetInBackground").cacheable(),mergeUserSyncList:function(e,t){return t!==undefined&&this.set("_replaceUserSyncList",!t),!this.get("_replaceUserSyncList")}.property("_replaceUserSyncList").cacheable(),mergeSyncList:function(e,t){var n=this.get("rulesTabValue")==="preference"?"mergeUserPrefSyncList":"mergeUserSyncList";return t!==undefined&&this.set(n,t
),this.get(n)}.property("rulesTabValue").cacheable(),syncPeriodMinutes:function(e,t){if(t!==undefined){var n=Math.round(t*60);this.set("_syncPeriodSeconds",n)}return SC.none(this.get("_syncPeriodSeconds"))?5:Math.round(this.get("_syncPeriodSeconds")/60)}.property("_syncPeriodSeconds").cacheable(),cachedAccountsMaxSizeFixedSize:function(e,t){if(t!==undefined){var n=Math.round(t*Math.pow(1024,2));this.set("_cachedAccountsMaxSizeFixedSize",String(n))}return SC.none(this.get("_cachedAccountsMaxSizeFixedSize"))?0:Math.round(Number(this.get("_cachedAccountsMaxSizeFixedSize"))/Math.pow(1024,2))}.property("_cachedAccountsMaxSizeFixedSize").cacheable(),rulesTabValueObserver:function(){var e=this.get("rulesTabValue")==="preference"?this.get("excludedPrefItemsContent"):this.get("excludedHomeItemsContent"),t=this.get("rulesTabValue")==="preference"?this.get("syncedPrefItemsContent"):this.get("syncedHomeItemsContent");this.set("syncContent",t),this.set("excludeContent",e)}.observes("rulesTabValue","excludedPrefItemsContent","excludedHomeItemsContent","syncedPrefItemsContent","syncedHomeItemsContent"),excludedItemSelection:null,excludeContent:[],addExcludedItem:function(){var e={value:"",comparison:"contains"},t=this.get("rulesTabValue")==="preference"?"_excludedPrefItems":"_excludedHomeItems";this.get(t).pushObject(e);var n=SC.clone(this.get(t));this.set(t,n)},removeExcludedItem:function(){if(this.get("excludedItemSelection")&&this.get("excludedItemSelection").firstObject()){var e=this.get("rulesTabValue")==="preference"?"_excludedPrefItems":"_excludedHomeItems",t=this.get("excludedItemSelection"
).firstObject();this.get(e).splice(t.get("index"),1);var n=SC.clone(this.get(e));this.set(e,n)}},syncedItemSelection:null,syncContent:[],addSyncedItem:function(){var e={path:"_generic_string_New directory path".loc(),comparison:"contains"},t=this.get("rulesTabValue")==="preference"?"_syncedPrefItems":"_syncedHomeItems";this.get(t).pushObject(e);var n=SC.clone(this.get(t));this.set(t,n)},removeSyncedItem:function(){if(this.get("syncedItemSelection")&&this.get("syncedItemSelection").firstObject()){var e=this.get("rulesTabValue")==="preference"?"_syncedPrefItems":"_syncedHomeItems",t=this.get("syncedItemSelection").firstObject();this.get(e).splice(t.get("index"),1);var n=SC.clone(this.get(e));this.set(e,n)}},excludedPrefItemsContent:function(){var e=this.get("_excludedPrefItems"),t=[],n=0,r=this;return e.forEach(function(e){var s=e.value,o=e.comparison,u=SC.Object.create({index:n,name:s,comparison:o});u.addObserver("name",r,r._updateExcludedPrefItems),u.addObserver("comparison",r,r._updateExcludedPrefItems),t.pushObject(u),n++}),this.notifyPropertyChange("excludedPrefItemsContent"),t}.property("_excludedPrefItems").cacheable(),_updateExcludedPrefItems:function(){var e=[],t=this.get("excludedPrefItemsContent"),n,r;for(r=0;r<t.length;r++)n=t[r],n.removeObserver("name",this,this._updateExcludedPrefItems),n.removeObserver("comparison",this,this._updateExcludedPrefItems),e.push({value:n.get("name"),comparison:n.get("comparison")});this.set("_excludedPrefItems",e)},excludedHomeItemsContent:function(){var e=this.get("_excludedHomeItems"),t=[],n=0,r=this;return e.forEach(function(e){var s=
e.value,o=e.comparison,u=SC.Object.create({index:n,name:s,comparison:o});u.addObserver("name",r,r._updateExcludedHomeItems),u.addObserver("comparison",r,r._updateExcludedHomeItems),t.pushObject(u),n++}),this.notifyPropertyChange("excludedHomeItemsContent"),t}.property("_excludedHomeItems").cacheable(),_updateExcludedHomeItems:function(){var e=[],t=this.get("excludedHomeItemsContent"),n,r;for(r=0;r<t.length;r++)n=t[r],n.removeObserver("name",this,this._updateExcludedHomeItems),n.removeObserver("comparison",this,this._updateExcludedHomeItems),e.push({value:n.get("name"),comparison:n.get("comparison")});this.set("_excludedHomeItems",e)},syncedPrefItemsContent:function(){var e=this.get("_syncedPrefItems"),t=[],n=0,r=this;return e.forEach(function(e){var s=SC.Object.create({index:n,name:e.path,icon:"admin-dock-icon-folder"});s.addObserver("name",r,r._updateSyncedPrefItems),t.pushObject(s),n++}),this.notifyPropertyChange("syncedPrefItemsContent"),t}.property("_syncedPrefItems").cacheable(),_updateSyncedPrefItems:function(){var e=[],t=this.get("syncedPrefItemsContent"),n,r;for(r=0;r<t.length;r++)n=t[r],n.removeObserver("name",this,this._updateSyncedPrefItems),e.push({path:n.get("name")});this.set("_syncedPrefItems",e)},syncedHomeItemsContent:function(){var e=this.get("_syncedHomeItems"),t=[],n=0,r=this;return e.forEach(function(e){var s=SC.Object.create({index:n,name:e.path,icon:"admin-dock-icon-folder"});s.addObserver("name",r,r._updateSyncedHomeItems),t.pushObject(s),n++}),this.notifyPropertyChange("syncedHomeItemsContent"),t}.property("_syncedHomeItems").cacheable(),_updateSyncedHomeItems
:function(){var e=[],t=this.get("syncedHomeItemsContent"),n,r;for(r=0;r<t.length;r++)n=t[r],n.removeObserver("name",this,this._updateSyncedHomeItems),e.push({path:n.get("name")});this.set("_syncedHomeItems",e)},noSyncPrefHeight:function(){return this.get("excludeContent").get("length")>3?74+this.get("excludeContent").get("length")*22:140}.property("excludeContent").cacheable(),syncPrefHeight:function(){return this.get("syncContent").get("length")>3?74+this.get("syncContent").get("length")*22:140}.property("syncContent").cacheable(),heightObserver:function(){var e;this.get("tabValue")==="creation"?e=590:this.get("tabValue")==="rules"?e=this.get("rulesTabValue")==="options"?230:210+this.get("syncPrefHeight")+this.get("noSyncPrefHeight"):e=195,this.setIfChanged("knobSetHeight",e)}.observes("noSyncPrefHeight","syncPrefHeight","tabValue","creationTabValue","rulesTabValue"),contentExampleView:Admin.MobilityKnobSetView}),Admin.MobilityKnobSet.displayName="_mobility_knob_set_name".loc(),Admin.MobilityKnobSet.largeIcon="admin-mobility-knob-set-large-icon",Admin.MobilityKnobSet.numLines="_mobility_knob_set_num_lines".loc(),Admin.MobilityKnobSet.profilePropertyName="mobilityKnobSets",SC.mixin(Admin.MobilityKnobSet,{sortOrder:17,platformTypes:"OSX"}),Admin.MobilityKnobSet.systemLevel=YES,Admin.MobilityKnobSet.userLevel=YES,Admin.MobilityKnobSet.settingTypeDescription="_mobility_knob_set_description".loc(),Admin.SoftwareUpdateKnobSetView=Admin.KnobSetView.extend({showKnobSetAdd:NO,contentView:Admin.KnobSetContentView.design({childViews:["serverField","allowPreReleaseInstallationView"],serverField
:Admin.KnobSetTextFieldView.design({title:"_generic_string_Software Update server".loc(),description:"_generic_string_Specify a URL of the form http://server.example.com:8088/index.sucatalog".loc(),fieldHint:"_knob_set_view_optional_hint".loc(),contentBinding:".owner.content",fieldContentValueKey:"serverURL"}),allowPreReleaseInstallationView:Admin.BoldCheckboxView.design({classNames:"admin-margin-top-5".w(),contentValueKey:"allowPreReleaseInstallation",title:"_software_update_knobset_allow_prerelease_installation".loc()})})}),Admin.SoftwareUpdateKnobSet=Admin.KnobSet.extend({serverURL:SC.Record.attr(String,{key:"CatalogURL"}),allowPreReleaseInstallation:SC.Record.attr(Boolean,{key:"AllowPreReleaseInstallation",defaultValue:YES}),contentExampleView:Admin.SoftwareUpdateKnobSetView}),Admin.SoftwareUpdateKnobSet.displayName="_software_update_knob_set_name".loc(),Admin.SoftwareUpdateKnobSet.largeIcon="admin-software-update-knob-set-large-icon",Admin.SoftwareUpdateKnobSet.numLines="_software_update_knob_set_num_lines".loc(),Admin.SoftwareUpdateKnobSet.profilePropertyName="softwareUpdateKnobSets",SC.mixin(Admin.SoftwareUpdateKnobSet,{sortOrder:19,platformTypes:"OSX"}),Admin.SoftwareUpdateKnobSet.systemLevel=YES,Admin.SoftwareUpdateKnobSet.userLevel=NO,Admin.SoftwareUpdateKnobSet.settingTypeDescription="_software_update_knob_set_description".loc(),Admin.PrintingKnobSetView=Admin.KnobSetView.extend({showKnobSetAdd:NO,contentView:Admin.KnobSetContentView.design({childViews:["printerList","bottomContainerView"],printerList:Admin.UnScrollableListView.design({title:"_generic_string_Printer List"
.loc(),description:"_generic_string_The printers available to a user".loc(),isVisible:YES,addAction:"showPrinterPicker",removeAction:"removeSelectedPrinter",addTarget:"Admin",removeTargetBinding:".owner.content",exampleView:SC.ListItemView.extend({contentCheckboxKey:"requiresAuth",isEditing:NO}),buttonView:SC.View.design({layout:{height:35},useStaticLayout:YES,childViews:["addButton","removeButton","descriptiveText"],addButton:SC.ButtonView.design({layout:{bottom:5,height:25,left:0,width:30},titleMinWidth:0,themeName:"square",controlSize:SC.TINY_CONTROL_SIZE,isEnabledBinding:".owner.owner.isEnabled",target:SC.outlet("owner.owner.addTarget"),action:SC.outlet("owner.owner.addAction"),icon:"admin-knob-set-list-add-button-overlay"}),removeButton:SC.ButtonView.design({layout:{bottom:5,height:25,left:35,width:30},titleMinWidth:0,themeName:"square",controlSize:SC.TINY_CONTROL_SIZE,isEnabledBinding:".owner.isEnabled",target:SC.outlet("owner.owner.removeTarget"),action:SC.outlet("owner.owner.removeAction"),icon:"admin-knob-set-list-remove-button-overlay"}),descriptiveText:SC.LabelView.design({layout:{top:5,centerX:10,width:Admin.KNOB_WIDTH-170,height:20},textAlign:SC.ALIGN_RIGHT,controlSize:SC.TINY_CONTROL_SIZE,value:"_generic_string_Checked printers require an administrator password".loc()})}),contentBinding:".owner*content.printers",selectionBinding:".owner*content.selectedPrinter"}),bottomContainerView:SC.View.design({layout:{height:360},useStaticLayout:YES,childViews:["defaultPrinterLabel","defaultPrinterBox","canUserModify","allowDirectConnection","directConnectionRequiresAuth","onlyShowManaged"
,"footerTitle","footerDescription","shouldPrintFooter","includeMACAddress","fontNameLabel","fontName","fontSizeLabel","fontSize"],defaultPrinterLabel:Admin.BoldLabelViewAbsolute.design({layout:{top:5,left:5,width:115,height:20},value:"_generic_string_Default Printer:".loc()}),defaultPrinterBox:SC.SelectButtonView.design({layout:{top:2,left:115,width:Admin.KNOB_WIDTH-110,height:25},objects:function(){var e=this.get("printers")||[],t=[{name:"_default_printer_item_None".loc(),id:null}],n=this;return e.forEach(function(e){t.push(e),e.addObserver("status",n,n._updateObjectsContent)}),t}.property("printersLength"),printersBinding:".owner.owner*content.printers",printersBindingDefault:SC.Binding.oneWay(),printersLengthBinding:".owner.owner*content.printersLength",printersLengthBindingDefault:SC.Binding.oneWay(),_updateObjectsContent:function(e){e.get("status")&SC.Record.READY&&(e.removeObserver("status",this,this._updateObjectsContent),this.notifyPropertyChange("objects"))},isEnabledBinding:".printersLength",valueKey:"id",nameKey:"name",contentBinding:".owner.owner.content",contentValueKey:"defaultPrinter"}),canUserModify:Admin.BoldCheckboxViewAbsolute.design({layout:{top:40,left:1,width:Admin.KNOB_WIDTH,height:25},title:"_generic_string_Allow user to modify printer list".loc(),contentBinding:".owner.owner.content",contentValueKey:"userCanModify"}),allowDirectConnection:Admin.BoldCheckboxViewAbsolute.design({layout:{top:65,left:1,width:Admin.KNOB_WIDTH,height:25},title:"_generic_string_Allow printers that connect directly to user's computer".loc(),contentBinding:".owner.owner.content"
,contentValueKey:"allowDirectlyConnected"}),directConnectionRequiresAuth:Admin.BoldCheckboxViewAbsolute.design({layout:{top:90,left:22,width:Admin.KNOB_WIDTH,height:25},title:"_generic_string_Require an administrator password".loc(),contentBinding:".owner.owner.content",contentValueKey:"directlyConnectedRequiresAuth"}),onlyShowManaged:Admin.BoldCheckboxViewAbsolute.design({layout:{top:115,left:1,width:Admin.KNOB_WIDTH,height:25},title:"_generic_string_Only show managed printers".loc(),contentBinding:".owner.owner.content",contentValueKey:"onlyShowManaged"}),footerTitle:Admin.BoldLabelViewAbsolute.design({layout:{top:155,left:5,width:Admin.KNOB_WIDTH,height:20},value:"_generic_string_Footer Settings".loc()}),footerDescription:Admin.DescriptionLabelViewAbsolute.design({layout:{top:175,left:5,width:Admin.KNOB_WIDTH,height:20},value:"_generic_string_Settings for the optional footer applied to pages".loc()}),shouldPrintFooter:Admin.BoldCheckboxViewAbsolute.design({layout:{top:205,left:1,width:Admin.KNOB_WIDTH,height:25},title:"_generic_string_Print page footer (user name and date)".loc(),contentBinding:".owner.owner.content",contentValueKey:"shouldPrintFooter"}),includeMACAddress:Admin.BoldCheckboxViewAbsolute.design({layout:{top:230,left:21,width:Admin.KNOB_WIDTH,height:25},title:"_generic_string_Include MAC address".loc(),contentBinding:".owner.owner.content",contentValueKey:"includeMACAddress"}),fontNameLabel:Admin.BoldLabelViewAbsolute.design({layout:{top:260,left:30,width:110,height:20},value:"_generic_string_Font Name:".loc()}),fontName:SC.SelectButtonView.design({layout:{top
:258,left:115,width:150,height:25},objects:[{name:"_generic_string_Helvetica".loc(),value:"Helvetica"},{name:"_generic_string_Courier".loc(),value:"Courier"},{name:"_generic_string_Lucida Grande".loc(),value:"LucidaGrande"},{name:"_generic_string_Times".loc(),value:"Times-Roman"}],nameKey:"name",valueKey:"value",contentBinding:".owner.owner.content",contentValueKey:"footerFont"}),fontSizeLabel:Admin.BoldLabelViewAbsolute.design({layout:{top:290,left:30,width:110,height:20},value:"_generic_string_Font Size:".loc()}),fontSize:SC.TextFieldView.design({layout:{top:290,left:117,width:40,height:20},validator:SC.Validator.Number,contentBinding:".owner.owner.content",contentValueKey:"footerFontSize"})})})}),Admin.PrintingKnobSet=Admin.KnobSet.extend({lockedPrinterIds:SC.Record.attr(Array,{key:"lockedPrinterIds",defaultValue:function(){return[]}}),defaultPrinter:SC.Record.attr(Number,{key:"DefaultPrinter",defaultValue:null}),_RequireAdminToAddPrinters:SC.Record.attr(Boolean,{key:"RequireAdminToAddPrinters",defaultValue:YES}),userCanModify:function(e,t){return t!==undefined&&this.set("_RequireAdminToAddPrinters",!t),!this.get("_RequireAdminToAddPrinters")}.property("_RequireAdminToAddPrinters").cacheable(),allowDirectlyConnected:SC.Record.attr(Boolean,{key:"AllowLocalPrinters",defaultValue:YES}),directlyConnectedRequiresAuth:SC.Record.attr(Boolean,{key:"RequireAdminToPrintLocally",defaultValue:NO}),onlyShowManaged:SC.Record.attr(Boolean,{key:"ShowOnlyManagedPrinters",defaultValue:NO}),shouldPrintFooter:SC.Record.attr(Boolean,{key:"PrintFooter",defaultValue:NO}),includeMACAddress:SC.Record
.attr(Boolean,{key:"PrintMACAddress",defaultValue:NO}),_footerFontSize:SC.Record.attr(String,{key:"FooterFontSize",defaultValue:"7"}),footerFontSize:function(e,t){return t!==undefined&&this.set("_footerFontSize",String(t)),SC.none(this.get("_footerFontSize"))?0:Number(this.get("_footerFontSize"))}.property("_footerFontSize").cacheable(),footerFont:SC.Record.attr(String,{key:"FooterFontName",defaultValue:"Helvetica"}),printers:SC.Record.toMany("Admin.Printer",{isMaster:YES,key:"printers"}),toggleAuthForPrinter:function(e){var t=this.get("lockedPrinterIds");if(!SC.none(e)){var n=t.indexOf(e);n<0?t.push(e):t.splice(n,1),this.set("lockedPrinterIds",SC.clone(t))}},requireAuthForPrinter:function(e){var t=this.get("lockedPrinterIds");return t.indexOf(e)>=0},selectedPrinter:null,removeSelectedPrinter:function(){var e=this.get("selectedPrinter");e&&e.firstObject()&&(e=e.firstObject(),this.get("printers").removeObject(e))},contentExampleView:Admin.PrintingKnobSetView}),Admin.PrintingKnobSet.displayName="_printing_knob_set_name".loc(),Admin.PrintingKnobSet.largeIcon="admin-printing-knob-set-large-icon",Admin.PrintingKnobSet.numLines="_printing_knob_set_num_lines".loc(),Admin.PrintingKnobSet.profilePropertyName="printingKnobSets",SC.mixin(Admin.PrintingKnobSet,{sortOrder:20,platformTypes:"OSX"}),Admin.PrintingKnobSet.systemLevel=YES,Admin.PrintingKnobSet.userLevel=YES,Admin.PrintingKnobSet.settingTypeDescription="_printing_knob_set_description".loc(),Admin.PreferencePane=Admin.Record.extend({primaryKey:"id",name:SC.Record.attr(String,{key:"display_name"}),value:SC.Record.attr(String,{key
:"bundle_id"}),icon:SC.Record.attr(String),iconValue:function(){return"data:image/png;base64,%@".fmt(this.get("icon"))}.property("icon").cacheable(),show:YES}),Admin.GridView=SC.GridView.extend({orientation:SC.HORIZONTAL_ORIENTATION,computeNowShowing:function(e){return this.get("allContentIndexes")},layoutForContentIndex:function(e){var t=this.get("rowHeight")||48,n=this.get("columnWidth"),r=this.get("clippingFrame").width,i=this.get("itemsPerRow"),s=Math.ceil(this.get("length")/2),o,u;return this.get("orientation")===SC.HORIZONTAL_ORIENTATION?(o=Math.floor(e/i),u=e-i*o):(u=Math.floor(e/s),o=e-u*s),{left:u*n,top:o*t,height:t,width:n}}}),Admin.MacRestrictionsKnobSetView=Admin.KnobSetView.extend({showKnobSetAdd:NO,contentView:Admin.KnobSetContentView.design({childViews:["mainSegmentedView","preferencesContainer","applicationsContainer","widgetsContainer","mediaContentContainer","sharingServicesContainer","desktopContainerView"],mainSegmentedView:SC.SegmentedView.design({layout:{centerX:0,width:parseFloat("_mac_restrictions_segment_view_width".loc()),top:5,height:SC.REGULAR_BUTTON_HEIGHT},itemTitleKey:"title",itemValueKey:"value",items:[{title:"_generic_string_Preferences".loc(),value:"preferences"},{title:"_generic_string_Applications".loc(),value:"applications"},{title:"_generic_string_Widgets".loc(),value:"widgets"},{title:"_generic_string_Media".loc(),value:"media"},{title:"_restrictions_tab_header_Sharing".loc(),value:"sharing_services"},{title:"_restrictions_tab_header_Desktop".loc(),value:"desktop"}],contentBinding:".owner.content",contentValueKey:"tabValue"}),preferencesContainer
:SC.View.design({contentBinding:".owner.content",layout:{centerX:20,width:Admin.KNOB_WIDTH,top:50},thirdPartyPreferencePaneQueryTimer:SC.Timer.schedule({action:function(){Admin.store.dataSource.addRpcs([["preference_pane","find_all",{locale:"_locale".loc()}]],NO)},interval:5e3,repeats:YES,isPaused:YES}),isVisibleInWindowObserver:function(){var e=this.get("isVisibleInWindow");this.get("thirdPartyPreferencePaneQueryTimer").set("isPaused",!e)}.observes("isVisible","isVisibleInWindow"),isVisible:function(){return this.get("tabValue")==="preferences"}.property("tabValue").cacheable(),tabValueBinding:".owner*content.tabValue",childViews:"restrictPreferencesContainer".w(),restrictPreferencesContainer:SC.View.design({layout:{centerX:0,width:Admin.KNOB_WIDTH,top:0},childViews:"restrictPreferences blacklistPrefPanes systemPreferencePaneLabel systemPreferencePaneGridView  thirdPartyPreferencePaneLabel thirdPartyPreferencePaneGridView enableAll enableNone".w(),contentBinding:".owner.content",restrictPreferences:Admin.BoldCheckboxViewAbsolute.design({layout:{width:Admin.KNOB_WIDTH,top:5,centerX:0,height:SC.REGULAR_BUTTON_HEIGHT},title:"_generic_string_Restrict items in system preferences".loc(),valueBinding:".owner*content.restrictPreferences"}),blacklistPrefPanes:SC.RadioView.design({layout:{top:30,left:20,width:Admin.KNOB_WIDTH,height:40},items:[{title:"_generic_string_enable selected items".loc(),value:NO},{title:"_generic_string_disable selected items".loc(),value:YES}],itemTitleKey:"title",itemValueKey:"value",layoutDirection:SC.LAYOUT_VERTICAL,contentBinding:".owner.owner.owner.content"
,contentValueKey:"blacklistPrefPanes",isEnabledBinding:".owner*content.restrictPreferences"}),enableAll:SC.ButtonView.design({layout:{right:90,width:parseFloat("_layout_enable_all_and_enable_none_buttons_width".loc()),top:15,bottom:10},controlSize:SC.SMALL_CONTROL_SIZE,isEnabledBinding:".owner*content.restrictPreferences",target:SC.outlet("owner.content"),action:"enablePrefsAll",title:"_generic_string_Select All".loc()}),enableNone:SC.ButtonView.design({layout:{right:90,width:parseFloat("_layout_enable_all_and_enable_none_buttons_width".loc()),top:45,bottom:10},controlSize:SC.SMALL_CONTROL_SIZE,isEnabledBinding:".owner*content.restrictPreferences",target:SC.outlet("owner.content"),action:"enablePrefsNone",title:"_generic_string_Select None".loc()}),systemPreferencePaneLabel:Admin.DescriptionLabelViewAbsolute.design({layout:{top:75,width:Admin.KNOB_WIDTH-40,centerX:0,height:20},value:"_generic_string_System Preference Panes".loc()}),systemPreferencePaneGridView:Admin.GridView.design({layout:{top:100,centerX:0,width:Admin.KNOB_WIDTH-40},isSelectable:NO,columnWidth:(Admin.KNOB_WIDTH-40)/2,rowHeight:25,contentBinding:SC.Binding.oneWay(".owner*content.systemPreferencePanesContent"),exampleView:SC.CheckboxView.design({classNames:["admin-background-color-white"],hasContentIcon:!0,contentIconKey:"icon",valueBinding:".content.show",contentTitleKey:"name",isEnabledBinding:SC.Binding.oneWay(".owner.isEnabled"),knobSetBinding:".owner.owner.content",target:SC.outlet("owner.owner.content"),action:"toggleShowValue"}),isEnabledBinding:SC.Binding.oneWay(".owner*content.restrictPreferences"),
orientation:SC.VERTICAL_ORIENTATION}),thirdPartyPreferencePaneLabel:Admin.DescriptionLabelViewAbsolute.design({layout:{height:20,centerX:0,width:Admin.KNOB_WIDTH-40},layoutObserver:function(){var e=this.getPath("owner.systemPreferencePaneGridView.layout");this.adjust({top:e.minHeight+e.top+5})}.observes("owner.systemPreferencePaneGridView.layout"),contentBinding:SC.Binding.oneWay(".owner*content.thirdPartyPreferencePaneContent"),isVisible:function(){var e=NO;return this.get("content")&&(e=this.getPath("content.length")>0),e}.property("content").cacheable(),value:"_generic_string_Third-party Preference Panes".loc()}),thirdPartyPreferencePaneGridView:Admin.GridView.design({layout:{centerX:0,width:Admin.KNOB_WIDTH-40},layoutObserver:function(){var e=this.getPath("owner.thirdPartyPreferencePaneLabel.layout");this.adjust({top:5+e.height+e.top})}.observes("owner.thirdPartyPreferencePaneLabel.layout"),isVisible:function(){var e=NO;return this.get("content")&&(e=this.getPath("content.length")>0),e}.property("content").cacheable(),isSelectable:NO,columnWidth:(Admin.KNOB_WIDTH-40)/2,rowHeight:25,contentBinding:SC.Binding.oneWay(".owner*content.thirdPartyPreferencePaneContent"),exampleView:SC.CheckboxView.design({classNames:["admin-background-color-white","third-party-preference-pane-list-item"],hasContentIcon:!0,contentIconKey:"iconValue",contentTitleKey:"name",valueBinding:".content.show",isEnabledBinding:SC.Binding.oneWay(".owner.isEnabled"),knobSetBinding:".owner.owner.content",target:SC.outlet("owner.owner.content"),action:"toggleShowValue"}),isEnabledBinding:SC.Binding.oneWay(".owner*content.restrictPreferences"
),orientation:SC.VERTICAL_ORIENTATION})})}),applicationsContainer:SC.View.design({layout:{centerX:0,width:Admin.KNOB_WIDTH,top:50},isVisible:function(){return this.get("tabValue")==="applications"}.property("tabValue").cacheable(),tabValueBinding:".owner*content.tabValue",childViews:["allowGameCenter","allowGameCenterMultiplayer","allowGameCenterAddingFriends","allowGameCenterAccountModification","allowAppStoreAppAdoptionView","allowSafariAutofillView","requireAdminPasswordForSoftwareUpdateView","restrictStoreToSoftwareUpdateOnly","restrictApps","applications","allowFolders","disallowFolders"],allowGameCenter:Admin.BoldCheckboxViewAbsolute.design({layout:{width:Admin.KNOB_WIDTH,height:25},useStaticLayout:YES,title:"_generic_string_Allow Game Center".loc(),contentBinding:".owner.owner.content",contentValueKey:"allowGameCenter"}),allowGameCenterMultiplayer:Admin.BoldCheckboxViewAbsolute.design({layout:{left:20,width:Admin.KNOB_WIDTH-20,height:25},useStaticLayout:YES,title:"_generic_string_Allow multiplayer gaming".loc(),contentBinding:".owner.owner.content",contentValueKey:"allowGameCenterMultiplayer",isEnabledBinding:".owner.allowGameCenter.value"}),allowGameCenterAddingFriends:Admin.BoldCheckboxViewAbsolute.design({layout:{left:20,width:Admin.KNOB_WIDTH-20,height:25},useStaticLayout:YES,title:"_generic_string_Allow adding Game Center friends".loc(),contentBinding:".owner.owner.content",contentValueKey:"allowGameCenterAddingFriends",isEnabledBinding:".owner.allowGameCenter.value"}),allowGameCenterAccountModification:Admin.BoldCheckboxViewAbsolute.design({layout:{left:20,width
:Admin.KNOB_WIDTH-20,height:25},useStaticLayout:YES,title:"_generic_string_Allow Game Center account modification".loc(),contentBinding:".owner.owner.content",contentValueKey:"allowGameCenterAccountModification",isEnabledBinding:".owner.allowGameCenter.value"}),allowAppStoreAppAdoptionView:Admin.BoldCheckboxViewAbsolute.design({layout:{width:Admin.KNOB_WIDTH-20,height:25},useStaticLayout:YES,title:"_generic_string_Allow App Store app adoption".loc(),contentBinding:".owner.owner.content",contentValueKey:"allowAppStoreAppAdoption"}),allowSafariAutofillView:Admin.BoldCheckboxViewAbsolute.design({layout:{width:Admin.KNOB_WIDTH-20,height:25},useStaticLayout:YES,title:"_mac_restrictions_string_Allow Safari to autofill user names and passwords".loc(),contentBinding:".owner.owner.content",contentValueKey:"safariAllowAutoFill"}),requireAdminPasswordForSoftwareUpdateView:Admin.BoldCheckboxViewAbsolute.design({layout:{width:Admin.KNOB_WIDTH-20,height:25},useStaticLayout:YES,title:"_generic_string_Require admin password to install or update apps".loc(),contentBinding:".owner.owner.content",contentValueKey:"requireAdminPasswordForSoftwareUpdate"}),restrictStoreToSoftwareUpdateOnly:Admin.BoldCheckboxViewAbsolute.design({layout:{width:Admin.KNOB_WIDTH-20,height:25},useStaticLayout:YES,title:"_generic_string_Restrict App Store to software updates only".loc(),contentBinding:".owner.owner.content",contentValueKey:"restrictStoreToSoftwareUpdateOnly"}),restrictApps:Admin.BoldCheckboxViewAbsolute.design({layout:{width:Admin.KNOB_WIDTH-20,height:25},useStaticLayout:YES,title:"_generic_string_Restrict which applications are allowed to launch"
.loc(),contentBinding:".owner.owner.content",contentValueKey:"restrictApps"}),applications:Admin.UnScrollableListView.extend({title:"_generic_string_Allow Applications:".loc(),description:"_generic_string_The user can always launch these applications".loc(),isEnabledBinding:".owner.restrictApps.value",addAction:"showSystemApplicationPicker",removeAction:"removeSelectedApplication",addTarget:"Admin",removeTarget:SC.outlet("owner.owner.content"),contentValueKey:"name",isEditable:NO,canEditContent:NO,exampleView:SC.ListItemView.extend({contentIconKey:"smallIcon",hasContentIcon:YES,isEditing:NO}),contentBinding:".owner.owner*content.applications",selectionBinding:".owner.owner*content.selectedApplication"}),allowFolders:Admin.UnScrollableNameListView.extend({title:"_generic_string_Allow Folders:".loc(),description:"_generic_string_The user can always launch applications in these folders".loc(),placeHolderString:"_generic_string_Directory Path".loc(),isEnabledBinding:".owner.restrictApps.value",isEditable:YES,canEditContent:YES,exampleView:SC.ListItemView.extend({icon:"admin-dock-icon-folder"}),contentBinding:".owner.owner*content.allowFolders"}),disallowFolders:Admin.UnScrollableNameListView.extend({title:"_generic_string_Disallow Folders:".loc(),description:"_generic_string_The user can never launch applications in these folders".loc(),placeHolderString:"_generic_string_Directory Path".loc(),isEnabledBinding:".owner.restrictApps.value",isEditable:YES,canEditContent:YES,exampleView:SC.ListItemView.extend({icon:"admin-dock-icon-folder"}),contentBinding:".owner.owner*content.disallowFolders"
})}),widgetsContainer:SC.View.design({layout:{centerX:0,width:Admin.KNOB_WIDTH,top:50},isVisible:function(){return this.get("tabValue")==="widgets"}.property("tabValue").cacheable(),tabValueBinding:".owner*content.tabValue",childViews:["restrictWidgets","widgets"],restrictWidgets:Admin.BoldCheckboxViewAbsolute.design({layout:{centerX:0,width:Admin.KNOB_WIDTH-40,top:5,height:SC.REGULAR_BUTTON_HEIGHT},title:"_generic_string_Allow only the following Dashboard widgets to run".loc(),contentBinding:".owner.owner.content",contentValueKey:"restrictWidgets"}),widgetsHeight:function(){return this.getPath("owner.content.widgetsHeight")},widgets:Admin.UnScrollableListViewV2.extend({listOffsetFunction:function(){return 35},listHeightFunction:function(){var e=this.get("owner");return e?e.widgetsHeight():0},isEnabledBinding:".owner.restrictWidgets.value",fieldTitle:"_generic_string_Allow Widgets:".loc(),fieldDescription:"_generic_string_The user can always run these widgets".loc(),addAction:"showWidgetPicker",removeAction:"removeSelectedWidget",addTarget:"Admin",removeTarget:SC.outlet("owner.owner.content"),contentValueKey:"name",isEditable:NO,canEditContent:NO,exampleView:SC.ListItemView.extend({contentIconKey:"smallIcon",hasContentIcon:YES,isEditing:NO}),contentBinding:".owner.owner*content.widgets",contentLengthBinding:".owner.owner*content.widgets.length",selectionBinding:".owner.owner*content.selectedWidget"})}),mediaContentContainer:SC.View.design({layout:{centerX:0,width:Admin.KNOB_WIDTH,height:720,top:50},isVisible:function(){return this.get("tabValue")==="media"}.property("tabValue"
).cacheable(),tabValueBinding:".owner*content.tabValue",childViews:["networkAccess","networkAccessDescription","networkAccessSettings","hardDiskTitle","hardDiskDescription","hardDiskSettings","removableDiscTitle","removableDiscDescription","removableDiscSettings","ejectMediaFieldView"],networkAccess:Admin.BoldLabelViewAbsolute.design({layout:{top:5,left:35,width:Admin.KNOB_WIDTH,height:40},value:"_generic_string_Network Access".loc()}),networkAccessDescription:Admin.DescriptionLabelViewAbsolute.design({layout:{top:25,left:35,width:Admin.KNOB_WIDTH,height:20},value:"_generic_string_Access settings for network media".loc()}),networkAccessSettings:SC.View.design({layout:{top:55,centerX:40,width:Admin.KNOB_WIDTH,height:30},childViews:"label1 allow1".w(),label1:Admin.BoldLabelViewAbsolute.design({layout:{top:0,left:0,width:130,height:40},textAlign:SC.ALIGN_RIGHT,value:"_generic_string_AirDrop:".loc()}),allow1:Admin.BoldCheckboxViewAbsolute.design({layout:{top:0,left:140,width:Admin.KNOB_WIDTH,height:20},title:"_generic_string_Allow".loc(),contentBinding:".owner.owner.owner.content",contentValueKey:"allowAirDrop"})}),hardDiskTitle:Admin.BoldLabelViewAbsolute.design({layout:{top:85,left:35,width:Admin.KNOB_WIDTH,height:40},value:"_generic_string_Hard Disk Media Access".loc()}),hardDiskDescription:Admin.DescriptionLabelViewAbsolute.design({layout:{top:105,left:35,width:Admin.KNOB_WIDTH,height:20},value:"_generic_string_Access settings for hard disk media".loc()}),hardDiskSettings:SC.View.design({layout:{top:135,centerX:40,width:Admin.KNOB_WIDTH,height:320},childViews:"label1 allow1 auth1 ro1 label2 allow2 auth2 ro2 label3 allow3 auth3 ro3 label4 allow4 auth4 ro4"
.w(),label1:Admin.BoldLabelViewAbsolute.design({layout:{top:0,left:0,width:130,height:40},textAlign:SC.ALIGN_RIGHT,value:"_generic_string_Internal Disks:".loc()}),allow1:Admin.BoldCheckboxViewAbsolute.design({layout:{top:0,left:140,width:Admin.KNOB_WIDTH,height:20},title:"_generic_string_Allow".loc(),contentBinding:".owner.owner.owner.content",contentValueKey:"allowInternalDisks"}),auth1:Admin.BoldCheckboxViewAbsolute.design({layout:{top:25,left:140,width:Admin.KNOB_WIDTH,height:20},title:"_generic_string_Require Authentication".loc(),isEnabledBinding:".owner.allow1.value",contentBinding:".owner.owner.owner.content",contentValueKey:"requireAuthInternalDisks"}),ro1:Admin.BoldCheckboxViewAbsolute.design({layout:{top:50,left:140,width:Admin.KNOB_WIDTH,height:20},title:"_generic_string_Read-Only".loc(),isEnabledBinding:".owner.allow1.value",contentBinding:".owner.owner.owner.content",contentValueKey:"readOnlyInternalDisks"}),label2:Admin.BoldLabelViewAbsolute.design({layout:{top:80,left:0,width:130,height:40},textAlign:SC.ALIGN_RIGHT,value:"_generic_string_External Disks:".loc()}),allow2:Admin.BoldCheckboxViewAbsolute.design({layout:{top:80,left:140,width:Admin.KNOB_WIDTH,height:20},title:"_generic_string_Allow".loc(),contentBinding:".owner.owner.owner.content",contentValueKey:"allowExternalDisks"}),auth2:Admin.BoldCheckboxViewAbsolute.design({layout:{top:105,left:140,width:Admin.KNOB_WIDTH,height:20},title:"_generic_string_Require Authentication".loc(),isEnabledBinding:".owner.allow2.value",contentBinding:".owner.owner.owner.content",contentValueKey:"requireAuthExternalDisks"})
,ro2:Admin.BoldCheckboxViewAbsolute.design({layout:{top:130,left:140,width:Admin.KNOB_WIDTH,height:20},title:"_generic_string_Read-Only".loc(),isEnabledBinding:".owner.allow2.value",contentBinding:".owner.owner.owner.content",contentValueKey:"readOnlyExternalDisks"}),label3:Admin.BoldLabelViewAbsolute.design({layout:{top:160,left:0,width:130,height:40},textAlign:SC.ALIGN_RIGHT,value:"_generic_string_Disk Images:".loc()}),allow3:Admin.BoldCheckboxViewAbsolute.design({layout:{top:160,left:140,width:Admin.KNOB_WIDTH,height:20},title:"_generic_string_Allow".loc(),contentBinding:".owner.owner.owner.content",contentValueKey:"allowDiskImages"}),auth3:Admin.BoldCheckboxViewAbsolute.design({layout:{top:185,left:140,width:Admin.KNOB_WIDTH,height:20},title:"_generic_string_Require Authentication".loc(),isEnabledBinding:".owner.allow3.value",contentBinding:".owner.owner.owner.content",contentValueKey:"requireAuthDiskImages"}),ro3:Admin.BoldCheckboxViewAbsolute.design({layout:{top:210,left:140,width:Admin.KNOB_WIDTH,height:20},title:"_generic_string_Read-Only".loc(),isEnabledBinding:".owner.allow3.value",contentBinding:".owner.owner.owner.content",contentValueKey:"readOnlyDiskImages"}),label4:Admin.BoldLabelViewAbsolute.design({layout:{top:240,left:0,width:130,height:40},textAlign:SC.ALIGN_RIGHT,value:"_generic_string_DVD-RAM:".loc()}),allow4:Admin.BoldCheckboxViewAbsolute.design({layout:{top:240,left:140,width:Admin.KNOB_WIDTH,height:20},title:"_generic_string_Allow".loc(),contentBinding:".owner.owner.owner.content",contentValueKey:"allowDVDRAM"}),auth4:Admin.BoldCheckboxViewAbsolute.design
({layout:{top:265,left:140,width:Admin.KNOB_WIDTH,height:20},title:"_generic_string_Require Authentication".loc(),isEnabledBinding:".owner.allow4.value",contentBinding:".owner.owner.owner.content",contentValueKey:"requireAuthDVDRAM"}),ro4:Admin.BoldCheckboxViewAbsolute.design({layout:{top:290,left:140,width:Admin.KNOB_WIDTH,height:20},title:"_generic_string_Read-Only".loc(),isEnabledBinding:".owner.allow4.value",contentBinding:".owner.owner.owner.content",contentValueKey:"readOnlyDVDRAM"})}),removableDiscTitle:Admin.BoldLabelViewAbsolute.design({layout:{top:455,left:35,width:Admin.KNOB_WIDTH,height:40},value:"_generic_string_Disc Media Access".loc()}),removableDiscDescription:Admin.DescriptionLabelViewAbsolute.design({layout:{top:475,left:35,width:Admin.KNOB_WIDTH,height:20},value:"_generic_string_Access settings for removable disc media".loc()}),removableDiscSettings:SC.View.design({layout:{top:505,centerX:40,width:Admin.KNOB_WIDTH,height:165},childViews:"label1 allow1 auth1 label2 allow2 auth2 label3 allow3 auth3".w(),label1:Admin.BoldLabelViewAbsolute.design({layout:{top:0,left:0,width:130,height:40},textAlign:SC.ALIGN_RIGHT,value:"_generic_string_CDs & CD-ROMs:".loc()}),allow1:Admin.BoldCheckboxViewAbsolute.design({layout:{top:0,left:140,width:Admin.KNOB_WIDTH,height:20},title:"_generic_string_Allow".loc(),contentBinding:".owner.owner.owner.content",contentValueKey:"allowCD"}),auth1:Admin.BoldCheckboxViewAbsolute.design({layout:{top:25,left:140,width:Admin.KNOB_WIDTH,height:20},title:"_generic_string_Require Authentication".loc(),isEnabledBinding:".owner.allow1.value",contentBinding
:".owner.owner.owner.content",contentValueKey:"requireAuthCD"}),label2:Admin.BoldLabelViewAbsolute.design({layout:{top:55,left:0,width:130,height:40},textAlign:SC.ALIGN_RIGHT,value:"_generic_string_DVDs:".loc()}),allow2:Admin.BoldCheckboxViewAbsolute.design({layout:{top:55,left:140,width:Admin.KNOB_WIDTH,height:20},title:"_generic_string_Allow".loc(),contentBinding:".owner.owner.owner.content",contentValueKey:"allowDVD"}),auth2:Admin.BoldCheckboxViewAbsolute.design({layout:{top:80,left:140,width:Admin.KNOB_WIDTH,height:20},title:"_generic_string_Require Authentication".loc(),isEnabledBinding:".owner.allow2.value",contentBinding:".owner.owner.owner.content",contentValueKey:"requireAuthDVD"}),label3:Admin.BoldLabelViewAbsolute.design({layout:{top:110,left:0,width:130,height:40},textAlign:SC.ALIGN_RIGHT,value:"_generic_string_Recordable Discs:".loc()}),allow3:Admin.BoldCheckboxViewAbsolute.design({layout:{top:110,left:140,width:Admin.KNOB_WIDTH,height:20},title:"_generic_string_Allow".loc(),contentBinding:".owner.owner.owner.content",contentValueKey:"allowRecordable"}),auth3:Admin.BoldCheckboxViewAbsolute.design({layout:{top:135,left:140,width:Admin.KNOB_WIDTH,height:20},title:"_generic_string_Require Authentication".loc(),isEnabledBinding:".owner.allow3.value",contentBinding:".owner.owner.owner.content",contentValueKey:"requireAuthRecordable"})}),ejectMediaFieldView:Admin.KnobSetCheckBoxFieldViewAbsolute.design({layout:{top:670,left:35,width:Admin.KNOB_WIDTH,height:50},label:"_generic_string_Eject at logout".loc(),description:"_generic_string_Eject all removable media at logout"
.loc(),contentBinding:".owner.owner.content",fieldContentValueKey:"shouldEjectAtLogout"})}),sharingServicesContainer:SC.View.design({layout:{centerX:0,width:Admin.KNOB_WIDTH,height:300,top:50},isVisible:function(){return this.get("tabValue")==="sharing_services"}.property("tabValue").cacheable(),tabValueBinding:".owner*content.tabValue",childViews:"selectSharingServicesLabel airdrop facebook twitter mail messages video addtoiphoto addtoaperture addtoreadinglist sinaweibo allowNewShareServices".w(),selectSharingServicesLabel:Admin.BoldLabelViewAbsolute.extend({layout:{top:0,centerX:0,width:Admin.KNOB_WIDTH,height:20},value:"_generic_string_Select services that should be available in the share menu".loc()}),airdrop:SC.CheckboxView.design({layout:{top:20,left:0,width:Admin.KNOB_WIDTH,height:20},title:"_generic_string_AirDrop".loc(),contentBinding:".owner.owner.content",contentValueKey:"airdropShareService"}),facebook:SC.CheckboxView.design({layout:{top:40,left:0,width:Admin.KNOB_WIDTH,height:20},title:"_generic_string_Facebook".loc(),contentBinding:".owner.owner.content",contentValueKey:"facebookShareService"}),twitter:SC.CheckboxView.design({layout:{top:60,left:0,width:Admin.KNOB_WIDTH,height:20},title:"_generic_string_Twitter".loc(),contentBinding:".owner.owner.content",contentValueKey:"twitterShareService"}),mail:SC.CheckboxView.design({layout:{top:80,left:0,width:Admin.KNOB_WIDTH,height:20},title:"_general_string_app_name_Mail".loc(),contentBinding:".owner.owner.content",contentValueKey:"mailShareService"}),messages:SC.CheckboxView.design({layout:{top:100,left:0,width:Admin
.KNOB_WIDTH,height:20},title:"_general_string_app_name_Messages".loc(),contentBinding:".owner.owner.content",contentValueKey:"messagesShareService"}),video:SC.CheckboxView.design({layout:{top:120,left:0,width:Admin.KNOB_WIDTH,height:20},title:"_general_string_Video Services - Flickr, Vimeo, Tudou and Youku".loc(),contentBinding:".owner.owner.content",contentValueKey:"videoShareService"}),addtoiphoto:SC.CheckboxView.design({layout:{top:140,left:0,width:Admin.KNOB_WIDTH,height:20},title:"_general_string_Add to iPhoto".loc(),contentBinding:".owner.owner.content",contentValueKey:"addtoiphotoShareService"}),addtoaperture:SC.CheckboxView.design({layout:{top:160,left:0,width:Admin.KNOB_WIDTH,height:20},title:"_general_string_Add to Aperture".loc(),contentBinding:".owner.owner.content",contentValueKey:"addtoapertureShareService"}),addtoreadinglist:SC.CheckboxView.design({layout:{top:180,left:0,width:Admin.KNOB_WIDTH,height:20},title:"_general_string_Add to Reading List".loc(),contentBinding:".owner.owner.content",contentValueKey:"addtoreadinglistShareService"}),sinaweibo:SC.CheckboxView.design({layout:{top:200,left:0,width:Admin.KNOB_WIDTH,height:20},title:"_general_string_chinese_blog_name_SinaWeibo".loc(),contentBinding:".owner.owner.content",contentValueKey:"sinaweiboShareService"}),allowNewShareServices:Admin.KnobSetCheckBoxFieldViewAbsolute.design({layout:{top:230,left:0,width:Admin.KNOB_WIDTH,height:50},label:"_generic_string_Enable New Share Services".loc(),description:"_generic_string_New share services will be enabled in the share menu automatically".loc(),contentBinding:".owner.owner.content"
,fieldContentValueKey:"allowNewShareServices"})}),desktopContainerView:SC.View.design({useStaticLayout:YES,layout:{top:50},isVisible:function(){return this.get("tabValue")==="desktop"}.property("tabValue").cacheable(),tabValueBinding:".owner*content.tabValue",childViews:"lockDesktopPictureView desktopPicturePathView".w(),lockDesktopPictureView:Admin.KnobSetCheckBoxFieldViewAbsolute.design({useStaticLayout:YES,layout:{width:Admin.KNOB_WIDTH,height:50},descriptionCenterX:20,label:"_generic_string_Lock Desktop Picture".loc(),description:"_lock_desktop_picture_description".loc(),contentBinding:".owner.owner.content",fieldContentValueKey:"lockDesktopPicture"}),desktopPicturePathView:Admin.KnobSetTextFieldView.design({useStaticLayout:YES,layout:{left:20,width:Admin.KNOB_WIDTH-20},isEnabledBinding:".owner.lockDesktopPictureView.fieldValue",title:"_generic_string_Picture Path".loc(),description:"_lock_desktop_picture_path_description".loc(),fieldHint:"_generic_string_optional".loc(),contentBinding:".owner.owner.content",fieldContentValueKey:"desktopPicturePath",applyImmediately:YES})})})}),Admin.SHARING_SERVICES=["com.apple.share.AirDrop","com.apple.share.Facebook","com.apple.share.Twitter","com.apple.share.Mail","com.apple.share.Messages","com.apple.share.Video","com.apple.share.SinaWeibo","com.apple.share.addtoiphoto","com.apple.share.addtoaperture","com.apple.share.readlater"],Admin.MacRestrictionsKnobSet=Admin.KnobSet.extend({tabValue:"preferences",allowGameCenter:SC.Record.attr(Boolean,{key:"GKFeatureGameCenterAllowed",defaultValue:YES}),allowGameCenterAccountModification:SC.Record
.attr(Boolean,{key:"GKFeatureAccountModificationAllowed",defaultValue:YES}),allowGameCenterAddingFriends:SC.Record.attr(Boolean,{key:"GKFeatureAddingGameCenterFriendsAllowed",defaultValue:YES}),allowGameCenterMultiplayer:SC.Record.attr(Boolean,{key:"GKFeatureMultiplayerGamingAllowed",defaultValue:YES}),_restrictAppStoreAppAdoption:SC.Record.attr(Boolean,{key:"restrict_store_disable_app_adoption",defaultValue:NO}),allowAppStoreAppAdoption:function(e,t){return t!==undefined&&this.set("_restrictAppStoreAppAdoption",!t),!this.get("_restrictAppStoreAppAdoption")}.property("_restrictAppStoreAppAdoption").cacheable(),safariAllowAutoFill:SC.Record.attr(Boolean,{key:"safariAllowAutoFill",defaultValue:YES}),requireAdminPasswordForSoftwareUpdate:SC.Record.attr(Boolean,{key:"restrict_store_require_admin_to_install",defaultValue:NO}),restrictStoreToSoftwareUpdateOnly:SC.Record.attr(Boolean,{key:"restrict_store_softwareupdate_only",defaultValue:NO}),applications:SC.Record.toMany("Admin.SystemApplication",{key:"system_applications"}),widgets:SC.Record.toMany("Admin.Widget",{key:"widgets"}),allowFolders:SC.Record.attr(Array,{key:"pathWhiteList",defaultValue:function(){return[]}}),disallowFolders:SC.Record.attr(Array,{key:"pathBlackList",defaultValue:function(){return[]}}),restrictApps:SC.Record.attr(Boolean,{key:"familyControlsEnabled",defaultValue:NO}),restrictWidgets:SC.Record.attr(Boolean,{key:"whiteListEnabled",defaultValue:NO}),selectedApplication:null,removeSelectedApplication:function(){var e=this.get("selectedApplication");e&&e.firstObject()&&(e=e.firstObject(),this.get("applications"
).removeObject(e))},selectedWidget:null,removeSelectedWidget:function(){var e=this.get("selectedWidget");e&&e.firstObject()&&(e=e.firstObject(),this.get("widgets").removeObject(e))},allowCD:SC.Record.attr(Boolean,{key:"cd_allow",defaultValue:YES}),requireAuthCD:SC.Record.attr(Boolean,{key:"cd_auth",defaultValue:NO}),allowDVD:SC.Record.attr(Boolean,{key:"dvd_allow",defaultValue:YES}),requireAuthDVD:SC.Record.attr(Boolean,{key:"dvd_auth",defaultValue:NO}),allowRecordable:SC.Record.attr(Boolean,{key:"recordable_allow",defaultValue:YES}),requireAuthRecordable:SC.Record.attr(Boolean,{key:"recordable_auth",defaultValue:NO}),allowInternalDisks:SC.Record.attr(Boolean,{key:"harddisk_internal_allow",defaultValue:YES}),requireAuthInternalDisks:SC.Record.attr(Boolean,{key:"harddisk_internal_auth",defaultValue:NO}),readOnlyInternalDisks:SC.Record.attr(Boolean,{key:"harddisk_internal_read_only",defaultValue:NO}),allowExternalDisks:SC.Record.attr(Boolean,{key:"harddisk_external_allow",defaultValue:YES}),requireAuthExternalDisks:SC.Record.attr(Boolean,{key:"harddisk_external_auth",defaultValue:NO}),readOnlyExternalDisks:SC.Record.attr(Boolean,{key:"harddisk_external_read_only",defaultValue:NO}),allowDiskImages:SC.Record.attr(Boolean,{key:"disk_image_allow",defaultValue:YES}),requireAuthDiskImages:SC.Record.attr(Boolean,{key:"disk_image_auth",defaultValue:NO}),readOnlyDiskImages:SC.Record.attr(Boolean,{key:"disk_image_read_only",defaultValue:NO}),allowDVDRAM:SC.Record.attr(Boolean,{key:"dvd_ram_allow",defaultValue:YES}),requireAuthDVDRAM:SC.Record.attr(Boolean,{key:"dvd_ram_auth",defaultValue
:NO}),readOnlyDVDRAM:SC.Record.attr(Boolean,{key:"dvd_ram_read_only",defaultValue:NO}),shouldEjectAtLogout:SC.Record.attr(Boolean,{key:"eject_at_logout",defaultValue:NO}),_disableAirDrop:SC.Record.attr(Boolean,{key:"DisableAirDrop",defaultValue:NO}),allowAirDrop:function(e,t){return t!==undefined&&this.set("_disableAirDrop",!t),!this.get("_disableAirDrop")}.property("_disableAirDrop").cacheable(),staticSystemPreferencePanes:[SC.Object.create({name:"_generic_string_Users & Groups".loc(),value:"com.apple.preferences.users",show:YES,icon:"admin-prefpane-icon-accounts"}),SC.Object.create({name:"_generic_string_General".loc(),value:"com.apple.preference.general",show:YES,icon:"admin-prefpane-icon-appearance"}),SC.Object.create({name:"_generic_string_Accessibility".loc(),value:"com.apple.preference.universalaccess",show:YES,icon:"admin-prefpane-icon-universal"}),SC.Object.create({name:"_generic_string_App Store".loc(),value:"com.apple.preferences.appstore",show:YES,icon:"admin-prefpane-icon-appstore"}),SC.Object.create({name:"_generic_string_Software Update".loc(),value:"com.apple.preferences.softwareupdate",show:YES,icon:"admin-prefpane-icon-software"}),SC.Object.create({name:"_generic_string_Bluetooth".loc(),value:"com.apple.preferences.Bluetooth",show:YES,icon:"admin-prefpane-icon-bluetooth"}),SC.Object.create({name:"_generic_string_CDs & DVDs".loc(),value:"com.apple.preference.digihub.discs",show:YES,icon:"admin-prefpane-icon-cds"}),SC.Object.create({name:"_generic_string_Date & Time".loc(),value:"com.apple.preference.datetime",show:YES,icon:"admin-prefpane-icon-date"}),SC.Object
.create({name:"_generic_string_Desktop & Screen Saver".loc(),value:"com.apple.preference.desktopscreeneffect",show:YES,icon:"admin-prefpane-icon-desktop"}),SC.Object.create({name:"_generic_string_Displays".loc(),value:"com.apple.preference.displays",show:YES,icon:"admin-prefpane-icon-displays"}),SC.Object.create({name:"_generic_string_Dock".loc(),value:"com.apple.preference.dock",show:YES,icon:"admin-prefpane-icon-dock"}),SC.Object.create({name:"_generic_string_Energy Saver".loc(),value:"com.apple.preference.energysaver",show:YES,icon:"admin-prefpane-icon-energy"}),SC.Object.create({name:"_generic_string_Extensions".loc(),value:"com.apple.preferences.extensions",show:YES,icon:"admin-prefpane-icon-extensions"}),SC.Object.create({name:"_generic_string_FibreChannel".loc(),value:"com.apple.prefpanel.fibrechannel",show:YES,icon:"admin-prefpane-icon-fibrechannel"}),SC.Object.create({name:"_generic_string_iCloud".loc(),value:"com.apple.preferences.icloud",show:YES,icon:"admin-prefpane-icon-icloud"}),SC.Object.create({name:"_generic_string_Ink".loc(),value:"com.apple.preference.ink",show:YES,icon:"admin-prefpane-icon-ink"}),SC.Object.create({name:"_generic_string_Internet Accounts".loc(),value:"com.apple.preferences.internetaccounts",show:YES,icon:"admin-prefpane-icon-internet"}),SC.Object.create({name:"_generic_string_Keyboard".loc(),value:"com.apple.preference.keyboard",show:YES,icon:"admin-prefpane-icon-keyboard"}),SC.Object.create({name:"_generic_string_Language & Text".loc(),value:"com.apple.Localization",show:YES,icon:"admin-prefpane-icon-localization"}),SC.Object.create({name
:"_generic_string_Mission Control".loc(),value:"com.apple.preference.expose",show:YES,icon:"admin-prefpane-icon-expose"}),SC.Object.create({name:"_generic_string_Mouse".loc(),value:"com.apple.preference.mouse",show:YES,icon:"admin-prefpane-icon-mouse"}),SC.Object.create({name:"_generic_string_Network".loc(),value:"com.apple.preference.network",show:YES,icon:"admin-prefpane-icon-network"}),SC.Object.create({name:"_generic_string_Notifications".loc(),value:"com.apple.preference.notifications",show:YES,icon:"admin-prefpane-icon-notifications"}),SC.Object.create({name:"_generic_string_Parental Controls".loc(),value:"com.apple.preferences.parentalcontrols",show:YES,icon:"admin-prefpane-icon-parental"}),SC.Object.create({name:"_generic_string_Printers & Scanners".loc(),value:"com.apple.preference.printfax",show:YES,icon:"admin-prefpane-icon-print"}),SC.Object.create({name:"_generic_string_Profiles".loc(),value:"com.apple.preferences.configurationprofiles",show:YES,icon:"admin-prefpane-icon-profiles"}),SC.Object.create({name:"_generic_string_Security & Privacy".loc(),value:"com.apple.preference.security",show:YES,icon:"admin-prefpane-icon-security"}),SC.Object.create({name:"_generic_string_Sharing".loc(),value:"com.apple.preferences.sharing",show:YES,icon:"admin-prefpane-icon-sharing"}),SC.Object.create({name:"_generic_string_Sound".loc(),value:"com.apple.preference.sound",show:YES,icon:"admin-prefpane-icon-sound"}),SC.Object.create({name:"_generic_string_Speech".loc(),value:"com.apple.preference.speech",show:YES,icon:"admin-prefpane-icon-speech"}),SC.Object.create({name:"_generic_string_Spotlight"
.loc(),value:"com.apple.preference.spotlight",show:YES,icon:"admin-prefpane-icon-spotlight"}),SC.Object.create({name:"_generic_string_Startup Disk".loc(),value:"com.apple.preference.startupdisk",show:YES,icon:"admin-prefpane-icon-startup"}),SC.Object.create({name:"_generic_string_Time Machine".loc(),value:"com.apple.prefs.backup",show:YES,icon:"admin-prefpane-icon-time"}),SC.Object.create({name:"_generic_string_Trackpad".loc(),value:"com.apple.preference.trackpad",show:YES,icon:"admin-prefpane-icon-trackpad"}),SC.Object.create({name:"_generic_string_Xsan".loc(),value:"com.apple.Xsan",show:YES,icon:"admin-prefpane-icon-xsan"})],systemPreferencePanesContent:function(){var e=this.get("staticSystemPreferencePanes"),t=this.get("prefPanes");if(this.get("restrictPreferences"))for(var n=0;n<e.length;n++){var r=t.indexOf(e[n].get("value"))>=0;e[n].set("show",r)}return e}.property("prefPanes").cacheable(),thirdPartyPreferencePanes:SC.ArrayController.create({content:Admin.store.find("Admin.PreferencePane")}),thirdPartyPreferencePaneContent:function(){var e=this.get("thirdPartyPreferencePanes"),t=this.get("prefPanes");if(this.get("restrictPreferences"))for(var n=0;n<e.get("length");n++){var r=t.indexOf(e.objectAt(n).get("value"))>=0;e.objectAt(n).set("show",r)}return e}.property("thirdPartyPreferencePanes","prefPanes").cacheable(),prefPaneObserver:function(){this.notifyPropertyChange("thirdPartyPreferencePanes")}.observes("thirdPartyPreferencePanes.[]"),toggleShowValue:function(e){var t=e.get("value"),n=e.getPath("content"),r=this.isPrefPaneEnabled(n),i=SC.clone(this.get("prefPanes"));t&&!
r?i.pushObject(n.get("value")):!t&&r&&i.removeObject(n.get("value")),this.set("prefPanes",i)},enablePrefsAll:function(){var e=[],t=this.get("systemPreferencePanesContent"),n=this.get("thirdPartyPreferencePaneContent");for(var r=0;r<t.length;r++)t[r].set("show",YES),e.push(t[r].get("value"));for(var r=0;r<n.get("length");r++)n.objectAt(r).set("show",YES),e.push(n.objectAt(r).get("value"));this.set("prefPanes",e)},enablePrefsNone:function(){var e=this.get("systemPreferencePanesContent"),t=this.get("thirdPartyPreferencePaneContent");for(var n=0;n<e.length;n++)e[n].set("show",NO);for(var n=0;n<t.get("length");n++)t.objectAt(n).set("show",NO);this.set("prefPanes",[])},isPrefPaneEnabled:function(e){var t=e.get("value"),n=this.get("prefPanes"),r=n.indexOf(t)>=0;return r},prefPanes:SC.Record.attr(Array,{key:"EnabledPreferencePanes",defaultValue:[]}),restrictPreferences:function(e,t){return t!==undefined&&(this.set("_restrictPreferences",t),this.enablePrefsAll()),this.get("_restrictPreferences")}.property("_restrictPreferences").cacheable(),_restrictPreferences:SC.Record.attr(Boolean,{key:"RestrictPrefPanes",defaultValue:NO}),blacklistPrefPanes:SC.Record.attr(Boolean,{key:"internal_use_flag_BlacklistPrefPanes",defaultValue:NO}),validatedProperties:{},disallowFoldersHeight:function(){var e=140,t=this.getPath("disallowFolders.length");return t>3&&(e=74+t*22),e}.property("disallowFolders").cacheable(),allowFoldersHeight:function(){var e=140,t=this.getPath("allowFolders.length");return t>3&&(e=74+t*22),e}.property("allowFolders").cacheable(),thirdPartyPreferencePaneHeight:function(){var e=0
,t=this.getPath("thirdPartyPreferencePaneContent.length");return t>0&&(e=30+25*Math.ceil(t/2)),e}.property("thirdPartyPreferencePanes").cacheable(),widgetsHeight:function(){return this.get("widgetsLength")>3?74+this.get("widgetsLength")*22:140}.property("widgetsLength").cacheable(),widgetsLengthBinding:".widgets.length",applicationsHeight:function(){return this.get("applicationsLength")>3?74+this.get("applicationsLength")*22:140}.property("applicationsLength").cacheable(),applicationsLengthBinding:".applications.length",heightObserver:function(){var e;this.get("tabValue")==="applications"?e=315+this.get("disallowFoldersHeight")+this.get("allowFoldersHeight")+this.get("applicationsHeight"):this.get("tabValue")==="media"?e=790:this.get("tabValue")==="preferences"?e=625+this.get("thirdPartyPreferencePaneHeight"):this.get("tabValue")==="sharing_services"?e=350:e=100+this.get("widgetsHeight"),this.setIfChanged("knobSetHeight",e)}.observes("tabValue","applicationsHeight","widgetsHeight","allowFoldersHeight","disallowFoldersHeight","thirdPartyPreferencePaneHeight"),_allowNewShareServices:SC.Record.attr(Boolean,{key:"internal_use_flag_AllowNewShareServices",defaultValue:NO}),allowNewShareServices:function(e,t){if(t!==undefined){this.set("_allowNewShareServices",t);var n=Admin.SHARING_SERVICES,r=this.get("_shkAllowedShareServices"),i=this.get("_shkDeniedShareServices");if(t===YES){var s=[];for(var o=0,u=n.length;o<u;o++){var a=n[o];r.lastIndexOf(a)==-1&&s.push(a)}this.set("_shkDeniedShareServices",s),this.set("_shkAllowedShareServices",null)}else{var f=[];for(var o=0,u=n.length;o<u;o++
){var a=n[o];i.lastIndexOf(a)==-1&&f.push(a)}this.set("_shkAllowedShareServices",f),this.set("_shkDeniedShareServices",null)}}return this.get("_allowNewShareServices")}.property(),_shkAllowedShareServices:SC.Record.attr(Array,{key:"SHKAllowedShareServices",defaultValue:Admin.SHARING_SERVICES}),_shkDeniedShareServices:SC.Record.attr(Array,{key:"SHKDeniedShareServices",defaultValue:null}),_updateShareService:function(e,t){var n=this.get("allowNewShareServices");if(n){var r=SC.clone(this.get("_shkDeniedShareServices")||[]);t===YES?r.removeObject(e):r.push(e),this.set("_shkDeniedShareServices",r)}else{var r=SC.clone(this.get("_shkAllowedShareServices"));t===YES?r.push(e):r.removeObject(e),this.set("_shkAllowedShareServices",r)}},_isShareServiceEnabled:function(e){var t=this.get("allowNewShareServices");return t?this.get("_shkDeniedShareServices").lastIndexOf(e)==-1:this.get("_shkAllowedShareServices").lastIndexOf(e)!==-1},airdropShareService:function(e,t){var n="com.apple.share.AirDrop";return t!==undefined&&this._updateShareService(n,t),this._isShareServiceEnabled(n)}.property("_shkAllowedShareServices","_shkDeniedShareServices"),facebookShareService:function(e,t){var n="com.apple.share.Facebook";return t!==undefined&&this._updateShareService(n,t),this._isShareServiceEnabled(n)}.property("_shkAllowedShareServices","_shkDeniedShareServices"),twitterShareService:function(e,t){var n="com.apple.share.Twitter";return t!==undefined&&this._updateShareService(n,t),this._isShareServiceEnabled(n)}.property("_shkAllowedShareServices","_shkDeniedShareServices"),mailShareService:function(e,
t){var n="com.apple.share.Mail";return t!==undefined&&this._updateShareService(n,t),this._isShareServiceEnabled(n)}.property("_shkAllowedShareServices","_shkDeniedShareServices"),messagesShareService:function(e,t){var n="com.apple.share.Messages";return t!==undefined&&this._updateShareService(n,t),this._isShareServiceEnabled(n)}.property("_shkAllowedShareServices","_shkDeniedShareServices"),videoShareService:function(e,t){var n="com.apple.share.Video";return t!==undefined&&this._updateShareService(n,t),this._isShareServiceEnabled(n)}.property("_shkAllowedShareServices","_shkDeniedShareServices"),sinaweiboShareService:function(e,t){var n="com.apple.share.SinaWeibo";return t!==undefined&&this._updateShareService(n,t),this._isShareServiceEnabled(n)}.property("_shkAllowedShareServices","_shkDeniedShareServices"),addtoiphotoShareService:function(e,t){var n="com.apple.share.addtoiphoto";return t!==undefined&&this._updateShareService(n,t),this._isShareServiceEnabled(n)}.property("_shkAllowedShareServices","_shkDeniedShareServices"),addtoapertureShareService:function(e,t){var n="com.apple.share.addtoaperture";return t!==undefined&&this._updateShareService(n,t),this._isShareServiceEnabled(n)}.property("_shkAllowedShareServices","_shkDeniedShareServices"),addtoreadinglistShareService:function(e,t){var n="com.apple.share.readlater";return t!==undefined&&this._updateShareService(n,t),this._isShareServiceEnabled(n)}.property("_shkAllowedShareServices","_shkDeniedShareServices"),lockDesktopPicture:SC.Record.attr(Boolean,{key:"lock_desktop_picture",defaultValue:NO}),_desktopPicturePath:SC.
Record.attr(String,{key:"override_picture_path"}),desktopPicturePath:function(e,t){return t!==undefined&&(t!==""?this.set("_desktopPicturePath",t.replace("\\ "," ")):this.set("_desktopPicturePath",null)),this.get("_desktopPicturePath")||""}.property("_desktopPicturePath").cacheable(),contentExampleView:Admin.MacRestrictionsKnobSetView}),Admin.MacRestrictionsKnobSet.displayName="_mac_restrictions_knob_set_name".loc(),Admin.MacRestrictionsKnobSet.largeIcon="admin-restrictions-knob-set-large-icon",Admin.MacRestrictionsKnobSet.numLines="_mac_restrictions_knob_set_num_lines".loc(),Admin.MacRestrictionsKnobSet.profilePropertyName="macRestrictionsKnobSets",SC.mixin(Admin.MacRestrictionsKnobSet,{sortOrder:14,platformTypes:"OSX"}),Admin.MacRestrictionsKnobSet.systemLevel=YES,Admin.MacRestrictionsKnobSet.userLevel=YES,Admin.MacRestrictionsKnobSet.settingTypeDescription="_mac_restrictions_knob_set_description".loc(),Admin.EnergySaverKnobSetView=Admin.KnobSetView.extend({showKnobSetAdd:NO,contentView:Admin.KnobSetContentView.design({childViews:["mainSegmentedView","portableSegmentedView","powerSettingsView","scheduleView"],mainSegmentedView:SC.SegmentedView.design({useStaticLayout:YES,classNames:["admin-margin-bottom-10"],itemTitleKey:"title",itemValueKey:"value",items:[{title:"_generic_string_Desktop".loc(),value:"desktop"},{title:"_generic_string_Portable".loc(),value:"portable"},{title:"_generic_string_Schedule".loc(),value:"schedule"}],contentBinding:".owner.content",contentValueKey:"tabValue"}),portableSegmentedView:SC.SegmentedView.design({useStaticLayout:YES,classNames:["admin-margin-bottom-10"
],isVisible:function(){return this.get("tabValue")==="portable"}.property("tabValue").cacheable(),tabValueBinding:".owner*content.tabValue",itemTitleKey:"title",itemValueKey:"value",items:[{title:"_generic_string_Battery".loc(),value:"battery"},{title:"_generic_string_Power Adapter".loc(),value:"adapter"}],contentBinding:".owner.content",contentValueKey:"powerSourceTabValue"}),powerSettingsView:SC.View.design({childViews:["powerSettingsTitle","computerSleepTimeout","displaySleepTimeout","diskSleep","wakeOptionsTitle","wakeOnLAN","sleepOnPowerButton","otherOptionsTitle","restartAutomatically"],useStaticLayout:YES,contentBinding:".owner.content",isVisible:function(){return this.get("tabValue")==="desktop"||this.get("tabValue")==="portable"}.property("tabValue").cacheable(),tabValueBinding:".*content.tabValue",timeFieldObjects:[{name:"_energy_saver_Never".loc(),value:0},{name:"_energy_saver_1 Minute".loc(),value:1},{name:"_energy_saver_2 Minutes".loc(),value:2},{name:"_energy_saver_3 Minutes".loc(),value:3},{name:"_energy_saver_5 Minutes".loc(),value:5},{name:"_energy_saver_10 Minutes".loc(),value:10},{name:"_energy_saver_20 Minutes".loc(),value:20},{name:"_energy_saver_30 Minutes".loc(),value:30},{name:"_energy_saver_45 Minutes".loc(),value:45},{name:"_energy_saver_1 Hour".loc(),value:60},{name:"_energy_saver_1 Hour 15 Minutes".loc(),value:75},{name:"_energy_saver_1 Hour 30 Minutes".loc(),value:90},{name:"_energy_saver_1 Hour 45 Minutes".loc(),value:105},{name:"_energy_saver_2 Hours".loc(),value:120}],powerSettingsTitle:Admin.KnobSetFieldView.design({title:"_generic_string_Sleep Options"
.loc(),description:"_generic_string_Put the computer to sleep after a period of inactivity".loc()}),computerSleepTimeout:Admin.KnobSetInlineSelectButtonFieldView.design({title:"_generic_string_Put the computer to sleep after:".loc(),titleLabelWidth:parseFloat("_layout_energy_saver_knob_set_power_settings_label_widths".loc()),buttonWidth:parseFloat("_layout_energy_saver_knob_set_select_button_width".loc()),fieldObjectsBinding:".owner.timeFieldObjects",fieldContentValueKey:"computerSleepTimeout"}),displaySleepTimeout:Admin.KnobSetInlineSelectButtonFieldView.design({title:"_generic_string_Put the display(s) to sleep after:".loc(),titleLabelWidth:parseFloat("_layout_energy_saver_knob_set_power_settings_label_widths".loc()),buttonWidth:parseFloat("_layout_energy_saver_knob_set_select_button_width".loc()),fieldObjectsBinding:".owner.timeFieldObjects",fieldContentValueKey:"displaySleepTimeout"}),diskSleep:Admin.BoldCheckboxView.design({title:"_generic_string_Put the hard disk(s) to sleep whenever possible".loc(),contentValueKey:"diskSleep"}),wakeOptionsTitle:Admin.KnobSetFieldView.design({title:"_generic_string_Wake Options".loc(),description:"_generic_string_Settings for waking the computer from sleep".loc(),classNames:["admin-margin-top-10"]}),wakeOnLAN:Admin.BoldCheckboxView.design({title:"_generic_string_Wake for Ethernet network administrator access".loc(),contentValueKey:"wakeOnLAN"}),sleepOnPowerButton:Admin.BoldCheckboxView.design({title:"_generic_string_Allow power button to sleep the computer".loc(),isVisible:function(){return this.get("tabValue")==="desktop"}.property("tabValue"
).cacheable(),tabValueBinding:".owner*content.tabValue",contentValueKey:"sleepOnPowerButton"}),otherOptionsTitle:Admin.KnobSetFieldView.design({title:"_generic_string_Other Options".loc(),description:"_generic_string_Additional power settings for the computer".loc(),classNames:["admin-margin-top-10"]}),restartAutomatically:Admin.BoldCheckboxView.design({title:"_generic_string_Start up automatically after a power failure".loc(),contentValueKey:"restartAutomatically"})}),scheduleView:SC.View.design({useStaticLayout:YES,layout:{height:130},isVisible:function(){return this.get("tabValue")==="schedule"}.property("tabValue").cacheable(),tabValueBinding:".owner*content.tabValue",childViews:"startupCbx startupDelay at1 startupHour startupColon startupMinute startupAMPM sleepCbx sleepBox sleepDelay at2 sleepHour sleepColon sleepMinute sleepAMPM".w(),startupCbx:Admin.BoldCheckboxViewAbsolute.design({layout:{left:0,width:180,top:0,height:30},title:"_generic_string_Start up the computer:".loc(),contentBinding:".owner.owner.content",contentValueKey:"powerOnComputer"}),startupDelay:SC.SelectButtonView.design({layout:{left:25,width:170,top:30,height:30},objects:[{name:"_generic_string_Weekdays".loc(),value:31},{name:"_generic_string_Weekends".loc(),value:96},{name:"_generic_string_Every Day".loc(),value:127},{name:"_generic_string_Monday".loc(),value:1},{name:"_generic_string_Tuesday".loc(),value:2},{name:"_generic_string_Wednesday".loc(),value:4},{name:"_generic_string_Thursday".loc(),value:8},{name:"_generic_string_Friday".loc(),value:16},{name:"_generic_string_Saturday".loc(),value:32},
{name:"_generic_string_Sunday".loc(),value:64}],nameKey:"name",valueKey:"value",isEnabledBinding:".owner.startupCbx.value",contentBinding:".owner.owner.content",contentValueKey:"powerOnDay"}),at1:SC.LabelView.design({layout:{left:205,width:20,top:33,height:30},isEnabledBinding:".owner.startupCbx.value",value:"_generic_string_at".loc()}),startupHour:SC.TextFieldView.design({layout:{left:230,width:24,top:31,height:20},isEnabledBinding:".owner.startupCbx.value",validator:Admin.LeadingZeroValidator.extend({maxValue:12,useLeadingZero:NO}),contentBinding:".owner.owner.content",contentValueKey:"startupHour"}),startupColon:SC.LabelView.design({layout:{left:255,width:10,top:32,height:20},isEnabledBinding:".owner.startupCbx.value",value:":"}),startupMinute:SC.TextFieldView.design({layout:{left:261,width:24,top:31,height:20},isEnabledBinding:".owner.startupCbx.value",validator:Admin.LeadingZeroValidator.extend({maxValue:59}),contentBinding:".owner.owner.content",contentValueKey:"startupMinutes"}),startupAMPM:SC.SelectButtonView.design({layout:{left:290,width:80,top:30,height:25},objects:[{name:"_generic_string_AM".loc(),value:0},{name:"_generic_string_PM".loc(),value:720}],nameKey:"name",valueKey:"value",titleMinWidth:0,isEnabledBinding:".owner.startupCbx.value",contentBinding:".owner.owner.content",contentValueKey:"startupAMPM"}),sleepCbx:Admin.BoldCheckboxViewAbsolute.design({layout:{left:0,width:30,top:68,height:30},title:"",contentBinding:".owner.owner.content",contentValueKey:"powerOffComputer"}),sleepBox:SC.SelectButtonView.design({layout:{left:25,width:170,top:65,height:25},objects
:[{name:"_generic_string_Sleep".loc(),value:"sleep"},{name:"_generic_string_Shut Down".loc(),value:"shutdown"}],nameKey:"name",valueKey:"value",contentBinding:".owner.owner.content",contentValueKey:"sleepShutdown"}),sleepDelay:SC.SelectButtonView.design({layout:{left:25,width:170,top:98,height:30},objects:[{name:"_generic_string_Weekdays".loc(),value:31},{name:"_generic_string_Weekends".loc(),value:96},{name:"_generic_string_Every Day".loc(),value:127},{name:"_generic_string_Monday".loc(),value:1},{name:"_generic_string_Tuesday".loc(),value:2},{name:"_generic_string_Wednesday".loc(),value:4},{name:"_generic_string_Thursday".loc(),value:8},{name:"_generic_string_Friday".loc(),value:16},{name:"_generic_string_Saturday".loc(),value:32},{name:"_generic_string_Sunday".loc(),value:64}],nameKey:"name",valueKey:"value",isEnabledBinding:".owner.sleepCbx.value",contentBinding:".owner.owner.content",contentValueKey:"powerOffDay"}),at2:SC.LabelView.design({layout:{left:205,width:20,top:101,height:30},isEnabledBinding:".owner.sleepCbx.value",value:"_generic_string_at".loc()}),sleepHour:SC.TextFieldView.design({layout:{left:230,width:24,top:99,height:20},isEnabledBinding:".owner.sleepCbx.value",validator:Admin.LeadingZeroValidator.extend({maxValue:12,useLeadingZero:NO}),contentBinding:".owner.owner.content",contentValueKey:"sleepHour"}),sleepColon:SC.LabelView.design({layout:{left:255,width:10,top:100,height:20},isEnabledBinding:".owner.sleepCbx.value",value:":"}),sleepMinute:SC.TextFieldView.design({layout:{left:261,width:24,top:99,height:20},isEnabledBinding:".owner.sleepCbx.value",validator
:Admin.LeadingZeroValidator.extend({maxValue:59}),contentBinding:".owner.owner.content",contentValueKey:"sleepMinutes"}),sleepAMPM:SC.SelectButtonView.design({layout:{left:290,width:80,top:98,height:25},objects:[{name:"_generic_string_AM".loc(),value:0},{name:"_generic_string_PM".loc(),value:720}],nameKey:"name",valueKey:"value",titleMinWidth:0,isEnabledBinding:".owner.sleepCbx.value",contentBinding:".owner.owner.content",contentValueKey:"sleepAMPM"})})})}),Admin.EnergySaverKnobSet=Admin.KnobSet.extend({tabValue:"desktop",powerSourceTabValue:"battery",_desktopEnergyProfileNumber:SC.Record.attr(Number,{key:"com_apple_EnergySaver_desktop_ACPower__ProfileNumber",defaultValue:-1}),_acPowerEnergyProfileNumber:SC.Record.attr(Number,{key:"com_apple_EnergySaver_portable_ACPower__ProfileNumber",defaultValue:-1}),_batteryEnergyProfileNumber:SC.Record.attr(Number,{key:"com_apple_EnergySaver_portable_BatteryPower__ProfileNumber",defaultValue:-1}),_desktopEnergy:SC.Record.attr(Object,{key:"com_apple_EnergySaver_desktop_ACPower",defaultValue:function(){return{"Automatic Restart On Power Loss":0,"Disk Sleep Timer-boolean":YES,"Display Sleep Timer":5,"Sleep On Power Button":1,"System Sleep Timer":10,"Wake On LAN":1}}}),_acPowerEnergy:SC.Record.attr(Object,{key:"com_apple_EnergySaver_portable_ACPower",defaultValue:function(){return{"Automatic Restart On Power Loss":0,"Disk Sleep Timer-boolean":YES,"Display Sleep Timer":5,"System Sleep Timer":10,"Wake On LAN":1}}}),_batteryEnergy:SC.Record.attr(Object,{key:"com_apple_EnergySaver_portable_BatteryPower",defaultValue:function(){return{"Automatic Restart On Power Loss"
:0,"Disk Sleep Timer-boolean":YES,"Display Sleep Timer":5,"System Sleep Timer":10,"Wake On LAN":1}}}),showMenuItem:SC.Record.attr(Boolean,{key:"com_apple_EnergySaver__ShowMenuBarBattery",defaultValue:null}),_schedule:SC.Record.attr(Object,{key:"com_apple_EnergySaver_desktop_Schedule",defaultValue:function(){return{}}}),_repeatingPowerOn:function(e,t){return this.packUnpackProperty("_schedule","RepeatingPowerOn",t)}.property("_schedule").cacheable(),_repeatingPowerOff:function(e,t){return this.packUnpackProperty("_schedule","RepeatingPowerOff",t)}.property("_schedule").cacheable(),defaultRepeatingPowerOn:{eventtype:"wakepoweron",time:0,weekdays:31},defaultRepeatingPowerOff:{eventtype:"sleep",time:0,weekdays:31},powerOnComputer:function(e,t){return t!==undefined&&this.set("_repeatingPowerOn",t?this.get("defaultRepeatingPowerOn"):null),this.get("_repeatingPowerOn")?YES:NO}.property("_repeatingPowerOn").cacheable(),powerOffComputer:function(e,t){return t!==undefined&&this.set("_repeatingPowerOff",t?this.get("defaultRepeatingPowerOff"):null),this.get("_repeatingPowerOff")?YES:NO}.property("_repeatingPowerOff").cacheable(),sleepShutdown:function(e,t){return this.get("powerOffComputer")?this.packUnpackProperty("_repeatingPowerOff","eventtype",t):this.packUnpackProperty("_repeatingPowerOff","eventtype")}.property("_repeatingPowerOff").cacheable(),powerOnDay:function(e,t){return this.get("powerOnComputer")?this.packUnpackProperty("_repeatingPowerOn","weekdays",t):this.packUnpackProperty("_repeatingPowerOn","weekdays")}.property("_repeatingPowerOn").cacheable(),powerOffDay:function(e,
t){return this.get("powerOffComputer")?this.packUnpackProperty("_repeatingPowerOff","weekdays",t):this.packUnpackProperty("_repeatingPowerOff","weekdays")}.property("_repeatingPowerOff").cacheable(),setKeyForCorrectPane:function(e,t){var n=this.get("tabValue")==="desktop",r=this.get("powerSourceTabValue")==="battery";return n?this.packUnpackProperty("_desktopEnergy",e,t):r?this.packUnpackProperty("_batteryEnergy",e,t):this.packUnpackProperty("_acPowerEnergy",e,t)},diskSleep:function(e,t){return this.setKeyForCorrectPane("Disk Sleep Timer-boolean",t)}.property("tabValue","powerSourceTabValue","_desktopEnergy","_acPowerEnergy","_batteryEnergy").cacheable(),wakeOnLAN:function(e,t){return t=t!==undefined?t?1:0:t,this.setKeyForCorrectPane("Wake On LAN",t)===1}.property("tabValue","powerSourceTabValue","_desktopEnergy","_acPowerEnergy","_batteryEnergy").cacheable(),restartAutomatically:function(e,t){return t=t!==undefined?t?1:0:t,this.setKeyForCorrectPane("Automatic Restart On Power Loss",t)===1}.property("tabValue","powerSourceTabValue","_desktopEnergy","_acPowerEnergy","_batteryEnergy").cacheable(),sleepOnPowerButton:function(e,t){return t=t!==undefined?t?1:0:t,this.packUnpackProperty("_desktopEnergy","Sleep On Power Button",t)===1}.property("_desktopEnergy").cacheable(),computerSleepTimeout:function(e,t){if(t!==undefined){var n=this.get("displaySleepTimeout");t!==0&&(t<n||n===0)&&this.set("displaySleepTimeout",t)}return this.setKeyForCorrectPane("System Sleep Timer",t)}.property("tabValue","powerSourceTabValue","_desktopEnergy","_acPowerEnergy","_batteryEnergy").cacheable(),displaySleepTimeout
:function(e,t){if(t!==undefined){var n=this.get("computerSleepTimeout");(t>n&&n!==0||t===0)&&this.set("computerSleepTimeout",t)}return this.setKeyForCorrectPane("Display Sleep Timer",t)}.property("tabValue","powerSourceTabValue","_desktopEnergy","_acPowerEnergy","_batteryEnergy").cacheable(),startupTime:function(e,t){return this.get("powerOnComputer")?this.packUnpackProperty("_repeatingPowerOn","time",t):this.packUnpackProperty("_repeatingPowerOn","time")}.property("_repeatingPowerOn").cacheable(),sleepTime:function(e,t){return this.get("powerOffComputer")?this.packUnpackProperty("_repeatingPowerOff","time",t):this.packUnpackProperty("_repeatingPowerOff","time")}.property("_repeatingPowerOff").cacheable(),startupHour:function(e,t){if(t!==undefined){var n=this.get("startupMinutes"),r=this.get("startupAMPM"),i=t%12*60+n+r;this.set("startupTime",i)}if(SC.none(this.get("startupTime")))return 12;var s=Math.floor(this.get("startupTime")/60);return s%12===0?12:s%12}.property("startupTime").cacheable(),startupMinutes:function(e,t){if(t!==undefined){var n=this.get("startupHour"),r=this.get("startupAMPM"),i=n%12*60+t+r;this.set("startupTime",i)}return SC.none(this.get("startupTime"))?0:this.get("startupTime")%60}.property("startupTime").cacheable(),startupAMPM:function(e,t){if(t!==undefined){var n=this.get("startupHour"),r=this.get("startupMinutes"),i=n%12*60+r+t;this.set("startupTime",i)}return SC.none(this.get("startupTime"))?0:this.get("startupTime")/720>=1?720:0}.property("startupTime").cacheable(),sleepHour:function(e,t){if(t!==undefined){var n=this.get("sleepMinutes"),r=this.get
("sleepAMPM"),i=t%12*60+n+r;this.set("sleepTime",i)}if(SC.none(this.get("sleepTime")))return 12;var s=Math.floor(this.get("sleepTime")/60);return s%12===0?12:s%12}.property("sleepTime").cacheable(),sleepMinutes:function(e,t){if(t!==undefined){var n=this.get("sleepHour"),r=this.get("sleepAMPM"),i=n%12*60+t+r;this.set("sleepTime",i)}return SC.none(this.get("sleepTime"))?0:this.get("sleepTime")%60}.property("sleepTime").cacheable(),sleepAMPM:function(e,t){if(t!==undefined){var n=this.get("sleepHour"),r=this.get("sleepMinutes"),i=n%12*60+r+t;this.set("sleepTime",i)}return SC.none(this.get("sleepTime"))?0:this.get("sleepTime")/720>=1?720:0}.property("sleepTime").cacheable(),contentExampleView:Admin.EnergySaverKnobSetView}),Admin.EnergySaverKnobSet.displayName="_energy_saver_knob_set_name".loc(),Admin.EnergySaverKnobSet.largeIcon="admin-energy-saver-knob-set-large-icon",Admin.EnergySaverKnobSet.numLines="_energy_saver_num_lines".loc(),Admin.EnergySaverKnobSet.profilePropertyName="energySaverKnobSets",SC.mixin(Admin.EnergySaverKnobSet,{sortOrder:21,platformTypes:"OSX"}),Admin.EnergySaverKnobSet.systemLevel=YES,Admin.EnergySaverKnobSet.userLevel=NO,Admin.EnergySaverKnobSet.settingTypeDescription="_energy_saver_knob_set_description".loc(),Admin.ParentalControlsKnobSetView=Admin.KnobSetView.extend({showKnobSetAdd:NO,contentView:Admin.KnobSetContentView.design({childViews:["mainSegmentedView","contentFilteringContainer","timeLimitsContainer"],mainSegmentedView:SC.SegmentedView.design({useStaticLayout:YES,classNames:["admin-margin-bottom-10"],itemTitleKey:"title",itemValueKey:"value",items
:[{title:"_generic_string_Content Filtering".loc(),value:"content"},{title:"_generic_string_Time Limits".loc(),value:"time"}],contentBinding:".owner.content",contentValueKey:"tabValue"}),contentFilteringContainer:SC.View.design({childViews:["disableDictation","hideProfanity","limitAccess","limitTypeSelect","allowURLs","disallowURLs","allowOnlyURLs"],useStaticLayout:YES,contentBinding:".owner.content",isVisible:function(){return this.get("tabValue")==="content"}.property("tabValue").cacheable(),tabValueBinding:".owner*content.tabValue",disableDictation:Admin.BoldCheckboxView.design({displayTitle:"_generic_string_Disable use of Dictation".loc(),contentValueKey:"disableDictation"}),hideProfanity:Admin.BoldCheckboxView.design({displayTitle:"_generic_string_Hide profanity in Dictionary".loc(),contentValueKey:"hideProfanity"}),limitAccess:Admin.BoldCheckboxView.design({displayTitle:"_generic_string_Limit Access to websites by".loc(),contentValueKey:"restrictWeb"}),limitTypeSelect:SC.RadioView.design({layout:{width:320,height:40,left:10},classNames:["admin-margin-bottom-5"],useStaticLayout:YES,items:[{name:"_generic_string_trying to limit access to adult websites".loc(),value:YES},{name:"_generic_string_allowing access to the following websites only".loc(),value:NO}],itemTitleKey:"name",itemValueKey:"value",layoutDirection:SC.LAYOUT_VERTICAL,isEnabledBinding:".owner.limitAccess.value",contentBinding:".owner.content",contentValueKey:"useContentFilter"}),allowURLs:Admin.UnScrollableNameListView.extend({title:"_generic_string_Allow URLs:".loc(),description:"_generic_string_The user can always access sites at these URLs"
.loc(),placeHolderString:"_generic_string_www.example.com".loc(),isEditable:YES,canEditContent:YES,isEnabledBinding:".owner.limitAccess.value",exampleView:SC.ListItemView.extend({icon:"admin-parental-icon-bookmark"}),contentBinding:".owner*content.allowURLs",isVisible:function(){return this.get("useContentFilter")}.property("useContentFilter").cacheable(),useContentFilterBinding:".owner.limitTypeSelect.value"}),disallowURLs:Admin.UnScrollableNameListView.extend({title:"_generic_string_Deny URLs:".loc(),description:"_generic_string_The user can never access sites at these URLs".loc(),placeHolderString:"_generic_string_www.example.com".loc(),isEditable:YES,canEditContent:YES,isEnabledBinding:".owner.limitAccess.value",contentBinding:".owner*content.disallowURLs",exampleView:SC.ListItemView.extend({icon:"admin-parental-icon-bookmark"}),isVisible:function(){return this.get("useContentFilter")}.property("useContentFilter").cacheable(),useContentFilterBinding:".owner.limitTypeSelect.value"}),allowOnlyURLs:Admin.UnScrollableNameListView.extend({title:"_generic_string_Allow only these URLs:".loc(),description:"_generic_string_The user can only access sites at these URLs".loc(),placeHolderString:"_generic_string_www.example.com".loc(),isEditable:YES,canEditContent:YES,isEnabledBinding:".owner.limitAccess.value",exampleView:SC.ListItemView.extend({icon:"admin-parental-icon-bookmark"}),contentBinding:".owner*content.allowOnlyURLs",isVisible:function(){return!this.get("useContentFilter")}.property("useContentFilter").cacheable(),useContentFilterBinding:".owner.limitTypeSelect.value"})})
,timeLimitsContainer:SC.View.design({childViews:["enforceTimeLimits","timeLimitSegmentView","allowancesContainer","curfewsContainer"],useStaticLayout:YES,contentBinding:".owner.content",isVisible:function(){return this.get("tabValue")==="time"}.property("tabValue").cacheable(),tabValueBinding:".owner*content.tabValue",enforceTimeLimits:Admin.BoldCheckboxView.design({title:"_generic_string_Enforce Limits".loc(),valueBinding:".owner*content.enforceTimeLimits"}),timeLimitSegmentView:SC.SegmentedView.design({useStaticLayout:YES,itemTitleKey:"title",itemValueKey:"value",items:[{title:"_generic_string_Allowances".loc(),value:"allowances"},{title:"_generic_string_Curfews".loc(),value:"curfews"}],isEnabledBinding:".owner*content.enforceTimeLimits",contentBinding:".owner.content",contentValueKey:"timeTabValue"}),allowancesContainer:SC.View.design({childViews:["weekdayAllowance","weekendAllowance"],classNames:["admin-margin-top-20"],useStaticLayout:YES,contentBinding:".owner.content",isVisible:function(){return this.get("timeTabValue")==="allowances"}.property("timeTabValue").cacheable(),timeTabValueBinding:".owner*content.timeTabValue",weekdayAllowance:Admin.KnobSetSelectButtonFieldView.design({title:"_generic_string_Weekdays".loc(),description:"_generic_string_Allow computer access Monday through Friday for the specified number of hours only.".loc(),buttonWidth:150,isEnabledBinding:".owner*content.enforceTimeLimits",fieldObjects:function(){var e=1800,t=3600,n=[{name:"_parental_controls_string_No Limit".loc(),value:0},{name:"_generic_string_30 minutes".loc(),value:e},{name:"_generic_string_1 hour"
.loc(),value:t},{name:"_generic_string_%@.5 hours".loc(1),value:t+e}];for(var r=2;r<9;r++)n.push({name:"_generic_string_%@ hours".loc(r),value:r*t}),r<8&&n.push({name:"_generic_string_%@.5 hours".loc(r),value:r*t+e});return n}.property().cacheable(),fieldContentValueKey:"weekdayTimeLimit"}),weekendAllowance:Admin.KnobSetSelectButtonFieldView.design({title:"_generic_string_Weekends".loc(),description:"_generic_string_Allow computer access Saturday and Sunday for the specified number of hours only.".loc(),buttonWidth:150,isEnabledBinding:".owner*content.enforceTimeLimits",fieldObjects:function(){var e=1800,t=3600,n=[{name:"_parental_controls_string_No Limit".loc(),value:0},{name:"_generic_string_30 minutes".loc(),value:e},{name:"_generic_string_1 hour".loc(),value:t},{name:"_generic_string_%@.5 hours".loc(1),value:t+e}];for(var r=2;r<9;r++)n.push({name:"_generic_string_%@ hours".loc(r),value:r*t}),r<8&&n.push({name:"_generic_string_%@.5 hours".loc(r),value:r*t+e});return n}.property().cacheable(),fieldContentValueKey:"weekendTimeLimit"})}),curfewsContainer:SC.View.design({layout:{height:200},childViews:["curfewLabel","curfewDescription","weekday","dayFrom","dayFromHour","dayFromColon","dayFromMinute","dayFromAMPM","dayTo","dayToHour","dayToColon","dayToMinute","dayToAMPM","weekend","endFrom","endFromHour","endFromColon","endFromMinute","endFromAMPM","endTo","endToHour","endToColon","endToMinute","endToAMPM"],useStaticLayout:YES,contentBinding:".owner.content",isVisible:function(){return this.get("timeTabValue")==="curfews"}.property("timeTabValue").cacheable(),timeTabValueBinding
:".owner*content.timeTabValue",isEnabledBinding:".owner*content.enforceTimeLimits",curfewLabel:Admin.BoldLabelViewAbsolute.design({layout:{left:0,right:0,top:20,height:SC.REGULAR_BUTTON_HEIGHT},isEnabledBinding:".owner.owner*content.enforceTimeLimits",value:"_generic_string_Deny Access".loc()}),curfewDescription:Admin.DescriptionLabelViewAbsolute.design({layout:{left:0,right:0,top:40,height:20},EnabledBinding:".owner.owner*content.enforceTimeLimits",value:"_generic_string_Prevent computer access during the specified days and hours.".loc()}),weekday:Admin.BoldCheckboxViewAbsolute.design({layout:{left:0,right:0,top:70,height:SC.REGULAR_BUTTON_HEIGHT},isEnabledBinding:".owner.owner*content.enforceTimeLimits",title:"_generic_string_Sunday through Thursday".loc(),valueBinding:".owner.owner*content.cerfewWeekdayEnabled"}),weekdayEnable:function(){return this.get("enableDay")&&this.get("enforce")}.property("enableDay","enforce").cacheable(),enableDayBinding:".owner*content.cerfewWeekdayEnabled",enforceBinding:".owner*content.enforceTimeLimits",weekendEnable:function(){return this.get("enableEnd")&&this.get("enforce")}.property("enableEnd","enforce").cacheable(),enableEndBinding:".owner*content.cerfewWeekendEnabled",dayFrom:Admin.BoldLabelViewAbsolute.design({layout:{left:20,right:0,top:100,height:SC.REGULAR_BUTTON_HEIGHT},isEnabledBinding:".owner.weekdayEnable",value:"_generic_string_From:".loc()}),dayFromHour:SC.TextFieldView.design({layout:{left:70,width:24,top:100,height:20},validator:Admin.LeadingZeroValidator.extend({maxValue:12,useLeadingZero:NO}),isEnabledBinding:".owner.weekdayEnable"
,contentBinding:".owner.owner.content",contentValueKey:"cerfewWeekdayFromHour"}),dayFromColon:SC.LabelView.design({layout:{left:95,width:10,top:101,height:20},isEnabledBinding:".owner.weekdayEnable",value:"_generic_string_:".loc()}),dayFromMinute:SC.TextFieldView.design({layout:{left:101,width:24,top:100,height:20},validator:Admin.LeadingZeroValidator.extend({maxValue:59}),isEnabledBinding:".owner.weekdayEnable",contentBinding:".owner.owner.content",contentValueKey:"cerfewWeekdayFromMinute"}),dayFromAMPM:SC.SelectButtonView.design({layout:{left:130,width:80,top:99,height:25},objects:[{name:"_generic_string_AM".loc(),value:"am"},{name:"_generic_string_PM".loc(),value:"pm"}],nameKey:"name",valueKey:"value",titleMinWidth:0,isEnabledBinding:".owner.weekdayEnable",contentBinding:".owner.owner.content",contentValueKey:"cerfewWeekdayFromAMPM"}),dayTo:Admin.BoldLabelViewAbsolute.design({layout:{left:215,right:0,top:100,height:SC.REGULAR_BUTTON_HEIGHT},isEnabledBinding:".owner.weekdayEnable",value:"_generic_string_to:".loc()}),dayToHour:SC.TextFieldView.design({layout:{left:245,width:24,top:99,height:20},isEnabledBinding:".owner.weekdayEnable",validator:Admin.LeadingZeroValidator.extend({maxValue:12,useLeadingZero:NO}),contentBinding:".owner.owner.content",contentValueKey:"cerfewWeekdayToHour"}),dayToColon:SC.LabelView.design({layout:{left:270,width:10,top:100,height:20},isEnabledBinding:".owner.weekdayEnable",value:"_generic_string_:".loc()}),dayToMinute:SC.TextFieldView.design({layout:{left:276,width:24,top:99,height:20},isEnabledBinding:".owner.weekdayEnable",validator:Admin.LeadingZeroValidator
.extend({maxValue:59}),contentBinding:".owner.owner.content",contentValueKey:"cerfewWeekdayToMinute"}),dayToAMPM:SC.SelectButtonView.design({layout:{left:305,width:80,top:98,height:25},objects:[{name:"_generic_string_AM".loc(),value:"am"},{name:"_generic_string_PM".loc(),value:"pm"}],nameKey:"name",valueKey:"value",titleMinWidth:0,isEnabledBinding:".owner.weekdayEnable",contentBinding:".owner.owner.content",contentValueKey:"cerfewWeekdayToAMPM"}),weekend:Admin.BoldCheckboxViewAbsolute.design({layout:{left:0,right:0,top:140,height:SC.REGULAR_BUTTON_HEIGHT},title:"_generic_string_Friday and Saturday".loc(),isEnabledBinding:".owner.owner*content.enforceTimeLimits",valueBinding:".owner.owner*content.cerfewWeekendEnabled"}),endFrom:Admin.BoldLabelViewAbsolute.design({layout:{left:20,right:0,top:170,height:SC.REGULAR_BUTTON_HEIGHT},isEnabledBinding:".owner.weekendEnable",value:"_generic_string_From:".loc()}),endFromHour:SC.TextFieldView.design({layout:{left:70,width:24,top:170,height:20},validator:Admin.LeadingZeroValidator.extend({maxValue:12,useLeadingZero:NO}),isEnabledBinding:".owner.weekendEnable",contentBinding:".owner.owner.content",contentValueKey:"cerfewWeekendFromHour"}),endFromColon:SC.LabelView.design({layout:{left:95,width:10,top:171,height:20},isEnabledBinding:".owner.weekendEnable",value:"_generic_string_:".loc()}),endFromMinute:SC.TextFieldView.design({layout:{left:101,width:24,top:170,height:20},isEnabledBinding:".owner.weekendEnable",validator:Admin.LeadingZeroValidator.extend({maxValue:59}),contentBinding:".owner.owner.content",contentValueKey:"cerfewWeekendFromMinute"
}),endFromAMPM:SC.SelectButtonView.design({layout:{left:130,width:80,top:169,height:25},objects:[{name:"_generic_string_AM".loc(),value:"am"},{name:"_generic_string_PM".loc(),value:"pm"}],nameKey:"name",valueKey:"value",titleMinWidth:0,isEnabledBinding:".owner.weekendEnable",contentBinding:".owner.owner.content",contentValueKey:"cerfewWeekendFromAMPM"}),endTo:Admin.BoldLabelViewAbsolute.design({layout:{left:215,right:0,top:170,height:SC.REGULAR_BUTTON_HEIGHT},value:"_generic_string_to:".loc()}),endToHour:SC.TextFieldView.design({layout:{left:245,width:24,top:170,height:20},isEnabledBinding:".owner.weekendEnable",validator:Admin.LeadingZeroValidator.extend({maxValue:12,useLeadingZero:NO}),contentBinding:".owner.owner.content",contentValueKey:"cerfewWeekendToHour"}),endToColon:SC.LabelView.design({layout:{left:270,width:10,top:171,height:20},isEnabledBinding:".owner.weekendEnable",value:"_generic_string_:".loc()}),endToMinute:SC.TextFieldView.design({layout:{left:276,width:24,top:170,height:20},isEnabledBinding:".owner.weekendEnable",validator:Admin.LeadingZeroValidator.extend({maxValue:59}),contentBinding:".owner.owner.content",contentValueKey:"cerfewWeekendToMinute"}),endToAMPM:SC.SelectButtonView.design({layout:{left:305,width:80,top:169,height:25},objects:[{name:"_generic_string_AM".loc(),value:"am"},{name:"_generic_string_PM".loc(),value:"pm"}],nameKey:"name",valueKey:"value",titleMinWidth:0,isEnabledBinding:".owner.weekendEnable",contentBinding:".owner.owner.content",contentValueKey:"cerfewWeekendToAMPM"})})})})}),Admin.ParentalControlsKnobSet=Admin.KnobSet.extend({tabValue
:"content",timeTabValue:"allowances",allowURLs:SC.Record.attr(Array,{key:"filterWhitelist"}),disallowURLs:SC.Record.attr(Array,{key:"filterBlacklist"}),allowOnlyURLs:SC.Record.attr(Array,{key:"siteWhitelist"}),_parentalControl:SC.Record.attr(Boolean,{key:"parentalControl"}),_profanityAllowed:SC.Record.attr(Boolean,{key:"profanity_allowed"}),hideProfanity:function(e,t){return t!==undefined&&(this.set("_parentalControl",t),this.set("_profanityAllowed",!t)),this.get("_parentalControl")&&!this.get("_profanityAllowed")}.property("_parentalControl","_profanityAllowed"),_ironwoodAllowed:SC.Record.attr(Boolean,{key:"dictation_allowed",defaultValue:YES}),disableDictation:function(e,t){return t!==undefined&&this.set("_ironwoodAllowed",!t),!this.get("_ironwoodAllowed")}.property("_ironwoodAllowed"),restrictWeb:SC.Record.attr(Boolean,{key:"restrictWeb",defaultValue:NO}),useContentFilter:function(e,t){return t!==undefined&&(this.set("_useContentFilter",t),this.set("whiteListEnabled",!t)),this.get("_useContentFilter")}.property("_useContentFilter").cacheable(),_useContentFilter:SC.Record.attr(Boolean,{key:"useContentFilter",defaultValue:YES}),whiteListEnabled:SC.Record.attr(Boolean,{key:"whiteListEnabled",defaultValue:NO}),enforceTimeLimits:SC.Record.attr(Boolean,{key:"familyControlsEnabled",defaultValue:NO}),weekdayTimeLimit:SC.Record.attr(Number,{key:"weekdayTimeLimit",defaultValue:18e3}),sliderWeekend:SC.Record.attr(Number,{key:"weekendTimeLimit",defaultValue:18e3}),cerfewWeekdayEnabled:SC.Record.attr(Boolean,{key:"cerfewWeekdayEnabled",defaultValue:NO}),cerfewWeekdayFromHour:SC.Record
.attr(Number,{key:"cerfewWeekdayFromHour",defaultValue:9}),cerfewWeekdayFromMinute:SC.Record.attr(Number,{key:"cerfewWeekdayFromMinute",defaultValue:0}),cerfewWeekdayFromAMPM:SC.Record.attr(String,{key:"cerfewWeekdayFromAMPM",defaultValue:"pm"}),cerfewWeekdayToHour:SC.Record.attr(Number,{key:"cerfewWeekdayToHour",defaultValue:7}),cerfewWeekdayToMinute:SC.Record.attr(Number,{key:"cerfewWeekdayToMinute",defaultValue:0}),cerfewWeekdayToAMPM:SC.Record.attr(String,{key:"cerfewWeekdayToAMPM",defaultValue:"am"}),cerfewWeekendEnabled:SC.Record.attr(Boolean,{key:"cerfewWeekendEnabled",defaultValue:NO}),cerfewWeekendFromHour:SC.Record.attr(Number,{key:"cerfewWeekendFromHour",defaultValue:9}),cerfewWeekendFromMinute:SC.Record.attr(Number,{key:"cerfewWeekendFromMinute",defaultValue:0}),cerfewWeekendFromAMPM:SC.Record.attr(String,{key:"cerfewWeekendFromAMPM",defaultValue:"pm"}),cerfewWeekendToHour:SC.Record.attr(Number,{key:"cerfewWeekendToHour",defaultValue:7}),cerfewWeekendToMinute:SC.Record.attr(Number,{key:"cerfewWeekendToMinute",defaultValue:0}),cerfewWeekendToAMPM:SC.Record.attr(String,{key:"cerfewWeekendToAMPM",defaultValue:"am"}),contentExampleView:Admin.ParentalControlsKnobSetView}),Admin.ParentalControlsKnobSet.displayName="_parental_controls_knob_set_name".loc(),Admin.ParentalControlsKnobSet.largeIcon="admin-parental-controls-knob-set-large-icon",Admin.ParentalControlsKnobSet.numLines="_parental_controls_knob_set_num_lines".loc(),Admin.ParentalControlsKnobSet.profilePropertyName="parentalControlsKnobSets",SC.mixin(Admin.ParentalControlsKnobSet,{sortOrder:22,platformTypes:"OSX"
}),Admin.ParentalControlsKnobSet.systemLevel=YES,Admin.ParentalControlsKnobSet.userLevel=YES,Admin.ParentalControlsKnobSet.settingTypeDescription="_parental_controls_knob_set_description".loc(),Admin.GATEKEEPER_ALL=0,Admin.GATEKEEPER_SIGNED=1,Admin.GATEKEEPER_MAS=2,Admin.PrivacyKnobSetView=Admin.KnobSetView.extend({showKnobSetAdd:NO,contentView:Admin.KnobSetContentView.design({layout:{height:370,width:Admin.KNOB_WIDTH+90,centerX:0},childViews:["privacySettingGroups","generalSettings","filevaultSettings","privacySettings"],privacySettingGroups:SC.SegmentedView.design({layout:{centerX:0,width:Admin.KNOB_WIDTH-40,top:5,height:SC.REGULAR_BUTTON_HEIGHT},itemTitleKey:"title",itemValueKey:"value",items:function(){var e=Admin.getPath("itemSelectionController.is_system_level");return e?[{title:"_generic_string_General (OS X Only)".loc(),value:"general"},{title:"_generic_string_FileVault (OS X Only)".loc(),value:"filevault"},{title:"_generic_string_Privacy".loc(),value:"privacy"}]:[{title:"_generic_string_General (OS X Only)".loc(),value:"general"},{title:"_generic_string_Privacy".loc(),value:"privacy"}]}.property(),contentBinding:".owner.content",contentValueKey:"tabValue"}),generalSettings:SC.View.design({useStaticLayout:YES,layout:{top:50,width:Admin.KNOB_WIDTH},childViews:["launchSecurityTitle","launchSecurityDescription","launchSecurityRadio","forceDisallowAppCheckBoxView","allowChangePasswordView","requirePasswordView","allowLockMessageView"],isVisible:function(){return this.get("tabValue")==="general"}.property("tabValue").cacheable(),tabValueBinding:".owner*content.tabValue",launchSecurityTitle
:Admin.BoldLabelView.design({isVisible:function(){return Admin.getPath("itemSelectionController.is_system_level")}.property().cacheable(),value:"_generic_string_Gatekeeper".loc()}),launchSecurityDescription:Admin.DescriptionLabelView.design({isVisible:function(){return Admin.getPath("itemSelectionController.is_system_level")}.property().cacheable(),value:"_generic_string_Allow applications downloaded from:".loc()}),launchSecurityRadio:SC.RadioView.design({useStaticLayout:YES,classNames:["admin-margin-top-5"],items:[{title:"_generic_string_Mac App Store".loc(),value:Admin.GATEKEEPER_MAS},{title:"_generic_string_Mac App Store and identified developers".loc(),value:Admin.GATEKEEPER_SIGNED},{title:"_generic_string_Anywhere".loc(),value:Admin.GATEKEEPER_ALL}],itemTitleKey:"title",itemValueKey:"value",isVisible:function(){return Admin.getPath("itemSelectionController.is_system_level")}.property().cacheable(),layoutDirection:SC.LAYOUT_VERTICAL,contentBinding:".owner.owner.content",contentValueKey:"restrictionLevel"}),forceDisallowAppCheckBoxView:Admin.KnobSetCheckBoxFieldView.design({classNames:["admin-margin-top-10"],title:"_generic_string_Do not allow user to override Gatekeeper setting".loc(),description:"_generic_string_Prevents the user from temporarily overriding the Gatekeeper setting by control-clicking to install any app".loc(),contentBinding:".owner.owner.content",fieldContentValueKey:"disableOverride"}),allowChangePasswordView:SC.CheckboxView.design({useStaticLayout:YES,classNames:["admin-margin-top-10"],title:"_generic_string_Allow user to change password".loc(),contentBinding
:".owner.owner.content",contentValueKey:"dontAllowPasswordResetUI"}),requirePasswordView:SC.View.design({useStaticLayout:YES,classNames:["admin-margin-top-10"],layout:{height:25},childViews:["requirePasswordHeadView","passwordDelayView","requirePasswordTailView"],requirePasswordHeadView:SC.CheckboxView.design({layout:{top:3,left:0,width:parseFloat("_layout_require_password_restriction_head_view_width".loc())},title:"_require_password_restriction_string_head_part_Require password".loc(),contentBinding:".owner.owner.owner.content",contentValueKey:"askForPassword"}),passwordDelayView:SC.SelectView.design({layout:{top:0,left:parseFloat("_layout_require_password_restriction_head_view_width".loc())+5,width:parseFloat("_layout_require_password_restriction_delay_width".loc())},itemTitleKey:"name",itemValueKey:"value",items:[{value:0,name:"_require_password_restriction_string_password_delay_option_immediately".loc()},{value:5,name:"_require_password_restriction_string_password_delay_option_5 seconds".loc()},{value:60,name:"_require_password_restriction_string_password_delay_option_1 minute".loc()},{value:300,name:"_require_password_restriction_string_password_delay_option_5 minutes".loc()},{value:900,name:"_require_password_restriction_string_password_delay_option_15 minutes".loc()},{value:3600,name:"_require_password_restriction_string_password_delay_option_1 hour".loc()},{value:14400,name:"_require_password_restriction_string_password_delay_option_4 hours".loc()},{value:28800,name:"_require_password_restriction_string_password_delay_option_8 hours".loc()}],contentBinding:".owner.owner.owner.content"
,contentValueKey:"askForPasswordDelay"}),requirePasswordTailView:SC.LabelView.design({layout:{left:parseFloat("_layout_require_password_restriction_delay_width".loc())+5+parseFloat("_layout_require_password_restriction_head_view_width".loc())+30,top:3},value:"_require_password_restriction_string_tail_part_after sleep or screen saver begins".loc()})}),allowLockMessageView:SC.CheckboxView.design({useStaticLayout:YES,classNames:["admin-margin-top-10"],title:"_generic_string_Allow user to set lock message".loc(),contentBinding:".owner.owner.content",contentValueKey:"dontAllowLockMessageUI"})}),filevaultSettings:SC.View.design({layout:{top:50,centerX:0,width:Admin.KNOB_WIDTH+90,height:600},isVisible:function(){return this.get("tabValue")==="filevault"}.property("tabValue").cacheable(),tabValueBinding:".owner*content.tabValue",childViews:["enableFileVault","recoveryKeyTypeView","certificate","destroyFVKeyOnStandbyView"],enableFileVault:Admin.KnobSetCheckBoxFieldViewAbsolute.design({layout:{top:0,left:0,width:Admin.KNOB_WIDTH+60,height:50},label:"_generic_string_Require FileVault".loc(),description:"_generic_string_If not already enabled, FileVault will be enabled at the next logout".loc(),contentBinding:".owner.owner.content",fieldContentValueKey:"enableFileVault"}),recoveryKeyTypeView:SC.RadioView.design({layout:{top:50,left:50,width:Admin.KNOB_WIDTH+60,height:60},itemTitleKey:"name",itemValueKey:"value",themeName:"square",items:[{value:"institutional",name:"_generic_string_Create institutional recovery user".loc()},{value:"personal",name:"_generic_string_Create a personal FileVault recovery key"
.loc()},{value:"personal_institutional",name:"_generic_string_Create a personal FileVault recovery key and use an institutional recovery key".loc()}],contentBinding:".owner.owner.content",contentValueKey:"recoveryKeyType",isEnabledBinding:".owner.enableFileVault.fieldValue"}),certificate:Admin.KnobSetButtonFieldView.design({layout:{top:120,left:25,width:Admin.KNOB_WIDTH+60,height:80},label:"_generic_string_Certificate".loc(),description:"_generic_string_Certificate that contains the public key from institutional recovery keychain".loc(),buttonWidth:Admin.KNOB_WIDTH-17,fieldObjectsBinding:".owner.owner*content.institutionalPublicKeyCertificates",fieldObjectsBindingDefault:SC.Binding.oneWay(),checkboxEnabled:NO,recoveryKeyTypeBinding:".owner.recoveryKeyTypeView.value",isEnabled:function(e,t){if(t!==undefined)throw SC.$error("isEnabled is ready only for %@".fmt(this.constructor));var n=this.get("recoveryKeyType");return n==="personal_institutional"||n==="institutional"}.property("recoveryKeyType").cacheable(),contentBinding:".owner.owner.content",fieldContentValueKey:"payloadCertificateUUID"}),destroyFVKeyOnStandbyView:Admin.KnobSetCheckBoxFieldViewAbsolute.design({layout:{top:210,left:0,width:Admin.KNOB_WIDTH+60,height:80},descriptionHeight:30,label:"_generic_string_Require user to unlock FileVault after hibernation".loc(),description:"_generic_string_The user will be required to unlock FileVault when the computer awakes from hibernation".loc(),contentBinding:".owner.owner.content",fieldContentValueKey:"destroyFVKeyOnStandby"})}),privacySettings:SC.View.design({childViews:"autoSubmit"
.w(),layout:{top:50,centerX:0,width:Admin.KNOB_WIDTH,height:70},isVisible:function(){return this.get("tabValue")==="privacy"}.property("tabValue").cacheable(),tabValueBinding:".owner*content.tabValue",autoSubmit:SC.CheckboxView.design({layout:{top:0,centerX:0,width:Admin.KNOB_WIDTH,height:70},title:"_generic_string_Allow sending diagnostic and usage data to Apple".loc(),contentBinding:".owner.owner.content",contentValueKey:"autoSubmit"})})})}),Admin.PrivacyKnobSet=Admin.KnobSet.extend({tabValue:"general",autoSubmit:SC.Record.attr(Boolean,{key:"AutoSubmit",defaultValue:YES}),_enableAssessment:SC.Record.attr(Boolean,{key:"EnableAssessment",defaultValue:function(){return Admin.getPath("itemSelectionController.is_system_level")?YES:null}}),_allowIdentifiedDevelopers:SC.Record.attr(Boolean,{key:"AllowIdentifiedDevelopers",defaultValue:function(){return Admin.getPath("itemSelectionController.is_system_level")?YES:null}}),restrictionLevel:function(e,t){if(t!==undefined){var n=t===Admin.GATEKEEPER_SIGNED||t===Admin.GATEKEEPER_MAS,r=t!==Admin.GATEKEEPER_MAS;this.set("_enableAssessment",n),this.set("_allowIdentifiedDevelopers",r)}return this.get("_enableAssessment")?this.get("_allowIdentifiedDevelopers")?Admin.GATEKEEPER_SIGNED:Admin.GATEKEEPER_MAS:Admin.GATEKEEPER_ALL}.property("_enableAssessment","_allowIdentifiedDevelopers").cacheable(),disableOverride:SC.Record.attr(Boolean,{key:"DisableOverride"}),_dontAllowPasswordResetUI:SC.Record.attr(Boolean,{key:"dontAllowPasswordResetUI",defaultValue:NO}),_changePasswordDisabled:SC.Record.attr(Boolean,{key:"ChangePasswordDisabled",defaultValue
:NO}),dontAllowPasswordResetUI:function(e,t){return t!==undefined&&(this.set("_dontAllowPasswordResetUI",!t),this.set("_changePasswordDisabled",!t)),!this.get("_dontAllowPasswordResetUI")}.property("_dontAllowPasswordResetUI").cacheable(),askForPassword:SC.Record.attr(Boolean,{key:"askForPassword",defaultValue:YES}),askForPasswordDelay:SC.Record.attr(Number,{key:"askForPasswordDelay",defaultValue:5}),_dontAllowLockMessageUI:SC.Record.attr(Boolean,{key:"dontAllowLockMessageUI",defaultValue:NO}),dontAllowLockMessageUI:function(e,t){return t!==undefined&&this.set("_dontAllowLockMessageUI",!t),!this.get("_dontAllowLockMessageUI")}.property("_dontAllowLockMessageUI").cacheable(),_enableFileVault:SC.Record.attr(String,{key:"Enable",defaultValue:"Off"}),_dontAllowFileVaultDisable:SC.Record.attr(Boolean,{key:"dontAllowFDEDisable",defaultValue:NO}),enableFileVault:function(e,t){if(t!==undefined){var n=t?"On":"Off";this.set("_enableFileVault",n),t===NO?(this.set("showRecoveryKey",t),this.set("useRecoveryKey",t),this.set("useKeychain",t)):(this.set("useKeychain",t),this.set("useRecoveryKey",NO)),this.set("_dontAllowFileVaultDisable",t)}return this.get("_enableFileVault")==="On"}.property("_enableFileVault"),deferFileVaultSetup:SC.Record.attr(Boolean,{key:"Defer",defaultValue:YES}),showRecoveryKey:SC.Record.attr(Boolean,{key:"ShowRecoveryKey"}),useRecoveryKey:SC.Record.attr(Boolean,{key:"UseRecoveryKey"}),userEntersMissingInfo:SC.Record.attr(Boolean,{key:"UserEntersMissingInfo",defaultValue:NO}),useKeychain:SC.Record.attr(Boolean,{key:"UseKeychain"}),recoveryKeyType:function(e,t){if(t!==
undefined)switch(t){case"personal":this.set("showRecoveryKey",YES),this.set("useRecoveryKey",YES),this.set("useKeychain",NO);break;case"institutional":this.set("useKeychain",YES),this.set("showRecoveryKey",NO),this.set("useRecoveryKey",NO);break;case"personal_institutional":this.set("showRecoveryKey",YES),this.set("useRecoveryKey",YES),this.set("useKeychain",YES)}var n=this.get("useRecoveryKey"),r=this.get("useKeychain"),i;return r&&n?i="personal_institutional":n?i="personal":r&&(i="institutional"),i}.property("useRecoveryKey","useKeychain").cacheable(),_payloadCertificateUUID:SC.Record.attr(String,{key:"PayloadCertificateUUID",defaultValue:null}),payloadCertificateUUID:function(e,t){return t!==undefined&&(t=t==="--none--"?null:t,this.set("_payloadCertificateUUID",t)),this.get("_payloadCertificateUUID")||"--none--"}.property("_payloadCertificateUUID").cacheable(),nonIdentityCertificateKnobSetsBinding:".profile.nonIdentityCertificateKnobSets",nonIdentityCertificateKnobSetsLengthBinding:".profile.nonIdentityCertificateKnobSets.length",institutionalPublicKeyCertificates:function(){var e=[],t=this.get("nonIdentityCertificateKnobSets"),n;if(t!==undefined)for(n=0;n<t.get("length");n++){var r=t.objectAt(n);r&&e.push(SC.Object.create({ref:r,nameBinding:".ref.displayName",value:r.get("payloadUUID")}))}return e.length===0&&e.push({name:"_generic_string_No applicable Certificate payload is configured".loc(),value:"--none--"}),e}.property("nonIdentityCertificateKnobSetsLength").cacheable(),destroyFVKeyOnStandby:SC.Record.attr(Boolean,{key:"DestroyFVKeyOnStandby",defaultValue:NO}),validatedProperties
:function(){var e={};return this.get("useKeychain")&&(e.payloadCertificateUUID=Admin.RequiredValidator.create({})),e}.property("useRecoveryKey","useKeychain"),contentExampleView:Admin.PrivacyKnobSetView}),Admin.PrivacyKnobSet.displayName="_privacy_knob_set_name".loc(),Admin.PrivacyKnobSet.largeIcon="admin-privacy-knob-set-large-icon",Admin.PrivacyKnobSet.numLines="_privacy_knob_set_num_lines".loc(),Admin.PrivacyKnobSet.profilePropertyName="privacyKnobSets",SC.mixin(Admin.PrivacyKnobSet,{sortOrder:12.3,platformTypes:"iOS OSX"}),Admin.PrivacyKnobSet.systemLevel=YES,Admin.PrivacyKnobSet.userLevel=YES,Admin.PrivacyKnobSet.settingTypeDescription="_privacy_knob_set_description".loc(),Admin.AdCertKnobSetView=Admin.KnobSetView.extend({contentView:Admin.KnobSetContentView.design({childViews:["descriptionField","certServerField","certificateAuthorityField","certificateTemplateField","CertificateRenewalTimeInterval","promptField","usernameField","passwordField","AllowAllAppsAccess","KeyIsExtractable"],descriptionField:Admin.KnobSetTextFieldView.design({title:"_generic_string_Description".loc(),description:"_generic_string_The description of the certificate request as shown in the certificate selector of other payloads such as VPN and Network".loc(),fieldHint:"_hint_required".loc(),fieldContentValueKey:"Description"}),certServerField:Admin.KnobSetTextFieldView.design({title:"_generic_string_Certificate Server".loc(),description:"_generic_string_The network address of the certificate server".loc(),fieldHint:"_hint_required".loc(),fieldContentValueKey:"CertServer"}),certificateAuthorityField
:Admin.KnobSetTextFieldView.design({title:"_generic_string_Certificate Authority".loc(),description:"_generic_string_The name of the CA".loc(),fieldHint:"_generic_string_required".loc(),fieldContentValueKey:"CertificateAuthority"}),certificateTemplateField:Admin.KnobSetTextFieldView.design({title:"_generic_string_Certificate Template".loc(),description:"_generic_string_The name of the certificate template, usually Machine or User".loc(),fieldHint:"_generic_string_required".loc(),fieldContentValueKey:"CertTemplate"}),CertificateRenewalTimeInterval:Admin.KnobSetTextFieldView.design({title:"_ad_cert_string_Certificate Expiration Notification Threshold".loc(),description:"_ad_cert_string_The number of days before the certificate expires at which to start showing the expiration notification".loc(),fieldWidth:40,applyImmediately:NO,fieldContentValueKey:"CertificateRenewalTimeInterval"}),promptField:Admin.KnobSetCheckBoxFieldView.design({title:"_generic_string_Prompt for credentials".loc(),description:"_generic_string_Prompt the user for credentials.  This setting is not supported for pushed profiles".loc(),fieldContentValueKey:"PromptForCredentials"}),usernameField:Admin.KnobSetTextFieldView.design({title:"_generic_string_Username".loc(),description:"_generic_string_The username with which to authenticate to the certificate server".loc(),isEnabled:function(){return!this.get("prompt")}.property("prompt").cacheable(),promptBinding:".owner*content.PromptForCredentials",fieldHint:"_knob_set_view_optional_hint".loc(),fieldContentValueKey:"UserName"}),passwordField:Admin.KnobSetSecureTextFieldView
.design({title:"_generic_string_Password".loc(),description:"_generic_string_The password with which to authenticate to the certificate server".loc(),isEnabled:function(){return!this.get("prompt")}.property("prompt").cacheable(),promptBinding:".owner*content.PromptForCredentials",fieldHint:"_knob_set_view_optional_hint".loc(),fieldContentValueKey:"Password"}),AllowAllAppsAccess:Admin.KnobSetCheckBoxFieldView.design({title:"_ad_cert_string_Allow access to all applications".loc(),description:"_ad_cert_string_Allow all applications to access the certificate in the keychain".loc(),fieldContentValueKey:"AllowAllAppsAccess"}),KeyIsExtractable:Admin.KnobSetCheckBoxFieldView.design({title:"_ad_cert_string_Allow export from keychain".loc(),description:"_ad_cert_string_Allow admin to export private key from the keychain".loc(),fieldContentValueKey:"KeyIsExtractable"})})}),Admin.AdCertKnobSet=Admin.KnobSet.extend({init:function(){arguments.callee.base.apply(this,arguments);var e=this.get("profile");e&&!this.get("profileObserverSet")&&(this.addObserver("firstCertIsIdentity",e,e._updateIdentityCerts),this.set("profileObserverSet",YES))},certDisplayName:function(){var e=this.get("Description")||"-";return"AD Certificate: %@".fmt(e)}.property("Description").cacheable(),Description:SC.Record.attr(String,{key:"Description"}),CertServer:SC.Record.attr(String,{key:"CertServer"}),CertTemplate:SC.Record.attr(String,{key:"CertTemplate",defaultValue:function(){return Admin.getPath("itemSelectionController.is_system_level")?"_ad_cert_Machine".loc():"_ad_cert_User".loc()}}),CertificateAuthority:SC.Record
.attr(String,{key:"CertificateAuthority"}),CertificateAcquisitionMechanism:SC.Record.attr(String,{key:"CertificateAcquisitionMechanism",defaultValue:"RPC"}),_CertificateRenewalTimeInterval:SC.Record.attr(Number,{key:"CertificateRenewalTimeInterval",defaultValue:14}),CertificateRenewalTimeInterval:function(e,t){return t!==undefined&&parseInt(t,10)>=14&&this.set("_CertificateRenewalTimeInterval",t),this.get("_CertificateRenewalTimeInterval")}.property("_CertificateRenewalTimeInterval").cacheable(),UserName:SC.Record.attr(String,{key:"UserName"}),Password:SC.Record.attr(String,{key:"Password"}),PromptForCredentials:function(e,t){return t!==undefined&&(this.set("_PromptForCredentials",t),t===!0&&(this.set("UserName",null),this.set("Password",null))),this.get("_PromptForCredentials")}.property("_PromptForCredentials").cacheable(),autoPushObserver:function(){this.isAutoPush&&this.get("PromptForCredentials")&&this.set("PromptForCredentials",!1)}.observes("isAutoPush"),isAutoPushBinding:"Admin.itemSelectionController.isManaged",_PromptForCredentials:SC.Record.attr(Boolean,{key:"PromptForCredentials",defaultValue:NO}),AllowAllAppsAccess:SC.Record.attr(Boolean,{key:"AllowAllAppsAccess",defaultValue:NO}),KeyIsExtractable:SC.Record.attr(Boolean,{key:"KeyIsExtractable",defaultValue:NO}),profileObserver:function(){var e=this.get("profile");e&&!this.get("profileObserverSet")&&(this.get("payloadUUID")||this.set("payloadUUID",Admin.generateUUID()),this.addObserver("firstCertIsIdentity",e,e._updateIdentityCerts),this.set("profileObserverSet",YES))}.observes(".profile"),profileObserverSet:NO,validatedProperties
:function(e,t){if(t!==undefined)throw SC.$error("validatedProperties is ready only for %@".fmt(this.constructor));var n={CertServer:Admin.RequiredValidator.create({}),Description:Admin.RequiredValidator.create({}),CertificateAuthority:Admin.RequiredValidator.create({}),CertTemplate:Admin.RequiredValidator.create({})};return n}.property("PromptForCredentials").cacheable(),contentExampleView:Admin.AdCertKnobSetView}),Admin.AdCertKnobSet.displayName="_ad_cert_knob_set_name".loc(),Admin.AdCertKnobSet.largeIcon="admin-ad-cert-knob-set-large-icon",Admin.AdCertKnobSet.numLines="_cal_dav_knob_set_num_lines".loc(),Admin.AdCertKnobSet.profilePropertyName="adCertKnobSets",SC.mixin(Admin.AdCertKnobSet,{sortOrder:15,platformTypes:"OSX"}),Admin.AdCertKnobSet.systemLevel=YES,Admin.AdCertKnobSet.userLevel=YES,Admin.AdCertKnobSet.settingTypeDescription="_ad_cert_knob_set_description".loc(),Admin.CFPREFS_DATA_STR="__data_:__base_64_;",Admin.CFPREFS_DATE_STR="__date_:__ISO8601_;",Admin.CfprefsExampleView=SC.View.extend(SC.CollectionContent,SC.TreeItemContent,SC.Control,{layout:{left:0,right:0,height:22},childViews:["triangle","label","button","itemCount","checkbox","uploadButton","uploadData","uploadView","valueLabel","dateTimeView"],outlineIndent:16,outlineLevel:0,disclosureState:SC.LEAF_NODE,triangle:SC.DisclosureView.design({layout:function(){return{left:2+this.get("outlineLevel")*12,centerY:4,width:12,height:22}}.property("outlineLevel").cacheable(),outlineLevelBinding:".owner.outlineLevel",outlineLevelBindingDefault:SC.Binding.oneWay(),isVisible:function(){return this.get("dataType")==="array"||
this.get("dataType")==="dictionary"}.property("dataType").cacheable(),dataTypeBinding:".owner.content.type",dataTypeBindingDefault:SC.Binding.oneWay(),valueBinding:".owner.content.treeItemIsExpanded"}),label:SC.LabelView.design({layout:function(){return{left:15+this.get("outlineLevel")*12,centerY:3,width:160-(14+this.get("outlineLevel")*12),height:20}}.property("outlineLevel").cacheable(),classNames:"admin-cfprefs-knob-set-ellipsis".w(),exampleEditor:SC.InlineTextFieldView.extend({classNames:"nobounce22-label-view".w()}),outlineLevelBinding:".owner.outlineLevel",outlineLevelBindingDefault:SC.Binding.oneWay(),mouseDown:function(){var e=this.getPath("owner.owner.owner.content.rootController");return e&&e.selectObject(this.getPath("owner.content")),this.get("isEditable")&&this.beginEditing(),YES},ownerIsSelectedBinding:".owner.isSelected",isEditableBinding:".owner.content.titleIsEditable",valueBinding:".owner.content.title"}),button:SC.SelectButtonView.design({layout:{left:160,width:0+parseFloat("_layout_cfprefs_value_type_button_width".loc()),centerY:2,height:22},titleMinWidth:0,objects:[{title:"_generic_string_Array".loc(),value:"array"},{title:"_generic_string_Dictionary".loc(),value:"dictionary"},{title:"_generic_string_Boolean".loc(),value:"boolean"},{title:"_generic_string_Data".loc(),value:"data"},{title:"_generic_string_Date".loc(),value:"date"},{title:"_generic_string_Number".loc(),value:"number"},{title:"_generic_string_String".loc(),value:"string"}],nameKey:"title",valueKey:"value",controlSize:SC.SMALL_CONTROL_SIZE,valueBinding:".owner.content.type"}),itemCount:Admin
.DescriptionLabelViewAbsolute.design({layout:{left:160+parseFloat("_layout_cfprefs_value_type_button_width".loc()),right:0,centerY:3,height:22},isEditable:NO,isVisible:function(){return this.get("dataType")==="array"||this.get("dataType")==="dictionary"}.property("dataType").cacheable(),dataTypeBinding:".owner.content.type",dataTypeBindingDefault:SC.Binding.oneWay(),treeItemChildrenLengthBinding:".owner.content.treeItemChildrenLength",treeItemChildrenLengthBindingDefault:SC.Binding.oneWay(),value:function(){return"_prefs_list_item_count".loc(this.get("treeItemChildrenLength")||0)}.property("treeItemChildrenLength").cacheable()}),checkbox:SC.CheckboxView.design({layout:{left:160+parseFloat("_layout_cfprefs_value_type_button_width".loc())-4,width:25,centerY:3,height:22},isVisible:function(){return this.get("dataType")==="boolean"}.property("dataType").cacheable(),dataTypeBinding:".owner.content.type",dataTypeBindingDefault:SC.Binding.oneWay(),valueBinding:".owner.content.value"}),removeUploadData:function(){var e=this.get("content");e.set("value",Admin.CFPREFS_DATA_STR)},uploadButton:SC.ButtonView.design({layout:{right:2,width:0+parseFloat("_layout_cfprefs_line_item_upload_button_width".loc()),centerY:2,height:22},titleMinWidth:0,controlSize:SC.TINY_CONTROL_SIZE,isVisible:function(){return this.get("dataType")==="data"}.property("dataType").cacheable(),dataTypeBinding:".owner.content.type",dataTypeBindingDefault:SC.Binding.oneWay(),target:SC.outlet("owner"),action:"removeUploadData",hasEmptyDataBinding:".owner.hasEmptyData",hasEmptyDataBindingDefault:SC.Binding.oneWay(),title:
function(){return this.get("hasEmptyData")?"_generic_string_Upload...".loc():"_generic_string_Remove".loc()}.property("hasEmptyData").cacheable()}),uploadData:Admin.DescriptionLabelViewAbsolute.design({layout:{left:160+parseFloat("_layout_cfprefs_value_type_button_width".loc()),right:72,centerY:4,height:22},titleMinWidth:0,isVisible:function(){return this.get("dataType")==="data"}.property("dataType").cacheable(),dataTypeBinding:".owner.content.type",dataTypeBindingDefault:SC.Binding.oneWay(),isEditable:NO,value:function(){return this.get("hasEmptyData")?"_generic_string_No Data".loc():" < … >"}.property("hasEmptyData").cacheable(),hasEmptyDataBinding:".owner.hasEmptyData",hasEmptyDataBindingDefault:SC.Binding.oneWay()}),uploadView:Admin.UploadView.extend({layout:{right:parseFloat("_layout_cfprefs_value_type_button_width".loc()),left:160+parseFloat("_layout_cfprefs_value_type_button_width".loc()),height:20},dataObserver:function(){this.setIfChanged("isVisible",this.get("contentType")==="data"),this.get("hasEmptyData")?this.adjust("right",0):this.adjust("right",parseFloat("_layout_cfprefs_line_item_upload_button_width".loc())+2)}.observes("hasEmptyData","contentType"),hasEmptyDataBinding:".owner.hasEmptyData",contentTypeBinding:".owner.content.type",supportedFilenameExtensions:null,lastUploadedFileDidChange:function(){Admin.store.dataSource.addRpcs([["file","get_max_size_file_data_as_base64",this.getPath("lastUploadedFile.id")]],NO),this.get("lastUploadedFile").addObserver("fileData",this,"fileDataObtained"),this.getPath("owner.owner.content").set("pendingFile",this.get("lastUploadedFile"
))}.observes("lastUploadedFile"),fileDataObtained:function(){var e=this.get("lastUploadedFile");e.removeObserver("fileData",this,"fileDataObtained");var t=Admin.CFPREFS_DATA_STR+e.get("fileData");this.get("content").set("value",t)},mouseDown:function(e){return e.allowDefault(),YES},content:SC.outlet("owner.content")}),dateTimeView:SC.DateFieldView.design({layout:{left:160+parseFloat("_layout_cfprefs_value_type_button_width".loc()),right:3,centerY:0,height:18},showTime:YES,showDate:YES,classNames:"admin-cfprefs-knob-set-datetime".w(),titleMinWidth:0,isVisible:function(){return this.get("dataType")==="date"}.property("dataType").cacheable(),dataTypeBinding:".owner.content.type",dataTypeBindingDefault:SC.Binding.oneWay(),valueBinding:".owner.content.value"}),hasEmptyData:function(){var e=this.get("itemValue")||"";if(typeof e!="string")return!0;var t=e.trim();return t===Admin.CFPREFS_DATA_STR||t===""}.property("itemValue").cacheable(),itemValueBinding:".content.value",itemValueBindingDefault:SC.Binding.oneWay(),valueLabel:SC.LabelView.design({layout:{left:160+parseFloat("_layout_cfprefs_value_type_button_width".loc()),right:0,centerY:3,height:20},isEditable:YES,classNames:"admin-cfprefs-knob-set-ellipsis".w(),exampleInlineTextFieldView:SC.InlineTextFieldView.extend({classNames:"nobounce22-label-view".w()}),isVisible:function(){return this.get("dataType")==="number"||this.get("dataType")==="string"}.property("dataType").cacheable(),validator:function(){return this.get("dataType")==="number"?SC.Validator.Number:undefined}.property("dataType").cacheable(),mouseDown:function(){var e=
this.getPath("owner.owner.owner.content.rootController");return e&&e.selectObject(this.getPath("owner.content")),this.beginEditing(),YES},ownerIsSelectedBinding:".owner.isSelected",dataTypeBinding:".owner.content.type",dataTypeBindingDefault:SC.Binding.oneWay(),valueBinding:".owner.content.value"})}),Admin.CfprefsKnobSetView=Admin.KnobSetView.extend({contentView:Admin.KnobSetContentView.design({layout:{width:Admin.KNOB_WIDTH,centerX:0,height:400},childViews:["domain","plistLabel","plistDescription","header","scrollView","addButton","removeButton","uploadButton","fileUploadView"],borderStyle:SC.BORDER_BOTTOM,domain:Admin.KnobSetTextFieldAbsolute.design({layout:{top:5,centerX:0,width:Admin.KNOB_WIDTH,height:70},label:"_generic_string_Preference Domain".loc(),description:"_generic_string_The name of a preference domain (com.company.application)".loc(),fieldHint:"_hint_required".loc(),contentBinding:".owner.content",fieldContentValueKey:"domain"}),plistLabel:Admin.BoldLabelViewAbsolute.design({layout:{top:75,centerX:0,width:Admin.KNOB_WIDTH,height:20},value:"_generic_string_Property List Values".loc()}),plistDescription:Admin.DescriptionLabelViewAbsolute.design({layout:{top:95,centerX:0,width:Admin.KNOB_WIDTH,height:20},value:"_generic_string_Key value pairs for settings in the specified domain".loc()}),header:SC.View.design(SC.Border,{layout:{top:115,centerX:0,width:Admin.KNOB_WIDTH-2,height:20},classNames:["admin-unscrollable-list-view-header"],childViews:"label1 label2 label3".w(),label1:SC.LabelView.design({layout:{centerY:3,left:5,right:Admin.KNOB_WIDTH/2,height:20},isEditable
:NO,value:"_generic_string_Key".loc()}),label2:SC.LabelView.design({layout:{centerY:3,left:165,right:0,height:20},isEditable:NO,value:"_generic_string_Type".loc()}),label3:SC.LabelView.design({layout:{centerY:3,left:165+parseFloat("_layout_cfprefs_value_type_button_width".loc()),right:0,height:20},isEditable:NO,value:"_generic_string_Value".loc()})}),scrollView:Admin.ListView.design(SC.Border,{layout:{top:136,width:Admin.KNOB_WIDTH-2,centerX:0,height:200},borderStyle:SC.BORDER_GRAY,classNames:["admin-background-color-white"],calculatedHeightObserver:function(){var e=this.getPath("owner.content");e&&e.set("calculatedHeight",this.get("calculatedHeight"))}.observes("calculatedHeight"),contentValueKey:"title",contentBinding:".owner*content.rootController.arrangedObjects",selectionBinding:".owner*content.rootController.selection",rowHeight:22,exampleView:Admin.CfprefsExampleView}),calculatedHeightBinding:".scrollView.calculatedHeight",addButton:SC.ButtonView.design({layout:function(){var e=this.listHeight>200?this.listHeight:200,t=146+e;return{top:t,width:0+parseFloat("_layout_add_item_and_delete_item_buttons_width".loc()),centerX:Admin.KNOB_WIDTH/2-130+80-parseFloat("_layout_add_item_and_delete_item_buttons_width".loc())+40-parseFloat("_layout_add_item_and_delete_item_buttons_width".loc())/2+2,height:25}}.property("listHeight").cacheable(),listHeightBinding:".owner.calculatedHeight",listHeightBindingDefault:SC.Binding.oneWay(),titleMinWidth:0,themeName:"square",controlSize:SC.SMALL_CONTROL_SIZE,target:function(){var e=this.get("selection")?this.getPath("selection.firstObject"):null
;return e||this.getPath("owner.content.rootController.content")}.property("selection").cacheable(),action:function(){return this.get("isBranch")?"addChild":"addItem"}.property("isBranch").cacheable(),selectionTypeBinding:".owner*content.rootController.selection.firstObject.type",expandedBinding:".owner*content.rootController.selection.firstObject.treeItemIsExpanded",selectionBinding:".owner*content.rootController.selection",isBranch:function(){return(this.get("selectionType")==="array"||this.get("selectionType")==="dictionary")&&this.get("expanded")}.property("selectionType","expanded","selection").cacheable(),title:function(){return this.get("isBranch")?"_prefs_button_title_Add Child".loc():"_prefs_button_title_Add Item".loc()}.property("isBranch").cacheable()}),removeButton:SC.ButtonView.design({layout:function(){var e=this.listHeight>200?this.listHeight:200,t=146+e;return{top:t,height:25,centerX:Admin.KNOB_WIDTH/2-40+40-parseFloat("_layout_add_item_and_delete_item_buttons_width".loc())/2,width:0+parseFloat("_layout_add_item_and_delete_item_buttons_width".loc())}}.property("listHeight").cacheable(),listHeightBinding:".owner.calculatedHeight",listHeightBindingDefault:SC.Binding.oneWay(),titleMinWidth:0,themeName:"square",controlSize:SC.SMALL_CONTROL_SIZE,target:function(){var e=this.get("selection")?this.getPath("selection.firstObject"):null;return e||this.getPath("owner.content.rootController.content")}.property("selection").cacheable(),selectionBinding:".owner*content.rootController.selection",action:"deleteItem",title:"_generic_string_Delete Item".loc()}),uploadButton:SC
.ButtonView.design({layout:function(){var e=this.listHeight>200?this.listHeight:200,t=146+e;return{top:t,height:25,centerX:-(Admin.KNOB_WIDTH/2)+50+2,width:0+parseFloat("_layout_cfprefs_upload_file_button_width".loc())}}.property("listHeight").cacheable(),listHeightBinding:".owner.calculatedHeight",listHeightBindingDefault:SC.Binding.oneWay(),titleMinWidth:0,themeName:"square",controlSize:SC.SMALL_CONTROL_SIZE,target:SC.outlet("owner.fileUploadView"),title:"_generic_string_Upload File".loc()}),fileUploadView:Admin.UploadView.extend({layout:function(){var e=this.listHeight>200?this.listHeight:200,t=146+e;return{top:t,height:25,centerX:-(Admin.KNOB_WIDTH/2)+50+2,width:0+parseFloat("_layout_cfprefs_upload_file_button_width".loc())}}.property("listHeight").cacheable(),listHeightBinding:".owner.calculatedHeight",listHeightBindingDefault:SC.Binding.oneWay(),supportedFilenameExtensions:"plist".w(),lastUploadedFileDidChange:function(){Admin.store.dataSource.addRpcs([["file","get_plist_data",this.getPath("lastUploadedFile.id")]],NO),this.get("lastUploadedFile").addObserver("fileData",this,"fileDataObtained"),this.getPath("owner.owner.content").set("pendingFile",this.get("lastUploadedFile"))}.observes("lastUploadedFile"),uploadContentItem:null,fileDataObtained:function(){var e=this.get("lastUploadedFile");e.removeObserver("fileData",this,"fileDataObtained");var t=this.getPath("owner.content"),n=e.get("originalName").split(".plist")[0];t.set("domain",n),t.set("_rootObj",e.get("metadata"));var r=t.get("root"),i=t.get("rootController");i.set("content",r)},removeUploadData:function(){}})}
)}),Admin.PrefObj=SC.Object.extend({parent:null,root:null,type:function(e,t){return t!==undefined&&(this.set("_type",t),t==="array"?this.set("value",[]):t==="dictionary"?this.set("value",{}):t==="number"?this.set("value",0):t==="boolean"?this.set("value",NO):t==="data"?this.set("value",Admin.CFPREFS_DATA_STR):t==="date"?this.set("value",SC.DateTime.create()):this.set("value",""),this.get("parent").updateTreeItemChildren()),this.get("_type")}.property("_type").cacheable(),value:function(e,t){if(t!==undefined){if(this.get("_type")==="date"){var n="%@1%@2".fmt(Admin.CFPREFS_DATE_STR,t.toISO8601());this.set("_value",n)}else this.set("_value",t);this.get("parent").updateTreeItemChildren()}if(this.get("_type")==="date"){var r=this.get("_value"),i=r.split(Admin.CFPREFS_DATE_STR).pop();return SC.DateTime.parse(i,"%Y-%m-%dT%H:%M:%S%Z")}return this.get("_value")}.property("_value").cacheable(),title:function(e,t){var n=this.getPath("parent.type"),r=this.getPath("parent.treeItemChildren");if(n==="array"){var i=r?r.indexOf(this):0;return"Item %@".fmt(i)}return t!==undefined&&(this.set("_title",t),this.get("parent").updateTreeItemChildren()),this.get("_title")}.property("parent","_title").cacheable(),titleIsEditable:function(){return this.getPath("parent.type")!=="array"}.property("parent").cacheable(),updateTreeItemChildren:function(e){e===undefined&&(e=this.get("_treeItemChildren"));var t=this.get("_value"),n,r;if(this.get("type")==="array"){t.splice(0);for(n=0,r=e.length;n<r;n++)t.push({_private_value:e[n].get("_value"),_private_type:e[n].get("_type"),_private_is_expanded:e[n].get("treeItemIsExpanded"
)})}else{var i=Object.keys(t);for(n=0,r=i.length;n<r;n++)delete t[i[n]];for(n=0,r=e.length;n<r;n++)t[e[n].get("title")]={_private_value:e[n].get("_value"),_private_type:e[n].get("_type"),_private_is_expanded:e[n].get("treeItemIsExpanded")}}this.set("_treeItemChildren",e),this.set("treeItemChildrenLength",e.length),this.get("root").get("_record").recordDidChange()},isExpandedObserver:function(){var e=this.get("parent");if(e!==this)if(e.get("_type")==="array"){var t=e.get("treeItemChildren"),n=t?t.indexOf(this):null;n!==null&&(e.get("_value")[n]._private_is_expanded=this.get("treeItemIsExpanded"))}else this.getPath("parent._value")[this.get("title")]._private_is_expanded=this.get("treeItemIsExpanded")}.observes("treeItemIsExpanded"),treeItemChildren:function(e,t){return t!==undefined&&this.updateTreeItemChildren(t),this.get("_treeItemChildren")}.property("_treeItemChildren").cacheable(),treeItemChildrenLength:0,createUniqueName:function(e,t){if(SC.none(e)||e.length===0)return t;var n=0,r=t,i=!1;while(!i)n>0&&(r="%@1 - %@2".fmt(t,n)),i=e.indexOf(r)<0,n++;return r},defaultObject:function(e,t){var n=e.get("type")==="dictionary"?Object.keys(e.get("value")):[],r=this.createUniqueName(n,"_generic_string_New Item".loc());return Admin.PrefObj.create({_type:"string",_title:r,treeItemIsExpanded:NO,parent:e,root:t,_value:""})},addItem:function(){var e=this.get("parent");e&&e.addChild()},addChild:function(){var e=this.get("root"),t=this.get("treeItemChildren")||[],n=this.defaultObject(this,e);t.push(n),this.set("treeItemChildren",t),this.updateTreeItemChildren()},deleteItem:function(){var e=
this.get("parent"),t=e.get("treeItemChildren");t.removeObject(this),this.get("parent").updateTreeItemChildren()}}),Admin.CfprefsKnobSet=Admin.KnobSet.extend({root:function(){var e=this.generatePrefObjNode(this.get("_rootObj"),"Root",null,null,this);return e.set("parent",e),e.set("treeItemIsExpanded",YES),e}.property("_rootObj").cacheable(),generatePrefObjNode:function(e,t,n,r,i){var s=e._private_type,o=e._private_value,u=e._private_is_expanded;s===undefined&&(o=e,s=typeof o,s==="object"&&(o instanceof Array?s="array":s="dictionary"),s==="string"&&o.indexOf(Admin.CFPREFS_DATA_STR)>=0?s="data":s==="string"&&o.indexOf(Admin.CFPREFS_DATE_STR)>=0&&(s="date")),u===undefined&&(u=NO);var a=Admin.PrefObj.create({treeItemIsExpanded:u,parent:n,_title:t,_type:s,_value:o,root:r});r===null&&(r=a,a.set("_record",i),a.set("root",r));var f,l,c,h;if(s==="array"){h=[];for(f=0,l=o.length;f<l;f++)c=this.generatePrefObjNode(o[f],"",a,r),h.push(c);a.set("_treeItemChildren",h),a.set("treeItemChildrenLength",h.length)}else if(s==="dictionary"){h=[];var p=Object.keys(o);for(f=0,l=p.length;f<l;f++)c=this.generatePrefObjNode(o[p[f]],p[f],a,r),h.push(c);a.set("_treeItemChildren",h),a.set("treeItemChildrenLength",h.length)}return a},rootController:function(){var e=SC.TreeController.create(),t=this.get("root");return e.set("allowsMultipleSelection",NO),e.set("content",t),e}.property().cacheable(),pendingFile:null,idDidChange:function(){this.invokeLater(this.idReallyDidChange,250)}.observes("id","status"),idReallyDidChange:function(){if(!this.get("id"))return this.invokeLater(this.idReallyDidChange,250);this
.pendingFile&&(this.pendingFile=null)},_rootObj:SC.Record.attr(Object,{key:"root",isEditable:YES,defaultValue:function(){return{_private_type:"dictionary",_private_value:{}}}}),domain:SC.Record.attr(String,{key:"domain"}),validatedProperties:{domain:Admin.RequiredValidator.create({})},calculatedHeight:0,updateKnobSetHeight:function(){var e=this.get("calculatedHeight")>200?this.get("calculatedHeight"):200;e+=205,this.setIfChanged("knobSetHeight",e)}.observes("calculatedHeight"),contentExampleView:Admin.CfprefsKnobSetView}),Admin.CfprefsKnobSet.displayName="_cfprefs_knob_set_name".loc(),Admin.CfprefsKnobSet.largeIcon="admin-cfprefs-knob-set-large-icon",Admin.CfprefsKnobSet.numLines="_cfprefs_knob_set_num_lines".loc(),Admin.CfprefsKnobSet.profilePropertyName="cfprefsKnobSets",SC.mixin(Admin.CfprefsKnobSet,{sortOrder:24,platformTypes:"OSX"}),Admin.CfprefsKnobSet.systemLevel=YES,Admin.CfprefsKnobSet.userLevel=YES,Admin.CfprefsKnobSet.settingTypeDescription="_cfprefs_knob_set_description".loc(),Admin.IdentificationKnobSetView=Admin.KnobSetView.extend({showKnobSetAdd:NO,contentView:Admin.KnobSetContentView.design({childViews:["fullNameField","emailAddressField","userNameField","passwordField","userEnteredPasswordField","promptField","promptMessageField"],fullNameField:Admin.KnobSetTextFieldAbsolute.design({useStaticLayout:YES,label:"_generic_string_User Display Name".loc(),description:"_generic_string_The user display name for the accounts".loc(),fieldHint:function(){return this.get("isAutoPush")?"_hint_required".loc():"_generic_string_set on device".loc()}.property("isAutoPush").cacheable
(),isAutoPushBinding:"Admin.itemSelectionController.isManaged",contentBinding:".owner.content",fieldContentValueKey:"FullName"}),emailAddressField:Admin.KnobSetTextFieldAbsolute.design({useStaticLayout:YES,label:"_generic_string_Email Address".loc(),description:"_generic_string_The email address for the accounts".loc(),fieldHint:function(){return this.get("isAutoPush")?"_hint_required".loc():"_generic_string_set on device".loc()}.property("isAutoPush").cacheable(),isAutoPushBinding:"Admin.itemSelectionController.isManaged",contentBinding:".owner.content",fieldContentValueKey:"EmailAddress"}),userNameField:Admin.KnobSetTextFieldAbsolute.design({useStaticLayout:YES,label:"_generic_string_User Name".loc(),description:"_generic_string_The user name for the accounts".loc(),fieldHint:function(){return this.get("isAutoPush")?"_hint_required".loc():"_generic_string_set on device".loc()}.property("isAutoPush").cacheable(),isAutoPushBinding:"Admin.itemSelectionController.isManaged",contentBinding:".owner.content",fieldContentValueKey:"UserName"}),passwordField:Admin.KnobSetPasswordFieldView.design({useStaticLayout:YES,isEnabledBinding:".owner*content.userEnteredPassword",isEnabledBindingDefault:SC.Binding.not(),label:"_generic_string_Password".loc(),description:"_generic_string_The password for the accounts".loc(),contentBinding:".owner.content",fieldContentValueKey:"Password"}),userEnteredPasswordField:Admin.KnobSetCheckBoxFieldViewAbsolute.design({useStaticLayout:YES,label:"_generic_string_User Enters Password".loc(),description:"_generic_string_The user enters the password upon profile installation"
.loc(),isEnabled:function(){return this.get("isAutoPush")?NO:YES}.property("isAutoPush").cacheable(),isAutoPushBinding:"Admin.itemSelectionController.isManaged",contentBinding:".owner.content",fieldContentValueKey:"userEnteredPassword"}),promptField:Admin.KnobSetTextFieldAbsolute.design({useStaticLayout:YES,label:"_generic_string_Prompt".loc(),description:"_generic_string_Prompt text for any of the above values".loc(),isEnabled:function(){return this.get("isAutoPush")?NO:YES}.property("isAutoPush").cacheable(),isAutoPushBinding:"Admin.itemSelectionController.isManaged",fieldHint:"_generic_string_optional".loc(),contentBinding:".owner.content",fieldContentValueKey:"Prompt"}),promptMessageField:Admin.KnobSetTextFieldAbsolute.design({useStaticLayout:YES,label:"_generic_string_Prompt Message".loc(),description:"_generic_string_Additional descriptive text for the Prompt field".loc(),isEnabled:function(){return this.get("isAutoPush")?NO:YES}.property("isAutoPush").cacheable(),isAutoPushBinding:"Admin.itemSelectionController.isManaged",fieldHint:"_generic_string_optional".loc(),contentBinding:".owner.content",fieldContentValueKey:"PromptMessage"})})}),Admin.IdentificationKnobSet=Admin.KnobSet.extend({contentExampleView:function(){return this.get("isFromServermgr")?Admin.IdentificationKnobSetFromServermgrView:Admin.IdentificationKnobSetView}.property("isFromServermgr"),validatedProperties:function(){var e={};return this.get("isAutoPush")&&(e.FullName=Admin.RequiredValidator.create({}),e.EmailAddress=Admin.RequiredValidator.create({}),e.UserName=Admin.RequiredValidator.create({})),e}
.property("isAutoPush").cacheable(),isAutoPushBinding:"Admin.itemSelectionController.isManaged",_PayloadIdentification:SC.Record.attr(Object,{key:"PayloadIdentification",defaultValue:function(){return{UserName:"",FullName:"",EmailAddress:"",AuthMethod:"None",Password:"",Prompt:"",PromptMessage:""}}}),UserName:function(e,t){return this.packUnpackProperty("_PayloadIdentification","UserName",t)}.property("_PayloadIdentification"),FullName:function(e,t){return this.packUnpackProperty("_PayloadIdentification","FullName",t)}.property("_PayloadIdentification"),EmailAddress:function(e,t){return this.packUnpackProperty("_PayloadIdentification","EmailAddress",t)}.property("_PayloadIdentification"),AuthMethod:function(e,t){return this.packUnpackProperty("_PayloadIdentification","AuthMethod",t)}.property("_PayloadIdentification"),userEnteredPassword:function(e,t){return t!==undefined&&(t?(this.set("Password",""),this.set("AuthMethod","UserEnteredPassword")):this.set("AuthMethod",this.get("Password")?"Password":"None")),this.get("AuthMethod")==="UserEnteredPassword"&&!this.get("isAutoPush")}.property("AuthMethod","Password","isAutoPush").cacheable(),Password:function(e,t){var n=this.packUnpackProperty("_PayloadIdentification","Password",t);return t!==undefined&&(t?this.set("AuthMethod","Password"):this.set("AuthMethod",this.get("userEnteredPassword")===YES?"UserEnteredPassword":"None")),n}.property("_PayloadIdentification"),Prompt:function(e,t){return this.packUnpackProperty("_PayloadIdentification","Prompt",t)}.property("_PayloadIdentification"),PromptMessage:function(e,t){return this.packUnpackProperty
("_PayloadIdentification","PromptMessage",t)}.property("_PayloadIdentification")}),Admin.IdentificationKnobSet.displayName="_identification_knob_set_name".loc(),Admin.IdentificationKnobSet.largeIcon="admin-identification-knob-set-large-icon",Admin.IdentificationKnobSet.numLines="_identification_knob_set_num_lines".loc(),Admin.IdentificationKnobSet.profilePropertyName="identificationKnobSets",SC.mixin(Admin.IdentificationKnobSet,{sortOrder:9,platformTypes:"OSX"}),Admin.IdentificationKnobSet.systemLevel=YES,Admin.IdentificationKnobSet.userLevel=YES,Admin.IdentificationKnobSet.settingTypeDescription="_identification_knob_set_description".loc(),Admin.GlobalHttpProxyKnobSetView=Admin.KnobSetView.extend({showKnobSetAdd:NO,contentView:Admin.KnobSetContentView.design({layout:{width:Admin.KNOB_WIDTH,centerX:0,height:345},childViews:["proxyTypeField","proxyServerField","proxyUsernameField","proxyPasswordField","proxyServerUrlField","proxyPACFallbackAllowedCheckbox","proxyCaptiveLoginAllowedCheckbox"],proxyTypeField:Admin.KnobSetButtonFieldView.design({layout:{top:0,centerX:0,width:Admin.KNOB_WIDTH,height:80},label:"_generic_string_Proxy Type".loc(),description:"_generic_string_Configures proxy settings to be used with this network".loc(),fieldObjects:[{value:"Manual",name:"_global_http_proxy_type_Manual".loc()},{value:"Auto",name:"_global_http_proxy_type_Automatic".loc()}],buttonWidth:140,contentBinding:".owner.content",fieldContentValueKey:"proxyType"}),proxyServerField:Admin.KnobSetIpPortFieldViewAbsolute.design({layout:{top:70,centerX:0,width:Admin.KNOB_WIDTH,height:80},label:"_generic_string_Proxy Server and Port"
.loc(),description:"_generic_string_Hostname or IP address, and port number for the proxy server".loc(),isVisible:function(){return this.proxyTypeValue==="Manual"}.property("proxyTypeValue").cacheable(),proxyTypeValueBinding:".owner.proxyTypeField.fieldValue",proxyTypeValueBindingDefault:SC.Binding.oneWay(),fieldHint:"_hint_required".loc(),contentBinding:".owner.content",fieldIpHostContentValueKey:"proxyServer",fieldPortContentValueKey:"proxyServerPort"}),proxyUsernameField:Admin.KnobSetTextFieldAbsolute.design({layout:{top:140,centerX:0,width:Admin.KNOB_WIDTH,height:80},label:"_generic_string_Authentication".loc(),description:"_generic_string_Username used to connect to the proxy".loc(),fieldHint:"_generic_string_optional".loc(),isVisible:function(){return this.proxyTypeValue==="Manual"}.property("proxyTypeValue").cacheable(),proxyTypeValueBinding:".owner.proxyTypeField.fieldValue",proxyTypeValueBindingDefault:SC.Binding.oneWay(),contentBinding:".owner.content",fieldContentValueKey:"proxyUsername"}),proxyPasswordField:Admin.KnobSetPasswordFieldView.design({layout:{top:210,centerX:0,width:Admin.KNOB_WIDTH,height:80},label:"_generic_string_Password".loc(),description:"_generic_string_Password used to authenticate with the proxy".loc(),isVisible:function(){return this.proxyTypeValue==="Manual"}.property("proxyTypeValue").cacheable(),proxyTypeValueBinding:".owner.proxyTypeField.fieldValue",proxyTypeValueBindingDefault:SC.Binding.oneWay(),fieldIsPassword:YES,fieldHint:"_generic_string_optional".loc(),contentBinding:".owner.content",fieldContentValueKey:"proxyPassword"}),proxyServerUrlField
:Admin.KnobSetTextFieldAbsolute.design({layout:{top:70,centerX:0,width:Admin.KNOB_WIDTH,height:80},label:"_generic_string_Proxy PAC URL".loc(),description:"_generic_string_URL used to retrieve proxy settings".loc(),isVisible:function(){return this.proxyTypeValue==="Auto"}.property("proxyTypeValue").cacheable(),fieldHint:"_generic_string_required".loc(),proxyTypeValueBinding:".owner.proxyTypeField.fieldValue",proxyTypeValueBindingDefault:SC.Binding.oneWay(),contentBinding:".owner.content",fieldContentValueKey:"proxyPACURL"}),proxyPACFallbackAllowedCheckbox:Admin.KnobSetCheckBoxFieldViewAbsolute.design({layout:{top:145,centerX:0,width:Admin.KNOB_WIDTH,height:20},label:"_generic_string_Allow direct connection if PAC is unreachable".loc(),isVisible:function(){return this.proxyTypeValue==="Auto"}.property("proxyTypeValue").cacheable(),proxyTypeValueBinding:".owner.proxyTypeField.fieldValue",proxyTypeValueBindingDefault:SC.Binding.oneWay(),contentBinding:".owner.content",fieldContentValueKey:"proxyPACFallbackAllowed"}),proxyCaptiveLoginAllowedCheckbox:Admin.KnobSetCheckBoxFieldViewAbsolute.design({layout:function(){var e=this.proxyTypeValue==="Auto"?170:285;return{top:e,centerX:0,width:Admin.KNOB_WIDTH,height:20}}.property("proxyTypeValue").cacheable(),label:"_generic_string_Allow bypassing proxy to access captive networks".loc(),proxyTypeValueBinding:".owner.proxyTypeField.fieldValue",proxyTypeValueBindingDefault:SC.Binding.oneWay(),contentBinding:".owner.content",fieldContentValueKey:"proxyCaptiveLoginAllowed"})})}),Admin.GlobalHttpProxyKnobSet=Admin.KnobSet.extend({proxyType:SC
.Record.attr(String,{key:"ProxyType",defaultValue:"Manual"}),proxyServer:SC.Record.attr(String,{key:"ProxyServer"}),proxyServerPort:SC.Record.attr(Number,{key:"ProxyServerPort"}),proxyUsername:SC.Record.attr(String,{key:"ProxyUsername"}),proxyPassword:SC.Record.attr(String,{key:"ProxyPassword"}),proxyPACURL:SC.Record.attr(String,{key:"ProxyPACURL"}),proxyPACFallbackAllowed:SC.Record.attr(Boolean,{key:"ProxyPACFallbackAllowed",defaultValue:NO}),proxyCaptiveLoginAllowed:SC.Record.attr(Boolean,{key:"ProxyCaptiveLoginAllowed",defaultValue:NO}),validatedProperties:function(e,t){var n={};return this.get("proxyType")==="Manual"?n.proxyServer=Admin.RequiredValidator.create({}):this.get("proxyType")==="Auto"&&(n.proxyPACURL=Admin.RequiredValidator.create({})),n}.property("proxyType"),contentExampleView:function(){return this.get("isFromServermgr")?Admin.GlobalHttpProxyKnobSetFromServermgrView:Admin.GlobalHttpProxyKnobSetView}.property("isFromServermgr")}),Admin.GlobalHttpProxyKnobSet.displayName="_global_http_proxy_knob_set_name".loc(),Admin.GlobalHttpProxyKnobSet.largeIcon="admin-globlal-http-proxy-knob-set-large-icon",Admin.GlobalHttpProxyKnobSet.numLines="_global_http_proxy_knob_set_num_lines".loc(),Admin.GlobalHttpProxyKnobSet.profilePropertyName="globalHttpProxyKnobSets",SC.mixin(Admin.GlobalHttpProxyKnobSet,{sortOrder:2.7,platformTypes:"iOS"}),Admin.GlobalHttpProxyKnobSet.systemLevel=YES,Admin.GlobalHttpProxyKnobSet.userLevel=YES,Admin.GlobalHttpProxyKnobSet.settingTypeDescription="_global_http_proxy_knob_set_description".loc(),Admin.AppLockKnobSetView=Admin.KnobSetView.extend(
{showKnobSetAdd:NO,contentView:Admin.KnobSetContentView.design({layout:{width:Admin.KNOB_WIDTH,centerX:0,height:530},childViews:["labelView","descriptionView","selectFieldView","optionsView"],labelView:Admin.BoldLabelViewAbsolute.design({layout:{centerX:0,top:0,width:Admin.KNOB_WIDTH,height:20},value:"_general_string_Lock To App".loc()}),descriptionView:SC.LabelView.design({layout:{centerX:0,top:20,width:Admin.KNOB_WIDTH,height:20},classNames:"admin-description-label-view".w(),value:"_general_string_The app to run in Single App Mode (supervised only)".loc()}),selectFieldView:SC.SelectView.design({buttonWidth:Admin.KNOB_WIDTH-17,layout:function(){return{centerX:-Admin.KNOB_WIDTH/2+this.buttonWidth/2,top:40,width:this.buttonWidth,height:25}}.property("buttonWidth"),itemsBinding:"Admin.profileForEditingController.installedApplications",checkboxEnabled:NO,itemTitleKey:"name",disableSort:NO,itemSortKey:"name",itemValueKey:"value",themeName:"popup",localize:NO,contentBinding:".owner.content",contentValueKey:"bundleIdentifier"}),optionsView:SC.View.design({layout:{top:80,width:Admin.KNOB_WIDTH,height:400,centerX:0},childViews:"headerView enforcedSettingsContainer userMutableSettingsContainer".w(),headerView:Admin.BoldLabelViewAbsolute.design({layout:{top:0,centerX:0,width:Admin.KNOB_WIDTH,height:20},value:"_generic_string_Options".loc()}),enforcedSettingsContainer:SC.View.design({layout:{top:20,centerX:0,width:Admin.KNOB_WIDTH,height:260},childViews:"enforcedSettingsLabel touchView deviceRotationView volumeButtonView ringerSwitchView sleepWakeView autoLockView voiceOverView zoomView invertColorsView assistiveTouchView speakSelectionView monoAudioView"
.w(),enforcedSettingsLabel:SC.LabelView.design({layout:{top:0,centerX:0,width:Admin.KNOB_WIDTH,height:20},classNames:"admin-description-label-view".w(),value:"_generic_string_Settings enforced when in Single App Mode".loc()}),touchView:SC.CheckboxView.design({layout:{top:20,centerX:0,width:Admin.KNOB_WIDTH,height:20},contentBinding:".owner.owner.owner.content",contentValueKey:"enableTouch",title:"_generic_string_Touch".loc()}),deviceRotationView:SC.CheckboxView.design({layout:{top:40,centerX:0,width:Admin.KNOB_WIDTH,height:20},contentBinding:".owner.owner.owner.content",contentValueKey:"enableDeviceRotation",title:"_generic_string_Device Rotation".loc()}),volumeButtonView:SC.CheckboxView.design({layout:{top:60,centerX:0,width:Admin.KNOB_WIDTH,height:20},contentBinding:".owner.owner.owner.content",contentValueKey:"enableVolumeButtons",title:"_generic_string_Volume Buttons".loc()}),ringerSwitchView:SC.CheckboxView.design({layout:{top:80,centerX:0,width:Admin.KNOB_WIDTH,height:20},contentBinding:".owner.owner.owner.content",contentValueKey:"enableDeviceRingerSwitch",title:"_generic_string_Ringer Switch".loc()}),sleepWakeView:SC.CheckboxView.design({layout:{top:100,centerX:0,width:Admin.KNOB_WIDTH,height:20},contentBinding:".owner.owner.owner.content",contentValueKey:"enableSleepWakeButton",title:"_generic_string_Sleep/Wake Button".loc()}),autoLockView:SC.CheckboxView.design({layout:{top:120,centerX:0,width:Admin.KNOB_WIDTH,height:20},contentBinding:".owner.owner.owner.content",contentValueKey:"enableAutoLock",title:"_generic_string_Auto-Lock".loc()}),voiceOverView:SC.CheckboxView
.design({layout:{top:140,centerX:0,width:Admin.KNOB_WIDTH,height:20},contentBinding:".owner.owner.owner.content",contentValueKey:"enableVoiceOver",title:"_generic_string_VoiceOver".loc()}),zoomView:SC.CheckboxView.design({layout:{top:160,centerX:0,width:Admin.KNOB_WIDTH,height:20},contentBinding:".owner.owner.owner.content",contentValueKey:"enableZoom",title:"_generic_string_Zoom".loc()}),invertColorsView:SC.CheckboxView.design({layout:{top:180,centerX:0,width:Admin.KNOB_WIDTH,height:20},contentBinding:".owner.owner.owner.content",contentValueKey:"enableInvertColors",title:"_generic_string_Invert Colors".loc()}),assistiveTouchView:SC.CheckboxView.design({layout:{top:200,centerX:0,width:Admin.KNOB_WIDTH,height:20},contentBinding:".owner.owner.owner.content",contentValueKey:"enableAssistiveTouch",title:"_generic_string_AssistiveTouch".loc()}),speakSelectionView:SC.CheckboxView.design({layout:{top:220,centerX:0,width:Admin.KNOB_WIDTH,height:20},contentBinding:".owner.owner.owner.content",contentValueKey:"enableSpeakSelection",title:"_generic_string_Speak Selection".loc()}),monoAudioView:SC.CheckboxView.design({layout:{top:240,centerX:0,width:Admin.KNOB_WIDTH,height:20},contentBinding:".owner.owner.owner.content",contentValueKey:"enableMonoAudio",title:"_generic_string_Mono Audio".loc()})}),userMutableSettingsContainer:SC.View.design({layout:{top:300,centerX:0,width:Admin.KNOB_WIDTH,height:100},childViews:"userMutableSettingsLabel voiceOverView zoomView invertColorsView assistiveTouchView".w(),userMutableSettingsLabel:SC.LabelView.design({layout:{top:0,centerX:0,width:Admin.KNOB_WIDTH
,height:20},classNames:"admin-description-label-view".w(),value:"_generic_string_Allow the user to change these settings when in Single App Mode".loc()}),voiceOverView:SC.CheckboxView.design({layout:{top:20,centerX:0,width:Admin.KNOB_WIDTH,height:20},contentBinding:".owner.owner.owner.content",contentValueKey:"voiceOver",title:"_generic_string_VoiceOver".loc()}),zoomView:SC.CheckboxView.design({layout:{top:40,centerX:0,width:Admin.KNOB_WIDTH,height:20},contentBinding:".owner.owner.owner.content",contentValueKey:"zoom",title:"_generic_string_Zoom".loc()}),invertColorsView:SC.CheckboxView.design({layout:{top:60,centerX:0,width:Admin.KNOB_WIDTH,height:20},contentBinding:".owner.owner.owner.content",contentValueKey:"invertColors",title:"_generic_string_Invert Colors".loc()}),assistiveTouchView:SC.CheckboxView.design({layout:{top:80,centerX:0,width:Admin.KNOB_WIDTH,height:20},contentBinding:".owner.owner.owner.content",contentValueKey:"assistiveTouch",title:"_generic_string_AssistiveTouch".loc()})})})})}),Admin.AppLockKnobSet=Admin.KnobSet.extend({appDict:SC.Record.attr(Object,{key:"App",defaultValue:{Options:{DisableTouch:NO,DisableDeviceRotation:NO,DisableVolumeButtons:NO,DisableRingerSwitch:NO,DisableSleepWakeButton:NO,DisableAutoLock:NO,EnableVoiceOver:NO,EnableZoom:NO,EnableInvertColors:NO,EnableAssistiveTouch:NO,EnableSpeakSelection:NO,EnableMonoAudio:NO},UserEnabledOptions:{VoiceOver:NO,Zoom:NO,InvertColors:NO,AssistiveTouch:NO}}}),bundleIdentifier:function(e,t){var n=this.get("appDict");return t!==undefined&&(n.Identifier=t,this.set("appDict",SC.clone(n,YES))),n.Identifier
}.property("appDict"),_getOrSetOption:function(e,t,n){var r=this.get("appDict"),i=r.Options;return t!==undefined&&(n===YES?i[e]=!t:i[e]=t,this.set("appDict",SC.clone(r,YES))),i[e]},enableTouch:function(e,t){return!this._getOrSetOption("DisableTouch",t,YES)}.property("appDict"),enableDeviceRotation:function(e,t){return!this._getOrSetOption("DisableDeviceRotation",t,YES)}.property("appDict"),enableVolumeButtons:function(e,t){return!this._getOrSetOption("DisableVolumeButtons",t,YES)}.property("appDict"),enableDeviceRingerSwitch:function(e,t){return!this._getOrSetOption("DisableRingerSwitch",t,YES)}.property("appDict"),enableSleepWakeButton:function(e,t){return!this._getOrSetOption("DisableSleepWakeButton",t,YES)}.property("appDict"),enableAutoLock:function(e,t){return!this._getOrSetOption("DisableAutoLock",t,YES)}.property("appDict"),enableVoiceOver:function(e,t){return this._getOrSetOption("EnableVoiceOver",t,NO)}.property("appDict"),enableZoom:function(e,t){return this._getOrSetOption("EnableZoom",t,NO)}.property("appDict"),enableInvertColors:function(e,t){return this._getOrSetOption("EnableInvertColors",t,NO)}.property("appDict"),enableAssistiveTouch:function(e,t){return this._getOrSetOption("EnableAssistiveTouch",t,NO)}.property("appDict"),enableSpeakSelection:function(e,t){return this._getOrSetOption("EnableSpeakSelection",t,NO)}.property("appDict"),enableMonoAudio:function(e,t){return this._getOrSetOption("EnableMonoAudio",t,NO)}.property("appDict"),_getOrSetUserEnabledOption:function(e,t){var n=this.get("appDict"),r=n.UserEnabledOptions;return t!==undefined&&(r[e]=t,this
.set("appDict",SC.clone(n,YES))),r[e]},voiceOver:function(e,t){return this._getOrSetUserEnabledOption("VoiceOver",t)}.property("appDict"),zoom:function(e,t){return this._getOrSetUserEnabledOption("Zoom",t)}.property("appDict"),invertColors:function(e,t){return this._getOrSetUserEnabledOption("InvertColors",t)}.property("appDict"),assistiveTouch:function(e,t){return this._getOrSetUserEnabledOption("AssistiveTouch",t)}.property("appDict"),contentExampleView:function(){return this.get("isFromServermgr")?Admin.AppLockKnobSetFromServermgrView:Admin.AppLockKnobSetView}.property("isFromServermgr")}),Admin.AppLockKnobSet.displayName="_generic_string_Single App Mode".loc(),Admin.AppLockKnobSet.largeIcon="admin-app-lock-knob-set-large-icon",Admin.AppLockKnobSet.numLines="_app_lock_knob_set_num_lines".loc(),Admin.AppLockKnobSet.profilePropertyName="appLockKnobSets",SC.mixin(Admin.AppLockKnobSet,{sortOrder:2.6,platformTypes:"iOS"}),Admin.AppLockKnobSet.systemLevel=YES,Admin.AppLockKnobSet.userLevel=NO,Admin.AppLockKnobSet.settingTypeDescription="_app_lock_knob_set_description".loc(),Admin.TimeMachineKnobSetView=Admin.KnobSetView.extend({showKnobSetAdd:NO,contentView:Admin.KnobSetContentView.design({childViews:["backupDestinationURL","backupAllVolumes","backupSkipSys","autoBackup","mobileBackup","backupSizeMB","skipPaths"],backupDestinationURL:Admin.KnobSetTextFieldAbsolute.design({label:"_generic_string_Backup destination URL".loc(),description:"_generic_string_The URL to backup destination (e.g., afp://server.example.com/)".loc(),fieldHint:"_hint_required".loc(),useStaticLayout:YES,contentBinding
:".owner.content",fieldContentValueKey:"backupDestinationURL"}),backupAllVolumes:Admin.KnobSetCheckBoxFieldViewAbsolute.design({label:"_generic_string_Backup all volumes".loc(),description:"_generic_string_Only startup volume is backed up by default".loc(),useStaticLayout:YES,contentBinding:".owner.content",fieldContentValueKey:"backupAllVolumes"}),backupSkipSys:Admin.KnobSetCheckBoxFieldViewAbsolute.design({label:"_generic_string_Backup system files and folders".loc(),description:"_generic_string_System files and folders are skipped by default".loc(),useStaticLayout:YES,contentBinding:".owner.content",fieldContentValueKey:"backupSkipSys"}),autoBackup:Admin.KnobSetCheckBoxFieldViewAbsolute.design({label:"_generic_string_Automatic backups".loc(),description:"_generic_string_Enable automatic backups".loc(),useStaticLayout:YES,contentBinding:".owner.content",fieldContentValueKey:"autoBackup"}),mobileBackup:Admin.KnobSetCheckBoxFieldViewAbsolute.design({label:"_generic_string_Mobile backups".loc(),description:"_generic_string_Enable local snapshots (10.8 and above only)".loc(),useStaticLayout:YES,contentBinding:".owner.content",fieldContentValueKey:"mobileBackup"}),backupSizeMB:Admin.KnobSetTextFieldAbsolute.design({label:"_generic_string_BackupSize Limit".loc(),description:"_generic_string_BackupSize limit in MB. Set to 0 for unlimited".loc(),fieldHint:"_knob_set_view_optional_hint".loc(),useStaticLayout:YES,contentBinding:".owner.content",fieldContentValueKey:"backupSizeMB",validator:SC.Validator.Number}),skipPaths:Admin.UnScrollableListView.extend({title:"_generic_string_Paths to skip:"
.loc(),description:"_generic_string_The paths to skip from startup volume".loc(),contentBinding:".owner*content.skipPathsContent",selectionBinding:".owner*content.skipPathsSelection",addAction:"addSkipPath",removeAction:"removeSkipPath",addTarget:SC.outlet("owner.content"),removeTarget:SC.outlet("owner.content"),contentValueKey:"name",isEditable:YES,canEditContent:YES,exampleView:SC.ListItemView.extend({contentIconKey:"icon",hasContentIcon:YES})})})}),Admin.TimeMachineKnobSet=Admin.KnobSet.extend({backupDestinationURL:SC.Record.attr(String,{key:"BackupDestURL"}),backupAllVolumes:SC.Record.attr(Boolean,{key:"BackupAllVolumes"}),_backupSkipSys:SC.Record.attr(Boolean,{key:"BackupSkipSys",defaultValue:YES}),backupSkipSys:function(e,t){return t!==undefined&&this.set("_backupSkipSys",!t),!this.get("_backupSkipSys")}.property("_backupSkipSys"),backupSizeMB:SC.Record.attr(Number,{key:"BackupSizeMB"}),autoBackup:SC.Record.attr(Boolean,{key:"AutoBackup"}),mobileBackup:SC.Record.attr(Boolean,{key:"MobileBackups"}),_skipPaths:SC.Record.attr(Array,{key:"SkipPaths",defaultValue:[]}),skipPathsSelection:null,skipPathsContent:function(){var e=this.get("_skipPaths"),t=[],n=0,r=this;return e.forEach(function(e){var s=SC.Object.create({index:n,name:e,icon:"admin-dock-icon-folder"});s.addObserver("name",r,r._updateSkipPathItems),t.push(s),n++}),t}.property("_skipPaths").cacheable(),_updateSkipPathItems:function(e,t,n,r){var i=[],s=this.get("skipPathsContent"),o,u;for(u=0;u<s.length;u++)o=s[u],i.push(o.get("name"));this.set("_skipPaths",i)},addSkipPath:function(){var e="_generic_string_Directory Path"
.loc(),t=SC.clone(this.get("_skipPaths"));t.push(e),this.set("_skipPaths",t)},removeSkipPath:function(){if(this.get("skipPathsSelection")&&this.get("skipPathsSelection").firstObject()){var e=this.get("skipPathsSelection").firstObject();this.get("_skipPaths").splice(e.get("index"),1);var t=SC.clone(this.get("_skipPaths"));this.set("_skipPaths",t)}},validatedProperties:function(e,t){return{backupDestinationURL:Admin.RequiredValidator.create({})}}.property(),contentExampleView:function(){return Admin.TimeMachineKnobSetView}.property()}),Admin.TimeMachineKnobSet.displayName="_global_time_machine_knob_set_name".loc(),Admin.TimeMachineKnobSet.largeIcon="admin-time-machine-knob-set-large-icon",Admin.TimeMachineKnobSet.profilePropertyName="timeMachineKnobSets",SC.mixin(Admin.TimeMachineKnobSet,{sortOrder:23.1,platformTypes:"OSX"}),Admin.TimeMachineKnobSet.systemLevel=YES,Admin.TimeMachineKnobSet.userLevel=NO,Admin.TimeMachineKnobSet.settingTypeDescription="_global_time_machine_knob_set_description".loc(),Admin.FinderKnobSetView=Admin.KnobSetView.extend({showKnobSetAdd:NO,contentView:Admin.KnobSetContentView.design({layout:{width:Admin.KNOB_WIDTH,centerX:0,height:400},childViews:["finderSettingGroups","preferences","commands"],finderSettingGroups:SC.SegmentedView.design({layout:{centerX:0,width:Admin.KNOB_WIDTH-40,top:5,height:SC.REGULAR_BUTTON_HEIGHT},itemTitleKey:"title",itemValueKey:"value",items:function(){return[{title:"_generic_string_Preferences".loc(),value:"preferences"},{title:"_generic_string_Commands".loc(),value:"commands"}]}.property(),contentBinding:".owner.content",contentValueKey
:"tabValue"}),preferences:SC.View.design({layout:{top:50,centerX:0,width:Admin.KNOB_WIDTH,height:180},childViews:"finderType itemsOnDesktop warnEmptyTrash".w(),isVisible:function(){return this.get("tabValue")==="preferences"}.property("tabValue").cacheable(),tabValueBinding:".owner*content.tabValue",finderType:SC.RadioView.design({layout:{top:0,centerX:0,width:Admin.KNOB_WIDTH,height:50},items:[{title:"_generic_string_Use regular Finder".loc(),value:"Full"},{title:"_generic_string_Use simple Finder".loc(),value:"Simple"}],itemTitleKey:"title",itemValueKey:"value",layoutDirection:SC.LAYOUT_VERTICAL,contentBinding:".owner.owner.content",contentValueKey:"interfaceLevel"}),itemsOnDesktop:SC.View.design({layout:{top:50,centerX:0,width:Admin.KNOB_WIDTH,height:100},childViews:"desktopItemsLabel hardDisks externalDisks removableMedia mountedServers".w(),desktopItemsLabel:Admin.BoldLabelViewAbsolute.extend({layout:{top:0,centerX:0,width:Admin.KNOB_WIDTH,height:20},value:"_generic_string_Show these items on the desktop".loc()}),hardDisks:SC.CheckboxView.design({layout:{top:20,centerX:0,width:Admin.KNOB_WIDTH,height:20},contentBinding:".owner.owner.owner.content",contentValueKey:"showHardDrivesOnDesktop",title:"_generic_string_Hard disks".loc()}),externalDisks:SC.CheckboxView.design({layout:{top:40,centerX:0,width:Admin.KNOB_WIDTH,height:20},contentBinding:".owner.owner.owner.content",contentValueKey:"showExternalHardDrivesOnDesktop",title:"_generic_string_External disks".loc()}),removableMedia:SC.CheckboxView.design({layout:{top:60,centerX:0,width:Admin.KNOB_WIDTH,height:20},contentBinding
:".owner.owner.owner.content",contentValueKey:"showRemovableMediaOnDesktop",title:"_generic_string_CDs, DVDs and iPods".loc()}),mountedServers:SC.CheckboxView.design({layout:{top:80,centerX:0,width:Admin.KNOB_WIDTH,height:20},contentBinding:".owner.owner.owner.content",contentValueKey:"showMountedServersOnDesktop",title:"_generic_string_Connected servers".loc()})}),warnEmptyTrash:Admin.BoldCheckboxViewAbsolute.design({contentBinding:".owner.owner.content",contentValueKey:"warnOnEmptyTrash",title:"_generic_string_Show warning before emptying the Trash".loc(),layout:{top:160,centerX:0,width:Admin.KNOB_WIDTH,height:20}})}),commands:SC.View.design({layout:{top:50,centerX:0,width:Admin.KNOB_WIDTH+80,height:330},isVisible:function(){return this.get("tabValue")==="commands"}.property("tabValue").cacheable(),tabValueBinding:".owner*content.tabValue",childViews:"selectCommandsLabel connectToServer eject burnDisc gotoFolder restart shutdown".w(),selectCommandsLabel:Admin.BoldLabelViewAbsolute.extend({layout:{top:0,centerX:0,width:Admin.KNOB_WIDTH,height:20},value:"_generic_string_Select commands available to users".loc()}),connectToServer:Admin.KnobSetCheckBoxFieldViewAbsolute.design({layout:{top:30,centerX:0,width:Admin.KNOB_WIDTH+60,height:50},label:"_generic_string_Connect to Server".loc(),description:"_generic_string_Opens a dialog box for finding servers on the network".loc(),contentBinding:".owner.owner.content",fieldContentValueKey:"prohibitConnectTo"}),eject:Admin.KnobSetCheckBoxFieldViewAbsolute.design({layout:{top:80,centerX:0,width:Admin.KNOB_WIDTH+60,height:50},label:"_generic_string_Eject"
.loc(),description:"_generic_string_Ejects removable media and mountable volumes".loc(),contentBinding:".owner.owner.content",fieldContentValueKey:"prohibitEject"}),burnDisc:Admin.KnobSetCheckBoxFieldViewAbsolute.design({layout:{top:130,centerX:0,width:Admin.KNOB_WIDTH+60,height:50},label:"_generic_string_Burn Disc".loc(),description:"_generic_string_Writes permanent information to a CD or DVD".loc(),contentBinding:".owner.owner.content",fieldContentValueKey:"prohibitBurn"}),gotoFolder:Admin.KnobSetCheckBoxFieldViewAbsolute.design({layout:{top:180,centerX:0,width:Admin.KNOB_WIDTH+60,height:50},label:"_generic_string_Go to Folder".loc(),description:"_generic_string_Allows user to open files or folders by typing a pathname".loc(),contentBinding:".owner.owner.content",fieldContentValueKey:"prohibitGoToFolder"}),restart:Admin.KnobSetCheckBoxFieldViewAbsolute.design({layout:{top:230,centerX:0,width:Admin.KNOB_WIDTH+60,height:50},label:"_generic_string_Restart".loc(),description:"_generic_string_Makes the restart command appear in the Apple menu".loc(),contentBinding:".owner.owner.content",fieldContentValueKey:"restartDisabledWhileLoggedIn"}),shutdown:Admin.KnobSetCheckBoxFieldViewAbsolute.design({layout:{top:280,centerX:0,width:Admin.KNOB_WIDTH+60,height:50},label:"_generic_string_Shut Down".loc(),description:"_generic_string_Makes the shut down command appear in the Apple menu".loc(),contentBinding:".owner.owner.content",fieldContentValueKey:"shutDownDisabledWhileLoggedIn"})})})}),Admin.FinderKnobSet=Admin.KnobSet.extend({tabValue:"preferences",interfaceLevel:SC.Record.attr(String
,{key:"InterfaceLevel",defaultValue:"Full"}),showHardDrivesOnDesktop:SC.Record.attr(Boolean,{key:"ShowHardDrivesOnDesktop",defaultValue:YES}),showExternalHardDrivesOnDesktop:SC.Record.attr(Boolean,{key:"ShowExternalHardDrivesOnDesktop",defaultValue:YES}),showRemovableMediaOnDesktop:SC.Record.attr(Boolean,{key:"ShowRemovableMediaOnDesktop",defaultValue:YES}),showMountedServersOnDesktop:SC.Record.attr(Boolean,{key:"ShowMountedServersOnDesktop",defaultValue:YES}),warnOnEmptyTrash:SC.Record.attr(Boolean,{key:"WarnOnEmptyTrash"}),_prohibitConnectTo:SC.Record.attr(Boolean,{key:"ProhibitConnectTo",defaultValue:NO}),prohibitConnectTo:function(e,t){return t!==undefined&&this.set("_prohibitConnectTo",!t),!this.get("_prohibitConnectTo")}.property("_prohibitConnectTo"),_prohibitEject:SC.Record.attr(Boolean,{key:"ProhibitEject",defaultValue:NO}),prohibitEject:function(e,t){return t!==undefined&&this.set("_prohibitEject",!t),!this.get("_prohibitEject")}.property("_prohibitEject"),_prohibitBurn:SC.Record.attr(Boolean,{key:"ProhibitBurn",defaultValue:NO}),prohibitBurn:function(e,t){return t!==undefined&&this.set("_prohibitBurn",!t),!this.get("_prohibitBurn")}.property("_prohibitBurn"),_prohibitGoToFolder:SC.Record.attr(Boolean,{key:"ProhibitGoToFolder",defaultValue:NO}),prohibitGoToFolder:function(e,t){return t!==undefined&&this.set("_prohibitGoToFolder",!t),!this.get("_prohibitGoToFolder")}.property("_prohibitGoToFolder"),_restartDisabledWhileLoggedIn:SC.Record.attr(Boolean,{key:"RestartDisabledWhileLoggedIn",defaultValue:NO}),restartDisabledWhileLoggedIn:function(e,t){return t!==undefined&&
this.set("_restartDisabledWhileLoggedIn",!t),!this.get("_restartDisabledWhileLoggedIn")}.property("_restartDisabledWhileLoggedIn"),_shutDownDisabledWhileLoggedIn:SC.Record.attr(Boolean,{key:"ShutDownDisabledWhileLoggedIn",defaultValue:NO}),shutDownDisabledWhileLoggedIn:function(e,t){return t!==undefined&&this.set("_shutDownDisabledWhileLoggedIn",!t),!this.get("_shutDownDisabledWhileLoggedIn")}.property("_shutDownDisabledWhileLoggedIn"),contentExampleView:function(){return Admin.FinderKnobSetView}.property()}),Admin.FinderKnobSet.displayName="_global_finder_knob_set_name".loc(),Admin.FinderKnobSet.largeIcon="admin-finder-knob-set-large-icon",Admin.FinderKnobSet.profilePropertyName="finderKnobSets",SC.mixin(Admin.FinderKnobSet,{sortOrder:23.2,platformTypes:"OSX"}),Admin.FinderKnobSet.systemLevel=YES,Admin.FinderKnobSet.userLevel=YES,Admin.FinderKnobSet.settingTypeDescription="_global_finder_knob_set_description".loc(),Admin.UniversalAccessKnobSetView=Admin.KnobSetView.extend({showKnobSetAdd:NO,contentView:Admin.KnobSetContentView.design({layout:{width:Admin.KNOB_WIDTH,centerX:0,height:450},childViews:["universalAccessSettingGroups","seeing","hearing","interacting"],universalAccessSettingGroups:SC.SegmentedView.design({useStaticLayout:YES,classNames:["admin-margin-bottom-10"],itemTitleKey:"title",itemValueKey:"value",items:function(){return[{title:"_generic_string_Vision".loc(),value:"seeing"},{title:"_generic_string_Hearing".loc(),value:"hearing"},{title:"_generic_string_Interacting".loc(),value:"interacting"}]}.property(),contentBinding:".owner.content",contentValueKey:"tabValue"
}),seeing:SC.View.design({childViews:["zoomoptionslabel","scrollWheelZoom","keyboardZoom","maximumZoom","minimumZoom","showPreviewRectangle","smoothImages","displayOptionsLabel","invertColors","useGrayscale","enhanceContrast","cursorSize","voiceoverOptionsLabel","enableVoiceOver"],useStaticLayout:YES,isVisible:function(){return this.get("tabValue")==="seeing"}.property("tabValue").cacheable(),tabValueBinding:".owner*content.tabValue",contentBinding:".owner.content",zoomoptionslabel:Admin.BoldLabelView.design({value:"_generic_string_Zoom Options".loc(),classNames:["admin-margin-bottom-5"]}),scrollWheelZoom:Admin.KnobSetInlineCheckboxFieldView.design({title:"_generic_string_Enable Zoom via ScrollWheel:".loc(),boldTitle:NO,titleLabelWidth:parseFloat("_layout_universal_access_knob_set_title_label_widths".loc()),fieldContentValueKey:"enableScrollWheelZoom"}),keyboardZoom:Admin.KnobSetInlineCheckboxFieldView.design({title:"_generic_string_Enable Zoom via Keyboard:".loc(),boldTitle:NO,titleLabelWidth:parseFloat("_layout_universal_access_knob_set_title_label_widths".loc()),fieldContentValueKey:"enableKeyboardZoom"}),maximumZoom:Admin.KnobSetInlineSelectButtonFieldView.design({title:"_generic_string_Maximum Zoom:".loc(),boldTitle:NO,titleLabelWidth:parseFloat("_layout_universal_access_knob_set_title_label_widths".loc()),buttonWidth:parseFloat("_layout_universal_access_knob_set_select_button_width".loc()),fieldObjects:function(){var e=this.get("minimumZoom"),t=[];for(var n=1;n<=10;n++)t.push({name:""+n,value:n*2});return t}.property("content","minimumZoom").cacheable(),minimumZoomBinding
:".owner*content.minimumZoom",fieldContentValueKey:"maximumZoom"}),minimumZoom:Admin.KnobSetInlineSelectButtonFieldView.design({title:"_generic_string_Minimum Zoom:".loc(),boldTitle:NO,titleLabelWidth:parseFloat("_layout_universal_access_knob_set_title_label_widths".loc()),buttonWidth:parseFloat("_layout_universal_access_knob_set_select_button_width".loc()),fieldObjects:function(){var e=this.get("maximumZoom"),t=[];for(var n=1;n<=10;n++)t.push({name:""+n,value:n*2});return t}.property("maximumZoom").cacheable(),maximumZoomBinding:".owner*content.maximumZoom",fieldContentValueKey:"minimumZoom"}),showPreviewRectangle:Admin.KnobSetInlineCheckboxFieldView.design({title:"_generic_string_Show preview rectangle when zoomed out:".loc(),boldTitle:NO,titleLabelWidth:parseFloat("_layout_universal_access_knob_set_title_label_widths".loc()),fieldContentValueKey:"showPreviewRectangle"}),smoothImages:Admin.KnobSetInlineCheckboxFieldView.design({title:"_generic_string_Smooth images:".loc(),boldTitle:NO,titleLabelWidth:parseFloat("_layout_universal_access_knob_set_title_label_widths".loc()),fieldContentValueKey:"smoothImages"}),displayOptionsLabel:Admin.BoldLabelView.design({value:"_generic_string_Display Options".loc(),classNames:["admin-margin-top-5","admin-margin-bottom-5"]}),invertColors:Admin.KnobSetInlineCheckboxFieldView.design({title:"_generic_string_Invert colors:".loc(),boldTitle:NO,titleLabelWidth:parseFloat("_layout_universal_access_knob_set_title_label_widths".loc()),fieldContentValueKey:"invertColors"}),useGrayscale:Admin.KnobSetInlineCheckboxFieldView.design({title:"_generic_string_Use grayscale:"
.loc(),boldTitle:NO,titleLabelWidth:parseFloat("_layout_universal_access_knob_set_title_label_widths".loc()),fieldContentValueKey:"useGrayscale"}),enhanceContrast:Admin.KnobSetInlineSelectButtonFieldView.design({title:"_generic_string_Enhance Contrast:".loc(),boldTitle:NO,titleLabelWidth:parseFloat("_layout_universal_access_knob_set_title_label_widths".loc()),buttonWidth:parseFloat("_layout_universal_access_knob_set_select_button_width".loc()),fieldObjects:function(){var e=[{name:"_generic_string_default".loc(),value:0}];for(var t=1;t<=10;t++)e.push({name:""+t,value:t/1});return e}.property().cacheable(),fieldContentValueKey:"enhanceContrast"}),cursorSize:Admin.KnobSetInlineSelectButtonFieldView.design({title:"_generic_string_Cursor size:".loc(),boldTitle:NO,titleLabelWidth:parseFloat("_layout_universal_access_knob_set_title_label_widths".loc()),buttonWidth:parseFloat("_layout_universal_access_knob_set_select_button_width".loc()),fieldObjects:function(){var e=[];for(var t=1;t<=4;t++)e.push({name:""+t,value:t});return e}.property().cacheable(),fieldContentValueKey:"cursorSize"}),voiceoverOptionsLabel:Admin.BoldLabelView.design({value:"_generic_string_VoiceOver Options".loc(),classNames:["admin-margin-top-5","admin-margin-bottom-5"]}),enableVoiceOver:Admin.KnobSetInlineCheckboxFieldView.design({title:"_generic_string_Enable VoiceOver:".loc(),boldTitle:NO,titleLabelWidth:parseFloat("_layout_universal_access_knob_set_title_label_widths".loc()),fieldContentValueKey:"voiceOverOnOffKey"})}),hearing:SC.View.design({childViews:["flashScreen","stereoAsMono"],useStaticLayout:YES,isVisible
:function(){return this.get("tabValue")==="hearing"}.property("tabValue").cacheable(),tabValueBinding:".owner*content.tabValue",contentBinding:".owner.content",flashScreen:Admin.BoldCheckboxView.extend({title:"_generic_string_Flash the screen when an alert occurs".loc(),contentValueKey:"flashScreen"}),stereoAsMono:Admin.BoldCheckboxView.extend({title:"_generic_string_Play stereo audio as mono".loc(),contentValueKey:"stereoAsMono"})}),interacting:SC.View.design({childViews:["stickyKeyTitle","stickyKeyBeepOnModifier","stickyKeyShowInWindow","slowKeyTitle","slowKeyBeepOn","slowKeyDelay","mouseKey","mouseDriverInitialDelay","mouseDriverMaxSpeed","mouseDriverIgnoreTrackpad"],useStaticLayout:YES,isVisible:function(){return this.get("tabValue")==="interacting"}.property("tabValue").cacheable(),tabValueBinding:".owner*content.tabValue",contentBinding:".owner.content",stickyKeyTitle:Admin.BoldCheckboxView.design({title:"_generic_string_Enable Sticky Keys".loc(),contentValueKey:"stickyKey"}),stickyKeyBeepOnModifier:Admin.BoldCheckboxView.design({layout:{left:15,height:25},title:"_generic_string_Beep when a modifier key is set".loc(),contentValueKey:"stickyKeyBeepOnModifier",isEnabledBinding:".owner.stickyKeyTitle.value"}),stickyKeyShowInWindow:Admin.BoldCheckboxView.design({layout:{left:15,height:25},title:"_generic_string_Display pressed keys on screen".loc(),contentValueKey:"stickyKeyShowWindow",isEnabledBinding:".owner.stickyKeyTitle.value"}),slowKeyTitle:Admin.BoldCheckboxView.design({title:"_generic_string_Enable Slow Keys".loc(),classNames:["admin-margin-top-5"],contentValueKey:"slowKey"
}),slowKeyBeepOn:Admin.KnobSetInlineCheckboxFieldView.design({title:"_generic_string_Use click key sounds".loc(),isEnabledBinding:".owner.slowKeyTitle.value",titleLabelWidth:parseFloat("_accessibility_interactivity_tab_label_width".loc()),fieldContentValueKey:"slowKeyBeepOn"}),slowKeyDelay:Admin.KnobSetInlineTextFieldView.design({title:"_generic_string_Acceptance delay".loc(),description:"_generic_string_time_milliseconds".loc(),titleLabelWidth:parseFloat("_accessibility_interactivity_tab_label_width".loc()),fieldWidth:40,isEnabledBinding:".owner.slowKeyTitle.value",fieldContentValueKey:"slowKeyDelay"}),mouseKey:Admin.BoldCheckboxView.design({title:"_generic_string_Enable Mouse Keys".loc(),contentValueKey:"mouseKey"}),mouseDriverInitialDelay:Admin.KnobSetInlineSelectButtonFieldView.design({title:"_generic_string_Initial delay:".loc(),titleLabelWidth:parseFloat("_accessibility_interactivity_tab_label_width".loc()),buttonWidth:parseFloat("_layout_universal_access_knob_set_select_button_width".loc()),isEnabledBinding:".owner.mouseKey.value",fieldObjects:[{name:"_generic_string_N_seconds".loc(.25),value:.333},{name:"_generic_string_N_seconds".loc(.5),value:.5},{name:"_generic_string_N_seconds".loc(.75),value:.75},{name:"_generic_string_N_second".loc(1),value:1},{name:"_generic_string_N_seconds".loc(1.25),value:1.25},{name:"_generic_string_N_seconds".loc(1.5),value:1.5},{name:"_generic_string_N_seconds".loc(1.75),value:1.75},{name:"_generic_string_N_seconds".loc(2),value:2}],fieldContentValueKey:"mouseDriverInitialDelay"}),mouseDriverMaxSpeed:Admin.KnobSetInlineSelectButtonFieldView
.design({title:"_generic_string_Maximum speed".loc(),titleLabelWidth:parseFloat("_accessibility_interactivity_tab_label_width".loc()),buttonWidth:parseFloat("_layout_universal_access_knob_set_select_button_width".loc()),isEnabledBinding:".owner.mouseKey.value",fieldObjects:[{name:"_generic_string_Slow".loc(),value:3},{name:"_generic_string_Medium".loc(),value:11},{name:"_generic_string_Fast".loc(),value:24}],fieldContentValueKey:"mouseDriverMaxSpeed"}),mouseDriverIgnoreTrackpad:Admin.KnobSetInlineCheckboxFieldView.design({title:"_generic_string_Ignore built-in trackpad:".loc(),isEnabledBinding:".owner.mouseKey.value",titleLabelWidth:parseFloat("_accessibility_interactivity_tab_label_width".loc()),fieldContentValueKey:"mouseDriverIgnoreTrackpad"})})})}),Admin.UniversalAccessKnobSet=Admin.KnobSet.extend({tabValue:"seeing",enableScrollWheelZoom:SC.Record.attr(Boolean,{key:"closeViewScrollWheelToggle",defaultValue:NO}),enableKeyboardZoom:SC.Record.attr(Boolean,{key:"closeViewHotkeysEnabled",defaultValue:NO}),_minimumZoom:SC.Record.attr(Number,{key:"closeViewFarPoint",defaultValue:2}),minimumZoom:function(e,t){return t!==undefined&&(t>this.get("_maximumZoom")&&this.set("_maximumZoom",t),this.set("_minimumZoom",t)),this.get("_minimumZoom")}.property("_minimumZoom").cacheable(),_maximumZoom:SC.Record.attr(Number,{key:"closeViewNearPoint",defaultValue:20}),maximumZoom:function(e,t){return t!==undefined&&(t<this.get("_minimumZoom")&&this.set("_minimumZoom",t),this.set("_maximumZoom",t)),this.get("_maximumZoom")}.property("_maximumZoom").cacheable(),showPreviewRectangle:SC.Record.attr
(Boolean,{key:"closeViewShowPreview",defaultValue:NO}),smoothImages:SC.Record.attr(Boolean,{key:"closeViewSmoothImages",defaultValue:YES}),invertColors:SC.Record.attr(Boolean,{key:"whiteOnBlack",defaultValue:NO}),useGrayscale:SC.Record.attr(Boolean,{key:"grayscale",defaultValue:NO}),_enhanceContrast:SC.Record.attr(Number,{key:"contrast",defaultValue:0}),enhanceContrast:function(e,t){if(t!==undefined){var n=parseFloat(String(t).substr(0,3));this.set("_enhanceContrast",n)}return this.get("_enhanceContrast")}.property("_enhanceContrast"),cursorSize:SC.Record.attr(Number,{key:"mouseDriverCursorSize",defaultValue:1}),voiceOverOnOffKey:SC.Record.attr(Boolean,{key:"voiceOverOnOffKey",defaultValue:NO}),flashScreen:SC.Record.attr(Boolean,{key:"flashScreen",defaultValue:NO}),stereoAsMono:SC.Record.attr(Boolean,{key:"stereoAsMono",defaultValue:NO}),stickyKey:SC.Record.attr(Boolean,{key:"stickyKey",defaultValue:NO}),stickyKeyBeepOnModifier:SC.Record.attr(Boolean,{key:"stickyKeyBeepOnModifier",defaultValue:YES}),stickyKeyShowWindow:SC.Record.attr(Boolean,{key:"stickyKeyShowWindow",defaultValue:YES}),slowKey:SC.Record.attr(Boolean,{key:"slowKey",defaultValue:NO}),slowKeyBeepOn:SC.Record.attr(Boolean,{key:"slowKeyBeepOn",defaultValue:YES}),slowKeyDelay:SC.Record.attr(Number,{key:"slowKeyDelay",defaultValue:250}),mouseKey:SC.Record.attr(Boolean,{key:"mouseDriver",defaultValue:NO}),mouseDriverInitialDelay:SC.Record.attr(Number,{key:"mouseDriverInitialDelay",defaultValue:1}),mouseDriverMaxSpeed:SC.Record.attr(Number,{key:"mouseDriverMaxSpeed",defaultValue:11}),mouseDriverIgnoreTrackpad:SC.Record
.attr(Boolean,{key:"mouseDriverIgnoreTrackpad",defaultValue:NO}),contentExampleView:function(){return Admin.UniversalAccessKnobSetView}.property()}),Admin.UniversalAccessKnobSet.displayName="_global_universal_access_knob_set_name".loc(),Admin.UniversalAccessKnobSet.largeIcon="admin-universal-access-knob-set-large-icon",Admin.UniversalAccessKnobSet.profilePropertyName="universalAccessKnobSets",SC.mixin(Admin.UniversalAccessKnobSet,{sortOrder:23.3,platformTypes:"OSX"}),Admin.UniversalAccessKnobSet.systemLevel=YES,Admin.UniversalAccessKnobSet.userLevel=YES,Admin.UniversalAccessKnobSet.settingTypeDescription="_global_universal_access_knob_set_description".loc(),Admin.SingleSignOnKnobSetView=Admin.KnobSetView.extend({showKnobSetAdd:NO,contentView:Admin.KnobSetContentView.design({childViews:["accountNameView","principalNameView","realmView","kerberosRenewalCertificateView","limitByUrlsView","urlPrefixMatchesView","limitByAppIdsView","appIdentifierMatchesView"],accountNameView:Admin.KnobSetTextFieldAbsolute.design({label:"_generic_string_Account Name".loc(),description:"_generic_string_Display name of the account".loc(),fieldHint:"_generic_string_required".loc(),contentBinding:".owner.content",fieldContentValueKey:"name",applyImmediately:NO,useStaticLayout:YES}),principalNameView:Admin.KnobSetTextFieldAbsolute.design({label:"_generic_string_Principal Name".loc(),description:"_generic_string_Principal name of the account".loc(),fieldHint:"_generic_string_required".loc(),contentBinding:".owner.content",fieldContentValueKey:"principalName",applyImmediately:NO,useStaticLayout:YES}),realmView
:Admin.KnobSetTextFieldAbsolute.design({label:"_generic_string_Realm".loc(),description:"_generic_string_Realm of the account".loc(),fieldHint:"_generic_string_required".loc(),contentBinding:".owner.content",fieldContentValueKey:"realm",applyImmediately:NO,useStaticLayout:YES}),kerberosRenewalCertificateView:Admin.KnobSetSelectButtonFieldView.design({title:"_single_sign_on_kerberos_renewal_certificate_title".loc(),description:"_single_sign_on_kerberos_renewal_certificate_description".loc(),buttonWidth:Admin.KNOB_WIDTH-20,fieldObjectsBinding:".owner*content.kerberosRenewalCertificates",fieldObjectsBindingDefault:SC.Binding.oneWay(),checkboxEnabled:NO,fieldContentValueKey:"kerberosRenewalCertificateUUID"}),limitByUrlsView:Admin.BoldCheckboxViewAbsolute.design({displayTitle:"_generic_string_Limit this account to specific URL patterns".loc(),contentBinding:".owner.content",contentValueKey:"isUrlPrefixMatchesEnabled",useStaticLayout:YES}),urlPrefixMatchesView:Admin.UnScrollableListView.design({title:null,description:"_generic_string_This account will only be used for URLs that match the following patterns".loc(),addAction:"addUrlPrefixMatch",addTarget:SC.outlet("owner.content"),removeAction:"removeUrlPrefixMatch",removeTarget:SC.outlet("owner.content"),isEditable:YES,canEditContent:YES,isEnabledBinding:".owner*content.isUrlPrefixMatchesEnabled",exampleView:SC.ListItemView.extend({contentIconKey:"icon",hasContentIcon:YES}),contentBinding:".owner*content.urlPrefixMatches",selectionBinding:".owner*content.urlPrefixMatchesSelection"}),limitByAppIdsView:Admin.BoldCheckboxViewAbsolute.
design({displayTitle:"_generic_string_Limit this account to specific applications".loc(),contentBinding:".owner.content",contentValueKey:"isAppIdentifierMatchesEnabled",useStaticLayout:YES}),appIdentifierMatchesView:Admin.UnScrollableListView.design({title:null,description:"_generic_string_This account will only be used for the following application identifiers".loc(),addAction:"addAppIdentifierMatch",addTarget:SC.outlet("owner.content"),removeAction:"removeAppIdentifierMatch",removeTarget:SC.outlet("owner.content"),isEditable:YES,canEditContent:YES,isEnabledBinding:".owner*content.isAppIdentifierMatchesEnabled",contentBinding:".owner*content.appIdentifierMatches",selectionBinding:".owner*content.appIdentifierMatchesSelection"})})}),Admin.SingleSignOnKnobSet=Admin.KnobSet.extend({name:SC.Record.attr(String,{key:"Name"}),_kerberosDict:SC.Record.attr(Object,{key:"Kerberos"}),_getOrSetKerberosStringAttribute:function(e,t){var n=this.get("_kerberosDict")||{};return t!==undefined&&(n[e]=t,this.set("_kerberosDict",SC.clone(n))),n[e]},principalName:function(e,t){return this._getOrSetKerberosStringAttribute("PrincipalName",t)}.property("_kerberosDict").cacheable(),realm:function(e,t){return this._getOrSetKerberosStringAttribute("Realm",t)}.property("_kerberosDict").cacheable(),_kerberosRenewalCertificateUUID:function(e,t){return this._getOrSetKerberosStringAttribute("PayloadCertificateUUID",t)}.property("_kerberosDict").cacheable(),kerberosRenewalCertificateUUID:function(e,t){return t!==undefined&&(t=t==="--none--"?null:t,this.set("_kerberosRenewalCertificateUUID",t)),this.get("_kerberosRenewalCertificateUUID"
)||"--none--"}.property("_kerberosRenewalCertificateUUID").cacheable(),kerberosRenewalCertificatesBinding:SC.Binding.oneWay(".profile.identityAndScepCertObjects"),isUrlPrefixMatchesEnabled:function(e,t){if(t!==undefined){var n=t?[]:null;this._getOrSetKerberosStringAttribute("URLPrefixMatches",n)}return!!this._getOrSetKerberosStringAttribute("URLPrefixMatches")}.property("_kerberosDict").cacheable(),_urlPrefixMatches:function(e,t){return this._getOrSetKerberosStringAttribute("URLPrefixMatches",t)||[]}.property("_kerberosDict").cacheable(),urlPrefixMatches:function(e,t){if(t!==undefined)throw SC.$error("you can't set value for urlPrefixMatches read-only property");var n=this.get("_urlPrefixMatches"),r=[],i=0,s=this;return n.forEach(function(e){var t=SC.Object.create({index:i,name:e,icon:"admin-parental-icon-bookmark"});t.addObserver("name",s,s._updateUrlPrefixMatches),r.push(t),i++}),r}.property("_urlPrefixMatches").cacheable(),_updateUrlPrefixMatches:function(){var e=[],t=this.get("urlPrefixMatches"),n,r;for(r=0;r<t.length;r++){n=t[r];var i=n.get("name");i&&i.trim()!==""&&e.push(n.get("name"))}this.set("_urlPrefixMatches",e)},addUrlPrefixMatch:function(){var e="http://www.example.com";this.get("_urlPrefixMatches").pushObject(e);var t=SC.clone(this.get("_urlPrefixMatches"));this.set("_urlPrefixMatches",t)},urlPrefixMatchesSelection:null,removeUrlPrefixMatch:function(){var e=this.get("urlPrefixMatchesSelection");if(e&&e.firstObject()){var t=e.firstObject();this.get("_urlPrefixMatches").splice(t.get("index"),1);var n=SC.clone(this.get("_urlPrefixMatches"));this.set("_urlPrefixMatches"
,n)}},isAppIdentifierMatchesEnabled:function(e,t){if(t!==undefined){var n=t?[]:null;this._getOrSetKerberosStringAttribute("AppIdentifierMatches",n)}return!!this._getOrSetKerberosStringAttribute("AppIdentifierMatches")}.property("_kerberosDict").cacheable(),_appIdentifierMatches:function(e,t){return this._getOrSetKerberosStringAttribute("AppIdentifierMatches",t)||[]}.property("_kerberosDict").cacheable(),appIdentifierMatches:function(e,t){if(t!==undefined)throw SC.$error("you can't set value for appIdentifierMatches read-only property");var n=this.get("_appIdentifierMatches"),r=[],i=0,s=this;return n.forEach(function(e){var t=SC.Object.create({index:i,name:e});t.addObserver("name",s,s._updateAppIdentifierMatches),r.push(t),i++}),r}.property("_appIdentifierMatches").cacheable(),_updateAppIdentifierMatches:function(){var e=[],t=this.get("appIdentifierMatches"),n,r;for(r=0;r<t.length;r++){n=t[r];var i=n.get("name");i&&i.trim()!==""&&e.push(n.get("name"))}this.set("_appIdentifierMatches",e)},addAppIdentifierMatch:function(){var e="com.mycompany.*";this.get("_appIdentifierMatches").pushObject(e);var t=SC.clone(this.get("_appIdentifierMatches"));this.set("_appIdentifierMatches",t)},appIdentifierMatchesSelection:null,removeAppIdentifierMatch:function(){var e=this.get("appIdentifierMatchesSelection");if(e&&e.firstObject()){var t=e.firstObject();this.get("_appIdentifierMatches").splice(t.get("index"),1);var n=SC.clone(this.get("_appIdentifierMatches"));this.set("_appIdentifierMatches",n)}},validatedProperties:{name:Admin.RequiredValidator.create({}),principalName:Admin.RequiredValidator
.create({}),realm:Admin.RequiredValidator.create({})},contentExampleView:function(){return Admin.SingleSignOnKnobSetView}.property()}),Admin.SingleSignOnKnobSet.displayName="_global_single_sign_on_knob_set_name".loc(),Admin.SingleSignOnKnobSet.largeIcon="admin-single-sign-on-knob-set-large-icon",Admin.SingleSignOnKnobSet.numLines="_single_sign_on_knob_set_num_lines".loc(),Admin.SingleSignOnKnobSet.profilePropertyName="singleSignOnKnobSets",SC.mixin(Admin.SingleSignOnKnobSet,{sortOrder:2.8,platformTypes:"iOS"}),Admin.SingleSignOnKnobSet.systemLevel=YES,Admin.SingleSignOnKnobSet.userLevel=YES,Admin.SingleSignOnKnobSet.settingTypeDescription="_global_single_sign_on_knob_set_description".loc(),Admin.AirplayKnobSetView=Admin.KnobSetView.extend({showKnobSetAdd:NO,contentView:Admin.KnobSetContentView.design({layout:{width:Admin.KNOB_WIDTH,centerX:0,height:345},childViews:["configureKnownAirplayDestinationsHeaderView","knownAirplayDestinationsListsView","buttonsContainerView","restrictAirplayDestinationsView"],configureKnownAirplayDestinationsHeaderView:Admin.BoldLabelViewAbsolute.extend({layout:{centerX:0,width:Admin.KNOB_WIDTH,height:20},value:"_generic_string_Known AirPlay Destinations".loc()}),knownAirplayDestinationsListsView:SCTable.TableViewNoFastPath.design(SC.Border,{layout:{top:25,centerX:0,width:Admin.KNOB_WIDTH-2,height:200},classNames:["admin-background-color-white"],rowHeight:40,headerHeight:17,columns:[SC.Object.create(SCTable.Column,{name:"_table_header_Device Name".loc(),valueKey:"name",width:.7,canResize:NO}),SC.Object.create(SCTable.Column,{name:"_table_header_Include Password"
.loc(),valueKey:"selectionCheckbox",width:.3,canResize:NO})],contentBinding:SC.Binding.oneWay("Admin.AirplayContentTableViewController.arrangedObjects"),selectionBinding:"Admin.AirplayContentTableViewController.selection",showAlternatingRows:NO,canReorderColumns:NO,sort:{valueKey:"displayName",direction:SCTable.SORT_DIRECTION_ASCENDING}}),buttonsContainerView:SC.View.design({layout:{top:235,centerX:0,height:25,width:Admin.KNOB_WIDTH},childViews:"addButtonView removeButtonView".w(),addButtonView:SC.ButtonView.design({layout:{top:0,height:25,left:0,width:30},titleMinWidth:0,themeName:"square",controlSize:SC.TINY_CONTROL_SIZE,icon:"admin-knob-set-list-add-button-overlay",action:function(){Admin.AirplayDestinationArrayController.get("content").refresh();var e=Admin.AddAirPlayDestinationPage.getPath("addAirPlayDestinationSheet");e.append(),e.set("delegate",this)},addAirplayDestinations:function(e){var t=this.getPath("owner.owner.content"),n=t.get("devices");e.forEach(function(e){n.pushObject(e)})}}),removeButtonView:SC.ButtonView.design({layout:{top:0,height:25,left:35,width:30},titleMinWidth:0,themeName:"square",controlSize:SC.TINY_CONTROL_SIZE,icon:"admin-knob-set-list-remove-button-overlay",action:function(){var e=Admin.AirplayContentTableViewController.get("selection");Admin.AirplayContentTableViewController.removeObjects(e),Admin.AirplayContentTableViewController.notifyPropertyChange("length")}})}),restrictAirplayDestinationsView:Admin.KnobSetCheckBoxFieldViewAbsolute.design({layout:{top:265,centerX:0,width:Admin.KNOB_WIDTH+60,height:50},label:"_generic_string_Restrict AirPlay destinations (supervised only)"
.loc(),description:"_generic_string_Only known AirPlay destinations will be available to the device".loc(),fieldHint:"_generic_string_required".loc(),contentBinding:".owner.content",fieldContentValueKey:"restrictAirPlay"})})}),Admin.AirplayKnobSet=Admin.KnobSet.extend({includedPasswordDeviceIDs:SC.Record.attr(Array,{key:"internal_use_password_device_ids",defaultValue:[]}),toggleIncludePasswordForTV:function(e){var t=SC.clone(this.get("includedPasswordDeviceIDs")),n=e.get("id");t.contains(n)?t.splice(t.indexOf(n),1):t.push(n),this.set("includedPasswordDeviceIDs",t)},restrictAirPlay:SC.Record.attr(Boolean,{key:"internal_use_restrict_airplay",defaultValue:NO}),contentExampleView:function(){return Admin.AirplayKnobSetView}.property()}),Admin.AirplayKnobSet.displayName="_global_airplay_knob_set_name".loc(),Admin.AirplayKnobSet.largeIcon="admin-airplay-knob-set-large-icon",Admin.AirplayKnobSet.numLines="_airplay_knob_set_num_lines".loc(),Admin.AirplayKnobSet.profilePropertyName="airplayKnobSets",SC.mixin(Admin.AirplayKnobSet,{sortOrder:12.2,platformTypes:"iOS OSX"}),Admin.AirplayKnobSet.systemLevel=YES,Admin.AirplayKnobSet.userLevel=YES,Admin.AirplayKnobSet.settingTypeDescription="_global_airplay_knob_set_description".loc(),Admin.AirPrintKnobSetView=Admin.KnobSetView.extend({showKnobSetAdd:NO,contentView:Admin.KnobSetContentView.design({childViews:["airprintListHeaderView","knownAirPrintDestinationsTableView","buttonsContainerView"],airprintListHeaderView:Admin.BoldLabelViewAbsolute.design({layout:{height:25},useStaticLayout:YES,value:"_generic_string_Printers available on the device"
.loc()}),knownAirPrintDestinationsTableView:SCTable.TableViewNoFastPath.design(SC.Border,{layout:{height:200},useStaticLayout:YES,classNames:["admin-background-color-white"],headerHeight:17,rowHeight:40,columns:[SC.Object.create(SCTable.Column,{name:"_table_header_IP Address".loc(),valueKey:"IPAddress",width:.3,canResize:NO}),SC.Object.create(SCTable.Column,{name:"_table_header_Resource Path".loc(),valueKey:"ResourcePath",width:.7,canResize:NO})],contentBinding:SC.Binding.oneWay("Admin.AirPrintKnobSetTableViewController.arrangedObjects"),selectionBinding:"Admin.AirPrintKnobSetTableViewController.selection",showAlternatingRows:YES,canReorderColumns:NO,sort:{valueKey:"name",direction:SCTable.SORT_DIRECTION_ASCENDING}}),buttonsContainerView:SC.View.design({layout:{height:35},useStaticLayout:YES,childViews:["addButtonView","removeButtonView"],addButtonView:SC.ButtonView.design({layout:{top:5,height:25,left:0,width:30},titleMinWidth:0,themeName:"square",controlSize:SC.TINY_CONTROL_SIZE,icon:"admin-knob-set-list-add-button-overlay",action:function(){var e=Admin.AirPrintDestinationPage.get("addDestinationPane");e.set("delegate",this),e.append()},addAirprintPrinter:function(e){Admin.AirPrintKnobSetTableViewController.addObject(e)}}),removeButtonView:SC.ButtonView.design({layout:{top:5,height:25,left:35,width:30},titleMinWidth:0,themeName:"square",controlSize:SC.TINY_CONTROL_SIZE,icon:"admin-knob-set-list-remove-button-overlay",isEnabled:function(){var e=this.get("selection"),t=YES;if(SC.none(e)||e===""||SC.isArray(e)&&e.length===0||e===SC.SelectionSet.EMPTY)t=NO;return t}.property("selection"
).cacheable(),selectionBinding:"Admin.AirPrintKnobSetTableViewController.selection",action:function(){var e=Admin.AirPrintKnobSetTableViewController.get("selection");Admin.AirPrintKnobSetTableViewController.removeObjects(e),Admin.AirPrintKnobSetTableViewController.set("selection",null),Admin.AirPrintKnobSetTableViewController.notifyPropertyChange("length")}})})})}),Admin.AirPrintKnobSet=Admin.KnobSet.extend({airPrint:SC.Record.attr(Array,{key:"AirPrint",defaultValue:function(){return[]}}),contentExampleView:Admin.AirPrintKnobSetView}),Admin.AirPrintKnobSet.displayName="_global_airprint_knob_set_name".loc(),Admin.AirPrintKnobSet.largeIcon="admin-airprint-knob-set-large-icon",Admin.AirPrintKnobSet.numLines="_airprint_knob_set_num_lines".loc(),Admin.AirPrintKnobSet.profilePropertyName="airprintKnobSets",SC.mixin(Admin.AirPrintKnobSet,{sortOrder:3,platformTypes:"iOS"}),Admin.AirPrintKnobSet.systemLevel=YES,Admin.AirPrintKnobSet.userLevel=YES,Admin.AirPrintKnobSet.settingTypeDescription="_global_airprint_knob_set_description".loc(),Admin.WebContentFilterVendorConfigView=Admin.UnScrollableListView.extend({title:"_content_filter_custom_data_header".loc(),description:"_content_filter_custom_data_description".loc(),contentBinding:".owner*content.customData",selectionBinding:".owner*content.customDataSelection",addAction:"addCustomDataItem",addTarget:SC.outlet("owner.content"),removeAction:"removeCustomDataItem",removeTarget:SC.outlet("owner.content"),isEditable:YES,canEditContent:YES,exampleView:SC.View.design(SC.Control,{childViews:"customDataKeyView customDataValueView".w(),customDataKeyView
:SC.LabelView.design({layout:{centerY:2,left:5,width:Admin.KNOB_WIDTH/2-10,height:20},isEditable:YES,valueBinding:".owner*content.key",mouseDown:function(){var e=this.getPath("owner.owner"),t=this.getPath("owner.content"),n=SC.SelectionSet.create();return n.addObject(t),e.set("selection",n),YES}}),customDataValueView:SC.LabelView.design({layout:{centerY:1,left:Admin.KNOB_WIDTH/2+5,width:Admin.KNOB_WIDTH/2-10,height:20},isEditable:YES,valueBinding:".owner*content.value",mouseDown:function(){var e=this.getPath("owner.owner"),t=this.getPath("owner.content"),n=SC.SelectionSet.create();return n.addObject(t),e.set("selection",n),YES}})}),headerView:SC.View.design(SC.Border,{layout:{height:20},useStaticLayout:YES,classNames:["admin-unscrollable-list-view-header"],childViews:"keyLabelView valueLabelView".w(),keyLabelView:SC.LabelView.design({layout:{centerY:2,left:5,right:Admin.KNOB_WIDTH/2,height:20},value:"_vpn_custom_ssl_data_table_header_key".loc()}),valueLabelView:SC.LabelView.design({layout:{centerY:2,left:Admin.KNOB_WIDTH/2+5,right:0,height:20},value:"_vpn_custom_ssl_data_table_header_value".loc()})})}),Admin.WebContentFilterKnobSetView=Admin.KnobSetView.extend({showKnobSetAdd:NO,contentView:Admin.KnobSetContentView.design({childViews:["allowedWebsitesHeaderView","autoFilterEnabledContainerView","specificSitesContainerView","pluginContainerView"],allowedWebsitesHeaderView:SC.View.design({layout:{height:50},useStaticLayout:YES,contentBinding:".owner.content",childViews:["allowedWebsitesHeader","allowedWebsitesSelection"],allowedWebsitesHeader:Admin.BoldLabelViewAbsolute.extend
({layout:{height:20},useStaticLayout:YES,value:"_generic_string_Filter Type".loc()}),allowedWebsitesSelection:SC.SelectView.design({layout:{width:parseFloat("_content_filter_type_width".loc())},useStaticLayout:YES,itemTitleKey:"name",itemValueKey:"value",items:[{value:"built_in_auto",name:"_web_content_filter_Limit Adult Content".loc()},{value:"built_in_specific_websites",name:"_web_content_filter_Specific Websites Only".loc()},{value:"plugin",name:"_web_content_filter_Plug-in".loc()}],contentBinding:".owner.content",contentValueKey:"filterType"})}),autoFilterEnabledContainerView:SC.View.design({contentBinding:".owner.content",useStaticLayout:YES,childViews:["permittedSitesView","blacklistSitesView"],filterTypeBinding:"*content.filterType",isVisible:function(e,t){return this.get("filterType")==="built_in_auto"}.property("filterType").cacheable(),permittedSitesView:Admin.UnScrollableListView.design({title:"_web_content_filter_Permitted URLs".loc(),description:"_web_content_filter_Specific URLs that will be allowed".loc(),addAction:"addPermittedSite",addTarget:SC.outlet("owner.content"),removeAction:"removePermittedSite",removeTarget:SC.outlet("owner.content"),isEditable:YES,canEditContent:YES,contentBinding:".owner*content.permittedSitesContent",selectionBinding:".owner*content.permittedSitesSelection"}),blacklistSitesView:Admin.UnScrollableListView.design({title:"_web_content_filter_Blacklisted URLs".loc(),description:"_web_content_filter_Additional URLs that will not be allowed".loc(),addAction:"addBlacklistedSite",addTarget:SC.outlet("owner.content"),removeAction:"removeBlacklistedSite"
,removeTarget:SC.outlet("owner.content"),isEditable:YES,canEditContent:YES,contentBinding:".owner.owner*content.blacklistedSitesContent",selectionBinding:".owner.owner*content.blacklistedSitesSelection"})}),specificSitesContainerView:SC.View.design({contentBinding:".owner.content",useStaticLayout:YES,childViews:["specificSitesTitle","specificSitesDescription","specificSitesTable","buttonView"],filterTypeBinding:"*content.filterType",isVisible:function(e,t){return this.get("filterType")==="built_in_specific_websites"}.property("filterType").cacheable(),specificSitesTitle:Admin.BoldLabelViewAbsolute.design({layout:{height:20},useStaticLayout:YES,value:"_web_content_filter_Specific Websites".loc()}),specificSitesDescription:Admin.DescriptionLabelViewAbsolute.design({layout:{height:20},useStaticLayout:YES,value:"_web_content_filter_Allowed URLs which will be shown as bookmarks".loc()}),specificSitesTable:SCTable.TableViewNoFastPath.design(SC.Border,{layout:{height:180},useStaticLayout:YES,classNames:["admin-background-color-white"],rowHeight:40,headerHeight:17,columns:[SC.Object.create(SCTable.Column,{name:"_web_content_filter_URL".loc(),valueKey:"URL",width:.4,canResize:NO}),SC.Object.create(SCTable.Column,{name:"_web_content_filter_Name".loc(),valueKey:"Title",width:.3,canResize:NO}),,SC.Object.create(SCTable.Column,{name:"_web_content_filter_Bookmark".loc(),valueKey:"BookmarkPath",width:.3,canResize:NO})],contentBinding:SC.Binding.oneWay("Admin.WebContentFilterBookmarksTableViewController.arrangedObjects"),selectionBinding:"Admin.WebContentFilterBookmarksTableViewController.selection"
,showAlternatingRows:NO,canReorderColumns:NO,sort:{valueKey:"displayName",direction:SCTable.SORT_DIRECTION_ASCENDING}}),buttonView:SC.View.design({layout:{height:35},useStaticLayout:YES,childViews:["addButton","removeButton"],addButton:SC.ButtonView.design({layout:{bottom:5,height:25,left:0,width:30},titleMinWidth:0,themeName:"square",controlSize:SC.TINY_CONTROL_SIZE,isEnabledBinding:".owner.isEnabled",action:function(){var e=Admin.WebContentFilterBookmarkPage.get("addWebContentBookmarkSheet");e.set("delegate",this),e.append()},addBookmark:function(e){Admin.WebContentFilterBookmarksTableViewController.addObject(e)},icon:"admin-knob-set-list-add-button-overlay"}),removeButton:SC.ButtonView.design({layout:{bottom:5,height:25,left:35,width:30},titleMinWidth:0,themeName:"square",controlSize:SC.TINY_CONTROL_SIZE,isEnabledBinding:".owner.isEnabled",action:function(){var e=Admin.WebContentFilterBookmarksTableViewController.get("selection");Admin.WebContentFilterBookmarksTableViewController.removeObjects(e),Admin.WebContentFilterBookmarksTableViewController.notifyPropertyChange("length")},icon:"admin-knob-set-list-remove-button-overlay"})})}),pluginContainerView:SC.View.design({contentBinding:".owner.content",useStaticLayout:YES,filterTypeBinding:"*content.filterType",isVisible:function(e,t){return this.get("filterType")==="plugin"}.property("filterType").cacheable(),childViews:["filterNameView","pluginIdentifierView","serverView","organizationView","userAccountView","passwordView","certificateView","filterWebKitView","filterSocketView","customDataView"],filterNameView:Admin.KnobSetTextFieldView
.design({title:"_content_filter_plugin_type_filter_name_header".loc(),description:"_content_filter_plugin_type_filter_name_description".loc(),fieldHint:"_hint_required".loc(),fieldContentValueKey:"filterName"}),pluginIdentifierView:Admin.KnobSetTextFieldView.design({title:"_content_filter_plugin_type_plugin_id_header".loc(),description:"_content_filter_plugin_type_plugin_id_description".loc(),fieldHint:"_hint_required".loc(),fieldContentValueKey:"pluginIdentifier"}),serverView:Admin.KnobSetTextFieldView.design({title:"_content_filter_plugin_type_server_name_header".loc(),description:"_content_filter_plugin_type_server_name_description".loc(),fieldHint:"_knob_set_view_optional_hint".loc(),fieldContentValueKey:"serverAddress"}),organizationView:Admin.KnobSetTextFieldView.design({title:"_content_filter_plugin_type_organization_header".loc(),description:"_content_filter_plugin_type_organization_description".loc(),fieldHint:"_knob_set_view_optional_hint".loc(),fieldContentValueKey:"organization"}),userAccountView:Admin.KnobSetTextFieldView.design({title:"_content_filter_plugin_type_user_account_header".loc(),description:"_content_filter_plugin_type_user_account_description".loc(),fieldHint:"_knob_set_view_optional_hint".loc(),fieldContentValueKey:"userName"}),passwordView:Admin.KnobSetSecureTextFieldView.design({title:"_content_filter_plugin_type_password_header".loc(),description:"_content_filter_plugin_type_password_description".loc(),buttonWidth:150,contentBinding:".owner.content",fieldContentValueKey:"password"}),certificateView:Admin.KnobSetSelectButtonFieldView.design({title
:"_generic_string_Certificate".loc(),description:"_content_filter_plugin_type_certificate_description".loc(),fieldValueBinding:".owner*content.authenticationCertificate",fieldObjectsBinding:".owner*content.authenticationCertificateContent",buttonWidth:Admin.KNOB_WIDTH-20,isEnabled:function(){var e=this.get("fieldObjects");return e!==null&&e.length>1}.property("fieldObjects").cacheable()}),filterWebKitView:Admin.BoldCheckboxView.design({classNames:["admin-margin-top-7"],title:"_content_filter_plugin_type_filter_webkit".loc(),contentValueKey:"filterWebkit"}),filterSocketView:Admin.BoldCheckboxView.design({classNames:["admin-margin-bottom-5"],title:"_content_filter_plugin_type_filter_socket".loc(),contentValueKey:"filterSockets"}),customDataView:Admin.WebContentFilterVendorConfigView.design({})})})}),Admin.WebContentFilterKnobSet=Admin.KnobSet.extend({resetKnobset:function(){this.set("_autoFilterEnabled",null),this.set("_filterType",null),this.set("permittedSites",null),this.set("blacklistedSites",null),this.set("whitelistedBookmarks",null),this.set("_filterName",null),this.set("pluginIdentifier",null),this.set("serverAddress",null),this.set("organization",null),this.set("userName",null),this.set("password",null),this.set("_authenticationCertificate",null),this.set("filterWebkit",null),this.set("filterSockets",null),this.set("_VendorConfig",null)},_autoFilterEnabled:SC.Record.attr(Boolean,{key:"AutoFilterEnabled",defaultValue:YES}),_filterType:SC.Record.attr(String,{key:"FilterType",defaultValue:"BuiltIn"}),filterType:function(e,t){t!==undefined&&(this.resetKnobset(),t==="built_in_auto"?
(this.set("_autoFilterEnabled",YES),this.set("_filterType","BuiltIn"),this.set("permittedSites",[]),this.set("blacklistedSites",[])):t==="built_in_specific_websites"?(this.set("_autoFilterEnabled",NO),this.set("_filterType","BuiltIn"),this.set("whitelistedBookmarks",[])):t==="plugin"&&(this.set("_filterType","Plugin"),this.set("_autoFilterEnabled",null),this.set("filterWebkit",YES),this.set("filterSockets",YES),this.set("_VendorConfig",{})));var n="built_in_auto",r=this.get("_filterType"),i=this.get("_autoFilterEnabled");return r==="BuiltIn"?n=i?"built_in_auto":"built_in_specific_websites":r==="Plugin"&&(n="plugin"),n}.property("_filterType","_autoFilterEnabled").cacheable(),permittedSites:SC.Record.attr(Array,{key:"PermittedURLs",defaultValue:[]}),permittedSitesSelection:null,permittedSitesContent:function(){var e=this,t=0,n=[],r=this.get("permittedSites");return r&&r.forEach(function(r){var s=SC.Object.create({index:t,name:r});s.addObserver("name",e,e._updatePermittedSites),n.push(s),t++}),n}.property("permittedSites").cacheable(),_updatePermittedSites:function(){var e=[],t=this.get("permittedSitesContent"),n,r;for(r=0;r<t.length;r++)n=t[r],e.push(n.get("name"));this.set("permittedSites",e)},addPermittedSite:function(){var e="_web_content_URL_Placeholder".loc(),t=SC.clone(this.get("permittedSites"),YES);t.push(e),this.set("permittedSites",t)},removePermittedSite:function(){var e=this.get("permittedSitesSelection");if(e&&e.firstObject()){var t=e.firstObject(),n=SC.clone(this.get("permittedSites"),YES);n.splice(t.get("index"),1),this.set("permittedSites",n)}},blacklistedSites
:SC.Record.attr(Array,{key:"BlacklistedURLs",defaultValue:[]}),blacklistedSitesSelection:null,blacklistedSitesContent:function(){var e=this,t=0,n=[],r=this.get("blacklistedSites");return r&&r.forEach(function(r){var s=SC.Object.create({index:t,name:r});s.addObserver("name",e,e._updateblacklistedSites),n.push(s),t++}),n}.property("blacklistedSites").cacheable(),_updateblacklistedSites:function(){var e=[],t=this.get("blacklistedSitesContent"),n,r;for(r=0;r<t.length;r++)n=t[r],e.push(n.get("name"));this.set("blacklistedSites",e)},addBlacklistedSite:function(){var e="_web_content_URL_Placeholder".loc(),t=SC.clone(this.get("blacklistedSites"),YES);t.push(e),this.set("blacklistedSites",t)},removeBlacklistedSite:function(){var e=this.get("blacklistedSitesSelection");if(e&&e.firstObject()){var t=e.firstObject(),n=SC.clone(this.get("blacklistedSites"),YES);n.splice(t.get("index"),1),this.set("blacklistedSites",n,YES)}},whitelistedBookmarks:SC.Record.attr(Array,{key:"WhitelistedBookmarks",defaultValue:function(){return[]}}),displayName:SC.Record.attr(String,{key:"PayloadDisplayName",defaultValue:"_global_web_content_filter_knob_set_name".loc()}),_filterName:SC.Record.attr(String,{key:"UserDefinedName"}),filterName:function(e,t){if(t!==undefined){var n=t?t:"_global_web_content_filter_knob_set_name".loc();this.set("displayName",n),this.set("_filterName",t)}return this.get("_filterName")}.property("_filterName").cacheable(),pluginIdentifier:SC.Record.attr(String,{key:"PluginBundleID"}),serverAddress:SC.Record.attr(String,{key:"ServerAddress"}),organization:SC.Record.attr(String,{key:"Organization"
}),userName:SC.Record.attr(String,{key:"UserName"}),password:SC.Record.attr(String,{key:"Password"}),authenticationCertificateContentBinding:SC.Binding.oneWay(".profile.identityScepAndAdCertObjects"),_authenticationCertificate:SC.Record.attr(String,{key:"PayloadCertificateUUID"}),authenticationCertificate:function(e,t){return t!==undefined&&t!=="--none--"&&this.set("_authenticationCertificate",t),this.get("_authenticationCertificate")||"--none--"}.property("_authenticationCertificate").cacheable(),filterWebkit:SC.Record.attr(Boolean,{key:"FilterBrowsers",defaultValue:YES}),filterSockets:SC.Record.attr(Boolean,{key:"FilterSockets",defaultValue:YES}),_VendorConfig:SC.Record.attr(Object,{key:"VendorConfig",defaultValue:function(){return{}}}),addCustomDataItem:function(){var e=this.get("customData")||[],t=SC.Object.create({key:"key",value:"value"});t.addObserver("key",this,this._customDataDidChange),t.addObserver("value",this,this._customDataDidChange),e.pushObject(t),this._customDataDidChange()},removeCustomDataItem:function(){var e=this.get("customData"),t=this.get("customDataSelection");t&&t.firstObject()&&(t.firstObject().removeObserver("key",this,this._customDataDidChange),t.firstObject().removeObserver("value",this,this._customDataDidChange),e.removeObject(t.firstObject()),this._customDataDidChange())},customData:function(){var e=[],t=this.get("_VendorConfig")||{};for(var n in t)if(t.hasOwnProperty(n)){var r=SC.Object.create({key:n,value:t[n]});r.addObserver("key",this,this._customDataDidChange),r.addObserver("value",this,this._customDataDidChange),e.push(r)}return e}.property
().cacheable(),_customDataDidChange:function(){var e={},t=this.get("customData");for(var n=0,r=t.length;n<r;n++){var i=t[n],s=i.get("key"),o=i.get("value");e[s]=o}this.set("_VendorConfig",e)},validatedProperties:function(){var e=this.get("filterType"),t={};return e==="plugin"&&(t={filterName:Admin.RequiredValidator.create({}),pluginIdentifier:Admin.RequiredValidator.create({})}),t}.property("filterType").cacheable(),contentExampleView:Admin.WebContentFilterKnobSetView}),Admin.WebContentFilterKnobSet.displayName="_global_web_content_filter_knob_set_name".loc(),Admin.WebContentFilterKnobSet.largeIcon="admin-web-content-filter-knob-set-large-icon",Admin.WebContentFilterKnobSet.numLines="_global_web_content_filter_knob_set_num_lines".loc(),Admin.WebContentFilterKnobSet.profilePropertyName="webContentFilterKnobSets",SC.mixin(Admin.WebContentFilterKnobSet,{sortOrder:2.71,platformTypes:"iOS"}),Admin.WebContentFilterKnobSet.systemLevel=YES,Admin.WebContentFilterKnobSet.userLevel=YES,Admin.WebContentFilterKnobSet.settingTypeDescription="_global_web_content_filter_knob_set_description".loc(),Admin.FontsKnobSetView=Admin.KnobSetView.extend({showKnobSetAdd:NO,contentView:Admin.KnobSetContentView.design({layout:{height:30,width:Admin.KNOB_WIDTH,centerX:0},childViews:["fontLabel","fontFileName","uploadFont","fontUploadView"],fontLabel:Admin.BoldLabelViewAbsolute.design({layout:{top:5,left:10,width:parseFloat("_layout_fonts_label_width".loc()),height:20},value:"_generic_string_Font:".loc()}),fontFileName:SC.TextFieldView.design({layout:{top:3,left:10+parseFloat("_layout_fonts_label_width".
loc()),right:20+parseFloat("_layout_fonts_upload_button_width".loc()),height:20},isEnabled:function(){return this.get("value")}.property("value").cacheable(),isEditing:NO,hint:"_generic_string_No file uploaded".loc(),spellCheckEnabled:NO,isContenxtMenuEnabled:NO,contentBinding:".owner.content",contentValueKey:"fontName"}),uploadFont:SC.ButtonView.design({layout:{top:3,width:parseFloat("_layout_fonts_upload_button_width".loc()),right:10,height:26},fontNameBinding:".owner*content.fontName",title:function(){return this.get("fontName")?"_generic_string_Remove".loc():"_generic_string_Upload...".loc()}.property("fontName").cacheable(),targetBinding:".owner.fontUploadView",action:"removeUploadData",controlSize:SC.TINY_CONTROL_SIZE}),fontUploadView:Admin.UploadView.design({layout:{top:3,left:10+parseFloat("_layout_fonts_label_width".loc()),right:10,height:20},fileNameObserver:function(){this.get("fileName")?this.adjust("right",20+parseFloat("_layout_fonts_upload_button_width".loc())):this.adjust("right",10)}.observes("fileName"),fileNameBinding:SC.Binding.oneWay(".owner*content.fontName"),supportedFilenameExtensions:"otf ttf".w(),lastUploadedFileDidChange:function(){var e=this.get("lastUploadedFile");Admin.store.dataSource.addRpcs([["file","validate_font_file_size",e.get("id")]],NO),e.addObserver("fileData",this,"validateFontFileSizeResponse")}.observes("lastUploadedFile"),validateFontFileSizeResponse:function(){var e=this.get("lastUploadedFile"),t=this.getPath("owner.content");e.removeObserver("fileData",this,"validateFontFileSizeResponse"),e.get("fileData")==="valid"&&(t.set("fontName"
,e.get("originalName")),t.set("fontFileData",e))},removeUploadData:function(){var e=this.getPath("owner.content");e.set("fontName",""),e.set("fontData","")}})})}),Admin.FontsKnobSet=Admin.KnobSet.extend({fontName:SC.Record.attr(String,{key:"Name"}),fontFileData:SC.Record.toOne("Admin.File",{key:"file_id"}),validatedProperties:function(){var e={};return e.fontName=Admin.RequiredValidator.create({}),e}.property("fontName").cacheable(),contentExampleView:Admin.FontsKnobSetView}),Admin.FontsKnobSet.displayName="_fonts_knob_set_name".loc(),Admin.FontsKnobSet.largeIcon="admin-fonts-knob-set-large-icon",Admin.FontsKnobSet.numLines="_fonts_knob_set_num_lines".loc(),Admin.FontsKnobSet.profilePropertyName="fontsKnobSets",SC.mixin(Admin.FontsKnobSet,{sortOrder:12.1,platformTypes:"iOS OSX"}),Admin.FontsKnobSet.systemLevel=YES,Admin.FontsKnobSet.userLevel=YES,Admin.FontsKnobSet.settingTypeDescription="_fonts_knob_set_description".loc(),Admin.XsanKnobSetView=Admin.KnobSetView.extend({showKnobSetAdd:NO,contentView:Admin.KnobSetContentView.design({childViews:["xsanUUIDView","customConfigurationView"],xsanNetworkIdBinding:".owner.content.xsanNetworkId",isCustomConfiguration:function(e,t){if(t!==undefined)throw SC.$error("isCustomConfiguration is ready only for %@".fmt(this.constructor));return this.get("xsanNetworkId")===0}.property("xsanNetworkId").cacheable(),xsanUUIDView:Admin.KnobSetSelectButtonFieldView.design({title:"_header_string_Xsan_Network".loc(),description:"_xsan_network_selection_description".loc(),buttonWidth:Admin.KNOB_WIDTH-20,xsanNetworksLengthBinding:SC.Binding.oneWay("Admin.XsanNetworksController.length"
),isVisible:function(e,t){if(t!==undefined)throw SC.$error("isVisible is ready only for %@".fmt(this.constructor));return this.get("xsanNetworksLength")>1}.property("xsanNetworksLength").cacheable(),fieldObjectsBinding:SC.Binding.oneWay("Admin.XsanNetworksController.arrangedObjects"),contentBinding:".owner.content",fieldContentValueKey:"xsanNetworkId",selectViewTitleKey:"sanName",selectViewValueKey:"id"}),customConfigurationView:SC.View.design({isVisibleBinding:".owner.isCustomConfiguration",useStaticLayout:YES,contentBinding:".owner.content",childViews:["xsanNameView","fsNameServersView","sanAuthSecretView"],xsanNameView:Admin.KnobSetTextFieldView.design({title:"_xsan_string_name_header".loc(),description:"_xsan_string_name_description".loc(),fieldHint:"_generic_string_required".loc(),contentBinding:".owner.content",fieldContentValueKey:"sanName"}),fsNameServersView:Admin.UnScrollableListView.design({title:"_xsan_string_fs_name_servers_header".loc(),description:"_xsan_string_fs_name_servers_description".loc(),addAction:"addFSNameServer",addTarget:SC.outlet("owner.content"),removeAction:"removeFSNameServer",removeTarget:SC.outlet("owner.content"),isEditable:YES,canEditContent:YES,validationTargetBinding:".owner.content",contentPropertyKeyForValidation:"fsNameServersContent",contentBinding:".owner*content.fsNameServersContent",selectionBinding:".owner*content.fsNameServersSelection"}),sanAuthSecretView:Admin.KnobSetTextFieldView.design({title:"_xsan_string_authsecret_header".loc(),description:"_xsan_string_authsecret_description".loc(),fieldHint:"_knob_set_view_optional_hint"
.loc(),contentBinding:".owner.content",fieldContentValueKey:"sanAuthSecret"})})})}),Admin.XsanKnobSet=Admin.KnobSet.extend({xsanNetworkId:SC.Record.attr(Number,{key:"xsan_network"}),sanName:SC.Record.attr(String,{key:"sanName"}),sanAuthMethod:SC.Record.attr(String,{key:"sanAuthMethod"}),_sanAuthSecret:SC.Record.attr(String,{key:"sharedSecret"}),fsNameServers:SC.Record.attr(Array,{key:"fsnameservers",defaultValue:[]}),fsNameServersSelection:null,fsNameServersContent:function(){var e=this,t=0,n=[],r=this.get("fsNameServers");return r&&r.forEach(function(r){var s=SC.Object.create({index:t,name:r});s.addObserver("name",e,e._updateFSNameServers),n.push(s),t++}),n}.property("fsNameServers").cacheable(),_updateFSNameServers:function(){var e=[],t=this.get("fsNameServersContent"),n,r;for(r=0;r<t.length;r++)n=t[r],e.push(n.get("name"));this.set("fsNameServers",e)},addFSNameServer:function(){var e="_managed_domain_url_placeholder".loc(),t=SC.clone(this.get("fsNameServers"),YES);t.push(e),this.set("fsNameServers",t)},removeFSNameServer:function(){var e=this.get("fsNameServersSelection");if(e&&e.firstObject()){var t=e.firstObject(),n=SC.clone(this.get("fsNameServers"),YES);n.splice(t.get("index"),1),this.set("fsNameServers",n)}},sanAuthSecret:function(e,t){return t!==undefined&&(t===""?(this.set("_sanAuthSecret",null),this.set("sanAuthMethod",null)):(this.set("_sanAuthSecret",t),this.set("sanAuthMethod","auth_secret"))),this.get("_sanAuthSecret")}.property("_sanAuthSecret").cacheable(),validatedProperties:function(){var e={};return this.get("xsanNetworkId")===0&&(e.sanName=Admin.RequiredValidator
.create({}),e.fsNameServersContent=Admin.RequiredArray.create({})),e}.property("xsanNetworkId"),contentExampleView:Admin.XsanKnobSetView}),Admin.XsanKnobSet.displayName="_xsan_knob_set_name".loc(),Admin.XsanKnobSet.settingTypeDescription="_xsan_knob_set_description".loc(),Admin.XsanKnobSet.largeIcon="admin-xsan-knob-set-large-icon",Admin.XsanKnobSet.numLines="_xsan_knob_set_num_lines".loc(),Admin.XsanKnobSet.profilePropertyName="xsanKnobSets",SC.mixin(Admin.XsanKnobSet,{sortOrder:23.4,platformTypes:"OSX"}),Admin.XsanKnobSet.systemLevel=YES,Admin.XsanKnobSet.userLevel=NO,Admin.ManagedDomainsKnobSetView=Admin.KnobSetView.extend({showKnobSetAdd:NO,contentView:Admin.KnobSetContentView.design({childViews:["emailDomainsView","webDomainsView"],emailDomainsView:Admin.UnScrollableListView.design({title:"_managed_email_domains_header".loc(),description:"_managed_email_domains_description".loc(),addAction:"addEmailDomain",addTarget:SC.outlet("owner.content"),removeAction:"removeEmailDomain",removeTarget:SC.outlet("owner.content"),isEditable:YES,canEditContent:YES,contentBinding:".owner*content.emailDomainsContent",selectionBinding:".owner*content.emailDomainsSelection"}),webDomainsView:Admin.UnScrollableListView.design({classNames:["admin-margin-top-15"],title:"_managed_web_domains_header".loc(),description:"_managed_web_domains_description".loc(),addAction:"addWebDomain",addTarget:SC.outlet("owner.content"),removeAction:"removeWebDomain",removeTarget:SC.outlet("owner.content"),isEditable:YES,canEditContent:YES,contentBinding:".owner*content.webDomainsContent",selectionBinding:".owner*content.webDomainsSelection"
})})}),Admin.ManagedDomainsKnobSet=Admin.KnobSet.extend({webDomains:SC.Record.attr(Array,{key:"WebDomains",defaultValue:[]}),webDomainsSelection:null,webDomainsContent:function(){var e=this,t=0,n=[],r=this.get("webDomains");return r&&r.forEach(function(r){var s=SC.Object.create({index:t,name:r});s.addObserver("name",e,e._updateWebDomains),n.push(s),t++}),n}.property("webDomains").cacheable(),_updateWebDomains:function(){var e=[],t=this.get("webDomainsContent"),n,r;for(r=0;r<t.length;r++)n=t[r],e.push(n.get("name"));this.set("webDomains",e)},addWebDomain:function(){var e="_managed_domain_url_placeholder".loc(),t=SC.clone(this.get("webDomains"),YES);t.push(e),this.set("webDomains",t)},removeWebDomain:function(){var e=this.get("webDomainsSelection");if(e&&e.firstObject()){var t=e.firstObject(),n=SC.clone(this.get("webDomains"),YES);n.splice(t.get("index"),1),this.set("webDomains",n)}},emailDomains:SC.Record.attr(Array,{key:"EmailDomains"}),emailDomainsSelection:null,emailDomainsContent:function(){var e=this,t=0,n=[],r=this.get("emailDomains")||[];return r&&r.forEach(function(r){var s=SC.Object.create({index:t,name:r});s.addObserver("name",e,e._updateEmailDomains),n.push(s),t++}),n}.property("emailDomains").cacheable(),_updateEmailDomains:function(){var e=[],t=this.get("emailDomainsContent"),n,r;for(r=0;r<t.length;r++)n=t[r],e.push(n.get("name"));this.set("emailDomains",e)},addEmailDomain:function(){var e="_managed_domain_url_placeholder".loc(),t=SC.clone(this.get("emailDomains"),YES)||[];t.push(e),this.set("emailDomains",t)},removeEmailDomain:function(){var e=this.get("emailDomainsSelection"
);if(e&&e.firstObject()){var t=e.firstObject(),n=SC.clone(this.get("emailDomains"),YES);n.splice(t.get("index"),1),n.get("length")===0&&(n=null),this.set("emailDomains",n)}},contentExampleView:Admin.ManagedDomainsKnobSetView}),Admin.ManagedDomainsKnobSet.displayName="_managed_domains_knob_set_name".loc(),Admin.ManagedDomainsKnobSet.settingTypeDescription="_managed_domains_knob_set_description".loc(),Admin.ManagedDomainsKnobSet.largeIcon="admin-managed-domains-knob-set-large-icon",Admin.ManagedDomainsKnobSet.numLines="_managed_domains_knob_set_num_lines".loc(),Admin.ManagedDomainsKnobSet.profilePropertyName="managedDomainsKnobSets",SC.mixin(Admin.ManagedDomainsKnobSet,{sortOrder:2.72,platformTypes:"iOS"}),Admin.ManagedDomainsKnobSet.systemLevel=YES,Admin.ManagedDomainsKnobSet.userLevel=YES,Admin.SettingType=SC.Object.extend({exampleView:Admin.TwoLineListItemView.extend({layout:{height:52}}),displayName:null,icon:null,knobSetClass:null,validationErrorCount:0,secondaryInformation:function(){if(!this.get("itemSelectionIsLoaded"))return"";var e=this.get("settingInstancesLength"),t="_setting_type_secondary_information_not_configured".loc();return e===1?this.get("knobSetClass")===Admin.GeneralKnobSet?t="_setting_type_secondary_information_general_knobset".loc():t="_setting_type_secondary_information_one_configured".loc():e>1&&(t="_setting_type_secondary_information_multiple_configured".loc(e)),t}.property("itemSelection","settingInstancesLength"),itemSelectionBinding:"Admin.itemSelectionController",itemSelectionIsLoadedBinding:"Admin.itemSelectionController.isLoaded",settingInstancesLengthBinding
:".settingInstances.length"}),Admin.SettingTypeGroup=SC.Object.extend({exampleView:SC.View.extend({layout:{height:25},classNames:["admin-setting-type-group"],childViews:"hint".w(),hint:SC.LabelView.design({layout:{height:16,centerY:0},valueBinding:".owner*content.displayName",textAlign:SC.ALIGN_CENTER,fontWeight:SC.BOLD_WEIGHT})})}),Admin.settingTypesController=SC.ArrayController.create(SC.CollectionViewDelegate,SC.CollectionRowDelegate,{allowsMultipleSelection:NO,allowsEmptySelection:NO,firstSelectableObject:function(){return this.objectAt(1)}.property(),init:function(){var e=Admin.KnobSet.subclasses.toArray(),t,n,r,i=[];for(t=0,n=e.length;t<n;t++)r=e[t],i.push(Admin.SettingType.create({displayName:r.displayName||"Unknown Name",largeIcon:r.largeIcon||null,settingTypeDescription:r.settingTypeDescription||"_generic_setting_type_description".loc(r.displayName),platformTypes:r.platformTypes||"iOS OSX",settingInstances:SC.ArrayController.create({contentBinding:SC.Binding.oneWay("Admin.itemSelectionController."+r.profilePropertyName)}),systemLevel:r.systemLevel,userLevel:r.userLevel,sortOrder:r.sortOrder,knobSetClass:r}));return this.set("all",i),arguments.callee.base.apply(this,arguments)},content:function(){function n(e,t){return e.sortOrder-t.sortOrder}var e=this.get("all"),t=e.filterProperty(this.get("isSystemLevel")?"systemLevel":"userLevel",YES);t=t.groupBy("platformTypes");var r=[];t[0]&&r.push(t[0][0].platformTypes==="iOS OSX"?"_setting_types_both".loc():t[0][0].platformTypes==="iOS"?"_setting_types_ios".loc():"_setting_types_mac".loc()),t[1]&&r.push(t[1][0].platformTypes==="iOS OSX"?"_setting_types_both"
.loc():t[1][0].platformTypes==="iOS"?"_setting_types_ios".loc():"_setting_types_mac".loc()),t[2]&&r.push(t[2][0].platformTypes==="iOS OSX"?"_setting_types_both".loc():t[2][0].platformTypes==="iOS"?"_setting_types_ios".loc():"_setting_types_mac".loc());if(this.get("isSystemLevel")){var i=e.filterProperty("systemLevel",NO).filterProperty("platformTypes","iOS OSX"),s=r.indexOf("_setting_types_ios".loc());t[s]=t[s].concat(i)}return t=[].concat(t[0]?Admin.SettingTypeGroup.create({displayName:r[0]}):[],t[0]?t[0].sort(n):[],t[1]?Admin.SettingTypeGroup.create({displayName:r[1]}):[],t[1]?t[1].sort(n):[],t[2]?Admin.SettingTypeGroup.create({displayName:r[2]}):[],t[2]?t[2].sort(n):[]),t}.property("isSystemLevel").cacheable(),isSystemLevelBinding:"Admin.itemSelectionController.isSystemLevel",collectionViewShouldSelectIndexes:function(e,t){var n=this.get("arrangedObjects").objectAt(t.get("firstObject"));return n instanceof Admin.SettingTypeGroup?SC.IndexSet.EMPTY:t},customRowHeightIndexes:SC.IndexSet.create(),contentIndexRowHeight:function(e,t,n){return this.get("arrangedObjects").objectAt(n).get("exampleView")&&this.get("arrangedObjects").objectAt(n).get("exampleView").prototype.layout.height||arguments.callee.base.apply(this,arguments)},rowHeight:52,lengthDidChange:function(){this.set("customRowHeightIndexes",SC.IndexSet.create().add(0,this.getPath("arrangedObjects.length")))}.observes("*arrangedObjects.length")}),Admin.settingTypesSelectionController=SC.ObjectController.create({contentBinding:"Admin.settingTypesController.selection"}),Admin.SettingsController=SC.ObjectController.create
({lastVppServiceEnabledValue:null,vppStatusChangeObserver:function(){var e=this.get("isVppServiceEnabled");if(this.get("lastVppServiceEnabledValue")===e)return;this.set("lastVppServiceEnabledValue",e),e||Admin.store.unloadRecords([Admin.UnifiedApplication,Admin.UnifiedBook]),Admin.loadVppData()}.observes("isVppServiceEnabled")}),Admin.sidebarSelectionController=SC.ObjectController.create({contentBinding:"Admin.sidebarController.selection"}),Admin.systemItems=SC.Object.create({printerArray:function(){return Admin.store.find(SC.Query.local(Admin.Printer,{rpcs:[["printer","find_all"]],orderBy:"displayName",blocksUnload:NO}))}.property().cacheable(),systemApplicationArray:function(){return Admin.store.find(SC.Query.local(Admin.SystemApplication,{rpcs:[["system_application","find_all"]],orderBy:"displayName",blocksUnload:NO}))}.property().cacheable(),widgetArray:function(){return Admin.store.find(SC.Query.local(Admin.Widget,{rpcs:[["widget","find_all"]],orderBy:"displayName",blocksUnload:NO}))}.property().cacheable()}),Admin.systemItemsController=SC.ArrayController.create(SC.CollectionViewDelegate,{arrayKey:"",content:null,bindingStored:null,arrayKeyDidChange:function(){var e="Admin.actualProfileSettingController.firstObject",t=this.get("arrayKey")||"";if(t){var n=e+"."+t;this.get("bindingStored")&&this.get("bindingStored").disconnect();var r=this.bind("content",SC.Binding.from(n));this.set("bindingStored",r)}}.observes("arrayKey")}),Admin.systemItemsPickerController=Admin.FilterController.create({searchContentTypeBinding:"Admin.allSystemItemsPickerController.searchContentType",searchContentModelBinding
:"Admin.allSystemItemsPickerController.searchContentModel",allItemsBinding:"Admin.allSystemItemsPickerController.arrangedObjects"}),Admin.allSystemItemsPickerController=SC.ArrayController.create({searchContentType:"",searchContentModel:"",recipientName:"Items",content:function(){var e=this.get("searchContentType");if(SC.none(e)||e==="")return[];switch(e){case"printer":return this.set("searchContentModel","Admin.Printer"),Admin.systemItems.get("printerArray");case"system_application":return this.set("searchContentModel","Admin.SystemApplication"),Admin.systemItems.get("systemApplicationArray");case"widget":return this.set("searchContentModel","Admin.Widget"),Admin.systemItems.get("widgetArray");case"mount_point":return Admin.userGroupSidebarItem.get("itemArray");default:return[]}}.property("searchContentType").cacheable()}),Admin.TargetTasksTableViewColumns=SC.Object.create({itemSelectionTypeBinding:"Admin.itemSelectionController.type",itemSelectionTaskTypeBinding:"Admin.itemSelectionController.taskType",content:null,itemSelectionTypeIsTaskObserver:function(){var e=this.get("itemSelectionType");if(!["library_item_task","completed_library_item_task"].contains(e))return;var t=Admin.itemSelectionController.get("taskType"),n=[SC.Object.create(SCTable.Column,{name:"_table_header_Target".loc(),valueKey:"targetName",databaseKey:"target_name",width:.35,canResize:NO}),SC.Object.create(SCTable.Column,{name:"_table_header_Status".loc(),valueKey:"secondaryInformation",databaseKey:"status",width:.3,canResize:NO}),SC.Object.create(SCTable.Column,{name:"_table_header_Last Updated".loc(),valueKey
:"updatedAtFormattedString",databaseKey:"date",width:.35,canResize:NO})];["InstallProfile","RemoveProfile"].contains(t)&&(n=[SC.Object.create(SCTable.Column,{name:"_table_header_Target".loc(),valueKey:"targetName",databaseKey:"target_name",width:.25,canResize:NO}),SC.Object.create(SCTable.Column,{name:"_table_header_Settings".loc(),valueKey:"payloadName",databaseKey:"payload_name",width:.35,canResize:NO}),SC.Object.create(SCTable.Column,{name:"_table_header_Status".loc(),valueKey:"secondaryInformation",databaseKey:"status",width:.2,canResize:NO}),SC.Object.create(SCTable.Column,{name:"_table_header_Last Updated".loc(),valueKey:"updatedAtFormattedString",databaseKey:"date",width:.3,canResize:NO})]);if(["PushApplications","RemoveApplications","InstallMedia","RemoveMedia"].contains(t)){var r="_table_header_App".loc(),i=YES,s=NO;["InstallMedia","RemoveMedia"].contains(t)&&(r="_table_header_Book".loc(),i=NO,s=YES),n=[SC.Object.create(SCTable.Column,{name:"_table_header_Target".loc(),valueKey:"targetName",databaseKey:"target_name",width:.2,canResize:NO}),SC.Object.create(SCTable.Column,{name:r,valueKey:"payloadName",databaseKey:"payload_name",isAppColumn:i,isBookColumn:s,width:.2,canResize:NO}),SC.Object.create(SCTable.Column,{name:"_table_header_User".loc(),valueKey:"targetOwnerName",databaseKey:"target_owner_name",width:.2,canResize:NO}),SC.Object.create(SCTable.Column,{name:"_table_header_Status".loc(),valueKey:"secondaryInformation",databaseKey:"status",width:.2,canResize:NO}),SC.Object.create(SCTable.Column,{name:"_table_header_Last Updated".loc(),valueKey:"updatedAtFormattedString"
,databaseKey:"date",width:.2,canResize:NO})]}this.set("content",n)}.observes("itemSelectionTaskType","itemSelectionType")}),Admin.TargetTasksTableViewController=SC.ArrayController.create(SCTable.TableDelegate,{contentObserver:function(){var e=this.get("content"),t=this.get("libraryItemTaskId"),n=Admin.store.find(SC.Query.local(Admin.TargetTask,"isCompleted != YES")).filter(function(e){return e.status()&SC.Record.READY}).map(function(e){return e.get("id")});Admin.store.unloadRecords(Admin.TargetTask,n),e!==null&&(Admin.store.dataSource.removeActiveQuery(e),e=null),Admin.itemSelectionController.get("isTask")&&t&&(e=Admin.store.find(SC.Query.remote("Admin.TargetTask",{rpcs:[["target_task","find_all",{library_item_task_id:t,sort:this.get("sortConfiguration")}]],blocksUnload:NO})),Admin.store.dataSource.addActiveQuery(e,{model:"target_task",method:"find_all",search_string:{library_item_task_id:t,sort:this.get("sortConfiguration")}})),this.set("content",e)}.observes("libraryItemTaskId","sortConfiguration"),libraryItemTaskIdBinding:SC.Binding.oneWay("Admin.itemSelectionController.id"),sortConfiguration:[{key:"date",direction:"asc"},{key:"target_name",direction:"asc"},{key:"status",direction:"asc"},{key:"payload_name",direction:"asc"}],tableDidRequestSort:function(e,t,n,r,i){var s=this.get("sortConfiguration");for(var o=0;o<s.length;o++)s[o].key===n.get("databaseKey")&&s.splice(o,1);return s.unshift({key:n.get("databaseKey"),direction:i}),this.set("sortConfiguration",SC.clone(s)),e.set("sort",{valueKey:n.get("valueKey"),direction:i}),YES},jumpIconHtml:'<div class="jump-icon"><img src="data:image/gif;base64,R0lGODlhAQABAJAAAP///wAAACH5BAUQAAAALAAAAAABAAEAAAICBAEAOw==" width="16" height="16" style="vertical-align:middle;border:0px;" class="members-list-item-view-arrow-button jump-icon %@"></div>'
,_renderIconAndName:function(e,t,n){var r=SC.RenderContext.escapeHTML(n.get("targetName")),i=n.get("smallIcon"),s=this.get("jumpIconHtml").fmt("target-column"),o='<img src="data:image/gif;base64,R0lGODlhAQABAJAAAP///wAAACH5BAUQAAAALAAAAAABAAEAAAICBAEAOw==" width="16" height="16" style="vertical-align:middle;border:0px;" class="%@">'.fmt(i),u='<div class="medium-text">%@<div class="column-text" style="left:25px;">%@</div>%@</div>'.fmt(o,r,s);return t.push(u)},renderTableCellContent:function(e,t,n,r,i,s){if(n&&n.get(i.get("valueKey"))){if(i.get("valueKey")==="targetName")return this._renderIconAndName(e,t,n,r,i,s);var o=i.get("valueKey"),u=SC.RenderContext.escapeHTML(String(n.get(o))),a="",f=["not_invited","not_enrolled","not_licensed"].contains(n.get("taskStatus"));return o==="targetOwnerName"?a=this.get("jumpIconHtml").fmt("target-owner-column"):o==="payloadName"?i.get("isAppColumn")?n.get("vppApp")&&(a=this.get("jumpIconHtml").fmt("payload-app-name-column")):i.get("isBookColumn")?a="":a=this.get("jumpIconHtml").fmt("payload-name-column"):o==="secondaryInformation"&&f&&(a=this.get("jumpIconHtml").fmt("status-column")),t.push('<div class="medium-text"><div class="column-text">%@</div>%@</div>'.fmt(u,a))}return t},mouseDownOnTableRow:function(e,t,n){var r=n.target.className,i,s;if(r){r=r.split(" ");if(r.contains("jump-icon")){i=t.get("content");var o=Admin.detailPage.getPath("detailView.tabs.nowShowingByItemSelectionType"),u="Admin.aboutPage.about";if(r.contains("target-column"))i.get("targetIsUser")?s=Admin.store.find(Admin.User,i.get("userId")):s=Admin.store.find(Admin.Device
,i.get("deviceId"));else if(r.contains("payload-name-column")){var a=i.get("profileOwnerType"),f=i.get("profileOwnerId"),l="Admin.profilesPage.settingsView";a==="Device"?(o.device=l,s=Admin.store.find(Admin.Device,f)):a==="User"?(o.user=l,s=Admin.store.find(Admin.User,f)):a==="UserGroup"?(o.user_group=l,s=Admin.store.find(Admin.UserGroup,f)):a==="DeviceGroup"&&(o.device_group=l,s=Admin.store.find(Admin.DeviceGroup,f))}else if(r.contains("target-owner-column"))o.user=u,s=Admin.store.find(Admin.User,i.get("userId"));else if(r.contains("payload-app-name-column"))Admin.VppContentDetailController.set("content",i.get("vppApp"));else if(r.contains("status-column")){var c=i.get("taskStatus");c==="not_licensed"?Admin.VppContentDetailController.set("content",i.get("vppApp")):(o.user=u,s=Admin.store.find(Admin.User,i.get("userId")))}s&&this.invokeLast(function(){Admin.sendAction("changeRoute",this,[s])})}}}}),Admin.TargetTasksTableViewColumnsController=SC.ArrayController.create({contentBinding:SC.Binding.oneWay("Admin.TargetTasksTableViewColumns.content")}),Admin.VppContentDetailController=SC.ObjectController.create({content:null,selectedDirectoryItemTab:"groups",appChangeObserver:function(){var e=this.get("content");e&&e.set("fetchAdditionalDataFromItunesStore",!0)}.observes("content")}),Admin.VppContentAssignedItemsFilter=SC.Object.extend({searchString:"",allAssignedItemsBinding:"Admin.AssignedGroupsForVppContentController.arrangedObjects",searchResults:function(e,t){var n=this.get("searchString"),r,i=this.get("allAssignedItems");return n&&(n=n.replace(/\\/g,""),r=new RegExp(n,"i"),i=
i.filter(function(e,t){return e.get("displayName").match(r)})),i}.property("searchString","allAssignedItems")}),Admin.AssignedItemsForVppContentController=SC.ArrayController.extend(SCTable.TableDelegate,{renderTableCellContent:function(e,t,n,r,i,s){return t.push('<div class="small-text">%@</div>'.fmt(SC.RenderContext.escapeHTML(String(n?n.get(i.get("valueKey")):null))))}}),Admin.AssignedGroupsForVppContentController=SC.ArrayController.create({contentBinding:"Admin.VppContentDetailController.assignedUserGroups"}),Admin.VppContentAssignedGroupsFilter=Admin.VppContentAssignedItemsFilter.create({allAssignedItemsBinding:"Admin.AssignedGroupsForVppContentController.arrangedObjects"}),Admin.FilteredAssignedGroupsForVppContentController=Admin.AssignedItemsForVppContentController.create({contentBinding:SC.Binding.oneWay("Admin.VppContentAssignedGroupsFilter.searchResults")}),Admin.AssignedUsersForVppContentController=Admin.AssignedItemsForVppContentController.create({contentBinding:"Admin.VppContentDetailController.assignedUsers"}),Admin.VppContentAssignedUsersFilter=Admin.VppContentAssignedItemsFilter.create({allAssignedItemsBinding:"Admin.AssignedUsersForVppContentController.arrangedObjects"}),Admin.FilteredAssignedUsersForVppContentController=Admin.AssignedItemsForVppContentController.create({contentBinding:SC.Binding.oneWay("Admin.VppContentAssignedUsersFilter.searchResults")}),Admin.XsanNetwork=Admin.Record.extend({primaryKey:"id",sanName:SC.Record.attr(String,{key:"name"})}),Admin.XsanNetworksController=SC.ArrayController.create({content:Admin.store.find(SC.Query.local(Admin.XsanNetwork
)),loadContent:function(){Admin.store.dataSource.addRpcs([["xsan_network","find_all"]],NO)},init:function(){return this.loadContent(),arguments.callee.base.apply(this,arguments)},length:function(){var e=this._scac_observableContent();return e?e.get("length")+1:0}.property().cacheable(),objectAt:function(e){var t=this._scac_observableContent(),n=t.get("length"),r=t?t.objectAt(e):undefined;return e===n&&(r=SC.Object.create({sanName:"_xsan_config_type_custom".loc(),id:0})),r}}),Array.prototype.flatten||(Array.prototype.flatten=function(){var e=[];for(var t=0,n=this.length;t<n;t++)this[t]instanceof Array&&(e=e.concat(this[t]));return e}),SC.RootResponder=SC.RootResponder.extend({sendAction:function(e,t,n,r,i){if(!t&&!e)return;return t=this.targetForAction(e,t,n,r)||SC.objectForPropertyPath(t),t&&t.isResponderContext?!!t.sendAction(e,n,i):t&&t.tryToPerform(e,n)}}),Admin.validDevices=["appletv1,1","macintosh","imac7,1","imac8,1","imac9,1","imac4,1","imac4,2","imac5,1","imac5,2","imac6,1","imac13,1","imac13,3","imac14,3","imac14,4","imac11,2","imac12,1","imac","imac13,2","imac14,1","imac14,2","imac10,1","imac11,1","imac11,3","imac12,2","ipad","ipad1,1","iphone1,2","iphone2,1","iphone","iphone3,1","iphone1,1","ipod2,1","ipod3,1","ipod","ipod4,1","ipod1,1","macbook1,1,black","macbook2,1,black","macbook3,1,black","macbook4,1,black","macbook","macbook6,1","macbook7,1","macbook5,1","macbook1,1","macbook2,1","macbook3,1","macbook4,1","macbook5,2","macbook1,1,white","macbook2,1,white","macbook3,1,white","macbook4,1,white","macbookair3,1","macbookair4,1","macbookair5,1","macbookair6,1","macbookair"
,"macbookair3,2","macbookair4,2","macbookair5,2","macbookair6,2","macbookair1,1","macbookair2,1","macbookpro10,2","macbookpro11,1","macbookpro5,5","macbookpro7,1","macbookpro8,1","macbookpro9,2","macbookpro","macbookpro10,1","macbookpro11,2","macbookpro11,3","macbookpro5,1","macbookpro5,3","macbookpro5,4","macbookpro6,2","macbookpro8,2","macbookpro9,1","laptop","macbookpro1,1","macbookpro2,2","macbookpro3,1","macbookpro4,1","macbookpro5,2","macbookpro6,1","macbookpro8,3","macbookpro1,2","macbookpro2,1","macmini","macmini5,1","macmini5,2","macmini5,3","macmini6,1","macmini6,2","macmini4,1","macmini1,1","macmini2,1","macmini3,1","macpro6,1","tower","macpro","macpro1,1","macpro2,1","macpro3,1","macpro4,1","macpro5,1","rackmac","xserve","xserve1,1","xserve2,1","xserve3,1","iphone7,1","iphone7,2","appletv","ipad4,4","ipad4,4","ipad4,6","iphone5,1","iphone5,2","ipad4,1","ipad4,2","ipad4,3","iphone6,1","iphone6,2"],Admin.MACAddressValidator=SC.Validator.extend({fieldValueForObject:function(e,t,n){return e},objectForFieldValue:function(e,t,n){return e.replace(/[^0-9A-Fa-f:]/g,"").toLowerCase()},validate:function(e,t){return this.checkNumber(t.get("fieldValue"))},validateError:function(e,t){var n=t.get("errorLabel")||"Field";return"Invalid.MAC_Address(%@)".fmt(n)},validateKeyDown:function(e,t,n){return t.get("fieldValue").replace(/[^0-9A-Fa-f]/g,"").length<12&&!!n.match(/[0-9A-Fa-f:]/)},checkNumber:function(e){if(!e||e.length===0)return YES;e=e.replace(/[^0-9A-Fa-f]/g,"");var t="0123456789ABCDEFabcdef",n=e.length,r=e.toString();r=r.replace(/^\s+|\s+$/g,"");var i=!0,s;for(var o=0;o<n;
o++)s=""+r.substring(o,o+1),t.indexOf(s)=="-1"&&(i=!1);return n===12&&i?i=!0:i=!1,i}}),Admin.AriaLiveContainer={update:function(e){this.container||(this.container=$('<div style="position:absolute;margin-left:-9999px" role="region" aria-live="polite"></div>'),$("body").append(this.container)),this.container.text(e)}},Admin.UpdateB2BAppNamePane=SC.PanelPane.create({layout:{width:0+parseFloat("_layout_vpp_invite_pane_width".loc()),height:150,centerX:0,centerY:0},contentView:SC.View.design({childViews:"headerView appNameInputView saveAppNameButtonView cancelButtonView".w(),headerView:SC.LabelView.design({fontWeight:SC.BOLD_WEIGHT,layout:{left:20,top:20},value:"Edit App Name".loc()}),appNameInputView:SC.TextFieldView.design({layout:{top:50,left:20,height:20,right:20},valueBinding:SC.Binding.oneWay("Admin.itemSelectionController.vppEmailAddress"),applyImmediately:YES,isVisibleObserver:function(){this.get("isVisibleInWindow")&&this.$input()[0].focus()}.observes("isVisibleInWindow")}),saveAppNameButtonView:SC.ButtonView.design(SC.AutoResize,{layout:{bottom:15,right:20,minWidth:75,height:27},title:"Save".loc(),target:"Admin",action:"saveSelectedAppName",isDefault:YES}),cancelButtonView:SC.ButtonView.design(SC.AutoResize,{layout:{right:105,bottom:15,minWidth:75,height:27},title:"_generic_string_Cancel".loc(),target:"Admin",action:"dismissEditAppNameInputDialog"})})}),Admin.VppInvitationPane=SC.PanelPane.create({layout:{width:0+parseFloat("_layout_vpp_invite_pane_width".loc()),height:150,centerX:0,centerY:0},contentView:SC.View.design({childViews:"headerView emailAddressInputView sendInvitationButtonView cancelButtonView"
.w(),headerView:SC.LabelView.design({fontWeight:SC.BOLD_WEIGHT,layout:{left:20,top:20},value:"_generic_string_Enter email address".loc()}),emailAddressInputView:SC.TextFieldView.design({layout:{top:50,left:20,height:20,right:20},valueBinding:SC.Binding.oneWay("Admin.itemSelectionController.vppEmailAddress"),applyImmediately:YES,isVisibleObserver:function(){this.get("isVisibleInWindow")&&this.$input()[0].focus()}.observes("isVisibleInWindow")}),sendInvitationButtonView:SC.ButtonView.design(SC.AutoResize,{layout:{bottom:15,right:20,minWidth:75,height:27},title:"_generic_string_Send Email Invitation".loc(),target:"Admin",action:"sendVppInvitationToUser",isActionFromEmailInputPane:YES,emailAddressBinding:".owner.emailAddressInputView.value"}),cancelButtonView:SC.ButtonView.design(SC.AutoResize,{layout:{right:0+parseFloat("_layout_vpp_invite_pane_cancel_button_offset_right".loc()),bottom:15,minWidth:75,height:27},title:"_generic_string_Cancel".loc(),target:"Admin",action:"dismissVppEmailInputDialog"})})}),Admin.PaneWarningTextView=SC.View.extend({childViews:["iconView","warningTextView"],warningText:"",icon:"sc-icon-alert-48",isVisible:function(){var e=this.get("warningText");return e!==null&&e!==""}.property("warningText").cacheable(),heightDidChange:function(){var e=this.get("calculatedHeight");this.adjust("height",e)}.observes("calculatedHeight"),calculatedHeight:function(){var e=this.get("measuredSize"),t=e?e.height:0;return t=t<25?25:t,t+=10,t}.property("measuredSize").cacheable(),measuredSizeBinding:".warningTextView.measuredSize",iconView:Admin.ImageView.design({classNames
:"admin-vpp-license-exceeded-warning",layout:{centerY:0,left:20,width:25,height:25},valueBinding:".owner.icon"}),warningTextView:SC.LabelView.design(SC.AutoResize,{classNames:"admin-vpp-content-license-warning".w(),layout:{top:5,left:60,width:560,maxWidth:560},shouldResizeWidth:NO,shouldResizeHeight:YES,valueBinding:".owner.warningText"})}),Admin.PushVPPPickerSheet=SC.SheetPane.extend({headerIcon:null,title:null,description:null,columns:null,content:null,selection:null,isNoVppContentWarningVisible:null,noVppContentWarningText:null,notEnrolledWarningText:null,noEligibleDevicesWarningText:null,okButtonEnabled:null,okAction:null,cancelAction:null,selectAllAction:null,layout:{width:640,height:440,centerX:0},isUserBinding:"Admin.itemSelectionController.isUser",contentView:SC.View.extend({childViews:["headerView","contentListView","noVppContentWarningView","notEnrolledWarningView","noEligibleDevicesWarningView","footerView"],layoutObserver:function(){var e=this.get("notEnrolledWarningView"),t=e.get("layout").top,n=e.get("calculatedHeight"),r=e.get("isVisible"),i=this.get("noEligibleDevicesWarningView"),s=r?t+n:t,o=i.get("calculatedHeight"),u=i.get("isVisible");i.adjust("top",s);var a=440;a+=r?n:0,a+=u?o:0,this.get("owner").adjust("height",a)}.observes("notEnrolledWarningViewHeightChange","notEnrolledWarningViewIsVisible","noEligibleDevicesWarningViewHeightChange","noEligibleDevicesWarningViewIsVisible"),notEnrolledWarningViewHeightChangeBinding:".notEnrolledWarningView.measuredSize",notEnrolledWarningViewIsVisibleBinding:".notEnrolledWarningView.isVisible",noEligibleDevicesWarningViewHeightChangeBinding
:".noEligibleDevicesWarningView.measuredSize",noEligibleDevicesWarningViewIsVisibleBinding:".noEligibleDevicesWarningView.warningText",headerView:SC.View.design({layout:{height:90},childViews:["iconView","titleView","descriptionView"],iconView:SC.ImageView.design({layout:{width:60,height:60,left:25,top:15},useCanvas:NO,valueBinding:".owner.owner.owner.headerIcon"}),titleView:Admin.BoldLabelViewAbsolute.extend({layout:{height:20,left:100,top:20},valueBinding:".owner.owner.owner.title"}),descriptionView:SC.LabelView.extend({layout:{height:30,left:100,top:40,right:50},valueBinding:".owner.owner.owner.description"})}),contentListView:SCTable.TableView.design({classNames:"sctable-table-view large-row-height admin-vpp-content-picker-list".w(),layout:{top:90,left:20,height:300,right:20},rowHeight:45,headerHeight:17,columnsBinding:".owner.owner.columns",contentBinding:".owner.owner.content",selectionBinding:".owner.owner.selection",showAlternatingRows:YES,canReorderColumns:NO,sort:{valueKey:"name",direction:SCTable.SORT_DIRECTION_ASCENDING}}),noVppContentWarningView:Admin.DescriptionLabelViewAbsolute.design({layout:{top:215,height:20,right:20,left:20,centerX:0},isVisibleBinding:".owner.owner.isNoVppContentWarningVisible",textAlign:SC.ALIGN_CENTER,valueBinding:".owner.owner.noVppContentWarningText"}),notEnrolledWarningView:Admin.PaneWarningTextView.design({layout:{top:400},warningTextBinding:".owner.owner.notEnrolledWarningText"}),noEligibleDevicesWarningView:Admin.PaneWarningTextView.design({icon:"sc-icon-error-48",warningTextBinding:".owner.owner.noEligibleDevicesWarningText"}),footerView
:SC.View.design({layout:{bottom:0,height:45},childViews:["selectAllButtonView","cancelButtonView","okButtonView"],selectAllButtonView:SC.ButtonView.design({layout:{left:30,bottom:10,width:100,height:27},title:"_generic_string_Select All".loc(),target:"Admin",actionBinding:".owner.owner.owner.selectAllAction"}),cancelButtonView:SC.ButtonView.design(SC.AutoResize,{layout:{right:0+parseFloat("_layout_pane_cancel_button_offset_right".loc()),bottom:10,minWidth:70,height:27},title:"_generic_string_Cancel".loc(),target:"Admin",actionBinding:".owner.owner.owner.cancelAction"}),okButtonView:SC.ButtonView.design(SC.AutoResize,{layout:{right:30,bottom:10,minWidth:70,height:27},title:"_generic_string_OK".loc(),target:"Admin",isEnabledBinding:".owner.owner.owner.okButtonEnabled",actionBinding:".owner.owner.owner.okAction"})})})}),Admin.AboutInfoItemView=SC.View.extend({childViews:"key value".w(),key:SC.LabelView.design({classNames:"admin-about-info-item-view-key".w(),layout:{centerY:0,left:10,width:250,height:20},valueBinding:".owner.content.key",textAlign:SC.ALIGN_RIGHT,fontWeight:SC.BOLD_WEIGHT}),value:SC.LabelView.design({classNames:"admin-about-info-item-view-value".w(),layout:{centerY:0,left:270,right:10,height:20},realValueBinding:".owner.content.value",isEditable:NO,isTextSelectable:YES,value:function(){var e=this.get("realValue");return e?e:""}.property("realValue")})}),Admin.AboutBorderView=SC.View.design({childViews:"topSpacerView borderView bottomSpacerView".w(),layout:{height:21},topSpacerView:SC.View.design({layout:{height:10,top:0}}),borderView:SC.View.design({classNames:"admin-about-border-view"
.w(),layout:{height:1,top:10,left:10,right:10}}),bottomSpacerView:SC.View.design({layout:{height:10,top:11}})}),Admin.AboutInfoCheckboxView=SC.View.extend({titleBinding:".content.title",valueBinding:".content.value",isEditableBinding:".content.isEnabled",indentLevelBinding:".content.indentLevel",layout:{height:25},childViews:["checkBox"],checkBox:SC.CheckboxView.design({layout:function(){var e=this.get("indentLevel")||0;return{left:30+e*20,top:5}}.property("indentLevel").cacheable(),indentLevelBinding:".owner.indentLevel",titleBinding:".owner.title",isEnabled:function(){return!!this.get("isEditable")}.property("isEditable"),isEditableBinding:SC.Binding.bool(".owner.isEditable"),valueBinding:".owner.value"})}),Admin.AboutRestrictionsLearnMoreView=SC.View.extend({layout:{height:25},childViews:["labelView","buttonView"],labelView:SC.LabelView.design(SC.AutoResize,{layout:{top:9,height:16,left:35},value:"_permissions_string_Learn about restrictions".loc(),shouldResizeWidth:YES,shouldResizeHeight:NO,mouseDown:function(){Admin.sendAction("goToRestrictionsHelp")}}),buttonView:SC.ButtonView.design({layout:function(){var e=this.get("labelViewLayout");return{top:5,left:e?e.left+e.width-5:0,width:13,height:20}}.property("labelViewLayout").cacheable(),labelViewLayoutBinding:".owner.labelView.layout",icon:"members-list-item-view-arrow-button",themeName:"blank",target:"Admin",action:"goToRestrictionsHelp"})}),Admin.AppsPickerExampleView=SC.View.design(CW.TouchApproximation,{childViews:"displayName secondaryInformation addRemoveButton".w(),displayName:SC.LabelView.design({layout:{centerY:0
,left:5,width:0+parseFloat("_members_picker_example_view_display_name_width".loc()),height:17},isDecorative:YES,nameBinding:".owner.content.name",versionBinding:".owner.content.version",value:function(){var e=this.get("version"),t=this.get("name");return t+" "+e+""}.property("name","version")}),secondaryInformation:SC.LabelView.design({layout:{centerY:0,left:30+parseFloat("_members_picker_example_view_display_name_width".loc()),right:28+parseFloat("_members_picker_example_view_add_remove_button_width".loc()),height:17},isDecorative:YES,valueBinding:".owner.content.updatedAtFormattedString"}),addRemoveButton:SC.ButtonView.design({layout:{centerY:0,right:10,width:0+parseFloat("_members_picker_example_view_add_remove_button_width".loc()),height:22},themeName:"capsule",controlSize:SC.SMALL_CONTROL_SIZE,isEnabled:YES,title:function(){return this.get("added")?"_generic_string_Remove".loc():"_generic_string_Add".loc()}.property("added","appsForItemSelectionLength"),target:"Admin",action:function(){return this.get("added")?"removeAppFromLibraryItem":"addAppToLibraryItem"}.property("added","appsForItemSelectionLength"),added:function(){var e=Admin.get("itemSelectionNestedStore").find(this.getPath("owner.content.constructor"),this.getPath("owner.content.id"));return Admin.appsForItemSelectionController.getEach("iosApplication").indexOf(e)>-1}.property("appsForItemSelectionLength"),appsForItemSelectionLengthBinding:"Admin.appsForItemSelectionController.length"})}),Admin.BoxedLabelView=SC.View.extend({childViews:"noItemBox".w(),classNames:["admin-background-color-white","admin-no-item-view"
],boxLayout:{centerX:0,centerY:0,height:78,width:272},labelLayout:{centerX:0,centerY:0,height:18,width:270},label:"",noItemBox:SC.View.design(SC.Border,{classNames:"admin-no-item-box-view".w(),layoutBinding:SC.Binding.oneWay(".owner.boxLayout"),borderStyle:"#ddd",childViews:"noItemLabel".w(),noItemLabel:SC.LabelView.design({layoutBinding:SC.Binding.oneWay(".owner.owner.labelLayout"),isEnabled:NO,textAlign:SC.ALIGN_CENTER,fontWeight:SC.BOLD_WEIGHT,controlSize:SC.LARGE_CONTROL_SIZE,valueBinding:".owner.owner.label"})})}),Admin.FilePickerView=SC.View.extend({layout:{width:0,height:0},fileName:"",fileContent:"",supportedFilenameExtensions:[],render:function(e){var t=e.begin("input");t.attr("type","file"),t.attr("style","position: absolute; width: 100%; height: 100%; opacity: 0"),t.end(),arguments.callee.base.apply(this,arguments)},didAppendToDocument:function(){var e=this;SC.Event.add(e.$("input"),"change",e,e.inputDidChange)},didCreateLayer:function(){var e=this;SC.Event.add(e.$("input"),"change",e,e.inputDidChange)},willDestroyLayer:function(){SC.Event.remove(this.$("input"),"change",this,this.inputDidChange)},inputDidChange:function(){SC.RunLoop.begin();var e=this.$("input")[0],t=e.value,n=this.get("supportedFilenameExtensions"),r=YES;if(n){var i=t.split(".");filenameExtension=i.pop().toLowerCase(),r=NO;for(var s=0,o=n.length;s<o;s++){supportedFilenameExtension=n[s];if(supportedFilenameExtension===filenameExtension){r=YES;break}}}if(!r)SC.AlertPane.error("_filetype_not_supported_message".loc(),"_filetype_not_supported_description".loc(),"","_filetype_not_supported_cancel_button"
.loc());else{var u=e.files[0],a=new FileReader,f=this;a.onload=function(){f.set("fileName",u.name),f.set("fileContent",a.result)},a.readAsText(u)}SC.RunLoop.end()}}),Admin.EnterpriseAppFilenameExtensions=["ipa","app"],Admin.EnterpriseBookFilenameExtensions=["pdf","epub","ibooks"],Admin.GenesisView=SC.View.extend({classNames:"admin-content-library-no-apps".w(),childViews:"boxView".w(),titleValue:"",descriptionValue:"",showAppUpload:null,showBookUpload:null,imageValue:"",actionButtonTitle:"_generic_string_Volume Purchase".loc(),actionButtonAction:"goToVPPPortal",showLearnMoreButton:NO,boxView:SC.View.design({layout:{centerY:0,width:0+parseFloat("_genesis_view_width".loc()),height:450,left:50},childViews:["headerView","descriptionView","dividerView","buttonsView","learnMoreButtonView","imageView"],headerView:SC.LabelView.design({classNames:"admin-genesis-view-header".w(),layout:{top:45,width:550,height:50},valueBinding:SC.Binding.oneWay(".owner.owner.titleValue")}),descriptionViewHeight:40,descriptionView:SC.LabelView.design(SC.AutoResize,{classNames:"admin-genesis-view-description".w(),layout:{top:95,width:400,maxWidth:400},shouldResizeWidth:NO,shouldResizeHeight:YES,measuredSizeObserver:function(){var e=this.get("measuredSize");this.setPath("owner.descriptionViewHeight",e.height)}.observes("measuredSize"),valueBinding:SC.Binding.oneWay(".owner.owner.descriptionValue")}),dividerView:SC.ImageView.design({layout:function(e,t){if(t!==undefined)throw SC.$error("layout is ready only for %@".fmt(this.constructor));var n=this.get("descriptionViewHeight");return{width:418,height:6,top
:115+n}}.property("descriptionViewHeight").cacheable(),descriptionViewHeightBinding:".owner.descriptionViewHeight",value:"admin-content-library-noapp-divider"}),buttonsView:SC.View.design({isVisibleBinding:SC.Binding.oneWay(".owner.owner.showLearnMoreButton").not(),layout:function(e,t){if(t!==undefined)throw SC.$error("layout is ready only for %@".fmt(this.constructor));var n=this.get("descriptionViewHeight");return{height:50,top:115+n+6+20}}.property("descriptionViewHeight").cacheable(),descriptionViewHeightBinding:".owner.descriptionViewHeight",childViews:"enterpriseAppButtonView enterpriseAppUploadView ebookButtonView ebookUploadView actionButton".w(),contentButtonViewWidth:180,enterpriseAppButtonView:SC.ButtonView.design(SC.AutoResize,{layout:{left:0,width:180},measuredSizeObserver:function(){var e=this.get("measuredSize");this.setPath("owner.contentButtonViewWidth",e.width)}.observes("measuredSize"),isVisibleBinding:SC.Binding.oneWay(".owner.owner.owner.showAppUpload"),title:"_generic_string_Add Enterprise App".loc(),target:"owner.enterpriseAppUploadView"}),enterpriseAppUploadView:Admin.UploadView.design({enterpriseAppButtonViewWidthBinding:".owner.contentButtonViewWidth",fileTypeIcon:"pm-upload-app-icon",layout:function(e,t){if(t!==undefined)throw SC.$error("layout is ready only for %@".fmt(this.constructor));return{left:0,width:this.get("enterpriseAppButtonViewWidth")}}.property("enterpriseAppButtonViewWidth").cacheable(),isVisibleBinding:SC.Binding.oneWay(".owner.owner.owner.showAppUpload"),supportedFilenameExtensions:Admin.EnterpriseAppFilenameExtensions,lastUploadedFileDidChange
:function(){Admin.sendAction("parseApp")}.observes("lastUploadedFile")}),ebookButtonView:SC.ButtonView.design(SC.AutoResize,{layout:{left:0,width:180},measuredSizeObserver:function(){var e=this.get("measuredSize");this.setPath("owner.contentButtonViewWidth",e.width)}.observes("measuredSize"),isVisibleBinding:SC.Binding.oneWay(".owner.owner.owner.showBookUpload"),title:"_generic_string_Add Enterprise Book".loc(),target:"owner.ebookUploadView"}),ebookUploadView:Admin.UploadView.design({eBookButtonViewWidthBinding:".owner.contentButtonViewWidth",fileTypeIcon:"pm-upload-book-icon",layout:function(e,t){if(t!==undefined)throw SC.$error("layout is ready only for %@".fmt(this.constructor));return{left:0,width:this.get("eBookButtonViewWidth")}}.property("eBookButtonViewWidth").cacheable(),isVisibleBinding:SC.Binding.oneWay(".owner.owner.owner.showBookUpload"),supportedFilenameExtensions:Admin.EnterpriseBookFilenameExtensions,lastUploadedFileDidChange:function(){Admin.sendAction("parseBook")}.observes("lastUploadedFile")}),actionButton:SC.ButtonView.design(SC.AutoResize,{contentButtonViewWidthBinding:".owner.contentButtonViewWidth",layout:function(){var e=this.get("measuredSize"),t={left:this.get("contentButtonViewWidth")+40,width:e.width+20};return!this.get("showAppUpload")&&!this.get("showBookUpload")&&(t.left=0),t}.property("showAppUpload","showBookUpload","measuredSize","contentButtonViewWidth").cacheable(),showAppUploadBinding:SC.Binding.oneWay(".owner.owner.owner.showAppUpload"),showBookUploadBinding:SC.Binding.oneWay(".owner.owner.owner.showBookUpload"),titleBinding:SC.Binding.
oneWay(".owner.owner.owner.actionButtonTitle"),target:"Admin",actionBinding:SC.Binding.oneWay(".owner.owner.owner.actionButtonAction")})}),learnMoreButtonView:SC.ButtonView.design({isVisibleBinding:".owner.owner.showLearnMoreButton",classNames:"admin-genesis-learn-more-button".w(),layout:function(e,t){if(t!==undefined)throw SC.$error("layout is ready only for %@".fmt(this.constructor));var n=this.get("descriptionViewHeight");return{width:parseFloat("_button_width_learn_more".loc()),height:20,top:115+n+6+20}}.property("descriptionViewHeight").cacheable(),descriptionViewHeightBinding:".owner.descriptionViewHeight",title:"_button_text_Learn More".loc(),themeName:"blank",target:"Admin",action:"goToDevicesHelp"}),imageView:Admin.ImageView.design({layout:{width:307,height:307,top:0,right:0},useCanvas:NO,valueBinding:SC.Binding.oneWay(".owner.owner.imageValue")})})}),Admin.LabelWithJumpLinkView=SC.View.extend({labelValue:"",jumpLinkAction:"",useStaticLayout:YES,layout:{height:25},childViews:["labelView","buttonView"],labelWidth:187,labelView:SC.LabelView.design(SC.AutoResize,{layout:{height:16,top:4},valueBinding:".owner.labelValue",measuredSizeObserver:function(){var e=this.get("measuredSize");this.setPath("owner.labelWidth",e.width)}.observes("measuredSize"),mouseDown:function(){var e=this.getPath("owner.jumpLinkAction");e&&Admin.sendAction(e)}}),buttonView:SC.ButtonView.design({layout:function(){return{left:this.get("labelWidth")+5,width:13,height:20}}.property("labelWidth").cacheable(),labelWidthBinding:SC.Binding.oneWay(".owner.labelWidth"),icon:"members-list-item-view-arrow-button"
,themeName:"blank",target:"Admin",actionBinding:".owner.jumpLinkAction"})}),Admin.NameColonFieldView=SC.View.extend({layout:{width:420,height:20,left:0,top:0},name:"",fieldHint:"",fieldContentValueKey:"",childViews:"nameView fieldView".w(),nameView:SC.LabelView.design({layout:{width:150,right:270,height:20},valueBinding:".owner.name"}),fieldView:SC.TextFieldView.design({layout:{width:250,left:170,height:20},hintBinding:".owner.fieldHint",contentBinding:".owner.fieldContent",contentValueKeyBinding:".owner.fieldContentValueKey"})}),Admin.NoItemView=SC.View.extend({childViews:"noItemBox".w(),classNames:["admin-background-color-white","admin-no-item-view"],boxLayout:{centerX:0,centerY:0,height:78,width:272},labelLayout:{centerX:0,centerY:0,height:18,width:270},noItemBox:SC.View.design(SC.Border,{classNames:"admin-no-item-box-view".w(),layoutBinding:SC.Binding.oneWay(".owner.boxLayout"),borderStyle:"#ddd",childViews:"noItemLabel".w(),noItemLabel:SC.LabelView.design({layoutBinding:SC.Binding.oneWay(".owner.owner.labelLayout"),isEnabled:NO,textAlign:SC.ALIGN_CENTER,fontWeight:SC.BOLD_WEIGHT,controlSize:SC.LARGE_CONTROL_SIZE,value:function(){var e=this.get("contentType");if(!e)return"_no_item_view_nothing_selected".loc();if(this.get("status")&SC.Record.BUSY_LOADING)switch(e){case"device":return"_item_list_loading_device".loc();case"device_group":return"_item_list_loading_device_group".loc();case"user":case"loginAllowUser":case"loginDenyUser":return"_item_list_loading_user".loc();case"user_group":case"loginAllowUserGroup":case"loginDenyUserGroup":return"_item_list_loading_user_group"
.loc();case"vpp_user_group":return"_item_list_loading_vpp_user_group".loc();case"tasks_active":return"_item_list_loading_tasks_active".loc();case"tasks_complete":return"_item_list_loading_tasks_complete".loc();case"printer":return"_item_list_loading_printer".loc();case"system_application":return"_item_list_loading_system_application".loc();case"widget":return"_item_list_loading_widget".loc();case"auto_join_profile":return"";case"apps":return"_item_list_loading_apps".loc();case"books":return"_item_list_loading_books".loc();case"activity":return"_item_list_loading_activity".loc();case"members":return"_item_list_loading_members".loc();default:throw SC.$error("Unknown contentType "+e)}if(typeof this.get("isTruncationIndicator")!="boolean")throw SC.$error("could not determine if this is a truncation indicator or not");if(this.get("isTruncationIndicator"))switch(e){case"device":return"_no_item_view_is_truncation_indicator_device".loc();case"device_group":return"_no_item_view_is_truncation_indicator_device_group".loc();case"user":case"loginAllowUser":case"loginDenyUser":return"_no_item_view_is_truncation_indicator_user".loc();case"user_group":case"loginAllowUserGroup":case"loginDenyUserGroup":return"_no_item_view_is_truncation_indicator_user_group".loc();case"vpp_user_group":return"_no_item_view_is_truncation_indicator_vpp_user_group".loc();case"tasks_active":return"_no_item_view_is_truncation_indicator_tasks_active".loc();case"tasks_complete":return"_no_item_view_is_truncation_indicator_tasks_complete".loc();case"printer":return"_no_item_view_is_truncation_indicator_printer".loc()
;case"system_application":return"_no_item_view_is_truncation_indicator_system_application".loc();case"widget":return"_no_item_view_is_truncation_indicator_widget".loc();case"auto_join_profile":return"";case"apps":return"_no_item_view_is_truncation_indicator_apps".loc();case"books":return"_no_item_view_is_truncation_indicator_books".loc();case"activity":return"_no_item_view_is_truncation_indicator_activity".loc();case"members":return"_no_item_view_is_truncation_indicator_members".loc();default:throw SC.$error("Unknown contentType "+e)}if(this.get("searchString"))switch(e){case"device":return"_no_item_view_no_somethings_found_device".loc();case"device_group":return"_no_item_view_no_somethings_found_device_group".loc();case"user":case"loginAllowUser":case"loginDenyUser":return"_no_item_view_no_somethings_found_user".loc();case"user_group":case"loginAllowUserGroup":case"loginDenyUserGroup":return"_no_item_view_no_somethings_found_user_group".loc();case"vpp_user_group":return"_no_item_view_no_somethings_found_vpp_user_group".loc();case"tasks_active":return"_no_item_view_no_somethings_found_tasks_active".loc();case"tasks_complete":return"_no_item_view_no_somethings_found_tasks_complete".loc();case"printer":return"_no_item_view_no_somethings_found_printer".loc();case"system_application":return"_no_item_view_no_somethings_found_system_application".loc();case"widget":return"_no_item_view_no_somethings_found_widget".loc();case"auto_join_profile":return"";case"apps":return"_no_item_view_no_somethings_found_apps".loc();case"books":return"_no_item_view_no_somethings_found_books".loc();case"activity"
:return"_no_item_view_no_somethings_found_activity".loc();case"members":return"_no_item_view_no_somethings_found_members".loc();default:throw SC.$error("Unknown contentType "+e)}else switch(e){case"device":return"_no_item_view_no_somethings_device".loc();case"device_group":return"_no_item_view_no_somethings_device_group".loc();case"user":case"loginAllowUser":case"loginDenyUser":return"_no_item_view_no_somethings_user".loc();case"user_group":case"loginAllowUserGroup":case"loginDenyUserGroup":return"_no_item_view_no_somethings_user_group".loc();case"vpp_user_group":return"_no_item_view_no_somethings_vpp_user_group".loc();case"tasks_active":return"_no_item_view_no_somethings_tasks_active".loc();case"tasks_complete":return"_no_item_view_no_somethings_tasks_complete".loc();case"printer":return"_no_item_view_no_somethings_printer".loc();case"system_application":return"_no_item_view_no_somethings_system_application".loc();case"widget":return"_no_item_view_no_somethings_widget".loc();case"auto_join_profile":return"";case"apps":return"_no_item_view_no_somethings_apps".loc();case"inhouse_enterprise_apps":return"_no_item_view_no_somethings_inhouse_enterprise_apps".loc();case"books":return"_no_item_view_no_somethings_books".loc();case"inhouse_ebooks":return"_no_item_view_no_somethings_inhouse_ebooks".loc();case"activity":return"_no_item_view_no_somethings_activity".loc();case"members":return"_no_item_view_no_somethings_members".loc();case"inactive_user_group_members":return"_no_item_view_inactive_user_group_members".loc();case"airplay_destination":return"_no_item_view_no_airplay_destinations"
.loc();default:throw SC.$error("Unknown contentType "+e)}}.property("contentType","status","searchString","isTruncationIndicator"),contentTypeBinding:".owner.owner.contentType",statusBinding:".owner.owner.status",isTruncationIndicatorBinding:".owner.owner.isTruncationIndicator",searchStringBinding:".owner.owner.searchString"})})}),Admin.SaveButtonView=SC.ButtonView.extend({layout:{centerY:1,right:20,height:27,width:100},title:function(e,t){if(t!==undefined)throw SC.$error("read only");return this.get("saveButtonWillCauseConfirmation")?"_generic_string_Save...".loc():"_generic_string_Save".loc()}.property("saveButtonWillCauseConfirmation"),saveButtonWillCauseConfirmationBinding:"Admin.itemSelectionController.saveButtonWillCauseConfirmation",isDefault:YES,target:"Admin",action:"showSaveChangesConfirmation"}),Admin.SearchFieldView=SC.View.extend({searchString:null,childViews:["searchFieldImage","searchField","searchFieldCancelButton"],searchFieldImage:SC.ImageView.design({layout:{right:1,top:6,width:190,height:20},value:"admin-filterbar-search-box-2x"}),searchFieldDisabledImage:SC.ImageView.design({layout:{right:1,centerY:0,width:190,height:24},value:"admin-toolbar-search-box-disabled"}),searchField:SC.TextFieldView.design({classNames:"admin-toolbar-search-field admin-filterbar-search-field".w(),themeName:"blank",applyImmediately:YES,layout:{width:159,height:16,top:7,right:11},hintBinding:".owner.searchHint",value:function(e,t){return t!==undefined&&this.set("searchString",t.trimLeft()),this.get("searchString")}.property(),searchStringBinding:".owner.searchString"}),searchFieldCancelButton
:SC.ButtonView.design({layout:{width:15,height:15,top:8,right:5},isVisibleBinding:".owner.searchField.value",renderStyle:"renderImage",themeName:"blank",icon:"admin-filterbar-search-field-cancel-button-2x",action:function(){this.getPath("owner.searchField").set("value","").commitEditing()}})}),Admin.UnifiedAssetSummaryInfoView=SC.LabelView.extend({assetType:"app",classNames:"admin-app-summary-info".w(),layout:{width:200,centerX:0,centerY:0,height:20},value:function(){var e=this.get("sizeInKB"),t=this.get("count"),n="",r=this.get("assetType"),i,s,o,u,a;return e>0&&(r==="app"?n=t===1?"_generic_string_app_count_singular_and_size_fmt_KB".loc(e):"_generic_string_app_count_and_size_fmt_KB".loc(t,e):r==="book"&&(n=t===1?"_generic_string_book_count_singular_and_size_fmt_KB".loc(e):"_generic_string_book_count_and_size_fmt_KB".loc(t,e))),e>999&&(i=String(Math.floor(e/1e3*100)/100),i.indexOf(".")>-1?(o=i.split("."),u=o[0],a=o[1],r==="app"?n=t===1?"_generic_string_app_count_singular_and_decimal_size_fmt_MB".loc(u,a):"_generic_string_app_count_and__decimal_size_fmt_MB".loc(t,u,a):r==="book"&&(n=t===1?"_generic_string_book_count_singular_and_decimal_size_fmt_MB".loc(u,a):"_generic_string_book_count_and_decimal_size_fmt_MB".loc(t,u,a))):r==="app"?n=t===1?"_generic_string_app_count_singular_and_size_fmt_MB".loc(i):"_generic_string_app_count_and_size_fmt_MB".loc(t,i):r==="book"&&(n=t===1?"_generic_string_book_count_singular_and_size_fmt_MB".loc(i):"_generic_string_book_count_and_size_fmt_MB".loc(t,i))),i>999&&(s=String(Math.floor(i/1e3*100)/100),s.indexOf(".")>-1?(o=s.split("."),u=o[0],a=o[1
],r==="app"?n=t===1?"_generic_string_app_count_singular_and_decimal_size_fmt_GB".loc(u,a):"_generic_string_app_count_and_decimal_size_fmt_GB".loc(t,u,a):r==="book"&&(n=t===1?"_generic_string_book_count_singular_and_decimal_size_fmt_GB".loc(s):"_generic_string_book_count_and_decimal_size_fmt_GB".loc(t,s))):r==="app"?n=t===1?"_generic_string_app_count_singular_and_size_fmt_GB".loc(s):"_generic_string_app_count_and_size_fmt_GB".loc(t,s):r==="book"&&(n=t===1?"_generic_string_book_count_singular_and_size_fmt_GB".loc(s):"_generic_string_book_count_and_size_fmt_GB".loc(t,s))),n}.property("count","sizeInKB")}),Admin.DEPSettingsView=SC.View.extend({useStaticLayout:YES,childViews:["depSuspendedStateView","cloudSettingsView"],layout:{width:parseFloat("_layout_admin_profiles_view_box_width".loc())-60},depSuspendedStateView:SC.View.design({isVisibleBinding:"Admin.SettingsController.isDEPServiceSuspended",useStaticLayout:YES,childViews:["descriptionView","actionView"],descriptionView:SC.LabelView.design({classNames:["admin-margin-top-10","admin-margin-bottom-10"],useStaticLayout:YES,value:"dep_accept_agreements_description".loc()}),actionView:Admin.LabelWithJumpLinkView.design({labelValue:"dep_program_website".loc(),jumpLinkAction:"goToDeploymentProgramWebsite"})}),cloudSettingsView:SC.View.design({classNames:["admin-background-color-white","admin-margin-top-15"],useStaticLayout:YES,isVisibleBinding:"Admin.SettingsController.isDEPServiceEnabled",childViews:["enableCloudConfigView","requireEnrollmentView","preventUnenrollmentView","superviseDeviceView","allowPairingView","requireCredentialsView"
,"setupAssistantOptions"],enableCloudConfigView:Admin.KnobSetCheckBoxFieldView.design({alignDescriptionWithHeader:YES,title:"_generic_string_Prompt User To Enroll Device".loc(),description:"Prompt the user in the setup assistant to enroll in device management".loc(),contentBinding:"Admin.itemSelectionFromNestedStoreController",fieldContentValueKey:"enableCloudConfig"}),requireEnrollmentView:Admin.KnobSetCheckBoxFieldView.design({layout:{left:20},alignDescriptionWithHeader:YES,classNames:["admin-margin-top-5"],isEnabledBinding:".owner.enableCloudConfigView.fieldValue",title:"_dep_configuration_require_enrollment".loc(),description:"_dep_configuration_require_enrollment_hint".loc(),contentBinding:"Admin.itemSelectionFromNestedStoreController",fieldContentValueKey:"requireEnrollment"}),preventUnenrollmentView:Admin.KnobSetCheckBoxFieldView.design({layout:{left:20},alignDescriptionWithHeader:YES,classNames:["admin-margin-top-5"],isEnabledBinding:".owner.enableCloudConfigView.fieldValue",title:"_dep_configuration_Prevent unenrollment".loc(),description:"_dep_configuration_Requires supervision on iOS".loc(),contentBinding:"Admin.itemSelectionFromNestedStoreController",fieldContentValueKey:"preventUnenrollment"}),superviseDeviceView:Admin.KnobSetCheckBoxFieldView.design({layout:{left:20},alignDescriptionWithHeader:YES,classNames:["admin-margin-top-5"],preventUnenrollmentBinding:".owner.preventUnenrollmentView.fieldValue",enableCloudConfigBinding:".owner.enableCloudConfigView.fieldValue",isEnabled:function(){return this.get("enableCloudConfig")&&!this.get("preventUnenrollment")}.property
("preventUnenrollment","enableCloudConfig"),title:"_generic_string_Supervise (iOS only)".loc(),description:"_generic_string_Enable supervision and prevent unenrollment".loc(),contentBinding:"Admin.itemSelectionFromNestedStoreController",fieldContentValueKey:"isDEPSupervised"}),allowPairingView:Admin.KnobSetCheckBoxFieldView.design({layout:{left:40},alignDescriptionWithHeader:YES,classNames:["admin-margin-top-5"],isEnabled:function(){return this.get("isSuperviseEnabled")&&this.get("isSuperviseEnabled")}.property("isSuperviseEnabled","isSuperviseEnabled"),isSuperviseEnabledBinding:".owner.superviseDeviceView.fieldValue",isCloudConfigEnabledBinding:".owner.enableCloudConfigView.fieldValue",title:"_generic_string_Allow Pairing".loc(),description:"_generic_string_Enable the iOS device to be paired with a Mac".loc(),contentBinding:"Admin.itemSelectionFromNestedStoreController",fieldContentValueKey:"allowPairing"}),requireCredentialsView:Admin.BoldCheckboxView.design({layout:{left:20,height:25},classNames:["admin-margin-top-5"],isEnabledBinding:".owner.enableCloudConfigView.fieldValue",contentBinding:"Admin.itemSelectionFromNestedStoreController",contentValueKey:"requireCredentials",title:"_generic_string_Require credentials for enrollment".loc()}),setupAssistantOptions:SC.View.design({useStaticLayout:YES,classNames:"admin-margin-top-15".w(),layout:{centerX:50,width:parseFloat("_layout_admin_profiles_view_box_width".loc())},childViews:["header","description","iOSAndOSXSkipOptionsLabelView","skipRestore","skipiCloud","termsAndConditions","skipSendingDiagnostics","iOSSkipOptionsLabelView"
,"skipLocationServices","touchIdView","passcodeLockView","applePayView","skipSiri","displayZoomView","OSXSkipOptionsLabelView","skipFileVaultView","skipRegistrationView"],header:Admin.BoldLabelViewAbsolute.extend({useStaticLayout:YES,layout:{width:parseFloat("_layout_admin_profiles_view_box_width".loc()),height:20},value:"_generic_string_Setup Assistant Options".loc()}),description:SC.LabelView.design({useStaticLayout:YES,layout:{centerX:0,width:parseFloat("_layout_admin_profiles_view_box_width".loc()),height:20},classNames:"admin-description-label-view".w(),value:"_generic_string_Choose which options to show in the assistant".loc()}),iOSAndOSXSkipOptionsLabelView:SC.LabelView.design({classNames:["admin-margin-top-7","admin-description-label-view"],useStaticLayout:YES,layout:{centerX:0,width:parseFloat("_layout_admin_profiles_view_box_width".loc()),height:20},value:"_skip_setup_options_iOS and OSX".loc()}),skipLocationServices:SC.CheckboxView.design({useStaticLayout:YES,layout:{centerX:0,width:parseFloat("_layout_admin_profiles_view_box_width".loc()),height:20},isEnabledBinding:".owner.owner.enableCloudConfigView.fieldValue",contentBinding:"Admin.itemSelectionFromNestedStoreController",contentValueKey:"skipLocationServices",title:"_generic_string_Location Services".loc()}),skipRestore:SC.CheckboxView.design({useStaticLayout:YES,layout:{centerX:0,width:parseFloat("_layout_admin_profiles_view_box_width".loc()),height:20},isEnabledBinding:".owner.owner.enableCloudConfigView.fieldValue",contentBinding:"Admin.itemSelectionFromNestedStoreController",contentValueKey:"skipRestore",title
:"_generic_string_Set Up as New or Restore".loc()}),skipiCloud:SC.CheckboxView.design({useStaticLayout:YES,layout:{centerX:0,width:parseFloat("_layout_admin_profiles_view_box_width".loc()),height:20},isEnabledBinding:".owner.owner.enableCloudConfigView.fieldValue",contentBinding:"Admin.itemSelectionFromNestedStoreController",contentValueKey:"skipiCloud",title:"_generic_string_Apple ID".loc()}),termsAndConditions:SC.CheckboxView.design({useStaticLayout:YES,layout:{centerX:0,width:parseFloat("_layout_admin_profiles_view_box_width".loc()),height:20},isEnabledBinding:".owner.owner.enableCloudConfigView.fieldValue",contentBinding:"Admin.itemSelectionFromNestedStoreController",contentValueKey:"tos",title:"_generic_string_Terms and Conditions".loc()}),skipSendingDiagnostics:SC.CheckboxView.design({useStaticLayout:YES,layout:{centerX:0,width:parseFloat("_layout_admin_profiles_view_box_width".loc()),height:20},isEnabledBinding:".owner.owner.enableCloudConfigView.fieldValue",contentBinding:"Admin.itemSelectionFromNestedStoreController",contentValueKey:"skipDiagnostics",title:"_generic_string_Send Diagnostics".loc()}),iOSSkipOptionsLabelView:SC.LabelView.design({classNames:["admin-margin-top-7","admin-description-label-view"],useStaticLayout:YES,layout:{centerX:0,width:parseFloat("_layout_admin_profiles_view_box_width".loc()),height:20},value:"_skip_setup_options_iOS".loc()}),touchIdView:SC.CheckboxView.design({useStaticLayout:YES,layout:{centerX:0,width:parseFloat("_layout_admin_profiles_view_box_width".loc()),height:20},isEnabledBinding:".owner.owner.enableCloudConfigView.fieldValue"
,contentBinding:"Admin.itemSelectionFromNestedStoreController",contentValueKey:"skipTouchID",title:"_skip_setup_option_touchid".loc()}),passcodeLockView:SC.CheckboxView.design({useStaticLayout:YES,layout:{centerX:0,width:parseFloat("_layout_admin_profiles_view_box_width".loc()),height:20},isEnabledBinding:".owner.owner.enableCloudConfigView.fieldValue",contentBinding:"Admin.itemSelectionFromNestedStoreController",contentValueKey:"skipPasscodeLock",title:"_skip_setup_option_Passcode Lock".loc()}),applePayView:SC.CheckboxView.design({useStaticLayout:YES,layout:{centerX:0,width:parseFloat("_layout_admin_profiles_view_box_width".loc()),height:20},isEnabledBinding:".owner.owner.enableCloudConfigView.fieldValue",contentBinding:"Admin.itemSelectionFromNestedStoreController",contentValueKey:"skipApplePay",title:"_skip_setup_option_applepay".loc()}),skipSiri:SC.CheckboxView.design({useStaticLayout:YES,layout:{centerX:0,width:parseFloat("_layout_admin_profiles_view_box_width".loc()),height:20},isEnabledBinding:".owner.owner.enableCloudConfigView.fieldValue",contentBinding:"Admin.itemSelectionFromNestedStoreController",contentValueKey:"skipSiri",title:"_generic_string_Siri".loc()}),displayZoomView:SC.CheckboxView.design({useStaticLayout:YES,layout:{centerX:0,width:parseFloat("_layout_admin_profiles_view_box_width".loc()),height:20},isEnabledBinding:".owner.owner.enableCloudConfigView.fieldValue",contentBinding:"Admin.itemSelectionFromNestedStoreController",contentValueKey:"skipDisplayZoom",title:"_skip_setup_option_displayzoom".loc()}),OSXSkipOptionsLabelView:SC.LabelView.design({classNames
:["admin-margin-top-7","admin-description-label-view"],useStaticLayout:YES,layout:{centerX:0,width:parseFloat("_layout_admin_profiles_view_box_width".loc()),height:20},value:"_skip_setup_options_OSX".loc()}),skipFileVaultView:SC.CheckboxView.design({useStaticLayout:YES,layout:{centerX:0,width:parseFloat("_layout_admin_profiles_view_box_width".loc()),height:20},isEnabledBinding:".owner.owner.enableCloudConfigView.fieldValue",contentBinding:"Admin.itemSelectionFromNestedStoreController",contentValueKey:"skipFileVault",title:"_skip_setup_option_FileVault".loc()}),skipRegistrationView:SC.CheckboxView.design({useStaticLayout:YES,layout:{centerX:0,width:parseFloat("_layout_admin_profiles_view_box_width".loc()),height:27},isEnabledBinding:".owner.owner.enableCloudConfigView.fieldValue",contentBinding:"Admin.itemSelectionFromNestedStoreController",contentValueKey:"skipRegistration",title:"_skip_setup_option_Registration".loc()})})})}),Admin.CloudConfigurationKnobSetView=Admin.KnobSetView.extend({layout:{left:0,right:0,height:500},childViews:["superviseDeviceView","allowPairingView","setupAssistantOptions","knobSetRemove"],superviseDeviceView:Admin.KnobSetCheckBoxFieldViewAbsolute.design({descriptionHeight:30,descriptionCenterX:20,layout:{top:0,centerX:0,width:Admin.KNOB_WIDTH},label:"_generic_string_Supervise".loc(),description:"_generic_string_Supervising will also require enrollment into device management and prevent unenrollment from device management on the device".loc(),contentBinding:".owner.content",fieldContentValueKey:"isSupervised"}),allowPairingView:Admin.KnobSetCheckBoxFieldViewAbsolute
.design({descriptionCenterX:20,layout:{top:65,centerX:30,width:Admin.KNOB_WIDTH,height:50},isEnabledBinding:".owner.superviseDeviceView.fieldValue",label:"_generic_string_Allow Pairing".loc(),description:"_generic_string_Enable the ability for the device to be paired with a Mac".loc(),contentBinding:".owner.content",fieldContentValueKey:"allowPairing"}),setupAssistantOptions:SC.View.design({layout:{top:130,centerX:0,width:Admin.KNOB_WIDTH,height:170},childViews:"header description skipLocationServices skipSiri skipSendingDiagnostics skipiCloud termsAndConditions skipRestore".w(),header:Admin.BoldLabelViewAbsolute.extend({layout:{top:0,centerX:0,width:Admin.KNOB_WIDTH,height:20},value:"_generic_string_Setup Assistant Options".loc()}),description:SC.LabelView.design({layout:{centerX:0,top:20,width:Admin.KNOB_WIDTH,height:20},classNames:"admin-description-label-view".w(),value:"_generic_string_Choose which options to show in the assistant".loc()}),skipLocationServices:SC.CheckboxView.design({layout:{top:50,centerX:0,width:Admin.KNOB_WIDTH,height:20},contentBinding:".owner.owner.content",contentValueKey:"skipLocationServices",title:"_generic_string_Location Services".loc()}),skipRestore:SC.CheckboxView.design({layout:{top:70,centerX:0,width:Admin.KNOB_WIDTH,height:20},contentBinding:".owner.owner.content",contentValueKey:"skipRestore",title:"_generic_string_Set Up as New or Restore".loc()}),skipiCloud:SC.CheckboxView.design({layout:{top:90,centerX:0,width:Admin.KNOB_WIDTH,height:20},contentBinding:".owner.owner.content",contentValueKey:"skipiCloud",title:"_generic_string_Apple ID"
.loc()}),termsAndConditions:SC.CheckboxView.design({layout:{top:110,centerX:0,width:Admin.KNOB_WIDTH,height:20},contentBinding:".owner.owner.content",contentValueKey:"tos",title:"_generic_string_Terms and Conditions".loc()}),skipSiri:SC.CheckboxView.design({layout:{top:130,centerX:0,width:Admin.KNOB_WIDTH,height:20},contentBinding:".owner.owner.content",contentValueKey:"skipSiri",title:"_generic_string_Siri".loc()}),skipSendingDiagnostics:SC.CheckboxView.design({layout:{top:150,centerX:0,width:Admin.KNOB_WIDTH,height:20},contentBinding:".owner.owner.content",contentValueKey:"skipDiagnostics",title:"_generic_string_Send Diagnostics".loc()})})}),Admin.MembersPickerExampleView=SC.ListItemView.extend(CW.TouchApproximation,{childViews:"smallIcon displayName secondaryInformation addRemoveButton".w(),contentDisplayProperties:["smallIcon","displayName","secondaryInformation"],render:function(e,t){this.renderChildViews(e,!0)},smallIcon:SC.ImageView.design({layout:{centerY:0,left:5,width:16,height:16},isDecorative:YES,valueBinding:".owner.content.smallIcon"}),displayName:SC.LabelView.design({layout:{centerY:0,left:26,width:0+parseFloat("_members_picker_example_view_display_name_width".loc()),height:17},classNames:["truncate-by-ellipsis"],isDecorative:YES,valueBinding:".owner.content.displayName"}),secondaryInformation:SC.LabelView.design({layout:{centerY:0,left:30+parseFloat("_members_picker_example_view_display_name_width".loc()),right:28+parseFloat("_members_picker_example_view_add_remove_button_width".loc()),height:17},classNames:["truncate-by-ellipsis"],isDecorative:YES,valueBinding
:".owner.content.secondaryInformation"}),forSystemItems:NO,removeAction:"actuallyRemoveMembersFromMembersPicker",addAction:"actuallyAddMembersFromMembersPicker",addRemoveButton:SC.ButtonView.design({layout:{centerY:0,right:10,width:0+parseFloat("_members_picker_example_view_add_remove_button_width".loc()),height:22},themeName:"capsule",controlSize:SC.SMALL_CONTROL_SIZE,forSystemItemsBinding:".owner.forSystemItems",isEnabled:function(){return this.get("forSystemItems")?YES:this.getPath("owner.content")!==Admin.itemSelectionController.getPath("content.firstObject")}.property("itemSelectionStoreKey","currentMembersLength","forSystemItems"),currentMembersLengthBinding:"Admin.membersController.length",loginMembersLengthBinding:"Admin.loginMembersController.length",isForLoginWindowBinding:"Admin.allMembersPickerController.typeIsForLoginWindow",searchContentTypeBinding:"Admin.allMembersPickerController.searchContentType",currentSystemItemsLengthBinding:"Admin.systemItemsController.length",itemSelectionStoreKeyBinding:"Admin.itemSelectionController.storeKey",title:function(){var e=this.get("forSystemItems"),t=this.get("isForLoginWindow"),n=e||t?Admin.get("profileForEditingNestedStore"):Admin.get("itemSelectionNestedStore"),r=n.find(this.getPath("owner.content.constructor"),this.getPath("owner.content.id")),i;return e?i=Admin.systemItemsController.get("arrangedObjects"):t?i=Admin.loginMembersController.get("arrangedObjects"):i=Admin.membersController.get("arrangedObjects"),i.indexOf(r)>-1?"_generic_string_Remove".loc():"_generic_string_Add".loc()}.property("searchContentType","loginMembersLength"
,"isForLoginWindow","itemSelectionStoreKey","currentMembersLength","currentSystemItemsLength","forSystemItems"),target:"Admin",action:function(){var e=this.get("forSystemItems"),t=this.get("isForLoginWindow"),n=e||t?Admin.get("profileForEditingNestedStore"):Admin.get("itemSelectionNestedStore"),r=n.find(this.getPath("owner.content.constructor"),this.getPath("owner.content.id")),i;return e?i=Admin.systemItemsController.get("arrangedObjects"):t?i=Admin.loginMembersController.get("arrangedObjects"):i=Admin.membersController.get("arrangedObjects"),i.indexOf(r)>-1?this.getPath("owner.removeAction"):this.getPath("owner.addAction")}.property("searchContentType","loginMembersLength","isForLoginWindow","itemSelectionStoreKey","currentMembersLength","currentSystemItemsLength")})}),Admin.appsViewMixin={noItemView:Admin.NoItemView.design({isVisible:function(){return this.get("applicationLength")===0&&!this.get("unsupported")}.property("applicationLength"),applicationLengthBinding:".owner.applicationLength",unsupportedBinding:".owner.unsupportedOverlayView.isVisible",sidebarSelectionContentTypeBinding:"Admin.sidebarSelectionController.contentType",contentType:function(e,t){if(t!==undefined)throw SC.$error("contentType is ready only for %@".fmt(this.constructor));var n="apps",r=this.get("sidebarSelectionContentType");return["device","device_group"].contains(r)&&(n="inhouse_enterprise_apps"),n}.property("sidebarSelectionContentType").cacheable(),searchString:"",isTruncationIndicator:NO}),unsupportedOverlayView:SC.View.design({isVisible:function(){return this.get("hasCompleteData")&&this.get
("isDevice")&&!this.get("doesSupportEnterpriseApps")}.property("isDevice","doesSupportEnterpriseApps","hasCompleteData"),isDeviceBinding:"Admin.itemSelectionController.isDevice",hasCompleteDataBinding:SC.Binding.oneWay("Admin.itemSelectionController.hasCompleteData"),doesSupportEnterpriseAppsBinding:"Admin.itemSelectionController.doesSupportEnterpriseApps",layout:{left:0,right:0,top:0,bottom:.5},childViews:"unsupportedOverlayBox".w(),classNames:["admin-background-color-white","admin-no-item-view"],unsupportedOverlayBox:SC.View.design(SC.Border,{classNames:"admin-no-item-box-view".w(),layout:{centerX:0,centerY:0,height:78,width:272},borderStyle:"#ddd",childViews:"unsupportedOverlayLabel".w(),unsupportedOverlayLabel:SC.LabelView.design({layout:{centerX:0,centerY:3,height:55,width:220},isEnabled:NO,textAlign:SC.ALIGN_CENTER,fontWeight:SC.BOLD_WEIGHT,controlSize:SC.LARGE_CONTROL_SIZE,value:function(){return!this.get("isMac")&&parseFloat(this.get("softwareVersion"))>=5?"_generic_string_Re-enroll this device to enable enterprise application distribution".loc():"_generic_string_Upgrade to iOS 5 and re-enroll this device to enable enterprise application distribution".loc()}.property("isMac","softwareVersion"),isMacBinding:"Admin.itemSelectionController.isMac",softwareVersionBinding:"Admin.itemSelectionController.softwareVersion"})})})},Admin.DetailPageToolbarMixin={isAppsTabSelected:!1,isBooksTabSelected:!1,isVppContentTabSelected:function(){return this.get("isAppsTabSelected")||this.get("isBooksTabSelected")}.property("isAppsTabSelected","isBooksTabSelected"),vppContentTabSelectedObserver
:function(){var e=Admin.detailPage.detailView.tabs.get("nowShowing");this.set("isAppsTabSelected",!1),this.set("isBooksTabSelected",!1),e==="Admin.appsPage.apps"&&this.set("isAppsTabSelected",!0),e==="Admin.booksPage.books"&&this.set("isBooksTabSelected",!0)}.observes("Admin.detailPage.detailView.tabs.nowShowing"),selectAllVppContentButtonView:SC.ButtonView.design({layout:{left:20,height:24,width:28,bottom:11},icon:"admin-all-button",renderStyle:"renderImage",themeName:"blank",isEnabled:function(){var e=this.get("owner"),t=e?e.get("isAppsTabSelected"):YES,n=NO;return t?n=this.get("assignedAppsCount")>0:n=this.get("assignedBooksCount")>0,n}.property("assignedAppsCount","assignedBooksCount","isAppsTabSelected").cacheable(),isAppsTabSelectedBinding:".owner.isAppsTabSelected",assignedAppsCountBinding:"Admin.AssignedAppsTableViewController.length",assignedBooksCountBinding:"Admin.AssignedBooksTableViewController.length",isVisibleBinding:".owner.isVppContentTabSelected",target:"Admin",action:"toggleAllSelectionAssignedVppContent"}),assignVppContentButtonView:SC.ButtonView.design({layout:{bottom:11,left:58,height:23,width:28},renderStyle:"renderImage",themeName:"blank",icon:"admin-add-button",target:"Admin",action:"showVppContentPicker",isVisibleBinding:".owner.isVppContentTabSelected"}),removeAssetButtonView:SC.ButtonView.design({layout:{bottom:11,left:96,height:23,width:28},renderStyle:"renderImage",themeName:"blank",icon:"admin-remove-button",target:"Admin",isEnabled:function(){var e=this.get("isAppsTab"),t=this.get("isBooksTab"),n=e?this.get("appsSelection"):this.get("booksSelection"
),r=e?this.get("assignedApplications"):this.get("assignedBooks"),i=NO;return n&&n.get("length")>0&&(this.get("isAppsTab")?n.forEach(function(e){e&&r&&r.contains(e.get("id"))&&(i=YES)}):n.get("length")===1?i=r&&r.contains(n.firstObject().get("id"))&&n.firstObject().get("licenseType")!=="appstore":i=n.some(function(e){return e&&r&&r.contains(e.get("id"))&&e.get("licenseType")!=="appstore"})),i}.property("isAppsTab","isBooksTab","appsSelection","assignedApplications","booksSelection","assignedBooks").cacheable(),isAppsTabBinding:".owner.isAppsTabSelected",isBooksTabBinding:".owner.isBooksTabSelected",appsSelectionBinding:"Admin.AssignedAppsTableViewController.selection",assignedApplicationsBinding:"Admin.itemSelectionFromNestedStoreController.assignedApplications",booksSelectionBinding:"Admin.AssignedBooksTableViewController.selection",assignedBooksBinding:"Admin.itemSelectionFromNestedStoreController.assignedBooks",action:function(){if(this.get("isAppsTab"))return Admin.sendAction("removeSelectedAppsForItemSelection",this,null),"removeSelectedAppsForItemSelection";var e=this.get("booksSelection"),t=!1;e&&e.get("length")>0&&(t=e.some(function(e){return e&&e.get("vpp_product_id")})),t?SC.AlertPane.warn({message:"_generic_string_Trying to delete VPP books".loc(),description:"_generic_string_Only enterprise books will be deleted".loc(),buttons:[{title:"_generic_string_OK".loc(),action:function(){Admin.sendAction("removeSelectedBooksForItemSelection")}},{title:"_generic_string_Cancel".loc()}]}):Admin.sendAction("removeSelectedBooksForItemSelection")}.property("isAppsTab").cacheable
(),isVppContentTabBinding:".owner.isVppContentTabSelected",isUserGroupBinding:"Admin.itemSelectionController.isUserGroup",isVisible:function(){var e=this.get("isAppsTab"),t=this.get("isBooksTab"),n=this.get("isVppContentTab"),r=this.get("isUserGroup"),i=e||t||n&&r;return i}.property("isVppContentTab","isAppsTab","isBooksTab","isUserGroup").cacheable()}),save:Admin.SaveButtonView.design({isEnabledBinding:SC.Binding.bool("Admin.itemSelectionNestedStore.hasChanges")}),undo:SC.ButtonView.design({layout:{centerY:1,right:140,height:27,width:100},title:"_generic_string_Revert".loc(),target:"Admin",action:"undoChanges",isEnabledBinding:SC.Binding.bool("Admin.itemSelectionNestedStore.hasChanges")})},Admin.UploadPickerPane=SC.PickerPane.create({classNames:"no-bg".w(),layout:{width:200,height:20},isModal:NO,contentView:Admin.UploadView.design({classNames:"admin-import-placeholder-upload-view".w(),layout:{width:"200",height:"20"},supportedFilenameExtensions:["csv"],statusObserver:function(){this.get("lastUploadedFile")!=null&&this.get("lastUsedUploadView")===this&&Admin.RootResponder.importPlaceholderDevicesUploadViewStatusDidChange(this)}.observes("status")})}),Admin.RefreshButtonWithSpinnerView=SC.View.extend({layout:{height:24,width:28},childViews:"refreshODButton refreshODSpinner".w(),refreshInProgress:NO,startRefresh:function(){this.set("refreshInProgress",YES)},refreshODButton:SC.ButtonView.design({layout:{centerX:0,bottom:0,height:23,width:28},title:"_generic_string_Refresh".loc(),renderStyle:"renderImage",themeName:"blank",icon:"admin-refresh-button",isVisibleBinding:SC.Binding.
not(".owner.refreshInProgress"),refreshInProgressBinding:".owner.refreshInProgress",target:"owner",action:"startRefresh"}),refreshODSpinner:Admin.SpinnerView.design({layout:{centerX:0,centerY:0,width:16,height:16},isVisibleBinding:".owner.refreshInProgress",refreshInProgressBinding:".owner.refreshInProgress"})}),Admin.ItemListToolbarMimxin={addDeviceOrImportPlaceholderDevicesPopupButtonView:SC.PopupButtonView.design({layout:{bottom:11,left:20,height:23,width:28},icon:"admin-add-button",renderStyle:"renderImage",themeName:"blank",isVisible:function(){return this.get("sidebarSelectionContentType")==="device"}.property("sidebarSelectionContentType"),sidebarSelectionContentTypeBinding:"Admin.sidebarSelectionController.contentType",menu:SC.MenuPane.design({isVisibleInWindowObserver:function(){var e=this.get("isVisibleInWindow");e||Admin.UploadPickerPane.remove()}.observes("isVisibleInWindow"),exampleView:SC.MenuItemView.extend({mouseEntered:function(){arguments.callee.base.apply(this,arguments);if(this.get("content").get("showsImportPanel")){var e=this.$();e.addClass("focus"),this.get("itemListContainsTruncationIndicator")||this.get("itemListLength")===0?Admin.UploadPickerPane.popup(Admin.mainPage.getPath("noItemView.toolbarView.addDeviceOrImportPlaceholderDevicesPopupButtonView")):Admin.UploadPickerPane.popup(Admin.mainPage.getPath("itemListView.topLeftView.toolbarView.addDeviceOrImportPlaceholderDevicesPopupButtonView"))}else Admin.UploadPickerPane.remove()},itemListContainsTruncationIndicatorBinding:"Admin.itemListController.containsTruncationIndicator",itemListLengthBinding:"Admin.itemListController.length"
,mouseExited:function(){this.get("content").get("showsImportPanel")||arguments.callee.base.apply(this,arguments)}}),items:[{title:"_add_placeholder_device".loc(),isEnabled:YES,target:"Admin",action:"showAddDevicePane"},{title:"_import_placeholder_devices".loc(),isEnabled:YES,target:"Admin",action:"importPlaceholderDevices",showsImportPanel:YES,supportedFilenameExtensions:"csv".w(),disableMenuFlash:YES}],layout:{width:200},mouseDown:function(){return NO}})}),refreshODView:Admin.RefreshButtonWithSpinnerView.design({layout:{bottom:11,left:20,height:24,width:28},isVisible:function(){return this.get("sidebarSelectionContentType")&&this.get("sidebarSelectionContentType").indexOf("user")!=-1}.property("sidebarSelectionContentType").cacheable(),sidebarSelectionContentTypeBinding:"Admin.sidebarSelectionController.contentType",lastODFullSyncDateTimeBinding:"Admin.SettingsController.lastODFullSyncDateTime",lastODFullSyncDateTimeObserver:function(){var e=Admin.SettingsController.get("lastODFullSyncDateTime");e&&this.set("refreshInProgress",NO)}.observes("lastODFullSyncDateTime"),startRefresh:function(){this.set("refreshInProgress",YES),Admin.sendAction("refreshSelectedItemList")}}),refreshDEPDevicesView:Admin.RefreshButtonWithSpinnerView.design({layout:{bottom:11,left:100,height:24,width:28},isVisible:function(){return this.get("sidebarSelectionContentType")==="device"&&Admin.SettingsController.get("isDEPServiceEnabled")}.property("sidebarSelectionContentType"),sidebarSelectionContentTypeBinding:"Admin.sidebarSelectionController.contentType",lastDEPFullSyncDateTimeBinding:"Admin.SettingsController.lastDEPFullSyncDateTime"
,lastDEPIncrementalSyncDateTimeBinding:"Admin.SettingsController.lastDEPIncrementalSyncDateTime",lastODFullSyncDateTimeObserver:function(){var e=Admin.SettingsController.get("lastDEPFullSyncDateTime"),t=Admin.SettingsController.get("lastDEPIncrementalSyncDateTime");(t||e)&&this.set("refreshInProgress",NO)}.observes("lastDEPFullSyncDateTime","lastDEPIncrementalSyncDateTime"),startRefresh:function(){this.set("refreshInProgress",YES),Admin.sendAction("refreshSelectedItemList")}})},Admin.SettingsViewBoxMixin={classNames:"admin-profiles-view-box".w(),icon:SC.ImageView.design({layout:{top:8,left:12,width:16,height:16},value:function(){return this.get("contentImage")||Admin.ICON_PROFILE_MANAGED_SMALL}.property("contentImage").cacheable(),contentImageBinding:"Admin.profileController.smallIcon"}),displayName:"",displayNameView:SC.LabelView.design({layout:{top:8,left:35,right:40,height:20},valueBinding:SC.Binding.oneWay(".owner.displayName"),fontWeight:SC.BOLD_WEIGHT}),hasActionButtons:YES,settingsBackground:SC.View.design({classNames:"admin-setting-types-list-view admin-profiles-view-settings admin-background-color-white".w(),hasActionButtonsBinding:".owner.hasActionButtons",layout:function(e,t){if(t!==undefined)throw SC.$error("layout is ready only for %@".fmt(this.constructor));return{top:30,bottom:this.get("hasActionButtons")?31:0}}.property("hasActionButtons").cacheable()}),whiteBottomBox:SC.View.design({classNames:["admin-white-bottom-box admin-background-color-white"],layout:{bottom:0,left:0,right:0,height:30}})},Admin.ODSyncInProgressView=SC.View.extend({childViews:["containerView"
],classNames:["admin-od-sync-progress-container"],containerView:SC.View.design({childViews:["appIconView","staticContainerView"],layout:{centerX:0,top:100,width:parseFloat("od_sync_in_progress_container_width".loc())},appIconView:Admin.ImageView.design({layout:{left:parseFloat("od_sync_in_progress_container_width".loc())/2-64,width:128,height:128},value:"admin-profile-manager-icon-128-2x"}),staticContainerView:SC.View.design({layout:{top:128},childViews:["headerView","descriptionView","progressBarView"],headerView:SC.LabelView.design({classNames:["od_sync_in_progress_header","admin-margin-top-15"],layout:{width:parseFloat("od_sync_in_progress_container_width".loc())-150,centerX:0},useStaticLayout:YES,textAlign:SC.ALIGN_CENTER,value:"_od_sync_in_progress_description".loc()}),descriptionView:SC.LabelView.design({classNames:["od_sync_in_progress_description"],useStaticLayout:YES,textAlign:SC.ALIGN_CENTER,value:"_od_sync_completion_behavior_description".loc()}),progressBarView:SC.ProgressView.design({isIndeterminate:YES,isRunning:YES,classNames:"admin-od-sync-progress-bar",useStaticLayout:YES,layout:{centerX:0,width:200,height:10}})})})}),Admin.TaskListItemView=SC.View.design(CW.TouchApproximation,{classNames:"admin-task-list-item".w(),childViews:"smallIcon displayOrDeviceName secondaryInformation updatedAtFormattedString".w(),smallIcon:SC.ImageView.design({layout:{centerY:-3,left:5,width:16,height:16},isDecorative:YES,value:function(){return this.get("selectionIsTask")?this.get("smallDeviceIcon"):this.get("smallIcon")}.property("smallDeviceIcon","smallIcon","selectionIsTask"),smallDeviceIconBinding
:".owner.content.smallDeviceIcon",smallIconBinding:".owner.content.smallIcon",selectionIsTaskBinding:"Admin.itemSelectionController.isTask"}),displayOrDeviceName:SC.LabelView.design({layout:function(){return this.get("selectionIsTask")?{centerY:0,left:26,right:180+parseFloat("_layout_task_list_item_view_secondary_information_width".loc()),height:20}:{centerY:0,left:26,width:.34,height:20}}.property("selectionIsTask"),isDecorative:YES,value:function(){return this.get("selectionIsTask")?this.get("deviceName"):this.get("displayName")}.property("deviceName","displayName","isTask"),deviceNameBinding:".owner.content.deviceName",displayNameBinding:".owner.content.displayName",selectionIsTaskBinding:"Admin.itemSelectionController.isTask"}),secondaryInformation:SC.LabelView.design({layout:function(){return this.get("selectionIsTask")?{centerY:0,width:parseFloat("_layout_task_list_item_view_secondary_information_width".loc()),right:170,height:20}:{centerY:0,width:.34,right:170,height:20}}.property("selectionIsTask"),isDecorative:YES,valueBinding:".owner.content.secondaryInformation",selectionIsTaskBinding:"Admin.itemSelectionController.isTask",textAlign:SC.ALIGN_RIGHT}),updatedAtFormattedString:SC.LabelView.design({layout:{centerY:0,width:parseFloat("_layout_task_list_item_view_updated_at_width".loc()),right:10,height:20},isDecorative:YES,valueBinding:".owner.content.updatedAtFormattedString"})}),Admin.DoubleDividerView=SC.View.extend({childViews:"dark light".w(),dark:SC.SplitDividerView.design({classNames:["admin-double-divider-dark"],layout:{top:0,height:1}}),light:SC.SplitDividerView
.design({classNames:["admin-background-color-white"],layout:{bottom:0,height:1}})}),Admin.TargetTasksTableView=SCTable.TableView.extend({classNames:"sctable-table-view medium-row-height admin-vpp-content-picker-list".w(),rowHeight:35,headerHeight:17,columnsBinding:SC.Binding.oneWay("Admin.TargetTasksTableViewColumnsController.arrangedObjects"),contentBinding:SC.Binding.oneWay("Admin.TargetTasksTableViewController.arrangedObjects"),selectionBinding:"Admin.TargetTasksTableViewController.selection",showAlternatingRows:YES,canReorderColumns:NO,sort:{valueKey:"name",direction:SCTable.SORT_DIRECTION_ASCENDING}}),Admin.TitleBarView=SC.View.extend({classNames:["admin-toolbar-view","toolbar"],layout:{top:0,left:0,right:0,height:43},anchorLocation:SC.ANCHOR_TOP,childViews:["icon","titleLabel","searchFieldContainer","searchFieldSpinner","searchFieldTip","userDropdownMenu"],icon:Admin.ImageView.design({layout:{centerY:0,left:7,width:32,height:32},value:"admin-toolbar-title-icon"}),titleLabel:SC.LabelView.design({layout:{left:45,centerY:0,width:200,height:25},classNames:"title",value:"_appName".loc()}),searchFieldContainer:SC.View.design({layout:{left:0+parseFloat("_admin_sidebar_default_and_min_thickness".loc()),width:200},sidebarWidthDidChange:function(){this.adjust("left",Admin.sidebarController.get("topLeftThickness"))}.observes("Admin.sidebarController.topLeftThickness"),childViews:"searchFieldImage searchFieldDisabledImage searchField searchFieldCancelButton".w(),sidebarContentTypeBinding:"Admin.sidebarSelectionController.contentType",searchFieldEnabled:function(e,t){return!["apps"
,"books","auto_join_profile"].contains(this.get("sidebarContentType"))}.property("sidebarContentType").cacheable(),searchFieldImage:SC.ImageView.design({layout:{right:1,centerY:0,width:190,height:24},value:"admin-toolbar-search-box",isVisibleBinding:".owner.searchFieldEnabled"}),searchFieldDisabledImage:SC.ImageView.design({layout:{right:1,centerY:0,width:190,height:24},value:"admin-toolbar-search-box-disabled",isVisibleBinding:SC.Binding.not(".owner.searchFieldEnabled")}),searchField:SC.TextFieldView.design({classNames:"admin-toolbar-search-field".w(),themeName:"blank",applyImmediately:NO,autoCorrect:NO,shouldRenderBorder:NO,layout:{width:159,height:28,centerY:0,right:11},isEnabledBinding:".owner.searchFieldEnabled",hint:function(){var e=this.get("sidebarSelectionDisplayName");return!e||!this.get("isEnabled")?"_search_disabled_hint".loc():"_search_type_hint".loc(e)}.property("sidebarSelectionDisplayName","isEnabled").cacheable(),keyUp:function(e){e.keyCode===SC.Event.KEY_RETURN&&this.fieldValueDidChange(),arguments.callee.base.apply(this,arguments)},sidebarSelectionDisplayNameBinding:"Admin.sidebarSelectionController.displayNameFromNestedStore",valueBinding:"Admin.filteredItemsController.searchString"}),searchFieldCancelButton:SC.ButtonView.design({layout:{width:15,height:15,centerY:0,right:5},isVisibleBinding:".owner.searchField.value",renderStyle:"renderImage",themeName:"blank",icon:"admin-toolbar-search-field-cancel-button",action:function(){this.getPath("owner.searchField").set("value","").commitEditing()}})}),searchFieldSpinner:Admin.SpinnerView.design({layout:{left:200+
parseFloat("_admin_sidebar_default_and_min_thickness".loc()),centerY:0,width:32,height:32},forDarkBackground:YES,isVisibleBinding:"Admin.filteredItemsController.isWaitingForSearch"}),searchFieldTip:SC.LabelView.design({layout:{left:210+parseFloat("_admin_sidebar_default_and_min_thickness".loc()),width:200,height:12,centerY:0},classNames:["admin-field-view-tip"],value:function(){var e=this.get("itemListLength"),t=e>Admin.DIRECTORY_ITEM_LIST_MAX_RESULTS,n="_generic_string_200+ found (200 displayed)".loc(t?Admin.DIRECTORY_ITEM_LIST_MAX_RESULTS:e);return this.get("searchString").length>0&&!t&&(n="_generic_string_<count> found".loc(e)),n}.property("itemListLength","searchString").cacheable(),isVisible:function(){var e=NO;return this.get("isDirectoryItem")&&(e|=this.get("searchString").length>0,e|=this.get("itemListLength")>Admin.DIRECTORY_ITEM_LIST_MAX_RESULTS,e|=!(this.get("odSyncMode")&2)),e=e&&!this.get("isWaitingForSearch"),e}.property("isDirectoryItem","itemListLength","isWaitingForSearch","searchString").cacheable(),ariaLiveObserver:function(){this.get("isVisible")&&Admin.AriaLiveContainer.update(this.get("value"))}.observes("isVisible","value"),isDirectoryItemBinding:"Admin.itemSelectionController.isDirectoryItem",itemListLengthBinding:"Admin.itemListController.length",isWaitingForSearchBinding:"Admin.filteredItemsController.isWaitingForSearch",searchStringBinding:"Admin.filteredItemsController.searchString",odSyncModeBinding:"Admin.SettingsController.odSyncMode"}),userDropdownMenu:SC.PopupButtonView.design(SC.AutoResize,{classNames:"admin-user-dropdown-menu".w(),layout:{centerY
:0,right:5,height:24,minWidth:100},titleBinding:"Admin*me.displayName",menu:SC.MenuPane.extend({layout:{width:0+parseFloat("_user_dropdown_menu_width".loc())},preferType:SC.PICKER_MENU_POINTER,items:function(){var e=NO,t=Admin.get("settings");return t&&(!t.get("ssl_cert_is_trusted")||!t.get("signing_cert_is_trusted"))&&(e=YES),e?[{title:"_generic_string_Go to My Devices".loc(),isEnabled:YES,target:"Admin",action:"goToPortal",disableMenuFlash:YES},{title:"_generic_string_Download Trust Profile".loc(),isEnabled:YES,target:"Admin",action:"showRootCertPanel"},{separator:YES},{title:"_generic_string_Help".loc(),isEnabled:YES,target:"Admin",action:"goToHelp",disableMenuFlash:YES},{separator:YES},{title:"_generic_string_Log Out".loc(),isEnabled:YES,target:"Admin",action:"logout"}]:[{title:"_generic_string_Go to My Devices".loc(),isEnabled:YES,target:"Admin",action:"goToPortal",disableMenuFlash:YES},{separator:YES},{title:"_generic_string_Help".loc(),isEnabled:YES,target:"Admin",action:"goToHelp",disableMenuFlash:YES},{separator:YES},{title:"_generic_string_Log Out".loc(),isEnabled:YES,target:"Admin",action:"logout"}]}.property("settingsObj"),settingsObjBinding:"Admin*settings"}),themeName:"dropdown"})}),Admin.TruncatedIndicatorView=SC.View.extend({classNames:"truncated-indicator-view".w(),layout:{height:52},childViews:"helper".w(),helper:SC.LabelView.design({layout:{centerY:0,height:30,left:50,right:50},textAlign:SC.ALIGN_CENTER,value:"_truncated_indicator_view_helper".loc()})}),Admin.TruncatedIndicatorForMembersPickerExampleView=Admin.MembersPickerExampleView.extend({childViews:"helper"
.w(),helper:SC.LabelView.design({layout:{centerY:0,height:15,left:50,right:50},textAlign:SC.ALIGN_CENTER,value:"_truncated_indicator_view_helper".loc()})}),Admin.VppContentFilterBarView=SC.View.extend({selectedLicense:"all",selectedKind:"all_kinds",categoryFilterMenu:"",categoryFilterTitle:"",searchString:"",searchHint:"",includeKindFilter:YES,classNames:"admin-content-library-filter-bar",layout:{height:29,left:0},childViews:function(){var e=["categoryFilter","appsSearchBoxView"];return this.get("includeKindFilter")&&e.push("kindsFilter"),e}.property("includeKindFilter").cacheable(),categoryFilterWidth:130,categoryFilter:SC.PopupButtonView.design(SC.AutoResize,{classNames:"admin-content-library-filter-bar-popup-button",themeName:"blank",layout:{top:2},measuredSizeObserver:function(){var e=this.get("measuredSize");this.setPath("owner.categoryFilterWidth",e.width)}.observes("measuredSize"),titleBinding:".owner.categoryFilterTitle",menuBinding:".owner.categoryFilterMenu"}),kindsFilterWidth:90,kindsFilter:SC.PopupButtonView.design(SC.AutoResize,{classNames:"admin-content-library-filter-bar-popup-button",themeName:"blank",categoryFilterWidthBinding:".owner.categoryFilterWidth",categoryFilterWidthObserver:function(){this.adjust("left",this.get("categoryFilterWidth")+20)}.observes("categoryFilterWidth"),layout:{top:2},measuredSizeObserver:function(){var e=this.get("measuredSize");this.setPath("owner.kindsFilterWidth",e.width)}.observes("measuredSize"),title:"_application_filter_type_string_All Kinds".loc(),selectedItemObserver:function(){var e=this.menu.get("selectedItem"),t=e?e.get
("title"):"_application_filter_type_string_All Kinds".loc(),n=e?e.get("type"):"all";this.set("title",t),this.get("owner").set("selectedKind",n)}.observes(".menu.selectedItem"),menu:SC.MenuPane.design({layout:{width:200},items:[SC.Object.create({title:"_application_filter_type_string_All Kinds".loc(),type:"all_kinds"}),SC.Object.create({title:"_application_filter_type_string_iOS".loc(),type:"ios"}),SC.Object.create({title:"_application_filter_type_string_OSX".loc(),type:"mac"})]})}),appsSearchBoxView:SC.View.design({layout:{right:25,width:200},childViews:"searchFieldImage searchField searchFieldCancelButton".w(),searchFieldImage:SC.ImageView.design({layout:{right:1,top:6,width:190,height:20},value:"admin-filterbar-search-box-2x"}),searchFieldDisabledImage:SC.ImageView.design({layout:{right:1,centerY:0,width:190,height:24},value:"admin-toolbar-search-box-disabled"}),searchField:SC.TextFieldView.design({classNames:"admin-toolbar-search-field admin-filterbar-search-field".w(),themeName:"blank",applyImmediately:YES,layout:{width:159,height:16,top:7,right:11},hintBinding:".owner.owner.searchHint",value:function(e,t){return t!==undefined&&this.getPath("owner.owner").set("searchString",t.trimLeft()),this.getPath("owner.owner").get("searchString")}.property()}),searchFieldCancelButton:SC.ButtonView.design({layout:{width:15,height:15,top:8,right:5},isVisibleBinding:".owner.searchField.value",renderStyle:"renderImage",themeName:"blank",icon:"admin-filterbar-search-field-cancel-button-2x",action:function(){this.getPath("owner.searchField").set("value","").commitEditing()}})})}),Admin.DirectoryItemPickerContentViewHeight=480
,Admin.DirectoryItemPickerContentView=SC.View.extend({headerIcon:"admin-icon-user-group-64",headerLabelText:"_generic_string_choose_vpp_enabled_groups".loc(),headerDescriptionText:"_assign_user_groups_to_app_description".loc(),listContent:null,cancelAction:"hideDirectoryItemPicker",saveAction:"assignVppContentToUserGroups",tableViewColumns:[SC.Object.create(SCTable.Column,{name:"",valueKey:"checkbox",width:.1,canResize:NO}),SC.Object.create(SCTable.Column,{name:"_generic_string_User Group".loc(),valueKey:"displayName",width:.6,canResize:NO}),SC.Object.create(SCTable.Column,{name:"_generic_string_Users".loc(),valueKey:"totalUsers",width:.3,canResize:NO})],searchString:"",searchHint:"",noItemViewVisible:NO,isTruncationIndicator:NO,useStaticLayout:YES,childViews:["headerView","filterBarView","groupsListView","actionButtonsView"],classNames:["admin-directory-item-picker"],headerView:SC.View.design({classNames:["admin-margin-top-20"],useStaticLayout:YES,layout:{height:80},childViews:["headerIcon","headerLabelView","descriptionView"],headerIcon:SC.ImageView.design({layout:{width:64,height:64},useCanvas:NO,valueBinding:".owner.owner.headerIcon"}),headerLabelView:Admin.BoldLabelViewAbsolute.extend({layout:{height:20,left:79},valueBinding:".owner.owner.headerLabelText"}),descriptionView:SC.LabelView.extend({layout:{height:50,left:79,top:20,right:50},valueBinding:".owner.owner.headerDescriptionText"})}),filterBarView:SC.View.design({classNames:["admin-content-library-filter-bar","admin-filter-bar-all-borders"],useStaticLayout:YES,layout:{height:27},searchStringBinding:".owner.searchString"
,searchHintBinding:".owner.searchHint",childViews:["searchBoxTip","searchBoxView"],searchBoxTip:SC.LabelView.design(SC.AutoResize,{layout:{top:8,right:215,height:14},classNames:["admin-content-library-filter-bar-tip"],shouldResizeWidth:YES,shouldResizeHeight:NO,value:function(){var e=this.get("contentLength"),t="_generic_string_<count> found".loc(e);return e>Admin.DIRECTORY_ITEM_LIST_MAX_RESULTS&&(t="_generic_string_200+ found (200 displayed)".loc(Admin.DIRECTORY_ITEM_LIST_MAX_RESULTS)),t}.property("contentLength").cacheable(),contentLengthBinding:".owner.owner*listContent.length"}),searchBoxView:SC.View.design({layout:{right:25,width:200},childViews:"searchFieldImage searchField searchFieldCancelButton".w(),searchFieldImage:SC.ImageView.design({layout:{right:1,top:6,width:190,height:20},value:"admin-filterbar-search-box-2x"}),searchFieldDisabledImage:SC.ImageView.design({layout:{right:1,centerY:0,width:190,height:24},value:"admin-toolbar-search-box-disabled"}),searchField:SC.TextFieldView.design({classNames:"admin-toolbar-search-field admin-filterbar-search-field".w(),themeName:"blank",applyImmediately:YES,layout:{width:159,height:16,top:7,right:11},hintBinding:".owner.owner.searchHint",value:function(e,t){return t!==undefined&&this.getPath("owner.owner").set("searchString",t.trimLeft()),this.getPath("owner.owner").get("searchString")}.property()}),searchFieldCancelButton:SC.ButtonView.design({layout:{width:15,height:15,top:8,right:5},searchFieldValueBinding:".owner.searchField.value",isVisible:function(e,t){if(t!==undefined)throw SC.$error("isVisible is ready only for %@".
fmt(this.constructor));return!!this.get("searchFieldValue")}.property("searchFieldValue").cacheable(),renderStyle:"renderImage",themeName:"blank",icon:"admin-filterbar-search-field-cancel-button-2x",action:function(){this.getPath("owner.searchField").set("value","").commitEditing()}})})}),groupsListView:SC.View.design({useStaticLayout:YES,layout:{height:300},childViews:["tableView","noItemView"],noItemView:Admin.NoItemView.design({layout:{top:18,left:1,right:1,bottom:1},isVisibleBinding:SC.Binding.oneWay(".owner.owner.noItemViewVisible"),contentTypeBinding:".owner.owner.contentType",isTruncationIndicatorBinding:".owner.owner.isTruncationIndicator",searchStringBinding:".owner.owner.searchString"}),tableView:SCTable.TableViewNoFastPath.design(SC.Border,{useStaticLayout:YES,layout:{height:300},classNames:"sctable-table-view small-row-height admin-vpp-assign-user-group-list-view".w(),headerHeight:17,rowHeight:20,columnsBinding:".owner.owner.tableViewColumns",contentBinding:".owner.owner.listContent",showAlternatingRows:YES,canReorderColumns:NO})}),actionButtonsView:SC.View.design({useStaticLayout:YES,layout:{height:27},classNames:["admin-margin-top-15"],childViews:["cancelButtonView","okButtonView"],cancelButtonView:SC.ButtonView.design(SC.AutoResize,{layout:{right:0+parseFloat("_layout_pane_cancel_button_offset_right".loc()),minWidth:70,height:27},title:"_generic_string_Cancel".loc(),target:"Admin",actionBinding:".owner.owner.cancelAction"}),okButtonView:SC.ButtonView.design(SC.AutoResize,{layout:{right:30,minWidth:70,height:27},title:"_generic_string_OK".loc(),target:"Admin",actionBinding
:".owner.owner.saveAction"})})}),Admin.VppContentAssignedToListItemView=SC.ListItemView.extend({renderRightIcon:function(e,t){var t=t===null?this.get("rightIcon"):t;arguments.callee.base.apply(this,arguments)},renderIcon:function(e,t){var n=null,r=null,i=[];t&&SC.ImageView.valueIsUrl(t)?(n=t,r=""):(r=t,n=SC.BLANK_IMAGE_URL),i.push(r,"icon"),i.push("admin-size-16-16"),e.begin("img").addClass(i).attr("src",n).end()}}),Admin.VppLicenseCountWithLabelView=SC.View.extend({licenseCount:0,label:"",classNames:"app-detail-total-license-info".w(),layout:function(e,t){if(t!==undefined)throw SC.$error("layout is ready only for %@".fmt(this.constructor));return{left:0,width:this.get("measuredWidth")}}.property("measuredWidth").cacheable(),measuredWidth:75,childViews:"totalLicenseCountView licensesLabelView".w(),totalLicenseCountView:SC.LabelView.design(SC.AutoResize,{classNames:"app-detail-license-count".w(),layout:{left:0,top:0,minWidth:75},measuredSizeObserver:function(){var e=this.get("measuredSize").width+10,t=e>75?e:75;this.setPath("owner.measuredWidth",t)}.observes("measuredSize"),valueBinding:SC.Binding.oneWay(".owner.licenseCount")}),licensesLabelView:SC.LabelView.design({classNames:"app-detail-license-text".w(),layout:{left:0,bottom:0,height:20},valueBinding:SC.Binding.oneWay(".owner.label")})}),Admin.TaskIconMixin={getIconForTaskType:function(e,t){switch(e){case"DeviceLock":return"task_icon_lock_%@".fmt(t);case"Wipe":return"task_icon_wipe_%@".fmt(t);case"EraseDevice":return"task_icon_wipe_%@".fmt(t);case"ClearPasscode":return"task_icon_clear_passcode_%@".fmt(t);case"UpdateInformation"
:return"task_icon_update_info_%@".fmt(t);case"InstallProfile":return"task_icon_push_settings_%@".fmt(t);case"RemoveProfile":return"task_icon_remove_settings_%@_2x".fmt(t);case"SendVPPInvitation":return"task_icon_send_vpp_invite_%@_2x".fmt(t);case"RemoveMDM":return"task_icon_remove_device_%@_2x".fmt(t);case"EnrollDevice":return"task_icon_enroll_device_%@_2x".fmt(t);case"PushApplications":return"task_icon_push_apps_%@_2x".fmt(t);case"RemoveApplications":return"task_icon_remove_apps_%@_2x".fmt(t);case"InstallMedia":return"task_icon_push_books_%@_2x".fmt(t);case"RemoveMedia":return"task_icon_remove_books_%@_2x".fmt(t);case"AllowActivationLock":return"task_icon_allow_activation_lock_%@_2x".fmt(t);case"RemoveActivationLock":return"task_icon_remove_activation_lock_%@_2x".fmt(t);case"RequestMirroring":return"task_icon_request_airplay_mirroring_%@_2x".fmt(t);case"StopMirroring":return"task_icon_stop_airplay_mirroring_%@_2x".fmt(t);case"ClearRestrictionsPassword":return"task_icon_clear_restrictions_passcode_%@_2x".fmt(t);case"SetDeviceName":return"task_icon_rename_%@_2x".fmt(t);case"DEPUpdateProfile":return"task_icon_update_dep_profile_%@_2x".fmt(t);default:return console.warn("Unknown Task Type: "+this.get("taskType")),""}}},Admin.AboutCheckboxItem=SC.Object.extend({contentExampleView:Admin.AboutInfoCheckboxView}),Admin.AboutInfoItem=SC.Object.extend({contentExampleView:Admin.AboutInfoItemView}),Admin.AutoJoinProfile=Admin.Record.extend({primaryKey:"id",isAutoJoinProfile:YES,isProfileOrAutoJoinProfile:YES,canMakeChanges:YES,smallIcon:"admin-icon-auto-join-profile-16",largeIcon:"admin-icon-auto-join-profile-64"
,exampleView:SC.ListItemView.design({outlineIndent:6}),usageLog:SC.Record.attr(Array,{key:"usage_log"}),usageLogThatCanBeBoundTo:function(e,t){if(t!==undefined)throw SC.$error("read only!");var n=[],r=this.get("usageLog");if(!r)return[];for(var i=0,s=r.length;i<s;i++)n.push(SC.Object.create(r[i]));return n}.property("usageLog"),isWildcard:SC.Record.attr(Boolean,{isRequired:YES,defaultValue:NO,key:"is_wildcard"}),isWildcardFromNestedStoreBinding:".thisFromNestedStore.isWildcard",isNotWildcardFromNestedStore:function(e,t){return t!==undefined&&this.set("isWildcardFromNestedStore",!t),!this.get("isWildcardFromNestedStore")}.property("isWildcardFromNestedStore"),name:SC.Record.attr(String,{isRequired:YES,defaultValue:"_default_auto_join_profile_name".loc()}),secondaryInformation:function(e,t){if(t!==undefined)throw SC.$error("read only!");var n=this.getPath("usageLog.length")||0;if(!n)return"_auto_join_profile_secondary_information_zero_times".loc();var r=this.get("lastUsedOn");return n===1?"_auto_join_profile_secondary_information_one_time".loc(r):"_auto_join_profile_secondary_information".loc(n,r)}.property("usageLog"),lastUsedOn:function(e,t){if(t!==undefined)throw SC.$error("read only!");var n=this.get("usageLog"),r="";if(!n)return"";for(var i=0,s=n.length;i<s;i++){var o=n[i].created_at;r<o&&(r=o)}return SC.DateTime.parse(r,SC.DateTime.recordFormat).toTimezone(Admin.TIMEZONE).toFormattedString("_task_updated_at_formatted_string".loc())}.property("usageLog"),displayNameFromNestedStoreBinding:".thisFromNestedStore.displayName",thisFromNestedStore:function(e,t){return Admin.get
("itemSelectionNestedStore").find(this)}.property().cacheable()}),Admin.LibraryItem=Admin.Record.extend({membersPickerExampleView:Admin.MembersPickerExampleView,isLibraryItem:YES,assignedApplications:SC.Record.attr(Array,{key:"apps"}),appAssignmentData:SC.Record.attr(Array,{key:"app_data"}),assignedBooks:SC.Record.attr(Array,{key:"books"}),bookAssignmentData:SC.Record.attr(Array,{key:"book_data"}),depProfile:SC.Record.attr(Object,{key:"dep_profile"}),enableCloudConfig:function(e,t){return t!==undefined&&(t?this.set("depProfile",{}):this.set("depProfile",null)),this.get("depProfile")!==null}.property("depProfile").cacheable(),preventUnenrollment:function(e,t){var n=SC.clone(this.get("depProfile"),YES)||{};return t!==undefined&&(n.is_supervised=t,n.is_mdm_removable=!t,this.set("depProfile",n)),n.is_mdm_removable!==undefined&&!n.is_mdm_removable}.property("depProfile"),isDEPSupervised:function(e,t){var n=SC.clone(this.get("depProfile"),YES)||{};return t!==undefined&&(n.is_supervised=t,this.set("depProfile",n),t||this.set("allowPairing",YES)),n.is_supervised}.property("depProfile"),requireEnrollment:function(e,t){var n=SC.clone(this.get("depProfile"),YES)||{};return t!==undefined&&(n.is_mandatory=t,this.set("depProfile",n)),n.is_mandatory!==undefined?n.is_mandatory:NO}.property("depProfile"),allowPairing:function(e,t){var n=SC.clone(this.get("depProfile"),YES)||{};return t!==undefined&&(n.allow_pairing=t,this.set("depProfile",n)),n.allow_pairing!==undefined?n.allow_pairing:YES}.property("depProfile"),requireCredentials:function(e,t){var n=SC.clone(this.get("depProfile"),YES)||{}
;return t!==undefined&&(n.__SKIP_USER_AUTH=!t,this.set("depProfile",n)),n.__SKIP_USER_AUTH!==undefined?!n.__SKIP_USER_AUTH:YES}.property("depProfile"),_skipSetupItems:function(e,t){var n=SC.clone(this.get("depProfile"),YES)||{};return t!==undefined&&(n.skip_setup_items=t,this.set("depProfile",n)),n.skip_setup_items}.property("depProfile"),_getOrSetSkipSetupItem:function(e,t,n){var r=this.get("_skipSetupItems")||[];return t!==undefined&&(t&&r.contains(n)?r.removeObject(n):r.pushObject(n),this.set("_skipSetupItems",r)),!r.contains(n)},skipLocationServices:function(e,t){return this._getOrSetSkipSetupItem(e,t,"Location")}.property("_skipSetupItems"),skipiCloud:function(e,t){return this._getOrSetSkipSetupItem(e,t,"AppleID")}.property("_skipSetupItems"),tos:function(e,t){return this._getOrSetSkipSetupItem(e,t,"TOS")}.property("_skipSetupItems"),skipRestore:function(e,t){return this._getOrSetSkipSetupItem(e,t,"Restore")}.property("_skipSetupItems"),skipSiri:function(e,t){return this._getOrSetSkipSetupItem(e,t,"Siri")}.property("_skipSetupItems"),skipDisplayZoom:function(e,t){return this._getOrSetSkipSetupItem(e,t,"Zoom")}.property("_skipSetupItems"),skipDiagnostics:function(e,t){return this._getOrSetSkipSetupItem(e,t,"Diagnostics")}.property("_skipSetupItems"),skipTouchID:function(e,t){return this._getOrSetSkipSetupItem(e,t,"Biometric")}.property("_skipSetupItems"),skipPasscodeLock:function(e,t){return this._getOrSetSkipSetupItem(e,t,"Passcode")}.property("_skipSetupItems"),skipApplePay:function(e,t){return this._getOrSetSkipSetupItem(e,t,"Payment")}.property("_skipSetupItems"),skipRegistration
:function(e,t){return this._getOrSetSkipSetupItem(e,t,"Registration")}.property("_skipSetupItems"),skipFileVault:function(e,t){return this._getOrSetSkipSetupItem(e,t,"FileVault")}.property("_skipSetupItems")}),Admin.ProductNameToDeviceTypeMixin={productNameToDeviceType:function(e){var t,n;if(!SC.none(e)){n=e.toLowerCase();if(Admin.validDevices.indexOf(n)>=0)t=n;else{var r=n.split(/\d/)[0];Admin.validDevices.indexOf(r)>=0&&(t=r)}if(!t){var i=n;n.indexOf("mac")>-1?(i=n.split(/\d/)[0],i=i.replace(/\s/g,""),i==="mac"&&(i="macintosh")):i=n.split(/\s/)[0],Admin.validDevices.indexOf(i)>=0&&(t=i)}}return t}},Admin.Device=Admin.LibraryItem.extend(Admin.ProductNameToDeviceTypeMixin,{primaryKey:"id",isDevice:YES,progressStep:SC.Record.attr(Number,{key:"progress_step"}),isMac:SC.Record.attr(Boolean,{key:"is_mac"}),isAppleTV:function(e,t){if(t!==undefined)throw SC.$error("isAppleTV property on devices is read only!");var n=this.get("productName");return!!(n&&n.indexOf("AppleTV")>-1)}.property("productName").cacheable(),mdmACL:SC.Record.attr(Number,{key:"mdm_acl"}),doesSupportEnterpriseApps:function(){return this.get("mdmACL")&&(this.get("mdmACL")&4096)===4096}.property("mdmACL").cacheable(),name:SC.Record.attr(String,{isRequired:YES,defaultValue:"_generic_string_New Device".loc(),key:"DeviceName"}),displayNameFromNestedStore:function(){return this.get("displayName")}.property("displayName"),enrollmentState:SC.Record.attr(String,{key:"enrollment_state"}),isPlaceholderDevice:function(){return["placeholder","unenrollment_pending"].contains(this.get("enrollmentState"))}.property("enrollmentState"
),isUnenrollmentPending:function(){return this.get("enrollmentState")==="unenrollment_pending"}.property("enrollmentState"),isWipePending:function(){return this.get("enrollmentState")==="wipe_pending"}.property("enrollmentState"),deviceType:SC.Record.attr(String,{key:"ModelName"}),iOSDevice:function(){return!this.get("isMac")}.property("isMac").cacheable(),modelNumber:SC.Record.attr(String,{key:"Model"}),udid:SC.Record.attr(String,{key:"udid",isRequired:YES,defaultValue:""}),user:SC.Record.toOne("Admin.User",{key:"user_id",inverse:"members",isMaster:NO}),productName:SC.Record.attr(String,{key:"ProductName"}),lastCheckinTime:SC.Record.attr(SC.DateTime,{key:"last_checkin_time"}),capacity:SC.Record.attr(String,{key:"DeviceCapacity"}),displayedCapacity:function(){var e=this.get("capacity"),t="";if(e){var n=parseFloat(e.split(" ")[0]);isNaN(n)||(this.get("iOSDevice")?t=n.toFixed(1):t=(n*1.074).toFixed(1))}return t}.property("capacity","iOSDevice").cacheable(),softwareVersion:SC.Record.attr(String,{key:"OSVersion"}),isiOS7OrLater:function(e,t){if(t!==undefined)throw SC.$error("isiOS7OrLater is ready only for %@".fmt(this.constructor));var n=/[7-9]\..*/,r=/[1-9][0-9]\..*/,i=this.get("softwareVersion"),s=!this.get("isMac");return s&&(n.test(i)||r.test(i))}.property("softwareVersion","isMac").cacheable(),isiOS8OrLater:function(e,t){if(t!==undefined)throw SC.$error("isiOS8OrLater is ready only for %@".fmt(this.constructor));var n=/[8-9]\..*/,r=/[1-9][0-9]\..*/,i=this.get("softwareVersion"),s=!this.get("isMac");return s&&(n.test(i)||r.test(i))}.property("softwareVersion","isMac").cacheable
(),isOSX1010OrLater:function(e,t){if(t!==undefined)throw SC.$error("isOSX1010OrLater is ready only for %@".fmt(this.constructor));return this.get("isMac")&&/10\.[1-9][0-9].*/.test(this.get("softwareVersion"))}.property("softwareVersion","isMac").cacheable(),isOSX1094OrLater:function(e,t){if(t!==undefined)throw SC.$error("isOSX1094OrLater is ready only for %@".fmt(this.constructor));return this.get("isMac")&&(/10\.9\.4/.test(this.get("softwareVersion"))||this.get("isOSX1010OrLater"))}.property("softwareVersion","isMac","isOSX1010OrLater").cacheable(),serialNumber:SC.Record.attr(String,{key:"SerialNumber"}),bluetoothMac:SC.Record.attr(String,{key:"BluetoothMAC"}),wiFiMac:SC.Record.attr(String,{key:"WiFiMAC"}),ethernetMac:SC.Record.attr(String,{key:"EthernetMAC"}),modemFirmwareVersion:SC.Record.attr(String,{key:"ModemFirmwareVersion"}),buildVersion:SC.Record.attr(String,{key:"BuildVersion"}),simCarrierNetwork:SC.Record.attr(String,{key:"SIMCarrierNetwork"}),currentCarrierNetwork:SC.Record.attr(String,{key:"CurrentCarrierNetwork"}),carrierSettingsVersion:SC.Record.attr(String,{key:"CarrierSettingsVersion"}),phoneNumber:SC.Record.attr(String,{key:"PhoneNumber"}),iccid:SC.Record.attr(String,{key:"ICCID"}),imei:SC.Record.attr(String,{key:"IMEI"}),meid:SC.Record.attr(String,{key:"MEID"}),_batteryLevel:SC.Record.attr(String,{key:"BatteryLevel"}),isSupervised:SC.Record.attr(Boolean,{key:"IsSupervised"}),personalHotspotEnabled:SC.Record.attr(Boolean,{key:"PersonalHotspotEnabled"}),isDoNotDisturbInEffect:SC.Record.attr(Boolean,{key:"IsDoNotDisturbInEffect"}),isiTunesStoreAccountActive:SC
.Record.attr(Boolean,{key:"iTunesStoreAccountIsActive"}),isCloudBackupEnabled:SC.Record.attr(Boolean,{key:"IsCloudBackupEnabled"}),lastCloudBackupDateString:SC.Record.attr(String,{key:"LastCloudBackupDate"}),formattedBatteryLevel:function(){if(!this.get("_batteryLevel"))return;return Math.floor(parseFloat(this.get("_batteryLevel"))*100)+"%"}.property("_batteryLevel"),availableDeviceCapacity:SC.Record.attr(String,{key:"AvailableDeviceCapacity"}),displayedAvailableDeviceCapacity:function(){var e=this.get("availableDeviceCapacity"),t="";if(e){var n=parseFloat(e.split(" ")[0]);isNaN(n)||(this.get("iOSDevice")?t=n.toFixed(1):t=(n*1.074).toFixed(1))}return t}.property("availableDeviceCapacity","iOSDevice").cacheable(),_securityInfo:SC.Record.attr(Object,{key:"SecurityInfo"}),hardwareEncryptionCaps:function(e,t){return this.packUnpackProperty("_securityInfo","HardwareEncryptionCaps",t)}.property("securityInfo"),passcodeCompliantWithProfiles:function(e,t){return this.packUnpackProperty("_securityInfo","PasscodeCompliantWithProfiles",t)}.property("securityInfo"),passcodeCompliant:function(e,t){return this.packUnpackProperty("_securityInfo","PasscodeCompliant",t)}.property("securityInfo"),passcodePresent:function(e,t){return this.packUnpackProperty("_securityInfo","PasscodePresent",t)}.property("securityInfo"),fileVaultEnabled:function(e,t){return this.packUnpackProperty("_securityInfo","FDE_Enabled",t)}.property("securityInfo"),fileVaultHasPersonalRecoveryKey:function(e,t){return this.packUnpackProperty("_securityInfo","FDE_HasPersonalRecoveryKey",t)}.property("securityInfo"),fileVaultHasInstitutionalRecoveryKey
:function(e,t){return this.packUnpackProperty("_securityInfo","FDE_HasInstitutionalRecoveryKey",t)}.property("securityInfo"),isActivationLockEnabled:SC.Record.attr(Boolean,{key:"IsActivationLockEnabled"}),isDeviceLocatorServiceEnabled:SC.Record.attr(Boolean,{key:"IsDeviceLocatorServiceEnabled"}),activationLockBypassCode:SC.Record.attr(String,{key:"activation_lock_bypass_code"}),hasActivationLockBypassCode:function(){var e=this.get("activationLockBypassCode");return e&&e.length>0}.property("activationLockBypassCode").cacheable(),certificateList:SC.Record.attr(Array,{key:"CertificateList"}),certificateListCompatibleWithCertificateInfoItemView:function(e,t){if(t!==undefined)throw SC.$error("Read only!");var n=SC.clone(this.get("certificateList")),r=[];if(!n)return r;for(var i=0,s=n.length;i<s;i++){var o=n[i];o.certDataSubjectName=o.CommonName,o.certDataIsRootIcon=o.is_root?"admin-icon-certificate-root":"admin-icon-certificate-standard",o.certDataIsIdentity=!!o.is_identity;var u=o.metadata;if(u){var a=u.issuer;a&&(a=a.split("/CN=")[1],a&&(a=a.split("/")[0]));if(!a||a.length===0)a="_certificate_issued_by_unknown".loc();o.certDataIssuedBy="_generic_string_Issued by: %@1".loc(a)}o.not_after&&(o.certDataNotAfter=Admin.createDateTimeFromString(o.not_after).toFormattedString("_generic_string_Expires: %A, %B %D, %Y %i:%M:%S %p %Z".loc())),o.contentExampleView=Admin.CertificateInfoItemView,r.push(SC.Object.create(o))}return r}.property("certificateList").cacheable(),_profileList:SC.Record.attr(Array,{key:"ProfileList"}),profileList:function(e,t){function o(e){s=e}if(t!==undefined)throw SC
.$error("read only");var n=this.get("_profileList"),r=[],i,s;if(!n)return[];for(var u=0,a=n.length;u<a;u++){i=SC.Object.create(n[u]),i.knobSetTypesUsed=[],i.displayName=i.PayloadDisplayName,i.smallIcon=i.IsManaged?Admin.ICON_PROFILE_MANAGED_SMALL:Admin.ICON_PROFILE_SMALL;if(!i.PayloadContent)continue;for(var f=0,l=i.PayloadContent.length;f<l;f++){s=i.PayloadContent[f];switch(s.PayloadType){case"com.apple.security.pkcs12":o(Admin.CertificateKnobSet);break;case"com.apple.security.root":o(Admin.CertificateKnobSet);break;case"com.apple.security.pkcs1":o(Admin.CertificateKnobSet);break;case"com.apple.mdm":s.displayName="_generic_string_MDM".loc(),s.largeIcon="admin-mdm-knob-set-large-icon";break;case"com.apple.profileRemovalPassword":s.displayName="_installed_profile_profile_removal_password_payload_type".loc(),s.lageIcon=null;break;case"com.apple.mobiledevice.passwordpolicy":o(Admin.PasscodeKnobSet);break;case"com.apple.security.scep":o(Admin.ScepKnobSet);break;case"com.apple.webClip.managed":o(Admin.WebClipKnobSet);break;case"com.apple.applicationaccess":o(Admin.RestrictionsKnobSet);break;case"com.apple.caldav.account":o(Admin.CalDavKnobSet);break;case"com.apple.carddav.account":o(Admin.CardDavKnobSet);break;case"com.apple.mail.managed":o(Admin.EmailKnobSet);break;case"com.apple.webClip.managed":o(Admin.WebClipKnobSet);break;case"com.apple.ldap.account":o(Admin.LdapKnobSet);break;case"com.apple.subscribedcalendar.account":o(Admin.CalSubKnobSet);break;case"com.apple.encrypted-profile-service":o(Admin.ScepKnobSet);break;case"com.apple.apn.managed":o(Admin.ApnKnobSet);break;case"com.apple.eas.account"
:o(Admin.ExchangeKnobSet);break;case"com.apple.vpn.managed":o(Admin.VpnKnobSet);break;case"com.apple.wifi.managed":o(Admin.InterfaceKnobSet);break;case"com.apple.DirectoryService.managed":o(Admin.DirectoryKnobSet);break;case"com.apple.jabber.account":o(Admin.IchatKnobSet);break;case"com.apple.aim.account":o(Admin.IchatKnobSet);break;case"com.apple.subnet.account":o(Admin.IchatKnobSet);break;case"com.apple.ichatmanaged.account":o(Admin.IchatKnobSet);break;default:console.warn("unknown PayloadType: "+s.PayloadType);continue}i.knobSetTypesUsed.indexOf(s)===-1&&i.knobSetTypesUsed.push(s)}r.push(i)}return r}.property("_profileList"),lastEditedString:"Last Edited on 2/4/10 by Johnny Appleseed",_iconWithSize:function(e){var t=this.get("validTypeName"),n="macintosh-%@".fmt(e);return SC.none(t)?this.get("isPlaceholderDevice")&&(n="admin-placeholder-device-%@".fmt(e)):n=t.toLowerCase().replace(",","_")+"-%@".fmt(e),n},smallIcon:function(){return this._iconWithSize(16)}.property("validTypeName","isPlaceholderDevice").cacheable(),mediumIcon:function(){return this._iconWithSize(32)}.property("validTypeName","isPlaceholderDevice").cacheable(),largeIcon:function(){return this._iconWithSize(64)}.property("validTypeName","isPlaceholderDevice").cacheable(),iconUrl:function(){return this.get("mediumIcon")}.property("validTypeName","isPlaceholderDevice").cacheable(),validTypeName:function(){return this.productNameToDeviceType(this.get("ProductName"))}.property("productName","isDEPDevice").cacheable(),rightIcon:function(e,t){if(t!==undefined)throw SC.$error("rightIcon is ready only for %@".fmt(this
.constructor));var n;this.get("isPlaceholderDevice")&&(n="unenrolled-device-16-2x");if(this.get("isUnenrollmentPending")||this.get("isWipePending"))n="unenroll-pending-device-16-2x";return n}.property("isPlaceholderDevice","isUnenrollmentPending","isWipePending").cacheable(),displayType:"_generic_string_Device".loc(),uniqueIdentifier:function(e,t){if(t!==undefined)throw SC.$error("Read only!");return this.get("serialNumber")||this.get("udid")||this.get("imei")||this.get("meid")||this.get("deviceID")}.property("serialNumber","udid","imei","meid","deviceID"),secondaryInformation:function(e,t){if(t!==undefined)throw SC.$error("Read only!");return this.getPath("user.displayName")||this.get("serialNumber")||this.get("udid")||this.get("imei")||this.get("meid")||this.get("deviceID")||""}.property("user","serialNumber","udid","imei","meid","userDisplayName","deviceID"),userDisplayNameBinding:".user.displayName",airplayPassword:SC.Record.attr(String,{key:"airplay_password"}),aboutInfoArray:function(){var e=[];return this.get("deviceType")&&e.push(Admin.AboutInfoItem.create({key:"_generic_string_Type".loc(),value:this.get("deviceType")})),this.get("displayedCapacity")&&e.push(Admin.AboutInfoItem.create({key:"_generic_string_Capacity".loc(),value:"_available_device_capacity_format".loc(this.get("displayedCapacity"))})),this.get("softwareVersion")&&e.push(Admin.AboutInfoItem.create({key:"_generic_string_Software Version".loc(),value:this.get("softwareVersion")})),this.get("buildVersion")&&e.push(Admin.AboutInfoItem.create({key:"_generic_string_Software Build Version".loc(),value:this.get
("buildVersion")})),this.get("serialNumber")&&e.push(Admin.AboutInfoItem.create({key:"_generic_string_Serial Number".loc(),value:this.get("serialNumber")})),this.get("user")&&e.push(Admin.AboutInfoItem.create({key:"_generic_string_User".loc(),value:this.getPath("user.displayName")})),this.get("isAppleTV")&&this.get("isPlaceholderDevice")&&this.get("deviceID")&&e.push(Admin.AboutInfoItem.create({key:"_general_Bonjour Device ID".loc(),value:this.get("deviceID")})),!this.get("isPlaceholderDevice")&&!this.get("isMac")&&e.push(Admin.AboutInfoItem.create({key:"Supervised".loc(),value:this.get("isSupervised")?"_generic_string_Yes".loc():"_generic_string_No".loc()})),e}.property("deviceType","displayedCapacity","displayName","softwareVersion","buildVersion","serialNumber","isMac","userDisplayName","deviceID","isSupervised"),aboutAirplayInfoArray:function(){var e=[];return e.push(SC.Object.create({contentExampleView:Admin.AirplayPasswordView})),e}.property("airplayPassword","isPlaceholderDevice"),aboutMoreInfoArray:function(){var e=[];this.get("udid")&&e.push(Admin.AboutInfoItem.create({key:"_generic_string_UDID".loc(),value:this.get("udid")})),this.get("deviceID")&&!this.get("isPlaceholderDevice")&&e.push(Admin.AboutInfoItem.create({key:"_general_Bonjour Device ID".loc(),value:this.get("deviceID")})),this.get("imei")&&e.push(Admin.AboutInfoItem.create({key:"_generic_string_IMEI".loc(),value:this.get("imei")})),this.get("meid")&&e.push(Admin.AboutInfoItem.create({key:"_generic_string_MEID".loc(),value:this.get("meid")})),this.get("ethernetMac")&&e.push(Admin.AboutInfoItem.create({key
:"_generic_string_Ethernet MAC".loc(),value:this.get("ethernetMac")})),this.get("wiFiMac")&&e.push(Admin.AboutInfoItem.create({key:"_generic_string_Wi-Fi MAC".loc(),value:this.get("wiFiMac")})),this.get("bluetoothMac")&&e.push(Admin.AboutInfoItem.create({key:"_generic_string_Bluetooth MAC".loc(),value:this.get("bluetoothMac")})),this.get("modemFirmwareVersion")&&e.push(Admin.AboutInfoItem.create({key:"_generic_string_Modem".loc(),value:this.get("modemFirmwareVersion")})),this.get("phoneNumber")&&e.push(Admin.AboutInfoItem.create({key:"_generic_string_Phone".loc(),value:this.get("phoneNumber")})),this.get("modelNumber")&&e.push(Admin.AboutInfoItem.create({key:"_generic_string_Model Number".loc(),value:this.get("modelNumber")})),this.get("simCarrierNetwork")&&e.push(Admin.AboutInfoItem.create({key:"_generic_string_Sim Carrier Network".loc(),value:this.get("simCarrierNetwork")})),this.get("currentCarrierNetwork")&&e.push(Admin.AboutInfoItem.create({key:"_generic_string_Current Carrier Network".loc(),value:this.get("currentCarrierNetwork")})),this.get("iccid")&&e.push(Admin.AboutInfoItem.create({key:"_generic_string_ICCID".loc(),value:this.get("iccid")})),this.get("carrierSettingsVersion")&&e.push(Admin.AboutInfoItem.create({key:"_generic_string_Carrier Settings Version".loc(),value:this.get("carrierSettingsVersion")})),this.get("lastCheckinTime")&&e.push(Admin.AboutInfoItem.create({key:"_generic_string_Last Checkin Time".loc(),value:this.get("lastCheckinTime").toTimezone(Admin.TIMEZONE).toFormattedString("_task_updated_at_formatted_string".loc())})),this.get("displayedAvailableDeviceCapacity"
)&&e.push(Admin.AboutInfoItem.create({key:"_generic_string_Available Capacity".loc(),value:"_available_device_capacity_format".loc(this.get("displayedAvailableDeviceCapacity"))})),this.get("formattedBatteryLevel")&&e.push(Admin.AboutInfoItem.create({key:"_generic_string_Remaining Battery Life".loc(),value:this.get("formattedBatteryLevel")}));if(!this.get("isPlaceholderDevice")&&!this.get("isMac")){e.push(Admin.AboutInfoItem.create({key:"_generic_string_Signed in to iTunes".loc(),value:this.get("isiTunesStoreAccountActive")?"_generic_string_Yes".loc():"_generic_string_No".loc()})),e.push(Admin.AboutInfoItem.create({key:"_generic_string_iCloud Backup".loc(),value:this.get("isCloudBackupEnabled")?"_generic_string_On".loc():"_generic_string_Off".loc()}));var t=this.get("lastCloudBackupDateString"),n="_device_detail_icloud_backup_never".loc();t&&(n=SC.DateTime.parse(t).toTimezone(Admin.TIMEZONE).toFormattedString("device_detail_icloud_backup_date_format".loc())),e.push(Admin.AboutInfoItem.create({key:"_device_detail_string_last_icloud_backup".loc(),value:n}))}return this.get("isPlaceholderDevice")||e.push(Admin.AboutInfoItem.create({key:"_generic_string_Do Not Disturb".loc(),value:this.get("isDoNotDisturbInEffect")?"_generic_string_On".loc():"_generic_string_Off".loc()})),this.get("isPlaceholderDevice")||e.push(Admin.AboutInfoItem.create({key:"_generic_string_Personal Hotspot".loc(),value:this.get("personalHotspotEnabled")?"_generic_string_On".loc():"_generic_string_Off".loc()})),this.get("vppUser")&&e.push(Admin.AboutInfoItem.create({key:"_generic_string_VPP User".loc(),device:this
,valueBinding:".device*vppUser.displayName"})),e}.property("isMac","lastCheckinTime","bluetoothMac","wiFiMac","modemFirmwareVersion","phoneNumber","udid","modelNumber","simCarrierNetwork","currentCarrierNetwork","displayedAvailableDeviceCapacity","iccid","imei","meid","carrierSettingsVersion","formattedBatteryLevel","isiTunesStoreAccountActive","isDoNotDisturbInEffect","personalHotspotEnabled","vppUser"),aboutSecurityInfoArray:function(){var e=[],t=this.get("isPlaceholderDevice"),n=this.get("isMac");if(!this.get("isMac")){var r,i=this.get("hardwareEncryptionCaps"),s=i&1,o=i&2;s?o?r="_hardware_encrpyption_caps_both_capable".loc():r="_hardware_encrpyption_caps_only_block_capable".loc():o?r="_hardware_encrpyption_caps_only_file_capable".loc():r="_hardware_encrpyption_caps_not_capable".loc(),e.push(Admin.AboutInfoItem.create({key:"_hardware_encrpyption".loc(),value:r}));var u,a=this.get("passcodeCompliant"),f=this.get("passcodeCompliantWithProfiles");a?f?u="_passcode_compliant_both_compliant".loc():u="_passcode_compliant_only_other_compliant".loc():f?u="_passcode_compliant_only_profiles_compliant".loc():u="_passcode_compliant_not_compliant".loc(),e.push(Admin.AboutInfoItem.create({key:"_passcode_compliant".loc(),value:u})),e.push(Admin.AboutInfoItem.create({key:"_passcode_present".loc(),value:this.get("passcodePresent")?"_passcode_present_present".loc():"_passcode_present_not_present".loc()}))}if(this.get("isMac")||this.get("isPlaceholderDevice"))e.push(Admin.AboutInfoItem.create({key:"_generic_string_FileVault Enabled".loc(),value:this.get("fileVaultEnabled")?"_generic_string_Yes"
.loc():"_generic_string_No".loc()})),e.push(Admin.AboutInfoItem.create({key:"_generic_string_FileVault has personal key".loc(),value:this.get("fileVaultHasPersonalRecoveryKey")?"_filevault_status_Recovery Key Set".loc():"_filevault_status_Recovery Key Not Set".loc()})),e.push(Admin.AboutInfoItem.create({key:"_generic_string_FileVault has institutional key".loc(),value:this.get("fileVaultHasInstitutionalRecoveryKey")?"_filevault_status_Recovery Key Set".loc():"_filevault_status_Recovery Key Not Set".loc()}));if(!n||t){e.push(Admin.AboutInfoItem.create({key:"_generic_string_Activation Lock Enabled".loc(),value:this.get("isActivationLockEnabled")?"_generic_string_Yes".loc():"_generic_string_No".loc()})),e.push(Admin.AboutInfoItem.create({key:"_device_about_string_Find My iPhone Enabled".loc(),value:this.get("isDeviceLocatorServiceEnabled")?"_generic_string_Yes".loc():"_generic_string_No".loc()}));if(this.get("isSupervised")||t){var l=this.get("activationLockBypassCode");e.push(Admin.AboutInfoItem.create({key:"_generic_string_Activation Lock Bypass Code".loc(),value:l?l:"_no_activation_lock_bypass_code".loc()}))}}return e}.property("hardwareEncryptionCaps","passcodeCompliantWithProfiles","passcodeCompliant","passcodePresent","fileVaultEnabled","fileVaultHasPersonalRecoveryKey","fileVaultHasInstitutionalRecoveryKey","isMac","isActivationLockEnabled","isPlaceholderDevice","activationLockBypassCode","isSupervised"),_globalRestrictions:SC.Record.attr(Object,{key:"GlobalRestrictions"}),aboutRestrictionsArray:function(){var e=[],t,n=this.get("_globalRestrictions"),r=n?n.restrictedBool
:null,i=n?n.restrictedValue:null;return t=r&&r.allowSimple&&r.allowSimple.value,t===undefined&&(t="_unset".loc()),t===NO&&(t="_allow_not_allowed".loc()),t===YES&&(t="_allow_allowed".loc()),e.push(Admin.AboutInfoItem.create({key:"_generic_string_Allow Simple Passcode".loc(),value:t})),t=this.get("_globalRestrictions")&&r&&r.forcePIN&&r.forcePIN.value,t===undefined&&(t="_unset".loc()),t===NO&&(t="_force_not_forced".loc()),t===YES&&(t="_force_forced".loc()),e.push(Admin.AboutInfoItem.create({key:"_generic_string_Force Passcode".loc(),value:t})),t=i&&i.maxFailedAttempts&&i.maxFailedAttempts.value,t===undefined&&(t="_unset".loc()),e.push(Admin.AboutInfoItem.create({key:"_generic_string_Max. Failed Attempts".loc(),value:t})),t=i&&i.maxInactivity&&i.maxInactivity.value,t===undefined&&(t="_unset".loc()),e.push(Admin.AboutInfoItem.create({key:"_generic_string_Max. Inactivity".loc(),value:t})),t=i&&i.maxPINAgeInDays&&i.maxPINAgeInDays.value,t===undefined&&(t="_unset".loc()),e.push(Admin.AboutInfoItem.create({key:"_generic_string_Max. PIN Age In Days".loc(),value:t})),t=i&&i.minComplexChars&&i.minComplexChars.value,t===undefined&&(t="_unset".loc()),e.push(Admin.AboutInfoItem.create({key:"_generic_string_Min. Complex Char's".loc(),value:t})),t=i&&i.minLength&&i.minLength.value,t===undefined&&(t="_unset".loc()),e.push(Admin.AboutInfoItem.create({key:"_generic_string_Min. Length".loc(),value:t})),t=r&&r.requireAlphanumeric&&r.requireAlphanumeric.value,t===undefined&&(t="_unset".loc()),t===NO&&(t="_require_not_required".loc()),t===YES&&(t="_require_required".loc()),e.push(Admin.AboutInfoItem
.create({key:"_generic_string_Require Alphanumeric".loc(),value:t})),t=i&&i.pinHistory&&i.pinHistory.value,t===undefined&&(t="_unset".loc()),e.push(Admin.AboutInfoItem.create({key:"_generic_string_PIN History".loc(),value:t})),t=r&&r.manualFetchingWhenRoaming&&r.manualFetchingWhenRoaming.value,t===undefined&&(t="_unset".loc()),t===NO&&(t="_manual_fetching_when_roaming_off".loc()),t===YES&&(t="_manual_fetching_when_roaming_on".loc()),e.push(Admin.AboutInfoItem.create({key:"_generic_string_Man. Fetch. When Roaming".loc(),value:t})),t=i&&i.maxGracePeriod&&i.maxGracePeriod.value,t===undefined&&(t="_unset".loc()),e.push(Admin.AboutInfoItem.create({key:"_generic_string_Max. Grace Period".loc(),value:t})),e.push(Admin.AboutInfoItem.create({key:"",value:""})),t=r&&r.allowAppInstallation&&r.allowAppInstallation.value,t===undefined&&(t="_unset".loc()),t===NO&&(t="_allow_not_allowed".loc()),t===YES&&(t="_allow_allowed".loc()),e.push(Admin.AboutInfoItem.create({key:"_generic_string_Allow App Installation".loc(),value:t})),t=r&&r.allowCamera&&r.allowCamera.value,t===undefined&&(t="_unset".loc()),t===NO&&(t="_allow_not_allowed".loc()),t===YES&&(t="_allow_allowed".loc()),e.push(Admin.AboutInfoItem.create({key:"_generic_string_Allow Camera".loc(),value:t})),t=r&&r.allowExplicitContent&&r.allowExplicitContent.value,t===undefined&&(t="_unset".loc()),t===NO&&(t="_allow_not_allowed".loc()),t===YES&&(t="_allow_allowed".loc()),e.push(Admin.AboutInfoItem.create({key:"_generic_string_Allow Explicit Content".loc(),value:t})),t=r&&r.allowScreenShot&&r.allowScreenShot.value,t===undefined&&(t="_unset".
loc()),t===NO&&(t="_allow_not_allowed".loc()),t===YES&&(t="_allow_allowed".loc()),e.push(Admin.AboutInfoItem.create({key:"_generic_string_Allow Screenshot".loc(),value:t})),t=r&&r.allowiTunes&&r.allowiTunes.value,t===undefined&&(t="_unset".loc()),t===NO&&(t="_allow_not_allowed".loc()),t===YES&&(t="_allow_allowed".loc()),e.push(Admin.AboutInfoItem.create({key:"_generic_string_Allow iTunes".loc(),value:t})),t=r&&r.allowSafari&&r.allowSafari.value,t===undefined&&(t="_unset".loc()),t===NO&&(t="_allow_not_allowed".loc()),t===YES&&(t="_allow_allowed".loc()),e.push(Admin.AboutInfoItem.create({key:"_generic_string_Allow Safari".loc(),value:t})),e.push(Admin.AboutInfoItem.create({key:"",value:""})),t=r&&r.allowVideoConferencing&&r.allowVideoConferencing.value,t===undefined&&(t="_unset".loc()),t===NO&&(t="_allow_not_allowed".loc()),t===YES&&(t="_allow_allowed".loc()),e.push(Admin.AboutInfoItem.create({key:"_generic_string_Allow FaceTime".loc(),value:t})),t=r&&r.allowGlobalBackgroundFetchWhenRoaming&&r.allowGlobalBackgroundFetchWhenRoaming.value,t===undefined&&(t="_unset".loc()),t===NO&&(t="_allow_not_allowed".loc()),t===YES&&(t="_allow_allowed".loc()),e.push(Admin.AboutInfoItem.create({key:"_generic_string_Allow Auto Sync while Roaming".loc(),value:t})),t=r&&r.allowVoiceDialing&&r.allowVoiceDialing.value,t===undefined&&(t="_unset".loc()),t===NO&&(t="_allow_not_allowed".loc()),t===YES&&(t="_allow_allowed".loc()),e.push(Admin.AboutInfoItem.create({key:"_generic_string_Allow Voice Dialing".loc(),value:t})),t=r&&r.allowInAppPurchases&&r.allowInAppPurchases.value,t===undefined&&(t="_unset"
.loc()),t===NO&&(t="_allow_not_allowed".loc()),t===YES&&(t="_allow_allowed".loc()),e.push(Admin.AboutInfoItem.create({key:"_generic_string_Allow In-App Purchases".loc(),value:t})),t=r&&r.allowMultiplayerGaming&&r.allowMultiplayerGaming.value,t===undefined&&(t="_unset".loc()),t===NO&&(t="_allow_not_allowed".loc()),t===YES&&(t="_allow_allowed".loc()),e.push(Admin.AboutInfoItem.create({key:"_generic_string_Allow Multiplayer Gaming".loc(),value:t})),t=r&&r.forceEncryptedBackup&&r.forceEncryptedBackup.value,t===undefined&&(t="_unset".loc()),t===NO&&(t="_allow_not_allowed".loc()),t===YES&&(t="_allow_allowed".loc()),e.push(Admin.AboutInfoItem.create({key:"_generic_string_Force Encrypted Backup".loc(),value:t})),t=r&&r.safariAllowAutoFill&&r.safariAllowAutoFill.value,t===undefined&&(t="_unset".loc()),t===NO&&(t="_allow_not_allowed".loc()),t===YES&&(t="_allow_allowed".loc()),e.push(Admin.AboutInfoItem.create({key:"_generic_string_Safari Allow Autofill".loc(),value:t})),t=r&&r.safariForceFraudWarning&&r.safariForceFraudWarning.value,t===undefined&&(t="_unset".loc()),t===NO&&(t="_force_not_forced".loc()),t===YES&&(t="_force_forced".loc()),e.push(Admin.AboutInfoItem.create({key:"_generic_string_Safari Force Fraud Warning".loc(),value:t})),t=r&&r.safariAllowJavaScript&&r.safariAllowJavaScript.value,t===undefined&&(t="_unset".loc()),t===NO&&(t="_allow_not_allowed".loc()),t===YES&&(t="_allow_allowed".loc()),e.push(Admin.AboutInfoItem.create({key:"_generic_string_Safari Allow JavaScript".loc(),value:t})),t=r&&r.safariAllowPopups&&r.safariAllowPopups.value,t===undefined&&(t="_unset".loc()),t===
NO&&(t="_allow_not_allowed".loc()),t===YES&&(t="_allow_allowed".loc()),e.push(Admin.AboutInfoItem.create({key:"_generic_string_Safari Allow Popups".loc(),value:t})),t=i&&i.safariAcceptCookies&&i.safariAcceptCookies.value,t===undefined&&(t="_unset".loc()),t===2&&(t="_safari_accept_cookies_always".loc()),t===1&&(t="_safari_accept_cookies_from_visited".loc()),t===0&&(t="_safari_accept_cookies_never".loc()),e.push(Admin.AboutInfoItem.create({key:"_generic_string_Safari Accept Cookies".loc(),value:t})),t=i&&i.ratingMovies&&i.ratingMovies.value,t===undefined&&(t="_unset".loc()),e.push(Admin.AboutInfoItem.create({key:"_generic_string_Max. Movie Rating".loc(),value:t})),t=i&&i.ratingTVShows&&i.ratingTVShows.value,t===undefined&&(t="_unset".loc()),e.push(Admin.AboutInfoItem.create({key:"_generic_string_Max. TV Shows Rating".loc(),value:t})),t=i&&i.ratingApps&&i.ratingApps.value,t===undefined&&(t="_unset".loc()),t===1e3&&(t="_rating_apps_allow_all_apps".loc()),t===600&&(t="_rating_apps_17_plus".loc()),t===300&&(t="_rating_apps_12_plus".loc()),t===200&&(t="_rating_apps_9_plus".loc()),t===100&&(t="_rating_apps_4_plus".loc()),t===0&&(t="_rating_apps_dont_allow_apps".loc()),e.push(Admin.AboutInfoItem.create({key:"_generic_string_Max. Apps Rating".loc(),value:t})),e}.property("_globalRestrictions"),_installedApplicationList:SC.Record.attr(Array,{key:"InstalledApplicationList"}),singleAppModeAppListBinding:"._installedApplicationList",aboutInstalledApplicationsArray:function(e,t){if(t!==undefined)throw SC.$error("read only");var n=[];return this.get("_installedApplicationList")?(this.get("_installedApplicationList"
).forEach(function(e){n.push(SC.Object.create({name:"_installed_application_name_and_version".loc(e.Name||e.Identifier,e.Version),contentExampleView:SC.ListItemView}))}),n):n}.property("_installedApplicationList"),parentDeviceGroups:function(e,t){if(t!==undefined)throw SC.$error("read only!");if(this.USER_RECORD_ARRAY_ASKED_FOR_ALREADY)throw SC.$error("get more than once");if(!this.get("id"))throw SC.$error("could not find id");return this.gotDeviceGroups||(Admin.store.dataSource.addRpcs([["device","get_device_groups",this.get("id")]],NO),this.gotDeviceGroups=YES),Admin.store.find(SC.Query.local("Admin.DeviceGroup",{conditions:"deviceIds CONTAINS {id}",id:this.get("id")}))}.property().cacheable(),parentGroups:function(){return this.get("parentDeviceGroups")}.property("parentDeviceGroups"),profile:SC.Record.toOne("Admin.Profile",{key:"profile",inverse:"deviceMember",isMaster:NO}),profilesFromNestedStore:function(){return this.gotProfiles||(Admin.store.dataSource.addRpcs([["device","get_profiles",this.get("id")]],NO),this.gotProfiles=YES),Admin.get("profileForEditingNestedStore").find(SC.Query.local(Admin.Profile,{conditions:"deviceMemberId = {deviceId}",deviceId:this.get("id")}))}.property(),_vppUser:SC.Record.toOne("Admin.User",{key:"vpp_user_id"}),vppUser:function(){var e,t=this.get("_vppUser");return t&&t.get("id")>0&&(e=t),e}.property("_vppUser").cacheable(),vppLastInviteRequestedAt:SC.Record.attr(SC.DateTime,{key:"vpp_last_invite_requested"}),vppLastInviteDeliveredAt:SC.Record.attr(SC.DateTime,{key:"vpp_last_invite_delivered"}),vppInvitationStatus:function(e,t){if(t!==undefined
)throw SC.$error("vppInvitationStatus is ready only for %@".fmt(this.constructor));var n="none",r=this.get("vppLastInviteRequestedAt"),i=this.get("vppLastInviteDeliveredAt");return!r&&!i?n="none":!i&&r?n="requested":i>=r?n="invited":r>i&&(n="requested"),n}.property("vppLastInviteRequestedAt","vppLastInviteDeliveredAt").cacheable(),isDEPDevice:SC.Record.attr(Boolean,{key:"is_dep_device"}),deviceID:SC.Record.attr(String,{key:"DeviceID"})}),Admin.DeviceGroup=Admin.LibraryItem.extend({primaryKey:"id",isDeviceGroup:YES,displayNameFromNestedStoreBinding:".thisFromNestedStore.displayName",canMakeChanges:YES,smallIcon:"admin-icon-device-group-16",mediumIcon:"admin-icon-device-group-32",largeIcon:"admin-icon-device-group-64",secondaryInformation:function(){var e=this.readAttribute("devices")?this.readAttribute("devices").length:0,t=this.readAttribute("child_device_groups")?this.readAttribute("child_device_groups").length:0,n=e+t;return n===0?"_generic_string_No Members".loc():n==1?"_generic_string_1 Member".loc():"_generic_string_%@1 Members".loc(n)}.property("devices","childDeviceGroups"),devices:SC.Record.toMany("Admin.Device",{key:"devices"}),deviceIds:function(){return this.readAttribute("devices")}.property("devices"),childDeviceGroups:SC.Record.toMany("Admin.DeviceGroup",{key:"child_device_groups"}),childDeviceGroupIds:function(){return this.readAttribute("child_device_groups")}.property("childDeviceGroups"),childDeviceGroupMembersLengthBinding:".childDeviceGroups.length",parentDeviceGroups:function(){return this.gotParentDeviceGroups||(Admin.store.dataSource.addRpcs([["device_group"
,"get_parent_device_groups",this.get("id")]],NO),this.gotParentDeviceGroups=YES),Admin.store.find(SC.Query.local("Admin.DeviceGroup",{conditions:"childDeviceGroupIds CONTAINS {id}",id:this.get("id")}))}.property().cacheable(),parentGroups:function(){return this.get("parentDeviceGroups")}.property("parentDeviceGroups"),members:function(e,t){if(t!==undefined)throw SC.$error("members is r/o!");var n=SC.RecordArray.create({store:Admin.store});return n.set("storeKeys",[].concat(this.getPath("devices.storeKeys"),this.getPath("childDeviceGroups.storeKeys"))),n}.property("deviceMembersLength","childDeviceGroupMembersLength").cacheable(),membersFromNestedStoreBinding:".thisFromNestedStore.members",eligibleOSXEAppDevices:SC.Record.attr(Array,{key:"osx_eapp_eligible_devices"}),hasEligbleOSXEAppDevices:function(){return this.get("eligibleOSXEAppDevices").get("length")>0}.property("eligibleOSXEAppDevices").cacheable(),thisFromNestedStore:function(){return Admin.get("itemSelectionNestedStore").find(this)}.property().cacheable(),deviceMembersLengthBinding:".devices.length",profile:SC.Record.toOne("Admin.Profile",{key:"profile",inverse:"deviceGroupMember",isMaster:NO}),profilesFromNestedStore:function(){return this.gotProfiles||(Admin.store.dataSource.addRpcs([["device_group","get_profiles",this.get("id")]],NO),this.gotProfiles=YES),Admin.get("profileForEditingNestedStore").find(SC.Query.local(Admin.Profile,{conditions:"deviceGroupMemberId = {deviceGroupId}",deviceGroupId:this.get("id")}))}.property(),gatherThisAndAncestorDeviceGroups:function(e){var t=this.get("parentDeviceGroups"),n=[this
],r=[].concat(e,[this]);for(var i=0,s=t.get("length");i<s;i++){var o=t.objectAt(i);e.indexOf(o)===-1&&(n=[].concat(n,o.gatherThisAndAncestorDeviceGroups(r)))}return n},name:SC.Record.attr(String,{isRequired:YES,defaultValue:"_generic_string_New Device Group".loc()}),singleAppModeAppList:SC.Record.attr(Array,{key:"single_app_mode_app_list"})}),Admin.USER_PRIVILEGE_ENROLL_DEVICE_VIA_DEP=1,Admin.USER_PRIVILEGE_ENROLL_DEVICE_VIA_PORTAL=2,Admin.USER_RESTRICTION_REQUIRE_OWNED_DEVICE=4,Admin.USER_RESTRICTION_REQUIRE_KNOWN_DEVICE=8,Admin.USER_PRIVILEGE_WIPE_DEVICE=16,Admin.USER_PRIVILEGE_LOCK_DEVICE=32,Admin.USER_PRIVILEGE_CLEAR_PASSCODE=64,Admin.USER_PRIVILEGE_DOWNLOAD_PROFILES=128,Admin.USER_PRIVILEGE_ACCESS_PORTAL=256,Admin.USER_PRIVILEGE_ENROLL_DEVICE_VIA_CONFIGURATOR=512,Admin.DirectoryItem=Admin.LibraryItem.extend({primaryKey:"id",name:SC.Record.attr(String),isDirectoryItem:YES,isTruncationIndicator:function(){return this.get("id")===-1}.property("id"),itemListExampleView:function(){return this.get("isTruncationIndicator")?Admin.TruncatedIndicatorView:arguments.callee.superclass}.property("isTruncationIndicator","id"),membersPickerExampleView:function(){return this.get("isTruncationIndicator")?Admin.TruncatedIndicatorForMembersPickerExampleView:arguments.callee.superclass}.property("isTruncationIndicator","id"),inheritedPrivileges:SC.Record.attr(Number,{key:"inherited_privileges"}),explicitPrivileges:SC.Record.attr(Number,{key:"privileges"}),privilegeFor:function(e,t){if(t!==undefined){var n=this.get("explicitPrivileges");t?n|=e:n&=~e,this.set("explicitPrivileges",n)}return this
.get("inheritedPrivileges")&e||this.get("explicitPrivileges")&e?!0:!1},canSetPrivilege:function(e){var t=this.get("inheritedPrivileges");return t!==null&&!(t&e)},allowAccessPortal:function(e,t){return this.privilegeFor(Admin.USER_PRIVILEGE_ACCESS_PORTAL,t)}.property("inheritedPrivileges","explicitPrivileges").cacheable(),canSetAccessPortal:function(e,t){return this.canSetPrivilege(Admin.USER_PRIVILEGE_ACCESS_PORTAL)}.property("inheritedPrivileges").cacheable(),allowDownloadProfiles:function(e,t){return this.privilegeFor(Admin.USER_PRIVILEGE_DOWNLOAD_PROFILES,t)}.property("inheritedPrivileges","explicitPrivileges").cacheable(),canSetDownloadProfiles:function(e,t){return(this.get("allowAccessPortal")||this.get("isUserGroup"))&&this.canSetPrivilege(Admin.USER_PRIVILEGE_DOWNLOAD_PROFILES)}.property("inheritedPrivileges","allowAccessPortal","isUserGroup").cacheable(),allowEnrollDeviceViaPortal:function(e,t){return this.privilegeFor(Admin.USER_PRIVILEGE_ENROLL_DEVICE_VIA_PORTAL,t)}.property("inheritedPrivileges","explicitPrivileges").cacheable(),canSetEnrollDeviceViaPortal:function(e,t){return(this.get("allowAccessPortal")||this.get("isUserGroup"))&&this.canSetPrivilege(Admin.USER_PRIVILEGE_ENROLL_DEVICE_VIA_PORTAL)}.property("inheritedPrivileges","allowAccessPortal","isUserGroup").cacheable(),allowWipeDevice:function(e,t){return this.privilegeFor(Admin.USER_PRIVILEGE_WIPE_DEVICE,t)}.property("inheritedPrivileges","explicitPrivileges").cacheable(),canSetWipeDevice:function(e,t){return(this.get("allowAccessPortal")||this.get("isUserGroup"))&&this.canSetPrivilege(Admin.USER_PRIVILEGE_WIPE_DEVICE
)}.property("inheritedPrivileges","allowAccessPortal","isUserGroup").cacheable(),allowLockDevice:function(e,t){return this.privilegeFor(Admin.USER_PRIVILEGE_LOCK_DEVICE,t)}.property("inheritedPrivileges","explicitPrivileges").cacheable(),canSetLockDevice:function(e,t){return(this.get("allowAccessPortal")||this.get("isUserGroup"))&&this.canSetPrivilege(Admin.USER_PRIVILEGE_LOCK_DEVICE)}.property("inheritedPrivileges","allowAccessPortal","isUserGroup").cacheable(),allowClearPasscode:function(e,t){return this.privilegeFor(Admin.USER_PRIVILEGE_CLEAR_PASSCODE,t)}.property("inheritedPrivileges","explicitPrivileges").cacheable(),canSetClearPasscode:function(e,t){return(this.get("allowAccessPortal")||this.get("isUserGroup"))&&this.canSetPrivilege(Admin.USER_PRIVILEGE_CLEAR_PASSCODE)}.property("inheritedPrivileges","allowAccessPortal","isUserGroup").cacheable(),allowEnrollDEPDevice:function(e,t){return this.privilegeFor(Admin.USER_PRIVILEGE_ENROLL_DEVICE_VIA_DEP,t)}.property("inheritedPrivileges","explicitPrivileges").cacheable(),canSetEnrollDEPDevice:function(e,t){return this.canSetPrivilege(Admin.USER_PRIVILEGE_ENROLL_DEVICE_VIA_DEP)}.property("inheritedPrivileges").cacheable(),allowEnrollConfiguratorDevice:function(e,t){return this.privilegeFor(Admin.USER_PRIVILEGE_ENROLL_DEVICE_VIA_CONFIGURATOR,t)}.property("inheritedPrivileges","explicitPrivileges").cacheable(),canSetEnrollConfiguratorDevice:function(e,t){return this.canSetPrivilege(Admin.USER_PRIVILEGE_ENROLL_DEVICE_VIA_CONFIGURATOR)}.property("inheritedPrivileges").cacheable(),requireKnownDevice:function(e,t){return this.privilegeFor
(Admin.USER_RESTRICTION_REQUIRE_KNOWN_DEVICE,t)}.property("inheritedPrivileges","explicitPrivileges").cacheable(),canSetRequireKnownDevice:function(e,t){return this.canSetPrivilege(Admin.USER_RESTRICTION_REQUIRE_KNOWN_DEVICE)}.property("inheritedPrivileges").cacheable(),requireOwnedDevice:function(e,t){return this.privilegeFor(Admin.USER_RESTRICTION_REQUIRE_OWNED_DEVICE,t)}.property("inheritedPrivileges","explicitPrivileges").cacheable(),canSetRequireOwnedDevice:function(e,t){return this.get("requireKnownDevice")&&this.canSetPrivilege(Admin.USER_RESTRICTION_REQUIRE_OWNED_DEVICE)}.property("inheritedPrivileges","requireKnownDevice").cacheable(),permissionsAboutItems:function(){var e=[];return e.push(Admin.AboutCheckboxItem.create({title:"_permissions_string_Allow access to My Devices Portal (https://<hostname>/mydevices)".loc(window.location.hostname),valueBinding:"Admin.itemSelectionFromNestedStoreController.allowAccessPortal",isEnabledBinding:"Admin.itemSelectionFromNestedStoreController.canSetAccessPortal"})),e.push(Admin.AboutCheckboxItem.create({title:"_permissions_string_Allow configuration profile downloads".loc(),valueBinding:"Admin.itemSelectionFromNestedStoreController.allowDownloadProfiles",isEnabledBinding:"Admin.itemSelectionFromNestedStoreController.canSetDownloadProfiles",indentLevel:1})),this.get("deviceManagementEnabled")&&(e.push(Admin.AboutCheckboxItem.create({title:"_permissions_string_Allow device enrollment and unenrollment".loc(),valueBinding:"Admin.itemSelectionFromNestedStoreController.allowEnrollDeviceViaPortal",isEnabledBinding:"Admin.itemSelectionFromNestedStoreController.canSetEnrollDeviceViaPortal"
,indentLevel:1})),e.push(Admin.AboutCheckboxItem.create({title:"_permissions_string_Allow device lock".loc(),valueBinding:"Admin.itemSelectionFromNestedStoreController.allowLockDevice",isEnabledBinding:"Admin.itemSelectionFromNestedStoreController.canSetLockDevice",indentLevel:1})),e.push(Admin.AboutCheckboxItem.create({title:"_permissions_string_Allow device passcode to be cleared".loc(),valueBinding:"Admin.itemSelectionFromNestedStoreController.allowClearPasscode",isEnabledBinding:"Admin.itemSelectionFromNestedStoreController.canSetClearPasscode",indentLevel:1})),e.push(Admin.AboutCheckboxItem.create({title:"_permissions_string_Allow device wipe".loc(),valueBinding:"Admin.itemSelectionFromNestedStoreController.allowWipeDevice",isEnabledBinding:"Admin.itemSelectionFromNestedStoreController.canSetWipeDevice",indentLevel:1})),e.push(Admin.AboutCheckboxItem.create({title:"_permissions_string_Allow enrollment of devices configured via DEP".loc(),valueBinding:"Admin.itemSelectionFromNestedStoreController.allowEnrollDEPDevice",isEnabledBinding:"Admin.itemSelectionFromNestedStoreController.canSetEnrollDEPDevice"})),e.push(Admin.AboutCheckboxItem.create({title:"_permissions_string_Allow enrollment of devices configured using Apple Configurator".loc(),valueBinding:"Admin.itemSelectionFromNestedStoreController.allowEnrollConfiguratorDevice",isEnabledBinding:"Admin.itemSelectionFromNestedStoreController.canSetEnrollConfiguratorDevice"})),e.push(Admin.AboutCheckboxItem.create({title:"_permissions_string_Restrict enrollment to placeholder devices".loc(),valueBinding:"Admin.itemSelectionFromNestedStoreController.requireKnownDevice"
,isEnabledBinding:"Admin.itemSelectionFromNestedStoreController.canSetRequireKnownDevice"})),e.push(Admin.AboutCheckboxItem.create({title:"_permissions_string_Restrict enrollment to assigned devices".loc(),valueBinding:"Admin.itemSelectionFromNestedStoreController.requireOwnedDevice",isEnabledBinding:"Admin.itemSelectionFromNestedStoreController.canSetRequireOwnedDevice",indentLevel:1}))),e.push(SC.Object.create({contentExampleView:Admin.AboutRestrictionsLearnMoreView})),e}.property("deviceManagementEnabled","depEnabled").cacheable(),deviceManagementEnabledBinding:"Admin.deviceManagementEnabled",depEnabledBinding:"Admin.SettingsController.isDEPServiceEnabled",eligibleOSXEAppDevices:SC.Record.attr(Array,{key:"osx_eapp_eligible_devices"}),hasEligbleOSXEAppDevices:function(){return this.get("eligibleOSXEAppDevices").get("length")>0}.property("eligibleOSXEAppDevices").cacheable(),enrollmentSettings:SC.Record.attr(Object,{key:"enrollment_settings"}),enrollmentSettingsEditable:function(e,t){if(t!==undefined)throw SC.$error("enrollmentSettingsEditable is ready only for %@".fmt(this.constructor));var n=this.get("enrollmentSettings");return!n||n.owned_by===this.get("id")}.property("enrollmentSettings").cacheable(),_allowActivationLock:function(e,t){var n=SC.clone(this.get("enrollmentSettings"),YES)||{};return t!==undefined&&(n.allow_activation_lock=t,this.set("enrollmentSettings",n)),n.allow_activation_lock}.property("enrollmentSettings"),allowActivationLock:function(e,t){if(t!==undefined){var n=t?"Bypass":"Never";this.set("_allowActivationLock",n)}var r=this.get("_allowActivationLock"
);return r&&r!=="Never"}.property("_allowActivationLock").cacheable(),allowActivationLockOnlyWithBypassCode:function(e,t){if(t!==undefined){var n=t?"Bypass":"Always";this.set("_allowActivationLock",n)}return this.get("_allowActivationLock")==="Bypass"}.property("_allowActivationLock").cacheable()}),Admin.User=Admin.DirectoryItem.extend({jpegData:SC.Record.attr(String,{key:"jpeg_data"}),smallIcon:function(){return this.get("jpegData")?"data:image/jpeg;base64,"+this.get("jpegData"):"admin-icon-user-16"}.property("jpegData"),mediumIcon:function(){return this.get("jpegData")?"data:image/jpeg;base64,"+this.get("jpegData"):"admin-icon-user-32"}.property("jpegData"),largeIcon:function(){return this.get("jpegData")?"data:image/jpeg;base64,"+this.get("jpegData"):"admin-icon-user-64"}.property("jpegData"),displayType:"_generic_string_User".loc(),isUser:YES,canMakeChanges:YES,profile:SC.Record.toOne("Admin.Profile",{key:"profile",inverse:"userMember",isMaster:NO}),profilesFromNestedStore:function(){return this.gotProfiles||(Admin.store.dataSource.addRpcs([["user","get_profiles",this.get("id")]],NO),this.gotProfiles=YES),Admin.get("profileForEditingNestedStore").find(SC.Query.local(Admin.Profile,{conditions:"userMemberId = {userId}",userId:this.get("id")}))}.property(),parentUserGroups:SC.Record.toMany("Admin.UserGroup",{key:"parent_user_groups"}),parentGroups:function(){return this.get("parentUserGroups")}.property("parentUserGroups"),gotAncestors:NO,members:SC.Record.toMany("Admin.Device",{key:"devices",inverse:"user"}),memberIds:function(){return this.readAttribute("devices")}.property
("members"),membersFromNestedStoreBinding:".thisFromNestedStore.members",membersFromNestedStoreLengthBinding:".membersFromNestedStore.length",thisFromNestedStore:function(){return Admin.get("itemSelectionNestedStore").find(this)}.property().cacheable(),isAdmin:SC.Record.attr(Boolean,{key:"is_admin"}),jobTitle:SC.Record.attr(String,{key:"job_title"}),lastName:SC.Record.attr(String,{key:"last_name"}),shortName:SC.Record.attr(Array,{key:"short_name"}),mobilePhone:SC.Record.attr(String,{key:"mobile_phone"}),email:SC.Record.attr(String),seenAdmin:SC.Record.attr(Boolean,{key:"seen_admin"}),firstName:SC.Record.attr(String,{key:"first_name"}),fullName:SC.Record.attr(String,{key:"full_name"}),name:function(){var e,t,n=this.get("fullName");if(n)return n;t=this.get("firstName"),e=this.get("lastName");if(!!t&&t!==""||!!e&&e!=="")return t===""?e:e===""?t:"_user_first_name_last_name".loc(t,e);e=this.getPath("shortName.firstObject");if(!e||e==="")e=this.readAttribute("short_name");return e}.property("fullName","firstName","lastName","shortName"),displayNameFromNestedStoreBinding:".thisFromNestedStore.displayName",secondaryInformation:function(e,t){if(t!==undefined)throw SC.$error("Read only!");var n=this.get("email");if(!n||n==="")n=this.get("mobilePhone");if(!n||n==="")n=this.getPath("shortName.firstObject");if(!n||n==="")n=this.readAttribute("short_name");return n===this.get("name")&&(n=""),n}.property("email","mobilePhone","shortName"),aboutInfoArray:function(){var e=[];return this.get("email")&&e.push(Admin.AboutInfoItem.create({key:"_generic_string_email".loc(),value:this.get("email")
})),this.get("mobilePhone")&&e.push(Admin.AboutInfoItem.create({key:"_generic_string_mobile".loc(),value:this.get("mobilePhone")})),this.get("shortName")&&e.push(Admin.AboutInfoItem.create({key:this.get("shortName").get("length")>1?"_generic_string_usernames".loc():"_generic_string_username".loc(),value:this.get("shortName").join("_generic_string_, ".loc())||this.readAttribute("short_name")})),e}.property("email","mobilePhone","shortName"),vppInviteCode:SC.Record.attr(String,{key:"vpp_invite_code"}),_vppStatus:SC.Record.attr(String,{key:"vpp_status"}),vppStatus:function(){var e=this.get("_vppStatus");return e==="Revoking"&&(e="Revoked"),e}.property("_vppStatus"),vppInvitationsCount:SC.Record.attr(Number,{key:"vpp_invitations_count"}),hasVppContentAssigned:SC.Record.attr(Boolean,{key:"has_vpp_content_assigned"}),vppStatusUpdatedAt:SC.Record.attr(SC.DateTime,{key:"vpp_status_updated_at"}),vppEnabledDevices:SC.Record.toMany("Admin.Device",{key:"vpp_enabled_devices"}),isUserAssociated:function(){return this.get("vppStatus")==="Associated"}.property("vppStatus"),isUserRegistered:function(){return this.get("vppStatus")==="Registered"}.property("vppStatus").cacheable(),isUserInviting:function(){return this.get("vppStatus")==="Inviting"}.property("vppStatus").cacheable(),isUserInvited:function(){return this.get("vppStatus")==="Invited"}.property("vppStatus").cacheable(),isUserRevoked:function(){return this.get("vppStatus")==="Revoked"}.property("vppStatus").cacheable(),isUserUnenrolled:function(){return this.get("vppStatus")==="Unenrolled"}.property("vppStatus").cacheable(),hasVppEnabledDevices
:function(e,t){if(t!==undefined)throw SC.$error("hasVppEnabledDevices is ready only for %@".fmt(this.constructor));var n=this.get("vppEnabledDevices");return n&&n.get("length")>0}.property("vppEnabledDevices").cacheable(),vppEmailAddress:SC.Record.attr(String,{key:"vpp_email_address"}),vppAboutInfoItems:function(){var e=[];e.push(SC.Object.create({contentExampleView:Admin.VppAboutItemHeaderView})),this.get("isUserRevoked")?e.push(SC.Object.create({contentExampleView:Admin.VppAboutItemEnrollmentStatusRevokedView})):this.get("isUserUnenrolled")&&e.push(SC.Object.create({contentExampleView:Admin.VppAboutItemEnrollmentStatusUnenrolledView})),this.get("isUserAssociated")?e.push(SC.Object.create({contentExampleView:Admin.VppAboutItemEnrolledUserInfoView})):this.get("isUserInviting")?e.push(SC.Object.create({contentExampleView:Admin.VppAboutItemEnrollmentInvitingView})):this.get("isUserInvited")?e.push(SC.Object.create({contentExampleView:Admin.VppAboutItemEnrollmentInvitedView})):e.push(SC.Object.create({contentExampleView:Admin.VppAboutItemEnrollmentNotInvitedView}));if(!this.get("isUserAssociated")){var t=this.get("vppEnabledDevices");t&&t.forEach(function(t){e.push(SC.Object.create({contentExampleView:Admin.VppAboutItemEnrollmentDeviceNotInvitedView.design({device:t})}))})}return e}.property("vppStatus","isUserAssociated","vppInvitationsCount","vppEnabledDevices").cacheable()}),Admin.UserGroup=Admin.DirectoryItem.extend({jpegData:SC.Record.attr(String,{key:"jpeg_data"}),smallIcon:function(){return this.get("jpegData")?"data:image/jpeg;base64,"+this.get("jpegData"):"admin-icon-user-group-16"
}.property("jpegData"),mediumIcon:function(){return this.get("jpegData")?"data:image/jpeg;base64,"+this.get("jpegData"):"admin-icon-user-group-32"}.property("jpegData"),largeIcon:function(){return this.get("jpegData")?"data:image/jpeg;base64,"+this.get("jpegData"):"admin-icon-user-group-64"}.property("jpegData"),displayType:"_generic_string_User Group".loc(),isUserGroup:YES,thisFromNestedStore:function(){return Admin.get("itemSelectionNestedStore").find(this)}.property().cacheable(),users:SC.Record.toMany("Admin.User",{key:"group_members"}),userIds:function(){return this.readAttribute("group_members")}.property("users","shortName"),userMembersLengthBinding:".users.length",childUserGroups:SC.Record.toMany("Admin.UserGroup",{key:"sub_groups"}),childUserGroupIds:function(){return this.readAttribute("sub_groups")}.property("childUserGroups"),childUserGroupMembersLengthBinding:".childUserGroups.length",parentUserGroups:SC.Record.toMany("Admin.UserGroup",{key:"parent_user_groups"}),parentGroups:function(){return this.get("parentUserGroups")}.property("parentUserGroups"),profile:SC.Record.toOne("Admin.Profile",{key:"profile",inverse:"userGroupMember",isMaster:NO}),profilesFromNestedStore:function(){return this.gotProfiles||(Admin.store.dataSource.addRpcs([["user_group","get_profiles",this.get("id")]],NO),this.gotProfiles=YES),Admin.get("profileForEditingNestedStore").find(SC.Query.local(Admin.Profile,{conditions:"userGroupMemberId = {userGroupId}",userGroupId:this.get("id")}))}.property(),gotAncestors:NO,members:function(){return this.get("shortName")=="everyone"?Admin.userSidebarItem
.get("itemArray"):[].concat(this.get("users").toArray(),this.get("childUserGroups").toArray())}.property("users","childUserGroups","shortName"),membersFromNestedStore:function(){return this.get("members")}.property("members"),fullName:SC.Record.attr(String,{key:"full_name"}),shortName:SC.Record.attr(String,{key:"short_name"}),name:function(){var e=this.get("fullName");return e?e:this.get("shortName")}.property("fullName","shortName"),displayNameFromNestedStoreBinding:".thisFromNestedStore.displayName",aboutInfoArray:function(){var e=[];return this.get("shortName")&&e.push(Admin.AboutInfoItem.create({key:"_generic_string_groupname".loc(),value:this.get("shortName")})),e}.property("shortName"),membersCount:function(e,t){if(t!==undefined)throw SC.$error("membersCount is ready only for %@".fmt(this.constructor));var n=this.readAttribute("group_members")?this.readAttribute("group_members").length:0,r=this.readAttribute("sub_groups")?this.readAttribute("sub_groups").length:0;return n+r}.property("usermembersCount","childUserGroupmembersCount","users","childUserGroups").cacheable(),totalUsers:SC.Record.attr(Number,{key:"total_users",defaultValue:0}),totalGroups:SC.Record.attr(Number,{key:"total_groups",defaultValue:0}),isODMirrorModeBinding:"Admin.SettingsController.isODMirrorMode",secondaryInformation:function(){if(!this.get("isODMirrorMode"))return"";if(this.get("shortName")=="everyone")return"_generic_string_All Users".loc();var e=this.get("totalGroups"),t=this.get("totalUsers"),n;return t+e===0?n="_generic_string_No Members".loc():e>0&&t===0?n=e===1?"_user_group_membership_count_1 Group, No Users"
.loc():"_user_group_membership_count_%@ Groups, No Users".loc(e):e===0&&t>0?n=t===1?"_user_group_membership_count_No Groups, 1 User".loc():"_user_group_membership_count_No Groups, %@ Users".loc(t):e===1&&t===1?n="_user_group_membership_count_1 Group, 1 User".loc():e>1&&t===1?n="_user_group_membership_count_%@ Groups, 1 User".loc(e):e===1&&t>1?n="_user_group_membership_count_1 Group, %@ User".loc(t):n="_user_group_membership_count_%@ Groups, %@ Users".loc(e,t),n}.property("shortName","totalGroups","totalUsers","isODMirrorMode"),isActive:SC.Record.attr(Boolean,{key:"is_active"}),isEveryone:function(e,t){if(t!==undefined)throw SC.$error("isEveryone is ready only for %@".fmt(this.constructor));return this.get("shortName")==="everyone"}.property("shortName").cacheable(),vppEnrolledUsersCount:SC.Record.attr(Number,{key:"users_enrolled",defaultValue:0}),vppUnEnrolledUsersCount:function(e,t){if(t!==undefined)throw SC.$error("vppUnEnrolledUsersCount is ready only for %@".fmt(this.constructor));return this.get("totalUsers")-this.get("vppEnrolledUsersCount")}.property("vppEnrolledUsersCount","totalUsers").cacheable(),hasUnEnrolledUsers:function(e,t){var n=this.get("totalUsers");return n>0&&n!==this.get("vppEnrolledUsersCount")}.property("totalUsers","vppEnrolledUsersCount").cacheable(),vppEnrollmentBeginTime:SC.Record.attr(SC.DateTime,{key:"enrolled_at_min"}),vppEnrollmentEndTime:SC.Record.attr(SC.DateTime,{key:"enrolled_at_max"}),usersWithEmail:SC.Record.attr(Number,{key:"users_with_email"}),usersWithoutEmail:function(){var e=this.get("vppUnEnrolledUsersCount"),t=this.get("usersWithEmail"
);return e-t}.property("vppUnEnrolledUsersCount","usersWithEmail").cacheable(),vppEmailInvitationsSent:SC.Record.attr(Number,{key:"users_email_invited"}),vppUsersNotInvitedByEmailCount:function(){var e=this.get("vppEmailInvitationsSent"),t=this.get("vppUnEnrolledUsersCount");return t-e}.property("vppUnEnrolledUsersCount","vppEmailInvitationsSent").cacheable(),vppEmailInvitationSentBeginTime:SC.Record.attr(SC.DateTime,{key:"email_invited_at_min"}),vppEmailInvitationSentEndTime:SC.Record.attr(SC.DateTime,{key:"email_invited_at_max"}),enrolledUsersWithVppDeviceCount:SC.Record.attr(Number,{key:"users_enrolled_with_vpp_device"}),enrolledUsersWithoutVppDeviceCount:function(){return this.get("vppEnrolledUsersCount")-this.get("enrolledUsersWithVppDeviceCount")}.property("vppEnrolledUsersCount","enrolledUsersWithVppDeviceCount").cacheable(),unenrolledUsersWithVppDeviceCount:SC.Record.attr(Number,{key:"users_with_vpp_device"}),usersWithoutVppDevice:function(){var e=this.get("vppUnEnrolledUsersCount"),t=this.get("unenrolledUsersWithVppDeviceCount");return e-t}.property("vppUnEnrolledUsersCount","unenrolledUsersWithVppDeviceCount").cacheable(),hasVppEnabledDevices:function(){return this.get("enrolledUsersWithVppDeviceCount")+this.get("unenrolledUsersWithVppDeviceCount")>0}.property("unenrolledUsersWithVppDeviceCount","enrolledUsersWithVppDeviceCount").cacheable(),vppDeviceInvitationsSent:SC.Record.attr(Number,{key:"users_device_invited"}),vppUsersNotInvitedByDeviceCount:function(){var e=this.get("vppDeviceInvitationsSent"),t=this.get("vppUnEnrolledUsersCount");return t-e}.property("vppDeviceInvitationsSent"
,"vppUnEnrolledUsersCount").cacheable(),vppDeviceInvitationSentBeginTime:SC.Record.attr(SC.DateTime,{key:"device_invited_at_min"}),vppDeviceInvitationSentEndTime:SC.Record.attr(SC.DateTime,{key:"device_invited_at_max"}),_vppServiceEnabled:SC.Record.attr(Boolean,{key:"vpp_service_enabled"}),vppServiceEnabled:function(e,t){return t!==undefined&&(t===NO&&this.get("_vppServiceEnabled")&&(this.set("assignedApplications",[]),this.set("assignedBooks",[])),this.set("_vppServiceEnabled",t)),this.get("_vppServiceEnabled")}.property("_vppServiceEnabled").cacheable(),lastRecursiveSyncDate:SC.Record.attr(SC.DateTime,{key:"last_recursive_sync"}),userGroupVppEmailInviteMemberType:"uninvited",vppAboutEmailInvitationAdditionalInfoClass:function(){var e=null,t=this.get("userGroupVppEmailInviteMemberType"),n=this.get("usersWithEmail"),r=this.get("usersWithoutEmail"),i=this.get("vppUsersNotInvitedByEmailCount");return t==="uninvited"?i===0?e=Admin.UserGroupVppAboutItemEmailInvitationAllUsersAdditionalInfoView:i===r?e=Admin.UserGroupVppAboutItemEmailInvitationNoneUninvitedAdditionalInfoView:r>0&&r<i&&(e=Admin.UserGroupVppAboutItemEmailInvitationSomeUninvitedNoEmailAdditionalInfoView):t==="unenrolled"&&r>0&&(n===0?e=Admin.UserGroupVppAboutItemEmailInvitationNoUnenrolledEmailAdditionalInfoView:e=Admin.UserGroupVppAboutItemEmailInvitationSomeUnenrolledNoEmailAdditionalInfoView),e}.property("userGroupVppEmailInviteMemberType","usersWithEmail","usersWithoutEmail","vppUsersNotInvitedByEmailCount").cacheable(),vppAboutDeviceInvitationAdditionalInfoClass:function(){var e="",t=this.get("userGroupVppEmailInviteMemberType"
),n=this.get("vppUsersNotInvitedByDeviceCount"),r=this.get("unenrolledUsersWithVppDeviceCount"),i=this.get("usersWithoutVppDevice");return t==="uninvited"?n===0?e=Admin.UserGroupVppAboutItemDeviceInvitationAllUsersAdditionalInfoView:n===i?e=Admin.UserGroupVppAboutItemDeviceInvitationNoneUninvitedAdditionalInfoView:i>0&&i<n&&(e=Admin.UserGroupVppAboutItemDeviceInvitationSomeUninvitedNoDevicesAdditionalInfoView):t==="unenrolled"&&(r===0?e=Admin.UserGroupVppAboutItemDeviceInvitationNoUnenrolledDeviceAdditionalInfoView:e=Admin.UserGroupVppAboutItemDeviceInvitationSomeUnenrolledNoDeviceAdditionalInfoView),e}.property("userGroupVppEmailInviteMemberType","vppUsersNotInvitedByDeviceCount","unenrolledUsersWithVppDeviceCount","usersWithoutVppDevice").cacheable(),addVppAboutInvitationInfoItems:function(e){e.push(SC.Object.create({contentExampleView:Admin.UserGroupVppAboutItemHeaderView})),this.get("vppEnrolledUsersCount")>0&&(this.get("vppEnrollmentBeginTime")===this.get("vppEnrollmentEndTime")?e.push(SC.Object.create({contentExampleView:Admin.UserGroupVppAboutItemEnrollmentCompletedStatusView})):e.push(SC.Object.create({contentExampleView:Admin.UserGroupVppAboutItemEnrollmentInProgressStatusView})),e.push(SC.Object.create({contentExampleView:Admin.UserGroupVppAboutItemUnenrollButtonView})));if(this.get("hasUnEnrolledUsers")){e.push(SC.Object.create({contentExampleView:Admin.UserGroupVppAboutItemInviteUsersView})),this.get("vppEmailInvitationsSent")>0?this.get("vppEmailInvitationSentBeginTime")===this.get("vppEmailInvitationSentEndTime")?e.push(SC.Object.create({contentExampleView:Admin
.UserGroupVppAboutItemEmailInvitationCompletedStatusView})):e.push(SC.Object.create({contentExampleView:Admin.UserGroupVppAboutItemEmailInvitationInProgressStatusView})):e.push(SC.Object.create({contentExampleView:Admin.UserGroupVppAboutItemEmailInvitationNotSentStatusView}));var t=this.get("vppAboutEmailInvitationAdditionalInfoClass");t&&e.push(SC.Object.create({contentExampleView:t})),e.push(SC.Object.create({contentExampleView:Admin.UserGroupVppAboutItemEmailInvitationButtonView}));if(this.get("deviceManagementEnabled")){this.get("vppDeviceInvitationsSent")>0?this.get("vppDeviceInvitationSentBeginTime")===this.get("vppDeviceInvitationSentEndTime")?e.push(SC.Object.create({contentExampleView:Admin.UserGroupVppAboutItemDeviceInvitationCompletedStatusView})):e.push(SC.Object.create({contentExampleView:Admin.UserGroupVppAboutItemDeviceInvitationInProgressStatusView})):e.push(SC.Object.create({contentExampleView:Admin.UserGroupVppAboutItemDeviceInvitationNotSentStatusView}));var n=this.get("vppAboutDeviceInvitationAdditionalInfoClass");n&&e.push(SC.Object.create({contentExampleView:n})),e.push(SC.Object.create({contentExampleView:Admin.UserGroupVppAboutItemDeviceInvitationButtonView}))}}},vppAboutInfoItems:function(){var e=[];return e.push(SC.Object.create({contentExampleView:Admin.UserGroupEnableVppServiceView})),this.get("vppServiceEnabled")&&(this.get("lastRecursiveSyncDate")?this.addVppAboutInvitationInfoItems(e):e.push(SC.Object.create({contentExampleView:Admin.UserGroupProcessingVppView}))),e}.property("totalUsers","vppEnrolledUsersCount","vppAboutEmailInvitationAdditionalInfoClass"
,"deviceManagementEnabled","vppServiceEnabled","lastRecursiveSyncDate").cacheable(),deviceManagementEnabledBinding:"Admin.SettingsController.deviceManagementEnabled",isVppContentAssignable:function(e,t){if(t!==undefined)throw SC.$error("isVppContentAssignable is ready only for %@".fmt(this.constructor));return this.get("vppServiceEnabled")&&this.get("lastRecursiveSyncDate")}.property("vppServiceEnabled","lastRecursiveSyncDate").cacheable()}),Admin.createDateTimeFromString=function(e){return SC.DateTime.create({year:e.substr(0,4),month:e.substr(5,2),day:e.substr(8,2),hour:e.substr(11,2),minute:e.substr(14,2),second:e.substr(17,2)})},Admin.File=Admin.Record.extend({primaryKey:"id",name:SC.Record.attr(String,{}),originalName:SC.Record.attr(String,{key:"name"}),path:SC.Record.attr(String,{}),fileData:SC.Record.attr(String,{key:"file_data"}),metadata:SC.Record.attr(Object,{}),certDataNotAfter:function(){if(this.get("metadata")&&this.get("metadata").cert_data&&this.get("metadata").cert_data.certificate&&this.get("metadata").cert_data.certificate.not_after)return Admin.createDateTimeFromString(this.get("metadata").cert_data.certificate.not_after).toFormattedString("_generic_string_Expires: %A, %B %D, %Y %i:%M:%S %p %Z".loc())}.property("metadata"),certDataSubjectName:function(){if(this.get("metadata")&&this.get("metadata").cert_data&&this.get("metadata").cert_data.certificate&&this.get("metadata").cert_data.certificate.subject&&this.get("metadata").cert_data.certificate.subject.split("/CN=")[1])return this.get("metadata").cert_data.certificate.subject.split("/CN=")[1].split("/")[0]
}.property("metadata"),certDataIssuedBy:function(){if(this.get("metadata")&&this.get("metadata").cert_data&&this.get("metadata").cert_data.certificate&&this.get("metadata").cert_data.certificate.issuer&&this.get("metadata").cert_data.certificate.issuer.split("/O=")[1])return"_generic_string_Issued by: %@1".loc(this.get("metadata").cert_data.certificate.issuer.split("/O=")[1].split("/")[0])}.property("metadata"),certDataIsRoot:function(){if(this.get("metadata")&&this.get("metadata").cert_data&&this.get("metadata").cert_data.is_root)return this.get("metadata").cert_data.is_root}.property("metadata"),certDataIsRootIcon:function(){return this.get("certDataIsRoot")?"admin-icon-certificate-root":this.get("certDataIsIdentity")?"admin-icon-certificate-identity":"admin-icon-certificate-standard"}.property("certData"),certDataIsIdentity:function(){if(this.get("metadata")&&this.get("metadata").cert_data)return!!this.get("metadata").cert_data.is_identity}.property("metadata"),ownerClass:SC.Record.attr(String,{key:"owner_class"}),ownerId:SC.Record.attr(Number,{key:"owner_id"}),knobSetClass:SC.Record.attr(String,{key:"knob_set_class"}),knobSetId:SC.Record.attr(Number,{key:"knob_set_id"}),knobSet:function(e,t){t!==undefined&&(this.set("knobSetClass",Admin.store.dataSource.modelToString(t.constructor)),this.set("knobSetId",t.get("id")),Admin.store.dataSource.addRpcs([["file","set_knob_set",this.get("id"),{knob_set_class:this.get("knobSetClass"),knob_set_id:this.get("knobSetId")}]],YES));if(this.get("knobSetClass")&&this.get("knobSetId"))return Admin.store.find(Admin.store.dataSource.stringToModel
(this.get("knobSetClass")),this.get("knobSetId"))}.property("knobSetClass","knobSetId")}),Admin.LabSession=Admin.Record.extend({primaryKey:"id",device:SC.Record.toOne("Admin.Device",{key:"device_id"}),user:SC.Record.toOne("Admin.User",{key:"user_id"}),userDisplayNameBinding:"*user.displayName",deviceDisplayNameBinding:"*device.displayName",progressStep:SC.Record.attr(Number,{key:"progress_step"}),smallIconBinding:"*device.smallIcon",name:function(){return"_lab_session_user_on_device".loc(this.get("userDisplayName"),this.get("deviceDisplayName"))}.property("deviceDisplayName","userDisplayName")}),Admin.NetworkMount=Admin.Record.extend({primaryKey:"id",smallIcon:"admin-dock-icon-application",displayName:SC.Record.attr(String,{key:"display_name"}),version:SC.Record.attr(String,{key:"version"}),path:SC.Record.attr(String,{key:"path"}),name:function(){return"%@  (%@)".fmt(this.get("displayName"))}.property("_displayName").cacheable(),nameToLowerCase:function(){return this.get("displayName").toLowerCase()}.property("displayName"),secondaryInformation:function(){return this.get("path")}.property("path").cacheable()}),Admin.OdSearch=Admin.Record.extend({primaryKey:"id"}),Admin.Printer=Admin.Record.extend({primaryKey:"id",identifier:SC.Record.attr(String,{key:"identifier"}),uri:SC.Record.attr(String,{key:"DeviceURI"}),displayName:SC.Record.attr(String,{key:"DisplayName"}),location:SC.Record.attr(String,{key:"Location"}),model:SC.Record.attr(String,{key:"Model"}),PPDURL:SC.Record.attr(String,{key:"PPDURL"}),printerLocked:SC.Record.attr(Boolean,{key:"printerLocked"}),selectedPrintingKnobSetBinding
:"Admin.actualProfileSettingController.firstObject",requiresAuth:function(e,t){var n=this.get("selectedPrintingKnobSet");return n?(t!==undefined&&n.toggleAuthForPrinter(this.get("id")),n.requireAuthForPrinter(this.get("id"))):NO}.property("selectedPrintingKnobSet"),name:function(){return this.get("status")&SC.Record.READY?this.get("displayName"):"Loading…"}.property("displayName","status").cacheable(),nameToLowerCase:function(){return this.get("name").toLowerCase()}.property("name"),secondaryInformation:function(){return this.get("model")}.property("model").cacheable()}),Admin.Profile=Admin.Record.extend({isProfile:YES,canMakeChanges:YES,displayNameFromNestedStoreBinding:".thisFromProfileForEditingNestedStore.displayName",thisFromProfileForEditingNestedStore:function(){return Admin.get("profileForEditingNestedStore").find(this)}.property("id"),secondaryInformation:function(){if(this.get("status")&SC.Record.BUSY_LOADING)return"";var e=[],t=this.get("allKnobSets"),n=t?t.get("length"):1;return e.push(n===1?"_profile_1_payload_configured".loc():"_profile_n_payloads_configured".loc(n)),this.get("updatedAt")&&(this.get("createdAt")&&this.getPath("updatedAt.milliseconds")-this.getPath("createdAt.milliseconds")>=15e3?e.push("_generic_string_Updated ".loc()+this.get("updatedAt").toTimezone(Admin.TIMEZONE).toFormattedString("_task_updated_at_formatted_string".loc())):e.push("_generic_string_Created ".loc()+this.get("createdAt").toTimezone(Admin.TIMEZONE).toFormattedString("_task_updated_at_formatted_string".loc()))),e.join(" - ")}.property("status","allKnobSets","updatedAt","createdAt"
,"allKnobSetsLength"),smallIcon:function(){return this.get("isALaCarteFromNestedStore")?Admin.ICON_PROFILE_SMALL:Admin.ICON_PROFILE_MANAGED_SMALL}.property("isALaCarteFromNestedStore").cacheable(),largeIcon:function(){return this.get("isALaCarteFromNestedStore")?Admin.ICON_PROFILE_LARGE:Admin.ICON_PROFILE_MANAGED_LARGE}.property("isALaCarteFromNestedStore").cacheable(),primaryKey:"id",name:SC.Record.attr(String,{isRequired:YES,defaultValue:"_generic_string_New Configuration Profile".loc()}),isSystemLevel:SC.Record.attr(Boolean,{key:"is_system_level",defaultValue:NO}),isALaCarte:SC.Record.attr(Boolean,{key:"is_a_la_carte",defaultValue:NO}),isManaged:function(e,t){return t!==undefined&&this.set("isALaCarteFromNestedStore",!t),!this.get("isALaCarteFromNestedStore")}.property("isALaCarteFromNestedStore"),isFromServermgr:SC.Record.attr(Boolean,{key:"is_from_servermgr",defaultValue:NO}),isALaCarteFromNestedStoreBinding:".thisFromProfileForEditingNestedStore.isALaCarte",thisFromNestedStore:function(){throw SC.$error("deprecated; there are two nested stores now")}.property().cacheable(),exampleView:SC.ListItemView.design({outlineIndent:6}),deviceMember:SC.Record.toOne("Admin.Device",{isMaster:YES,key:"device_id",inverse:"profile"}),deviceGroupMember:SC.Record.toOne("Admin.DeviceGroup",{isMaster:YES,key:"device_group_id",inverse:"profile"}),userMember:SC.Record.toOne("Admin.User",{isMaster:YES,key:"user_id",inverse:"profile"}),userGroupMember:SC.Record.toOne("Admin.UserGroup",{isMaster:YES,key:"user_group_id",inverse:"profile"}),userMemberId:function(){return this.readAttribute("user_id"
)}.property("userMember"),userGroupMemberId:function(){return this.readAttribute("user_group_id")}.property("userGroupMember"),deviceMemberId:function(){return this.readAttribute("device_id")}.property("deviceMember"),deviceGroupMemberId:function(){return this.readAttribute("device_group_id")}.property("deviceGroupMember"),owner:function(e,t){if(t!==undefined)if(t.isDevice)this.set("deviceMember",t),this.writeAttribute("device_id",t.get("id"));else if(t.isDeviceGroup)this.set("deviceGroupMember",t),this.writeAttribute("device_group_id",t.get("id"));else if(t.isUser)this.set("userMember",t),this.writeAttribute("user_id",t.get("id"));else{if(!t.isUserGroup)throw SC.$error("Attempt to set profile owner to invalid object type");this.set("userGroupMember",t),this.writeAttribute("user_group_id",t.get("id"))}return this.get("deviceMember")||this.get("deviceGroupMember")||this.get("userMember")||this.get("userGroupMember")}.property("isALaCarteFromNestedStore","deviceMember","deviceGroupMember","userMember","userGroupMember").idempotent(),_addSystemApps:function(e){e.push({value:"com.apple.mobilesafari",name:"_general_string_app_name_Safari".loc()}),e.push({value:"com.apple.videos",name:"_general_string_app_name_Videos".loc()}),e.push({value:"com.apple.mobilecal",name:"_general_string_app_name_Calendar".loc()}),e.push({value:"com.apple.Music",name:"_general_string_app_name_Music".loc()}),e.push({value:"com.apple.MobileAddressBook",name:"_general_string_app_name_Contacts".loc()}),e.push({value:"com.apple.MobileSMS",name:"_general_string_app_name_Messages".loc()}),e.push({value:"com.apple.Maps"
,name:"_general_string_app_name_Maps".loc()}),e.push({value:"com.apple.reminders",name:"_general_string_app_name_Reminders".loc()}),e.push({value:"com.apple.mobileslideshow",name:"_general_string_app_name_Photos".loc()}),e.push({value:"com.apple.mobilemail",name:"_general_string_app_name_Mail".loc()}),e.push({value:"com.apple.mobilenotes",name:"_general_string_app_name_Notes".loc()})},installedApplications:function(){var e=[],t=Admin.itemListController.getPath("selection.firstObject"),n=this.get("singleAppModeAppList")||[];if(t.instanceOf(Admin.Device)||t.instanceOf(Admin.DeviceGroup))this._addSystemApps(e),t.get("isMac")||n.forEach(function(t){e.push({name:t.Name||t.Identifier,value:t.Identifier})});return e}.property("singleAppModeAppList").cacheable(),singleAppModeAppListBinding:"Admin.itemSelectionController.singleAppModeAppList",loadKnobSets:function(){if(!this.get("id"))return;if(this.store!==Admin.store)return Admin.store.find(this).loadKnobSets();this.knobSetsDownloaded||(Admin.store.dataSource.addRpcs([["profile","get_knob_sets",this.get("id")]],NO),this.knobSetsDownloaded=YES)},_getKnobSetsOfType:function(e){if(!this.get("id"))throw SC.$error("Trying to get"+e.toString()+"before id is available!");return this.loadKnobSets(),Admin.get("profileForEditingNestedStore").find(SC.Query.local(e,{orderBy:"isFromServermgr DESC",conditions:"profileId = {profileId} AND isEnabled = YES",profileId:this.get("id")}))},nonIdentityCertificateKnobSets:function(){return this.loadKnobSets(),Admin.get("profileForEditingNestedStore").find(SC.Query.local(Admin.CertificateKnobSet,{orderBy:"isFromServermgr DESC"
,conditions:"profileId = {profileId} AND (isRoot = YES OR isIdentity = NO)",profileId:this.get("id")}))}.property("certificateKnobSets").cacheable(),identityCertificateKnobSets:function(){return this.loadKnobSets(),Admin.get("profileForEditingNestedStore").find(SC.Query.local(Admin.CertificateKnobSet,{orderBy:"isFromServermgr DESC",conditions:"profileId = {profileId} AND isIdentity = YES",profileId:this.get("id")}))}.property("certificateKnobSets").cacheable(),adCertKnobSets:function(){return this.loadKnobSets(),Admin.get("profileForEditingNestedStore").find(SC.Query.local(Admin.AdCertKnobSet,{orderBy:"isFromServermgr DESC",conditions:"profileId = {profileId} AND isEnabled = YES",profileId:this.get("id")}))}.property(),scepKnobSets:function(){return this.loadKnobSets(),Admin.get("profileForEditingNestedStore").find(SC.Query.local(Admin.ScepKnobSet,{orderBy:"isFromServermgr DESC",conditions:"profileId = {profileId} AND isEnabled = YES",profileId:this.get("id")}))}.property(),_updateIdentityCerts:function(){this.get("scepKnobSets").reload(),this.get("adCertKnobSets").reload(),this.get("identityCertificateKnobSets").reload()},_updateNonIdentityCerts:function(){this.get("nonIdentityCertificateKnobSets").reload()},identityCertificateKnobSetsLengthBinding:SC.Binding.oneWay(".identityCertificateKnobSets.length"),scepKnobSetsLengthBinding:SC.Binding.oneWay(".scepKnobSets.length"),adCertKnobSetsLengthBinding:SC.Binding.oneWay(".adCertKnobSets.length"),_fillIdentityCertObjects:function(e){var t=this.get("identityCertificateKnobSets");if(t!==undefined)for(var n=0;n<t.get("length");n++)
{var r=t.objectAt(n);r&&e.push(SC.Object.create({ref:r,nameBinding:".ref.displayName",value:r.get("payloadUUID")}))}},_fillScepCertObjects:function(e){var t=this.get("scepKnobSets");if(t!==undefined)for(var n=0;n<t.get("length");n++){var r=t.objectAt(n);e.push(SC.Object.create({ref:r,nameBinding:".ref.certDisplayName",value:r.get("payloadUUID")}))}},_fillAdCertObjects:function(e){var t=this.get("adCertKnobSets");if(t!==undefined)for(var n=0;n<t.get("length");n++){var r=t.objectAt(n);e.push(SC.Object.create({ref:r,nameBinding:".ref.certDisplayName",value:r.get("payloadUUID")}))}},_finalizeCertObjects:function(e){e.length===0?e.push({name:"_generic_string_No applicable Certificate payload is configured".loc(),value:"--none--"}):e.splice(0,0,SC.Object.create({name:"_generic_string_--".loc(),value:"--none--"}))},identityAndScepCertObjects:function(){var e=[];return this._fillIdentityCertObjects(e),this._fillScepCertObjects(e),this._finalizeCertObjects(e),e}.property("identityCertificateKnobSetsLength","scepKnobSetsLength").cacheable(),identityScepAndAdCertObjects:function(){var e=[];return this._fillIdentityCertObjects(e),this._fillScepCertObjects(e),this._fillAdCertObjects(e),this._finalizeCertObjects(e),e}.property("identityCertificateKnobSetsLength","scepKnobSetsLength","adCertKnobSetsLength").cacheable(),allKnobSets:function(){if(!this.get("id"))return;return this._getKnobSetsOfType(Admin.KnobSet)}.property("id").cacheable(),allKnobSetsLengthBinding:".allKnobSets.length",mailKnobSets:function(){return this._getKnobSetsOfType(Admin.EmailKnobSet)}.property(),privacyKnobSets:function(
){return this._getKnobSetsOfType(Admin.PrivacyKnobSet)}.property(),vpnKnobSets:function(){return this._getKnobSetsOfType(Admin.VpnKnobSet)}.property(),globalHttpProxyKnobSets:function(){return this._getKnobSetsOfType(Admin.GlobalHttpProxyKnobSet)}.property(),appLockKnobSets:function(){return this._getKnobSetsOfType(Admin.AppLockKnobSet)}.property(),interfaceKnobSets:function(){return this._getKnobSetsOfType(Admin.InterfaceKnobSet)}.property(),exchangeKnobSets:function(){return this._getKnobSetsOfType(Admin.ExchangeKnobSet)}.property(),certificateKnobSets:function(){return this._getKnobSetsOfType(Admin.CertificateKnobSet)}.property(),loginWindowKnobSets:function(){return this._getKnobSetsOfType(Admin.LoginWindowKnobSet)}.property(),loginItemKnobSets:function(){return this._getKnobSetsOfType(Admin.LoginItemKnobSet)}.property(),passcodeKnobSets:function(){return this._getKnobSetsOfType(Admin.PasscodeKnobSet)}.property(),ldapKnobSets:function(){return this._getKnobSetsOfType(Admin.LdapKnobSet)}.property(),directoryKnobSets:function(){return this._getKnobSetsOfType(Admin.DirectoryKnobSet)}.property(),cfprefsKnobSets:function(){return this._getKnobSetsOfType(Admin.CfprefsKnobSet)}.property(),calDavKnobSets:function(){return this._getKnobSetsOfType(Admin.CalDavKnobSet)}.property(),subscribedCalendarKnobSets:function(){return this._getKnobSetsOfType(Admin.CalSubKnobSet)}.property(),restrictionsKnobSets:function(){return this._getKnobSetsOfType(Admin.RestrictionsKnobSet)}.property(),cardDavKnobSets:function(){return this._getKnobSetsOfType(Admin.CardDavKnobSet)}.property(),webClipKnobSets
:function(){return this._getKnobSetsOfType(Admin.WebClipKnobSet)}.property(),iChatKnobSets:function(){return this._getKnobSetsOfType(Admin.IchatKnobSet)}.property(),generalKnobSets:function(){return this._getKnobSetsOfType(Admin.GeneralKnobSet)}.property(),apnKnobSets:function(){return this._getKnobSetsOfType(Admin.ApnKnobSet)}.property(),dockKnobSets:function(){return this._getKnobSetsOfType(Admin.DockKnobSet)}.property(),softwareUpdateKnobSets:function(){return this._getKnobSetsOfType(Admin.SoftwareUpdateKnobSet)}.property(),printingKnobSets:function(){return this._getKnobSetsOfType(Admin.PrintingKnobSet)}.property(),mobilityKnobSets:function(){return this._getKnobSetsOfType(Admin.MobilityKnobSet)}.property(),macRestrictionsKnobSets:function(){return this._getKnobSetsOfType(Admin.MacRestrictionsKnobSet)}.property(),energySaverKnobSets:function(){return this._getKnobSetsOfType(Admin.EnergySaverKnobSet)}.property(),parentalControlsKnobSets:function(){return this._getKnobSetsOfType(Admin.ParentalControlsKnobSet)}.property(),identificationKnobSets:function(){return this._getKnobSetsOfType(Admin.IdentificationKnobSet)}.property(),timeMachineKnobSets:function(){return this._getKnobSetsOfType(Admin.TimeMachineKnobSet)}.property(),finderKnobSets:function(){return this._getKnobSetsOfType(Admin.FinderKnobSet)}.property(),universalAccessKnobSets:function(){return this._getKnobSetsOfType(Admin.UniversalAccessKnobSet)}.property(),airplayKnobSets:function(){return this._getKnobSetsOfType(Admin.AirplayKnobSet)}.property(),singleSignOnKnobSets:function(){return this._getKnobSetsOfType(Admin
.SingleSignOnKnobSet)}.property(),airprintKnobSets:function(){return this._getKnobSetsOfType(Admin.AirPrintKnobSet)}.property(),webContentFilterKnobSets:function(){return this._getKnobSetsOfType(Admin.WebContentFilterKnobSet)}.property(),fontsKnobSets:function(){return this._getKnobSetsOfType(Admin.FontsKnobSet)}.property(),xsanKnobSets:function(){return this._getKnobSetsOfType(Admin.XsanKnobSet)}.property(),managedDomainsKnobSets:function(){return this._getKnobSetsOfType(Admin.ManagedDomainsKnobSet)}.property(),knobSetProperties:["generalKnobSets","mailKnobSets","vpnKnobSets","globalHttpProxyKnobSets","appLockKnobSets","interfaceKnobSets","exchangeKnobSets","certificateKnobSets","scepKnobSets","passcodeKnobSets","ldapKnobSets","directoryKnobSets","calDavKnobSets","subscribedCalendarKnobSets","restrictionsKnobSets","webClipKnobSets","apnKnobSets","iChatKnobSets","cardDavKnobSets","dockKnobSets","loginWindowKnobSets","loginItemKnobSets","mobilityKnobSets","softwareUpdateKnobSets","printingKnobSets","privacyKnobSets","parentalControlsKnobSets","energySaverKnobSets","macRestrictionsKnobSets","adCertKnobSets","cfprefsKnobSets","identificationKnobSets","timeMachineKnobSets","finderKnobSets","universalAccessKnobSets","airplayKnobSets","singleSignOnKnobSets","airprintKnobSets","webContentFilterKnobSets","fontsKnobSets","xsanKnobSets","managedDomainsKnobSets"],knobSetTypesUsed:function(){this.loadKnobSets();var e=this.get("knobSetProperties"),t=[];for(var n=0,r=e.length;n<r;n++){var i=e[n];if(this.getPath(i+".length")){var s=this.getPath(i+".query.recordType");t.push(SC.Object.create
({numLines:s.numLines||1,displayName:s.displayName||"Unknown Name",largeIcon:s.largeIcon||null,knobSetClass:s}))}}return t}.property("allKnobSetsLength"),thisIdDidChange:function(){var e=this.get("id");if(e>0&&e!==this.lastId){this.lastId=e;var t=this.get("knobSetProperties");for(var n=0,r=t.length;n<r;n++){var i=t[n];this.get(i).addObserver("length",this,"oneOfTheKnobSetsLengthDidChange")}}}.observes("id"),oneOfTheKnobSetsLengthDidChange:function(){this.notifyPropertyChange("knobSetTypesUsed"),this.notifyPropertyChange("allKnobSetsLength")},isProfileOrAutoJoinProfile:YES}),Admin.Settings=Admin.Record.extend({primaryKey:"id",vppUserName:SC.Record.attr(String,{key:"vpp_username"}),isVppServiceEnabled:SC.Record.attr(Boolean,{key:"vpp_service_enabled"}),depServiceState:SC.Record.attr(Number,{key:"dep_service_state"}),isDEPServiceEnabled:function(e,t){return this.get("depServiceState")===3}.property("depServiceState"),isDEPServiceSuspended:function(e,t){return this.get("depServiceState")===4}.property("depServiceState"),lastODFullSyncDateTime:SC.Record.attr(SC.DateTime,{key:"od_last_full_sync"}),odActive:SC.Record.attr(Boolean,{key:"od_active"}),apnsActive:SC.Record.attr(Boolean,{key:"apns_active"}),deviceManagementEnabled:function(e,t){if(t!==undefined)throw SC.$error("deviceManagementEnabled is ready only for %@".fmt(this.constructor));return this.get("odActive")&&this.get("apnsActive")}.property("odActive","apnsActive").cacheable(),odSyncMode:SC.Record.attr(Number,{key:"od_sync_mode"}),isODMirrorMode:function(e,t){if(t!==undefined)throw SC.$error("isODMirrorMode is ready only for %@"
.fmt(this.constructor));return this.get("odSyncMode")===3}.property("odSyncMode").cacheable(),lastDEPFullSyncDateTime:SC.Record.attr(SC.DateTime,{key:"dep_last_full_sync"}),lastDEPIncrementalSyncDateTime:SC.Record.attr(SC.DateTime,{key:"dep_last_incremental_sync"})}),Admin.SystemApplication=Admin.Record.extend({primaryKey:"id",identifier:SC.Record.attr(String,{key:"identifier"}),_icon:SC.Record.attr(String,{key:"icon"}),smallIcon:function(){var e=this.get("_icon");return e?e:"admin-dock-icon-application"}.property("_icon").cacheable(),displayName:SC.Record.attr(String,{key:"display_name"}),version:SC.Record.attr(String,{key:"version"}),path:SC.Record.attr(String,{key:"path"}),name:function(){return"%@  (%@)".fmt(this.get("displayName"),this.get("version"))}.property("_displayName","version").cacheable(),nameToLowerCase:function(){return this.get("displayName").toLowerCase()}.property("displayName"),secondaryInformation:function(){return this.get("version")}.property("version").cacheable(),loginHide:function(e,t){var n=Admin.getPath("actualProfileSettingController.firstObject");return n&&n.constructor===Admin.LoginItemKnobSet?(t!==undefined&&n.toggleHiddenForApplication(this.get("id")),n.hiddenForApplication(this.get("id"))):NO}.property("selectedLoginItemKnobSet"),selectedLoginItemKnobSetBinding:"Admin.actualProfileSettingController.firstObject"}),Admin.BaseTask=Admin.Record.extend({_taskType:SC.Record.attr(String,{key:"task_type"}),taskType:function(e,t){if(t!==undefined)throw SC.$error("taskType is ready only for %@".fmt(this.constructor));return this.get("_taskType")}.property
("_taskType").cacheable()}),Admin.TASK_TYPES={Lock:"_task_type_lock".loc(),Wipe:"_task_type_wipe".loc(),ClearPasscode:"_task_type_clear_passcode".loc(),DeviceInfo:"_task_type_device_info".loc(),PushApplications:"_task_type_push_settings".loc()},Admin.LibraryItemTask=Admin.BaseTask.extend(Admin.TaskIconMixin,{contentType:function(){return Admin.store.dataSource.modelToString(this.constructor)}.property().cacheable(),isTask:YES,primaryKey:"id",targetName:SC.Record.attr(String,{key:"target_name"}),name:function(e,t){if(t!==undefined)throw SC.$error("Read only!");var n=this.get("taskType"),r=this.get("targetName");if(!r||r.length<1)r="_generic_string_New Device".loc();switch(n){case"DeviceLock":return"_task_type_lock_with_display_name".loc(r);case"Wipe":return"_task_type_wipe_with_display_name".loc(r);case"EraseDevice":return"_task_type_wipe_with_display_name".loc(r);case"ClearPasscode":return"_task_type_clear_passcode_with_display_name".loc(r);case"ClearRestrictionsPassword":return"_task_type_clear_restrictions_passcode_with_display_name".loc(r);case"UpdateInformation":return"_task_type_update_info_with_display_name".loc(r);case"RemoveProfile":return"_task_type_remove_profile_with_display_name".loc(r);case"InstallProfile":return"_task_type_push_settings_with_display_name".loc(r);case"SendVPPInvitation":return"_task_type_send_vpp_invitation_with_display_name".loc(r);case"RemoveMDM":return"_task_type_remove_device_with_display_name".loc(r);case"EnrollDevice":return"_task_type_enroll_device_with_display_name".loc(r);case"PushApplications":return"_task_type_push_apps_with_display_name"
.loc(r);case"RemoveApplications":return"_task_type_remove_apps_with_display_name".loc(r);case"InstallMedia":return"_task_type_push_media_with_display_name".loc(r);case"RemoveMedia":return"_task_type_remove_media_with_display_name".loc(r);case"RetrieveALBypassCode":return"_task_type_retrieve_activation_lock_bypass_code_with_display_name".loc(r);case"AllowActivationLock":return"_task_type_allow_activation_lock_with_display_name".loc(r);case"RemoveActivationLock":return"_task_type_remove_activation_lock_with_display_name".loc(r);case"RequestMirroring":return"_task_type_request_airplay_mirroring_with_display_name".loc(r);case"StopMirroring":return"_task_type_stop_airplay_mirroring_with_display_name".loc(r);case"SetDeviceName":return"_task_type_rename_with_display_name".loc(r);case"DEPUpdateProfile":return"_task_type_update_dep_profile_with_display_name".loc(r);default:return"%@: %@".fmt(n,r)}return"<Unknown Task Type>"}.property("taskType","targetName"),displayNameFromNestedStore:function(){return this.get("displayName")}.property("displayName","targetLibraryItemDisplayName"),nameToLowerCase:function(){return this.get("name").toLowerCase()}.property("name"),deviceName:function(){return this.get("targetLibraryItemDisplayName")}.property("targetLibraryItemDisplayName"),targetLibraryItemDisplayNameBinding:"*targetLibraryItem.displayName",isCompleted:function(e,t){if(t!==undefined)throw SC.$error("read only");var n=this.get("completedAt");return n!==undefined&&n!==null}.property("completedAt"),isCancelable:function(e,t){if(t!==undefined)throw SC.$error("read only");return!this.get("isCompleted"
)}.property("isCompleted"),hasSucceeded:SC.Record.attr(Boolean,{key:"succeeded"}),completedAt:SC.Record.attr(SC.DateTime,{key:"completed_at"}),isContainerTask:function(e,t){if(t!==undefined)throw SC.$error("read only");return YES},showInItemList:function(e,t){if(t!==undefined)throw SC.$error("read only");return YES},parameters:SC.Record.attr(Object),hasPIN:function(){var e=this.get("parameters");return e&&e.PIN&&e.PIN.length>0}.property("parameters"),totalTargetCount:SC.Record.attr(Number,{key:"total_target_count"}),succeededTargetCount:SC.Record.attr(Number,{key:"succeeded_target_count"}),canceledTargetCount:SC.Record.attr(Number,{key:"canceled_target_count"}),failedTargetCount:SC.Record.attr(Number,{key:"failed_target_count"}),progressStep:function(e,t){if(t!==undefined)throw SC.$error("Read only!");return this.get("isCompleted")?3:this.getPath("targetProgressStepBinding")}.property("isCompleted","targetProgressStepBinding"),targetProgressStepBinding:"*target.progressStep",secondaryInformation:function(e,t){function u(e){return e?e>1?"*":"+":"."}if(!this.get("isLoaded"))return"";if(t!==undefined)return console.warn("Read only!"),"";var n=this.get("succeededTargetCount"),r=this.get("canceledTargetCount"),i=this.get("failedTargetCount"),s=this.get("totalTargetCount"),o=s-n-r-i,a=(o?"+":".")+u(n)+u(r)+u(i);switch(a){case"....":return"_task_no_devices".loc();case"...+":return"_task_1_failed".loc(i);case"...*":return"_task_many_failed".loc(i);case"..+.":return"_task_1_cancelled".loc(r);case"..*.":return"_task_many_cancelled".loc(r);case".+..":return"_task_1_succeeded".loc(n);case".*.."
:return"_task_many_succeeded".loc(n);case"..++":return"_task_1_cancelled_1_failed".loc(r,i);case"..*+":return"_task_many_cancelled_1_failed".loc(r,i);case"..+*":return"_task_1_cancelled_many_failed".loc(r,i);case"..**":return"_task_many_cancelled_many_failed".loc(r,i);case".+.+":return"_task_1_succeeded_1_failed".loc(n,i);case".*.+":return"_task_many_succeeded_1_failed".loc(n,i);case".+.*":return"_task_1_succeeded_many_failed".loc(n,i);case".*.*":return"_task_many_succeeded_many_failed".loc(n,i);case".++.":return"_task_1_succeeded_1_cancelled".loc(n,r);case".*+.":return"_task_many_succeeded_1_cancelled".loc(n,r);case".+*.":return"_task_1_succeeded_many_cancelled".loc(n,r);case".**.":return"_task_many_succeeded_many_cancelled".loc(n,r);case".+++":return"_task_1_succeeded_1_cancelled_1_failed".loc(n,r,i);case".*++":return"_task_many_succeeded_1_cancelled_1_failed".loc(n,r,i);case".+*+":return"_task_1_succeeded_many_cancelled_1_failed".loc(n,r,i);case".++*":return"_task_1_succeeded_1_cancelled_many_failed".loc(n,r,i);case".**+":return"_task_many_succeeded_many_cancelled_1_failed".loc(n,r,i);case".+**":return"_task_1_succeeded_many_cancelled_many_failed".loc(n,r,i);case".*+*":return"_task_many_succeeded_1_cancelled_many_failed".loc(n,r,i);case".***":return"_task_many_succeeded_many_cancelled_many_failed".loc(n,r,i);case"+...":return"_task_1_of_2_in_progress".loc(o,s);case"+..+":return"_task_1_of_2_in_progress_1_failed".loc(o,s,i);case"+..*":return"_task_1_of_2_in_progress_many_failed".loc(o,s,i);case"+.+.":return"_task_1_of_2_in_progress_1_cancelled".loc(o,s,r);case"+.*.":return"_task_1_of_2_in_progress_many_cancelled"
.loc(o,s,r);case"++..":return"_task_1_of_2_in_progress_1_succeeded".loc(o,s,n);case"+*..":return"_task_1_of_2_in_progress_many_succeeded".loc(o,s,n);case"+.++":return"_task_1_of_2_in_progress_1_cancelled_1_failed".loc(o,s,r,i);case"+.*+":return"_task_1_of_2_in_progress_many_cancelled_1_failed".loc(o,s,r,i);case"+.+*":return"_task_1_of_2_in_progress_1_cancelled_many_failed".loc(o,s,r,i);case"+.**":return"_task_1_of_2_in_progress_many_cancelled_many_failed".loc(o,s,r,i);case"++.+":return"_task_1_of_2_in_progress_1_succeeded_1_failed".loc(o,s,n,i);case"+*.+":return"_task_1_of_2_in_progress_many_succeeded_1_failed".loc(o,s,n,i);case"++.*":return"_task_1_of_2_in_progress_1_succeeded_many_failed".loc(o,s,n,i);case"+*.*":return"_task_1_of_2_in_progress_many_succeeded_many_failed".loc(o,s,n,i);case"+++.":return"_task_1_of_2_in_progress_1_succeeded_1_cancelled".loc(o,s,n,r);case"+*+.":return"_task_1_of_2_in_progress_many_succeeded_1_cancelled".loc(o,s,n,r);case"++*.":return"_task_1_of_2_in_progress_1_succeeded_many_cancelled".loc(o,s,n,r);case"+**.":return"_task_1_of_2_in_progress_many_succeeded_many_cancelled".loc(o,s,n,r);case"++++":return"_task_1_of_2_in_progress_1_succeeded_1_cancelled_1_failed".loc(o,s,n,r,i);case"+++*":return"_task_1_of_2_in_progress_1_succeeded_1_cancelled_many_failed".loc(o,s,n,r,i);case"++*+":return"_task_1_of_2_in_progress_1_succeeded_many_cancelled_1_failed".loc(o,s,n,r,i);case"+*++":return"_task_1_of_2_in_progress_many_succeeded_1_cancelled_1_failed".loc(o,s,n,r,i);case"++**":return"_task_1_of_2_in_progress_1_succeeded_many_cancelled_many_failed".loc(o,s,
n,r,i);case"+**+":return"_task_1_of_2_in_progress_many_succeeded_many_cancelled_1_failed".loc(o,s,n,r,i);case"+*+*":return"_task_1_of_2_in_progress_many_succeeded_1_cancelled_many_failed".loc(o,s,n,r,i);case"+***":return"_task_1_of_2_in_progress_many_succeeded_many_cancelled_many_failed".loc(o,s,n,r,i)}}.property("isLoaded","isCompleted","succeededTargetCount","canceledTargetCount","failedTargetCount","totalTargetCount"),updatedAtFormattedString:function(){if(!this.get("isLoaded")||!this.get("updatedAt"))return;return this.get("updatedAt").toTimezone(Admin.TIMEZONE).toFormattedString("_task_updated_at_formatted_string".loc())}.property("updatedAt"),targetClass:SC.Record.attr(String,{key:"target_class"}),targetClassModel:function(){return this.get("targetClass")&&Admin.store.dataSource.stringToModel(this.get("targetClass"))}.property("targetClass"),targetId:SC.Record.attr(Number,{key:"target_id"}),targetLibraryItem:function(){if(!this.get("targetClass")||!this.get("targetId"))return;var e=Admin.store.dataSource.stringToModel(this.get("targetClass"));return Admin.store.find(e,this.get("targetId"))}.property("targetClass","targetId"),smallDeviceIconBinding:"*targetLibraryItem.smallIcon",smallIcon:function(){if(this.get("isLoaded"))return this.getIconForTaskType(this.get("taskType"),"16")}.property("taskType").cacheable(),mediumIcon:function(){if(this.get("isLoaded"))return this.getIconForTaskType(this.get("taskType"),"32")}.property("taskType").cacheable(),largeIcon:function(){if(this.get("isLoaded"))return this.getIconForTaskType(this.get("taskType"),"64")}.property("taskType"
).cacheable()}),Admin.CompletedLibraryItemTask=Admin.LibraryItemTask.extend({isCompletedTask:YES}),Admin.TargetTask=Admin.BaseTask.extend(Admin.ProductNameToDeviceTypeMixin,{contentType:function(){return Admin.store.dataSource.modelToString(this.constructor)}.property().cacheable(),primaryKey:"id",taskStatus:SC.Record.attr(String,{key:"status"}),isCompleted:function(e,t){if(t!==undefined)throw SC.$error("read only");return this.get("taskStatus")==="succeeded"}.property("taskStatus"),isCancelable:function(e,t){if(t!==undefined)throw SC.$error("read only");return!this.get("isCompleted")}.property("isCompleted"),completedAt:SC.Record.attr(SC.DateTime,{key:"completed_at"}),userId:SC.Record.attr(Number,{key:"user_id"}),deviceId:SC.Record.attr(Number,{key:"device_id"}),vppApp:SC.Record.toOne("Admin.UnifiedApplication",{key:"vpp_product_id"}),vppBook:SC.Record.toOne("Admin.UnifiedBook",{key:"vpp_product_id"}),targetType:SC.Record.attr(String,{key:"target_type"}),targetIsUser:function(e,t){if(t!==undefined)throw SC.$error("targetIsUser is ready only for %@".fmt(this.constructor));return this.get("targetType")==="User"}.property("targetType").cacheable(),firstName:SC.Record.attr(String,{key:"first_name"}),lastName:SC.Record.attr(String,{key:"last_name"}),_targetName:SC.Record.attr(String,{key:"target_name"}),targetName:function(e,t){if(t!==undefined)throw SC.$error("targetName is ready only for %@".fmt(this.constructor));var n=this.get("_targetName");return n||(this.get("targetIsUser")?n="_user_first_name_last_name".loc(this.get("firstName"),this.get("lastName")):n="_generic_string_New Device"
.loc()),n}.property("_targetName","targetIsUser").cacheable(),_targetOwnerName:SC.Record.attr(String,{key:"target_owner_name"}),targetOwnerName:function(e,t){if(t!==undefined)throw SC.$error("targetOwnerName is ready only for %@".fmt(this.constructor));var n=this.get("_targetOwnerName");return!n&&this.get("firstName")&&this.get("lastName")&&(n="_user_first_name_last_name".loc(this.get("firstName"),this.get("lastName"))),n}.property("_targetOwnerName","firstName","lastName").cacheable(),payloadName:SC.Record.attr(String,{key:"payload_name"}),profileOwnerType:SC.Record.attr(String,{key:"profile_owner_type"}),profileOwnerId:SC.Record.attr(String,{key:"profile_owner_id"}),updatedAtFormattedString:function(){if(!this.get("isLoaded")||!this.get("updatedAt"))return;return this.get("updatedAt").toTimezone(Admin.TIMEZONE).toFormattedString("_task_updated_at_formatted_string".loc())}.property("isLoaded","updatedAt"),secondaryInformation:function(e,t){var n="",r=this.get("taskStatus");switch(r){case"succeeded":n="_task_succeeded".loc();break;case"canceled":n="_task_cancelled".loc();break;case"failed":n="_task_failed".loc();break;case"pending":n="_task_step_notification_pending".loc();break;case"in_progress":n="_task_step_device_receieved_device_completion_pending".loc();break;case"not_invited":n="_task_step_vpp_status_user_not_invited".loc();break;case"not_enrolled":n="_task_step_vpp_status_user_not_enrolled".loc();break;case"not_licensed":n="_task_step_vpp_status_no_copies_available".loc();break;default:console.warn("unknown progress: "+this.get("progressStep"))}return n}.property("taskStatus"
),productName:SC.Record.attr(String,{key:"ProductName"}),validTypeName:function(){var e=this.get("productName");return this.productNameToDeviceType(e)||"macintosh"}.property("productName").cacheable(),smallIcon:function(e,t){if(t!==undefined)throw SC.$error("smallIcon is ready only for %@".fmt(this.constructor));if(this.get("targetIsUser"))return"admin-icon-user-16";var n=this.get("validTypeName"),r="macintosh-16";return SC.none(n)||(r=n.toLowerCase().replace(",","_")+"-16"),r}.property("validTypeName","targetIsUser").cacheable()}),Admin.UnifiedAsset=Admin.Record.extend({primaryKey:"id",_name:SC.Record.attr(String,{key:"name"}),name:function(e,t){t!==undefined&&this.set("_name",t);var n="",r=this.get("_name"),i=this.get("adamId");return r?n=r:i&&(n=String(i)),n}.property("_name").cacheable(),version:SC.Record.attr(String),_category:SC.Record.attr(String,{key:"category"}),category:function(e,t){var n=this.get("_category")||"_apps_category_string_B2B".loc();return n==="Enterprise"?n="_apps_category_string_enterprise".loc():["PDF","iBooks","ePub"].contains(n)&&(n=("_books_category_string_"+n).loc()),n}.property("_category").cacheable(),_purchasedLicenses:SC.Record.attr(Number,{key:"license_count"}),assignedUserGroups:SC.Record.toMany("Admin.UserGroup",{key:"user_groups"}),assignedUsers:SC.Record.toMany("Admin.User",{key:"users"}),purchasedLicenses:function(e,t){var n=this.get("licenseType");return n==="enterprise"?"_generic_string_--".loc():this.get("_purchasedLicenses")}.property("licenseType","_purchasedLicenses"),assignedLicenses:SC.Record.attr(Number,{key:"licenses_assigned"
}),iconUrl:SC.Record.attr(String,{key:"icon_url"}),sizeInKB:SC.Record.attr(Number,{key:"size_in_kb"}),adamId:SC.Record.attr(Number,{key:"adam_id_ext"}),availableLicenses:function(e,t){var n=this.get("licenseType"),r;return n==="enterprise"?r=Infinity:(r=this.get("_purchasedLicenses")-this.get("assignedLicenses"),r<0&&(r=0)),r}.property("_purchasedLicenses","assignedLicenses","licenseType"),availableLicensesDisplayValue:function(e,t){var n=this.get("licenseType"),r;return n==="enterprise"?r="_generic_string_--".loc():r=this.get("availableLicenses"),r}.property("availableLicenses"),licenseType:function(e,t){return this.get("adamId")?"appstore":"enterprise"}.property("adamId"),contentDetailAvailable:function(e,t){if(t!==undefined)throw SC.$error("contentDetailAvailable is ready only for %@".fmt(this.constructor));return this.get("licenseType")==="appstore"}.property("licenseType").cacheable(),licenseDisplayName:function(e,t){var n;switch(this.get("licenseType")){case"enterprise":n="_application_filter_license_type_Enterprise".loc();break;case"appstore":n="_application_filter_license_type_App Store".loc();break;default:n="_generic_string_Unknown".loc()}return n}.property("licenseType"),sizeDisplayValue:function(e,t){var n=this.get("sizeInKB"),r="_generic_string_size_KB".loc(n),i,s,o,u,a;return n>999&&(i=String(Math.floor(n/1e3*100)/100),i.indexOf(".")>-1?(o=i.split("."),u=o[0],a=o[1],r="_generic_string_decimal_size_MB".loc(u,a)):r="_generic_string_size_MB".loc(i)),i>999&&(s=String(Math.floor(i/1e3*100)/100),s.indexOf(".")>-1?(o=s.split("."),u=o[0],a=o[1],r="_generic_string_decimal_size_GB"
.loc(u,a)):r="_generic_string_size_GB".loc(s)),r}.property("sizeInKB"),supportedDevices:SC.Record.attr(Number,{key:"supported_devices"}),supportsiPad:function(e,t){return Boolean(this.get("supportedDevices")&4)}.property("supportedDevices").cacheable(),supportsiPhone:function(e,t){return Boolean(this.get("supportedDevices")&1)}.property("supportedDevices").cacheable(),supportsiPod:function(e,t){return Boolean(this.get("supportedDevices")&2)}.property("supportedDevices").cacheable(),supportsMac:function(e,t){return Boolean(this.get("supportedDevices")&8)}.property("supportedDevices").cacheable(),supportsiPhoneAndiPad:function(e,t){return this.get("supportsiPhone")&&this.get("supportsiPad")}.property("supportsiPad","supportsiPhone").cacheable(),supportsiPodAndiPhone:function(e,t){return this.get("supportsiPhone")&&this.get("supportsiPod")}.property("supportsiPod","supportsiPhone").cacheable(),supportsiPodAndiPhoneAndiPad:function(e,t){return this.get("supportsiPod")&&this.get("supportsiPhoneAndiPad")}.property("supportsiPod","supportsiPhoneAndiPad").cacheable(),supportsiPodOriPhoneOriPad:function(e,t){return this.get("supportsiPod")||this.get("supportsiPad")||this.get("supportsiPhone")}.property("supportsiPod","supportsiPad","supportsiPhone").cacheable(),artworkUrl:null,sellerName:null,description:null,updated:null,developerWebsiteUrl:null,appStoreUrl:null,languageCodesISO2A:null,designedForiPhoneAndiPad:NO,additionalDataFromItunesStoreFetched:!1,fetchAdditionalDataFromItunesStore:!1,itunesInfoAvailable:!0,processItunesLookupResponse:function(e){var t=e.results[0];t?(this.set("sellerName"
,t.sellerName),this.set("description",t.description),this.set("appStoreUrl",t.trackViewUrl),this.set("developerWebsiteUrl",t.sellerUrl),this.set("artworkUrl",t.artworkUrl100),this.set("updated",t.releaseDate.substr(0,10)),t.features&&t.features.contains("iosUniversal")&&this.set("designedForiPhoneAndiPad",YES)):this.set("itunesInfoAvailable",!1),this.set("additionalDataFromItunesStoreFetched",!0)},performAdditionalDataFetch:function(){var e=this.get("fetchAdditionalDataFromItunesStore"),t=SC.guidFor(this),n="https://itunes.apple.com/lookup?id=%@&callback=Admin.UnifiedAsset.%@".fmt(this.get("adamId"),t),r=this;Admin.UnifiedAsset[t]=function(e){r.processItunesLookupResponse(e)};if(e){var i=document.createElement("script");i.src=n,document.head.appendChild(i)}}.observes("fetchAdditionalDataFromItunesStore")}),Admin.UnifiedApplication=Admin.UnifiedAsset.extend({isB2BApp:SC.Record.attr(Boolean,{key:"is_b2b_app"}),sizeDisplayValue:function(e,t){return this.get("isB2BApp")?"_generic_string_--".loc():arguments.callee.base.apply(this,arguments)}.property("sizeInKB","isB2BApp"),contentDetailAvailable:function(e,t){return this.get("isB2BApp")?NO:arguments.callee.base.apply(this,arguments)}.property("licenseType","isB2BApp")}),Admin.UnifiedBook=Admin.UnifiedAsset.extend({}),Admin.Widget=Admin.Record.extend({primaryKey:"id",identifier:SC.Record.attr(String,{key:"identifier"}),displayName:SC.Record.attr(String,{key:"display_name"}),_icon:SC.Record.attr(String,{key:"icon"}),smallIcon:function(){var e=this.get("_icon");return e?e:"admin-dock-icon-application"}.property("_icon").cacheable(),
nameToLowerCase:function(){return this.get("displayName").toLowerCase()}.property("displayName"),nameBinding:".displayName"}),Admin.routes=SC.Application.create({route:function(e){var t=Admin.itemListController.getPath("content");e?this.paramsCache=e:e=this.paramsCache,t&&t.removeObserver("status",this,"observerFired"),Admin.getPath("autoJoinProfilesTreeItem.treeItemChildren").removeObserver("status",this,"observerFired");if(!Admin.isReady)return;SC.InlineTextFieldView.discardEditing();if(Admin.getPath("itemSelectionNestedStore.hasChanges")){Admin.sendAction("showSaveChangesConfirmation",this,[this.route,e]);return}if(Admin.getPath("profileForEditingNestedStore.hasChanges")){Admin.sendAction("showSaveChangesConfirmationForProfileForEditing",this,[this.route,e]);return}var n=e.route.split("/");n.pop(),n.shift();var r=n.shift(),i=n.shift(),s=r&&r!=="profile"&&r!=="provisioning_profile"&&r!=="auto_join_profile",o=r=="provisioning_profile",u=r=="auto_join_profile",a=r=="apps"||r=="books",f=!r&&Admin.isReady;if(f){SC.routes.set("location","/user_group/");return}if(r&&s){r==="completed_task"?r="tasks_complete":r==="task"&&(r="tasks_active");var l=Admin.sidebarRootLibrary.get("treeItemChildren").findProperty("contentType",r)||Admin.sidebarRootActivity.treeItemChildren.findProperty("contentType",r);l||(l=Admin.sidebarRootLibrary.get("treeItemChildren").findProperty("contentType","user_group")),Admin.sidebarController.get("selection").contains(l)||Admin.sidebarController.selectObject(l)}if(i&&!a){SC.RunLoop.begin().end();var c;if(s)c=Admin.itemListController.getPath("content");else{if(!
u)throw SC.$error("Unknown URL");c=Admin.getPath("autoJoinProfilesTreeItem.treeItemChildren")}if(!c.get("status")||!SC.Record.READY)return c.addObserver("status",this,"observerFired");var h=Admin.store.find(Admin.store.dataSource.stringToModel(r),i);if(c.indexOf(h)<0){if(!Admin.filteredItemsController.get("searchString")){h=c.getPath("content.firstObject"),h&&this.invokeLater(function(){Admin.sendAction("changeRoute",null,[h])},100);return}Admin.filteredItemsController.set("searchString","");var p=this;this.invokeLast(function(){p.route.call(p,e)})}if(s){var d=Admin.store.dataSource.modelToString(h.constructor),v=[],m=h.get("hasCompleteData");v.push(h.get("id")),Admin.store.dataSource.addRpcs([[d,"get_complete_details",{ids:v}]],NO),Admin.itemListController.selectObject(h)}else Admin.sidebarController.selectObject(h);Admin.makeFirstResponder(Admin.ItemDetailResponder)}},observerFired:function(){this.route(this.paramsCache)}}),SC.routes.add("*route",Admin.routes,"route"),Admin.showError=function(e){var t=SC.Request.postUrl(Admin.DeviceManagementDataSourceURL).json().set("timeout",Admin.SERVER_TIMEOUT*1e3),n="name: %@, \n\n".fmt(e);t.header("Content-Type","application/json").header("X-Application","DMAdmin").header("X-CSRF-Token",Admin.CSRF_TOKEN);if(typeof e=="object"){n="name: %@, \n\n".fmt(e.name);var r=Object.getOwnPropertyNames(e);if(r.length>0)for(var i=0,s=r.length;i<s;i++){var o=r[i];n+="%@: %@, \n\n".fmt(o,e[o])}else n+="message: %@, fileName: %@, lineNumber: %@".fmt(e.message,e.fileName,e.lineNumber)}t.send({application:{log_admin_js_error:[[{error_message:n}]]}});if(!
Admin.CLIENT_ERROR_SHOWING)var u=SC.AlertPane.error("_client_error_occurred_message".loc(),"_client_error_occurred_description".loc(),"_client_error_occurred_caption".loc(e),"_client_error_occurred_reload_button".loc(),location.port==="4020"||location.port==="4264"?"_generic_continue_button".loc():null,{alertPaneDidDismiss:function(e,t){t=="button1"?location.reload(!1):Admin.CLIENT_ERROR_SHOWING=NO}});Admin.CLIENT_ERROR_SHOWING=YES},SC.ExceptionHandler.handleException=Admin.showError,SC.IndexSet.forEach=function(e,t){var n=this._content,r=0,i=0,s=this.source,o=n[r];t===undefined&&(t=null);while(o!==0&&o!==undefined){while(r<o)e.call(t,r++,i++,this,s);r=Math.abs(o),o=n[r]}return this},SC.mixin(SC.ManyArray.prototype,{storeKeys:function(){var e=this.get("readOnlyStoreIds"),t=[],n;if(!e)return t;for(var r=0,i=e.length;r<i;r++){var s=e[r];n=this.get("store").storeKeyFor(this.get("recordType"),s),t.push(n)}return t}.property("readOnlyStoreIds")}),SC.RecordAttribute.registerTransform(Number,{to:function(e){return SC.none(e)?null:Number(e)},from:function(e){return SC.none(e)?null:Number(e)}}),SC.ScrollerView.reopen({renderThumb:function(e,t,n,r){var i;t===SC.LAYOUT_HORIZONTAL?i="width: "+n+"px; left: "+r+"px;":i="height: "+n+"px; top: "+r+"px;",e.push('<div class="thumb" style="%@">'.fmt(i),'<div class="thumb-center"></div>','<div class="thumb-top"></div>','<div class="thumb-bottom"></div></div>')}}),SC.SegmentView.reopen({isBorderless:NO}),SC.SingleAttribute.reopen({inverseDidAddRecord:function(e,t,n,r){var i=this.get("inverse"),s=this._scsa_call(e,t),o=this.get("isMaster"),u=this
.get("key")||t,a,f;f=this.fromType(e,t,n),e.writeAttribute(u,f,!o),e.notifyPropertyChange(t),(s!==n||r!==i)&&s&&(a=s[i])&&a.inverseDidRemoveRecord(s,i,e,t)}}),SC.Store.reopen({_notifyRecordPropertyChange:function(e,t,n){var r=this.records,i=this.get("nestedStores"),s=SC.Store,o,u,a,f,l,c,h;a=i?i.length:0;for(f=0;f<a;f++){l=i[f],c=l.peekStatus(e),u=l.storeKeyEditState(e);if(u===s.INHERITED)l._notifyRecordPropertyChange(e,t,n);else if(c&SC.Record.BUSY){if(l.get("hasChanges"))throw s.CHAIN_CONFLICT_ERROR;l.reset()}}var p=this.recordPropertyChanges;return p||(p=this.recordPropertyChanges={storeKeys:SC.CoreSet.create(),records:SC.CoreSet.create(),hasDataChanges:SC.CoreSet.create(),propertyForStoreKeys:{}}),p.storeKeys.add(e),r&&(o=r[e])&&(p.records.push(e),t||p.hasDataChanges.push(e),n?((h=p.propertyForStoreKeys[e])||(h=p.propertyForStoreKeys[e]=SC.CoreSet.create()),h!=="*"&&(SC.typeOf(n)===SC.T_ARRAY?n.forEach(function(e){h.add(e)}):h.add(n))):p.propertyForStoreKeys[e]="*"),this.invokeOnce(this.flush),this},pushRetrieve:function(e,t,n,r,i){var s=SC.Record,o;return r===undefined&&(r=e.storeKeyFor(t)),o=this.readStatus(r),o==s.EMPTY||o==s.ERROR||o==s.READY_CLEAN||o==s.DESTROYED_CLEAN?(o=s.READY_CLEAN,n===undefined?this.writeStatus(r,o):this.writeDataHash(r,n,o),this.dataHashDidChange(r,undefined,undefined,i),r):NO}}),SC.TextFieldView.reopen({_renderField:function(e,t,n,r,i){var s=this.get("formattedHint"),o=this.get("ariaLabel")||s,u=this.get("hintOnFocus"),a="",f=this.get("maxLength"),l=this.get("isTextArea"),c=this.get("isEnabled"),h=this.get("isEditable"),p=this.get("autoCorrect"
),d=this.get("autoCapitalize"),v=this.get("isBrowserFocusable"),m="",g="",y="",b,w,E,S,x,T,N,C,k,L;n&&(this.get("escapeHTML")&&(n=SC.RenderContext.escapeHTML(n)),n=n.replace(/\"/g,"&#34;")),e.setClass("text-area",l),e.setClass("text-field",!l),C=SC.browser.isWebkit&&parseInt(SC.browser.webkit,0)<532,e.setClass("oldWebKitFieldPadding",C);if(t||this._forceRenderFirstTime){this._forceRenderFirstTime=NO,k=c?h?"":'readonly="readonly"':'disabled="disabled"',b=this.get("layerId"),m=this.get("spellCheckEnabled")?' spellcheck="true"':' spellcheck="false"',SC.browser.mobileSafari&&(y=p?"":' autocorrect="off"',g=d?"":' autocapitalize="off"'),v&&(L='tabindex="-1"'),SC.platform.input.placeholder&&!u&&(a=' placeholder="'+s+'"'),this.get("shouldRenderBorder")&&e.push('<div class="border"></div>'),w="";if(r||i)w='style="',r&&(w+="left: "+r+"; "),i&&(w+="right: "+i+";"),w+='"';e.push('<div class="padding" '+w+">"),this._hintON&&!SC.platform.input.placeholder&&(!n||n&&n.length===0)&&(n=s,e.setClass("sc-hint",YES));if(u){var A='<div aria-hidden="true" class="hint '+(l?"":"ellipsis")+'%@">'+s+"</div>";e.push(A.fmt(n?" sc-hidden":""))}N="field",l?e.push('<textarea aria-label="'+o+'" aria-multiline="true" class="'+N+'" name="'+b+'" '+k+a+m+y+L+g+' maxlength="'+f+'">'+n+"</textarea></div>"):(E=this.get("type"),this.get("isPassword")&&(E="password"),e.push('<input aria-label="'+o+'" class="'+N+'" type="'+E+'" name="'+b+'" '+k+' value="'+n+'"'+a+m+L+' maxlength="'+f+'" '+y+" "+g+"/></div>"))}else{var O=this.$input(),M=O[0],_=this.get("value");u?this.$(".hint")[0].innerHTML=s:u||(M.placeholder=s),O.attr
("aria-label",o);if(!_||_&&_.length===0)this.get("isPassword")&&(M.type="password"),!SC.platform.input.placeholder&&this._hintON&&(this.get("isFirstResponder")?(e.setClass("sc-hint",NO),O.val("")):(e.setClass("sc-hint",YES),O.val(s)));SC.browser.mobileSafari&&(O.attr("autoCapitalize",d?"true":"off"),O.attr("autoCorrect",p?"true":"off")),!u&&SC.platform.input.placeholder&&O.attr("placeholder",s),v?O.removeAttr("tabindex"):O.attr("tabindex","-1"),x=O[0],x&&(c?h?(x.disabled=null,x.readOnly=null):(x.disabled=null,x.readOnly="true"):(x.disabled="true",x.readOnly=null),T=x.parentNode.style,r?T.left!==r&&(T.left=r):T.left=null,i?T.right!==i&&(T.right=i):T.right=null)}}}),SC.View.reopen({touchIsInBoundary:function(e){var t=this.get("_touchBoundaryFrame"),n=0,r=0,i=this.get("touchBoundary"),s=e.pageX,o=e.pageY;return e&&e.event&&e.event.target&&this.$().within(e.event.target)?YES:(s<t.x?(s=t.x-s,n=i.left):s>t.x+t.width?(s-=t.x+t.width,n=i.right):(s=0,n=1),o<t.y?(o=t.y-o,r=i.top):o>t.y+t.height?(o-=t.y+t.height,r=i.bottom):(o=0,r=1),s>100||o>100?NO:YES)}}),Admin.CUSTOM_LAYER_ID_USED_VALUES={},SC.mixin(SC.View.prototype,{layerId:function(t,n){if(n!==undefined)throw SC.$eror("read only");if(this._stored_ret)throw SC.$error("called more than once!");var r=[this],i=this,s=NO,o="";while(i=i.get("owner"))r.push(i);r.reverse();var u=[];for(var a=0,f=r.length;a<f;a++){var l=r[a],c=l.get("owner")||l.get("page");if(!c){s="COULD_NOT_FIND_OWNER_OR_PAGE";break}var h=NO;for(var p in c)if(c[p]===l.constructor){u.push(p),h=YES;break}if(!h){s="COULD_NOT_FIND_SELF";break}}if(s)return this._layerId?this
._layerId:SC.guidFor(this);o=u.join("__");while(o in Admin.CUSTOM_LAYER_ID_USED_VALUES)o+="_";return Admin.CUSTOM_LAYER_ID_USED_VALUES[o]=1,this._stored_ret=o,o}.property().cacheable()}),Admin.AssignAssetsResponder=SC.Responder.create({nextResponder:Admin.ItemDetailResponder,didBecomeFirstResponder:function(){var e=Admin.getPath("AssignUnifiedAppsPage.unifiedAppsPickerSheet"),t=Admin.detailPage.detailView.tabs.get("nowShowing");t==="Admin.booksPage.books"&&(e=Admin.getPath("AssignUnifiedBooksPage.unifiedBooksPickerSheet")),this.vppContentPickerPane=e,this.vppContentPickerPane.getPath("contentView.contentListView").reload(),this.vppContentPickerPane.append()},willLoseFirstResponder:function(){this.vppContentPickerPane&&this.vppContentPickerPane.remove()},assignVppContentToCurrentSelection:function(e){var t=Admin.itemListController.getPath("selection.firstObject"),n=Admin.get("itemSelectionNestedStore").find(t),r,i,s,o=Admin.appsPickerTableViewController,u="assignedApplications";e==="books"&&(o=Admin.UnifiedBooksPickerTableViewController,u="assignedBooks"),s=o.get("checkboxCheckedApplications"),s&&n&&(r=SC.clone(t.get(u))||[],i=n.get(u),s.forEach(function(e){r.push(e)}),r.isEqual(i)||n.set(u,r)),Admin.makeFirstResponder(Admin.ItemDetailResponder)},assignUnifiedAppsToCurrentSelection:function(){this.assignVppContentToCurrentSelection("apps")},selectAllUnifiedAppsForCurrentSelection:function(){Admin.appsPickerTableViewController.selectAllContent(),Admin.AssignUnifiedAppsPage.getPath("unifiedAppsPickerSheet.contentView.contentListView").reload()},assignUnifiedBooksToCurrentSelection
:function(){this.assignVppContentToCurrentSelection("books")},selectAllUnifiedBooksForCurrentSelection:function(){Admin.UnifiedBooksPickerTableViewController.selectAllContent(),Admin.AssignUnifiedBooksPage.getPath("unifiedBooksPickerSheet.contentView.contentListView").reload()},hideVppContentPicker:function(){var e=Admin.appsPickerTableViewController,t=Admin.detailPage.detailView.tabs.get("nowShowing");t==="Admin.booksPage.books"&&(e=Admin.UnifiedBooksPickerTableViewController),e.deselectAllContent(),Admin.makeFirstResponder(Admin.ItemDetailResponder)}}),Admin.DeviceResponderMixin={showDeviceDeleteItemConfirmation:function(){var e=Admin.itemSelectionController,t=e.get("isDEPDevice"),n=e.get("isPlaceholderDevice");if(t){if(n)return;Admin.sendAction("showDEPUnenrollmentConfirmation")}else n?Admin.sendAction("showRemovePlaceholderConfirmation"):Admin.sendAction("showNonDEPUnenrollmentConfirmation")},showNonDEPUnenrollmentConfirmation:function(){SC.AlertPane.warn({message:"_unenroll_device_alert_pane_header".loc(),description:"_unenroll_device_alert_pane_description".loc(),buttons:[{title:"_unenroll_button_text_Unenroll".loc(),action:function(){Admin.sendAction("unEnrollDevice")}},{title:"_revert_device_to_placeholder".loc(),action:function(){Admin.sendAction("revertDeviceToPlaceholder")}},{title:"_generic_string_Cancel".loc()}]})},showDEPUnenrollmentConfirmation:function(){SC.AlertPane.warn({layout:{width:parseFloat("_unenroll_dep_device_alert_pane_width".loc()),centerX:0,top:.3},message:"_unenroll_device_alert_pane_header".loc(),description:"_unenroll_dep_device_alert_pane_description"
.loc(),buttons:[{title:"_unenroll_button_text_Unenroll".loc(),action:function(){Admin.sendAction("unEnrollDevice")}},{title:"_revert_device_to_placeholder".loc(),action:function(){Admin.sendAction("revertDeviceToPlaceholder")}},{title:"_generic_string_Cancel".loc()}]})},showRemovePlaceholderConfirmation:function(){var e=Admin.itemSelectionController.get("hasActivationLockBypassCode");if(e){var t=SC.AlertPane.error({layout:{width:parseFloat("_remove_dep_device_alert_pane_width".loc()),centerX:0,top:.3},message:"_remove_device_placeholder_alert_pane_header".loc(),description:"_remove_device_placeholder_with_activation_lock_alert_pane_description".loc(),buttons:[{title:"_remove_dep_device_placeholder_button_text_Remove".loc(),action:function(){Admin.sendAction("removeDevice")}},{title:"_generic_string_Cancel".loc()}]});t.get("button1").set("isDefault",NO)}else SC.AlertPane.warn({message:"_remove_device_placeholder_alert_pane_header".loc(),description:"_remove_device_placeholder_alert_pane_description".loc(),buttons:[{title:"_remove_device_placeholder_button_text_Remove Placeholder".loc(),action:function(){Admin.sendAction("removeDevice")}},{title:"_generic_string_Cancel".loc()}]})},showRemoveDEPPlaceholderConfirmation:function(){var e=SC.AlertPane.error({layout:{width:parseFloat("_remove_dep_device_alert_pane_width".loc()),centerX:0,top:.3},message:"_remove_dep_device_placeholder_alert_pane_header".loc(),description:"_remove_dep_device_placeholder_alert_pane_description".loc(),buttons:[{title:"_remove_dep_device_placeholder_button_text_Remove".loc(),action:function(){Admin.sendAction
("removeDevice")}},{title:"_generic_string_Cancel".loc()}]});e.get("button1").set("isDefault",NO)},unEnrollDevice:function(){Admin.store.dataSource.addRpcs([["device","unenroll",Admin.itemSelectionController.get("id")]],NO)},revertDeviceToPlaceholder:function(){Admin.store.dataSource.addRpcs([["device","revert_to_placeholder",Admin.itemSelectionController.get("id")]],NO)},removeDevice:function(){var e=Admin.itemSelectionController.getPath("content.firstObject");Admin.itemListController.removeObject(e),e.destroy()}},Admin.DirectoryItemPickerResponder=SC.Responder.create({nextResponder:Admin.ItemDetailResponder,didBecomeFirstResponder:function(){var e=Admin.VppContentDetailController.get("selectedDirectoryItemTab"),t,n=Admin.VppContentDetailController.get("content"),r;e==="groups"?(t=Admin.getPath("UserGroupsPickerPage.groupsPickerSheet"),Admin.UserGroupsPickerTableViewController.set("selectedDirectoryItems",SC.A(n.get("assignedUserGroups"))),Admin.UserGroupsPickerPage.getPath("groupsPickerSheet.contentView.groupsListView.tableView").reload(),r=Admin.DirectoryItemPickerManager.get("allUserGroups"),Admin.store.dataSource.addActiveQuery(r,{model:"user_group",method:"find_all_vpp_enabled"})):(t=Admin.getPath("UsersPickerPage.usersPickerSheet"),Admin.UsersPickerTableViewController.set("selectedDirectoryItems",SC.A(n.get("assignedUsers"))),Admin.UsersPickerPage.getPath("usersPickerSheet.contentView.groupsListView.tableView").reload(),r=Admin.DirectoryItemPickerManager.get("allUsers"),Admin.store.dataSource.addActiveQuery(r,{model:"user",method:"find_all"})),this.directoryItemsPickerPane=
t,this.directoryItemsPickerPane.append(),this.recordArrayRef=r,r.refresh()},willLoseFirstResponder:function(){this.directoryItemsPickerPane.remove(),Admin.store.dataSource.removeActiveQuery(this.recordArrayRef)},hideDirectoryItemPicker:function(){Admin.makeFirstResponder(Admin.ItemDetailResponder)},assignVppContentToUserGroups:function(){var e=Admin.UserGroupsPickerTableViewController.get("selectedDirectoryItems"),t=Admin.VppContentDetailController.get("content");e&&t&&t.set("assignedUserGroups",e),Admin.makeFirstResponder(Admin.ItemDetailResponder)},assignVppContentToUsers:function(){var e=Admin.UsersPickerTableViewController.get("selectedDirectoryItems"),t=Admin.VppContentDetailController.get("content");e&&t&&t.set("assignedUsers",e),Admin.makeFirstResponder(Admin.ItemDetailResponder)}}),Admin.ParseBookMixin={parseBook:function(){Admin.getPath("uploadPage.uploadPane").append(),Admin.sendAction("askServerToCreateEBook")},askServerToCreateEBook:function(){var e=Admin.mainPage.mainPane.iframeSingleton.getPath("lastUsedUploadView");if(!e)throw SC.$error("Could not get uploadView");var t=e.getPath("lastUploadedFile.id");if(!t)throw SC.$error("Could not get lastUploadedFileId");Admin.store.dataSource.addRpcs([["file","create_ebook_from_file",t]],YES),e.get("lastUploadedFile").addObserver("id",this,"bookUploadedFileOwnerDidChange")},bookUploadedFileOwnerDidChange:function(e){var t=e.get("id");t&&(e.removeObserver("id",this,"bookUploadedFileOwnerDidChange"),Admin.getPath("uploadPage.uploadPane").remove())}},Admin.ParseAppMixin={parseApp:function(){Admin.getPath("uploadPage.uploadPane"
).append(),Admin.sendAction("askServerToCreateEnterpriseApp")},askServerToCreateEnterpriseApp:function(){var e=Admin.mainPage.mainPane.iframeSingleton.getPath("lastUsedUploadView");if(!e)throw SC.$error("Could not get uploadView");var t=e.getPath("lastUploadedFile.id");if(!t)throw SC.$error("Could not get lastUploadedFileId");Admin.store.dataSource.addRpcs([["file","create_enterprise_app_from_file",t]],YES),e.get("lastUploadedFile").addObserver("id",this,"appUploadedFileOwnerDidChange"),e.get("lastUploadedFile").addObserver("ownerId",this,"appUploadedFileOwnerDidChange")},appUploadedFileOwnerDidChange:function(e){var t=e.get("id"),n=e.get("ownerId");t&&n&&(e.removeObserver("id",this,"appUploadedFileOwnerDidChange"),Admin.getPath("uploadPage.uploadPane").remove())}},Admin.RootResponder=SC.Responder.create(Admin.ParseAppMixin,Admin.ParseBookMixin,Admin.DeviceResponderMixin,{changeRoute:function(e,t){var n=t.get("firstObject"),r,i;if(!n)return;if(Admin.getPath("itemSelectionNestedStore.hasChanges")){Admin.sendAction("showSaveChangesConfirmation",this,[this.changeRoute,e,t]);return}if(Admin.getPath("profileForEditingNestedStore.hasChanges")){Admin.sendAction("showSaveChangesConfirmationFromProfileEditor",this,[this.changeRoute,e,t]);return}if(n.kindOf(Admin.SidebarItem)){var s=n.getPath("itemArray.firstObject");s?s.get("isLibraryItem")?r=["/",n.get("contentType"),"/",n.getPath("itemArray.firstObject.id"),"/"]:s.get("isCompletedTask")?r=["/","completed_task","/",n.getPath("itemArray.firstObject.id"),"/"]:s.get("isTask")?r=["/","task","/",n.getPath("itemArray.firstObject.id"),"/"]
:r=["/",n.get("contentType"),"/"]:r=["/",n.get("contentType"),"/"]}else n.kindOf(Admin.AutoJoinProfile)?r=["/","auto_join_profile","/",n.get("id"),"/"]:n.kindOf(Admin.Device)?r=["/","device","/",n.get("id"),"/"]:n.kindOf(Admin.DeviceGroup)?r=["/","device_group","/",n.get("id"),"/"]:n.kindOf(Admin.User)?(i=Admin.userSidebarItem.get("itemArray"),i.contains(n)||i.add(n),r=["/","user","/",n.get("id"),"/"]):n.kindOf(Admin.UserGroup)?(i=Admin.userGroupSidebarItem.get("itemArray"),i.contains(n)||i.add(n),r=["/","user_group","/",n.get("id"),"/"]):n.kindOf(Admin.CompletedLibraryItemTask)?r=["/","completed_task","/",n.get("id"),"/"]:n.kindOf(Admin.LibraryItemTask)?r=["/","task","/",n.get("id"),"/"]:r=["/"];SC.routes.set("location",r.join(""))},actuallyAddMember:function(e,t){var n=t.addThis,r=t.toThis;if(!n)return;n=Admin.get("profileForEditingNestedStore").find(n);if(n.get("isTruncationIndicator"))return;var i;if(Admin.allMembersPickerController.get("typeIsForLoginWindow")){n=Admin.get("profileForEditingNestedStore").find(n);var s=Admin.allMembersPickerController.get("searchContentType");r=Admin.settingTypesSelectionController.getPath("content.firstObject.settingInstances.firstObject"),r=Admin.get("profileForEditingNestedStore").find(r),i=r.get(s);if(i.indexOf(n)>-1)return;i.pushObject(n)}else{!r.isProfile&&!r.isKnobSet?(r=Admin.get("itemSelectionNestedStore").find(r),n=Admin.get("itemSelectionNestedStore").find(n)):(n=Admin.get("profileForEditingNestedStore").find(n),r=Admin.get("profileForEditingNestedStore").find(r));if(n.constructor===Admin.User)i=r.get("userMembers");else if(n.constructor===
Admin.UserGroup)i=r.get("userGroupMembers");else if(n.constructor===Admin.Device)r.get("isUser")?i=r.get("members"):i=r.get("deviceMembers")||r.get("devices");else if(n.constructor===Admin.DeviceGroup)i=r.get("deviceGroupMembers")||r.get("childDeviceGroups");else if(n.constructor===Admin.Printer)i=r.get("printers");else if(n.constructor===Admin.SystemApplication)i=r.get("applications");else{if(n.constructor!==Admin.Widget)throw SC.error("Could not determine thing being added");i=r.get("widgets")}if(i.indexOf(n)>-1)return;i.pushObject(n)}},actuallyRemoveMembers:function(e,t){var n=t.removeThese,r=t.fromThis;if(!n||!n.length)return;if(n.length!==1)throw SC.$error("can only remove one thing at a time");var i=n[0],s;if(Admin.allMembersPickerController.get("typeIsForLoginWindow")){var o=Admin.allMembersPickerController.get("searchContentType");r=Admin.settingTypesSelectionController.getPath("content.firstObject.settingInstances.firstObject"),r=Admin.get("profileForEditingNestedStore").find(r),s=r.get(o);if(s.indexOf(i)>-1)return;i=Admin.get("profileForEditingNestedStore").find(i),s.removeObject(i)}else{!r.isProfile&&!r.isKnobSet?(r=Admin.get("itemSelectionNestedStore").find(r),i=Admin.get("itemSelectionNestedStore").find(i)):(r=Admin.get("profileForEditingNestedStore").find(r),i=Admin.get("profileForEditingNestedStore").find(i));if(i.constructor===Admin.User)s=r.get("userMembers");else if(i.constructor===Admin.UserGroup)s=r.get("userGroupMembers");else if(i.constructor===Admin.Device)r.get("isUser")?s=r.get("members"):s=r.get("deviceMembers")||r.get("devices");else if(i.constructor===
Admin.DeviceGroup)s=r.get("deviceGroupMembers")||r.get("childDeviceGroups");else if(i.constructor===Admin.Printer)s=r.get("printers");else if(i.constructor===Admin.SystemApplication)s=r.get("applications");else{if(i.constructor!==Admin.Widget)throw SC.error("Could not determine thing being removed");s=r.get("widgets")}s.removeObject(i)}},newDeviceGroup:function(e,t){var n=Admin.store.createRecord(Admin.DeviceGroup,{});n.set("name",n.get("name")),t&&t.withDeviceIds&&n.writeAttribute("devices",t.withDeviceIds),n.commitRecord(),n.addObserver("status",this,"newDeviceGroupStatusDidChange")},newDeviceGroupStatusDidChange:function(e){if(!e.get("id"))return;e.removeObserver("status",this,"newDeviceGroupStatusDidChange"),Admin.deviceGroupSidebarItem.get("itemArray").indexOf(e)===-1&&Admin.deviceGroupSidebarItem.get("itemArray").unshiftObject(e),Admin.sendAction("changeRoute",null,[e]),this.invokeLast(function(){var e=Admin.detailPage.detailView.headerBar.mainLabelView;e.beginEditing()})},importPlaceholderDevicesUploadViewStatusDidChange:function(e){if(e.get("status")===SC.Record.READY){e.removeObserver("status",this,"importPlaceholderDevicesUploadViewStatusDidChange");if(!e.getPath("lastUploadedFile.id"))throw SC.$error("Could not get id for uploaded file");Admin.store.dataSource.addRpcs([["file","import_placeholder_devices",e.getPath("lastUploadedFile.id")]],YES),e.get("lastUploadedFile").addObserver("metadata",this,"importPlaceholderDevicesLastUploadedFileMetadataDidChange")}},importPlaceholderDevicesLastUploadedFileMetadataDidChange:function(e){var t=e.get("metadata"),n=t?t.import_placeholder_devices_result
:null;if(n){e.removeObserver("metadata",this,"importPlaceholderDevicesLastUploadedFileMetadataDidChange");if(n.error_string||!n.imported_count){var r="";switch(n.error_string){case"NON-CSV":r="_import_placeholder_devices_error_non_csv".loc();break;case"CSV-INVALID":r="_import_placeholder_devices_error_csv_invalid".loc();break;case"HEADERS-NOT-FOUND":r="_import_placeholder_devices_error_headers_not_found".loc();break;default:r="_import_placeholder_devices_error_unknown".loc()}n.imported_cout||(r="_import_placeholder_devices_error_no_valid_devices".loc()),SC.AlertPane.error("_import_placeholder_devices_error_occurred".loc(),r,"","_import_placeholder_devices_error_cancel".loc());return}n.imported_count&&SC.AlertPane.info("_import_placeholder_devices_successful".loc(),n.imported_count===1?"_import_placeholder_devices_imported_one_device".loc():"_import_placeholder_devices_imported_n_devices".loc(n.imported_count),n.not_imported_count?n.not_imported_count===1?"_import_placeholder_devices_not_imported_one_device".loc():"_import_placeholder_devices_not_imported_n_devices".loc(n.not_imported_count):"","_import_placeholder_devices_create_device_group".loc(),"_import_placeholder_devices_skip".loc(),{alertPaneDidDismiss:function(e,t){var r=t==="button1";r&&Admin.sendAction("newDeviceGroup",this,{withDeviceIds:n.imported_ids})}})}},_newSystemLevelOrUserLevelProfile:function(){var e=Admin.store.createRecord(Admin.Profile,{});return e.set("name",e.get("name")),e.set("organization",e.get("organization")),Admin.get("noODMode")&&e.set("isALaCarte",YES),e},newProfile:function(){Admin.detailPage
.detailView.tabs.set("nowShowing","Admin.profilesPage.settingsView");var e=this._newSystemLevelOrUserLevelProfile(),t=!Admin.itemSelectionController.get("isDirectoryItem");e.set("isSystemLevel",t),e.set("name","_items_settings".loc(Admin.itemSelectionController.get("displayNameFromNestedStore"))),e.commitRecord(),e.addObserver("status",this,"newProfileStatusDidChange")},newProfileStatusDidChange:function(e){if(!e.get("id"))return;e.removeObserver("status",this,"newProfileStatusDidChange"),Admin.profileForEditingController.set("content",e),Admin.makeFirstResponder(Admin.EDIT_PROFILE),this.invokeLast(function(){Admin.settingTypesController.selectObject(Admin.settingTypesController.getPath("all.firstObject"));if(e.get("generalKnobSets").length()===0){var t=Admin.store.createRecord(Admin.GeneralKnobSet,{});t.writeAttribute("profile",e.get("id")),t.normalize()}})},newAutoJoinProfile:function(e){if(Admin.getPath("itemSelectionNestedStore.hasChanges")){Admin.sendAction("showSaveChangesConfirmation",this,[this.newAutoJoinProfile,e]);return}var t=Admin.store.createRecord(Admin.AutoJoinProfile,{});t.set("name",t.get("name")),t.set("isWildcard",t.get("isWildcard")),t.commitRecord(),t.addObserver("status",this,"newAutoJoinProfileStatusDidChange")},newAutoJoinProfileStatusDidChange:function(e){if(!e.get("id"))return;e.removeObserver("status",this,"newAutoJoinProfileStatusDidChange"),Admin.autoJoinProfilesTreeItem.get("treeItemChildren").indexOf(e)===-1&&Admin.autoJoinProfilesTreeItem.get("treeItemChildren").unshiftObject(e),Admin.sendAction("changeRoute",null,[e]),this.invokeLast(function(
){Admin.detailPage.detailView.headerBar.mainLabelView.beginEditing()})},showAddDevicePane:function(){var e=Admin.getPath("addDevicePage.addDevicePane");e.append()},actuallyCreateNewDevice:function(e){var t=e.get("owner"),n=t.getPath("serialNumber.value"),r=t.getPath("identifierButton.value"),i=t.getPath("deviceTypeView.value"),s=t.getPath("name.value"),o=t.getPath("passwordTextField.value"),u=Admin.store.createRecord(Admin.Device,{});u.set(r,n),u.set("name",s),i==="apple_tv"&&(u.set("productName","AppleTV"),u.set("airplayPassword",o)),u.commitRecord(),e.getPath("owner.serialNumber").set("value",""),e.getPath("owner.name").set("value",""),e.getPath("owner.passwordTextField").set("value",""),e.getPath("owner.owner").remove(),u.addObserver("status",this,"newDeviceStatusDidChange")},newDeviceStatusDidChange:function(e){if(!e.get("id"))return;Admin.itemListController.get("content").indexOf(e)===-1&&Admin.itemListController.getPath("content").unshiftObject(e),Admin.sendAction("changeRoute",null,[e]),e.removeObserver("status",this,"newDeviceStatusDidChange")},refreshDirectoryItemsContents:function(){Admin.store.find(Admin.DirectoryItem).forEach(function(e){e.refresh()})},refreshSelectedItemList:function(){var e=Admin.sidebarSelectionController.get("contentType");Admin.store.dataSource.addRpcs([[e,"begin_refresh"]],NO)},refreshFromMembersPicker:function(){var e=Admin.membersPickerControllerResultsFilteringItemSelection.getPath("content.content")||Admin.membersPickerControllerResultsFilteringItemSelection.getPath("content");if(e.constructor!==SC.RecordArray)throw SC.$error("Could not find list to refresh!"
);e.refresh(),Admin.sendAction("refreshDirectoryItemsContents")},showWelcomePanel:function(){SC.PanelPane.create({layout:{width:500,height:200,centerX:0,centerY:0},contentView:SC.View.extend({childViews:"helper showAgain close".w(),helper:SC.LabelView.extend({layout:{top:20,left:20,right:20,height:20},fontWeight:SC.BOLD_WEIGHT,value:"_admin_welcome_first_time".loc()}),showAgain:SC.CheckboxView.design({layout:{bottom:15,left:20,width:200,height:20},displayTitle:"_admin_welcome_dont_show_again".loc(),valueBinding:"Admin*me.seenAdmin"}),close:SC.ButtonView.design({layout:{bottom:15,right:20,width:100,height:27},title:"_admin_welcome_close".loc(),action:function(){this.owner.owner.remove()}})})}).append()},showRootCertPanel:function(){var e=Admin.get("settings"),t=e&&!e.get("ssl_cert_is_trusted"),n=e&&!e.get("signing_cert_is_trusted"),r;t&&n?r="_generic_string_SSL and code signing certificates".loc():r=t?"_generic_string_SSL certificate".loc():"_generic_string_code signing certificate".loc();var i=Admin.getPath("settings.server_organization")||Admin.getPath("settings.server_hostname"),s='_generic_string_Download and install the "Trust Profile for %@" configuration profile on iOS and OS X devices to configure them to trust this server\'s %@.'.loc(i,r);SC.AlertPane.show("_generic_string_Trust Profile for %@".loc(i),s,"","_generic_string_Download".loc(),"_email_profile_to_recipients_cancel".loc(),"","admin-icon-profile-64",{alertPaneDidDismiss:function(e,t){var n=t=="button1";n&&Admin.sendAction("exportRootCertificate")}})},exportRootCertificate:function(){this.invokeLast(function(
){window.location.href=Admin.getPath("settings.trust_profile_url")})},goToHelp:function(){window.open("_go_to_help_url".loc())},goToDevicesHelp:function(){window.open("_devices_help_url".loc())},goToRestrictionsHelp:function(){window.open("_restrictions_help_url".loc())},goToDeploymentProgramWebsite:function(){window.open("_dep_website_url".loc())},goToPortal:function(){window.open("/mydevices/")},logout:function(){var e=Admin.PM_WEBAPP_URI_ROOT+"/authentication/logout";window.location.port==="4020"&&(console.warn("Rerouting logout URL for sc-server because we are on port 4020!"),e="http://"+window.location.hostname+":3000/authentication/logout"),SC.Request.postUrl(e).json().header("X-Application","DMAdmin").header("X-CSRF-Token",Admin.CSRF_TOKEN).notify(this,"didLogout",{}).send()},didLogout:function(e){if(!e.get("response").redirect_url)throw SC.$error("server did not provide a URL for logout");window.location.href=e.get("response").redirect_url},goToVPPPortal:function(){window.open("_vpp_portal_url".loc())},viewVppContentInAppStore:function(){window.open(Admin.VppContentDetailController.get("appStoreUrl"))},viewVppContentDeveloperWebsite:function(){window.open(Admin.VppContentDetailController.get("developerWebsiteUrl"))},goBackFromAppDetailView:function(){Admin.VppContentDetailController.set("content",null)}}),Admin.PushAssetsActionsMixin={showPushAppPicker:function(){var e=Admin.itemSelectionController.get("isUserGroup"),t=Admin.itemSelectionController.get("isVppContentAssignable"),n=Admin.PushAppsPickerManager.get("vppContentFilteredSearchResults"),r=n?n.get("length")>0
:NO,i=Admin.itemSelectionController.get("hasVppEnabledDevices"),s=null;e?(r===NO&&(s="_generic_string_No VPP apps assigned to this group.".loc()),t===NO&&(s="_generic_string_Enable VPP services on this group to push VPP apps.".loc())):r===NO&&(s="_generic_string_No VPP apps assigned to this user.".loc()),i===NO&&(s="_generic_string_No eligible devices.".loc());if(s){SC.AlertPane.warn({message:"_generic_string_Push VPP Apps".loc(),description:s,buttons:[{title:"_generic_string_OK".loc()}]});return}Admin.detailPage.detailView.tabs.set("nowShowing","Admin.appsPage.apps"),Admin.makeFirstResponder(Admin.PushAppsResponder)},showPushBookPicker:function(){var e=Admin.itemSelectionController.get("isUserGroup"),t=Admin.itemSelectionController.get("isVppContentAssignable"),n=Admin.PushBooksPickerManager.get("vppContentFilteredSearchResults"),r=n?n.get("length")>0:NO,i=Admin.itemSelectionController.get("hasVppEnabledDevices"),s=null;e?(r===NO&&(s="_generic_string_No VPP books assigned to this group.".loc()),t===NO&&(s="_generic_string_Enable VPP services on this group to push VPP books.".loc())):r===NO&&(s="_generic_string_No VPP books assigned to this user.".loc()),i===NO&&(s="_generic_string_No eligible devices.".loc());if(s){SC.AlertPane.warn({message:"_generic_string_Push VPP Books".loc(),description:s,buttons:[{title:"_generic_string_OK".loc()}]});return}Admin.detailPage.detailView.tabs.set("nowShowing","Admin.booksPage.books"),Admin.makeFirstResponder(Admin.PushBooksResponder)},showOSXEnterpriseAppPicker:function(){var e=Admin.PushOSXEnterpriseAppsFilterManager.getPath("vppContentFilteredSearchResults.length"
),t=null;!e||e<1?t="_library_item_action_push_osx_apps_No OS X in-house enterprise apps available".loc():!Admin.itemSelectionController.get("isDevice")&&!Admin.itemSelectionController.get("hasEligbleOSXEAppDevices")&&(t="_generic_string_No eligible devices.".loc());if(t){SC.AlertPane.warn({message:"_library_item_action_Push OS X in-house enterprise apps".loc(),description:t,buttons:[{title:"_generic_string_OK".loc()}]});return}Admin.makeFirstResponder(Admin.PushOSXEnterpriseAppsResponder)}},Admin.TASKS_SORTING_SORT_KEY="updatedAt",Admin.TASKS_SORTING_ASCENDING_OR_DESCENDING="DESC",Admin.ItemDetailResponder=SC.Responder.create(Admin.PushAssetsActionsMixin,{nextResponder:Admin.RootResponder,sortTasks:function(e,t){e&&(Admin.TASKS_SORTING_SORT_KEY=e),t&&(Admin.TASKS_SORTING_ASCENDING_OR_DESCENDING=t);var n=Admin.itemSelectionController.get("targetTasks"),r=Admin.itemSelectionController.get("tasksForLibraryItem"),i=n&&n.get("query")||r&&r.get("query");i?(i.set("orderBy",Admin.TASKS_SORTING_SORT_KEY+" "+Admin.TASKS_SORTING_ASCENDING_OR_DESCENDING),i.parse(),n&&n.reload(),r&&r.reload()):console.warn("was not a query, skipping sorting")},sortTasksByIcon:function(){this.sortTasks(Admin.itemSelectionController.get("isTask")?"smallDeviceIcon":"smallIcon")},sortTasksByName:function(){this.sortTasks(Admin.itemSelectionController.get("isTask")?"deviceName":"displayName")},sortTasksByStatus:function(){this.sortTasks("secondaryInformation")},sortTasksByLastUpdated:function(){this.sortTasks("updatedAt")},sortTasksAscending:function(){this.sortTasks(null,"ASC")},sortTasksDescending:function(
){this.sortTasks(null,"DESC")},showPasscodeForTask:function(){SC.AlertPane.info("_show_passcode_message".loc(),"_show_passcode_the_passcode_is".loc(Admin.itemSelectionController.getPath("parameters").PIN))},switchToLibraryItemForProfile:function(e){var t=e.getPath("owner.owner.content");Admin.sendAction("changeRoute",null,[t.getPath("members.firstObject")])},exportAutoJoinProfileToFile:function(){if(Admin.getPath("itemSelectionNestedStore.hasChanges")){Admin.sendAction("showSaveChangesConfirmation",this,[this.exportAutoJoinProfileToFile]);return}var e=Admin.itemSelectionController.get("id");this.invokeLast(function(){window.location.href=Admin.PM_WEBAPP_URI_ROOT+"/auto_join_profile/get_auto_join_profile/"+e.toString()})},exportProfileToFile:function(e){if(Admin.getPath("itemSelectionNestedStore.hasChanges")){Admin.sendAction("showSaveChangesConfirmation",this,[this.exportProfileToFile,e]);return}var t=e.getPath("owner.owner.content"),n=t.get("id");this.invokeLast(function(){window.location.href=Admin.PM_WEBAPP_URI_ROOT+"/profile/get_signed_profile/"+n.toString()})},cancelAllTargetTasksWhichAreInProgressFromContainerTask:function(){Admin.store.dataSource.addRpcs([["library_item_task","cancel_task",Admin.itemSelectionController.get("id")]])},showPerformTaskConfirmation:function(e,t){t||(t={});if(Admin.getPath("itemSelectionNestedStore.hasChanges")){Admin.sendAction("showSaveChangesConfirmation",this,[this.showPerformTaskConfirmation,e,t]);return}Admin.makeFirstResponder(Admin.NewTaskResponder),Admin.NewTaskResponder.newTask(e,t)},destroyKnobSet:function(e){var t=e.owner.content
;t.get("isFromServermgr")?t.set("isEnabled",NO):t.destroy()},newKnobSet:function(){var e=Admin.itemSelectionController.getPath("content.firstObject"),t=Admin.settingTypesSelectionController.getPath("knobSetClass"),n=Admin.get("profileForEditingNestedStore").createRecord(t,{});n.set("profile",Admin.get("profileForEditingNestedStore").find(e)),n.normalize()},addKnobSet:function(e){var t=Admin.itemSelectionController.getPath("content.firstObject"),n=e.owner.content.constructor,r=Admin.get("profileForEditingNestedStore").createRecord(n,{});r.set("profile",Admin.get("profileForEditingNestedStore").find(t)),r.normalize(),this.invokeLast(function(){var e=Admin.profileSettingController.get("arrangedObjects").indexOf(r);Admin.settingsPage.settings.scrollView.contentView.scrollToContentIndex(e)})},showMembersPicker:function(){Admin.detailPage.detailView.tabs.set("nowShowing","Admin.membersPage.members");var e=Admin.getPath("membersPage.membersPicker");e.append(),this.addMemberPane=e},confirmDeleteAppsFromAppLibrary:function(){this.deleteAppConfirmation(YES)},confirmDeleteAppFromAppPicker:function(){this.deleteAppConfirmation()},deleteAppConfirmation:function(e){var t="_generic_string_Delete Application Confirmation".loc(),n="_generic_string_This application will be removed from all devices.".loc(),r=SC.Object.create({alertPaneDidDismiss:function(t,n){n==="button1"&&(e?Admin.sendAction("deleteSelectedEnterpriseApps"):Admin.appController.destroy())}});e&&Admin.UnifiedAppsContentTableViewController.getPath("selection.length")>1&&(t="_generic_string_Delete Apps Confirmation".loc(),n="_generic_string_The apps will be removed from all devices."
.loc()),SC.AlertPane.warn({message:t,description:n,delegate:r,buttons:[{title:"_generic_string_Delete".loc()},{title:"_generic_string_Cancel".loc()}]})},deleteSelectedEnterpriseApps:function(){var e=Admin.UnifiedAppsContentTableViewController.get("selection");e.invoke("destroy")},confirmDeleteBooksFromBookLibrary:function(){this.confirmDeleteBooks()},confirmDeleteBooks:function(){var e="_generic_string_Delete Book Confirmation".loc(),t="_generic_string_This book will be removed from all devices.".loc(),n=SC.Object.create({alertPaneDidDismiss:function(e,t){t==="button1"&&Admin.sendAction("deleteSelectedBooks")}});Admin.UnifiedBooksContentTableViewController.getPath("selection.length")>1&&(e="_generic_string_Delete Books Confirmation".loc(),t="_generic_string_The books will be removed from all devices.".loc()),SC.AlertPane.warn({message:e,description:t,delegate:n,buttons:[{title:"_generic_string_Delete".loc()},{title:"_generic_string_Cancel".loc()}]})},deleteSelectedBooks:function(){var e=Admin.UnifiedBooksContentTableViewController.get("selection");e.invoke("destroy")},showSystemItemsPicker:function(){Admin.systemItemsPickerController.set("searchString","");var e=Admin.getPath("systemItemsPage.systemItemsPicker");e.append(),this.addMemberPane=e},showUserPicker:function(){Admin.allMembersPickerController.set("searchContentType","user"),Admin.allMembersPickerController.set("recipientName","_generic_string_Users".loc()),this.showMembersPicker()},showUserGroupPicker:function(){Admin.allMembersPickerController.set("searchContentType","user_group"),Admin.allMembersPickerController.
set("recipientName","_generic_string_User Groups".loc()),this.showMembersPicker()},showDevicePicker:function(){Admin.allMembersPickerController.set("searchContentType","device"),Admin.allMembersPickerController.set("recipientName","_generic_string_Devices".loc()),this.showMembersPicker()},showDeviceGroupPicker:function(){Admin.allMembersPickerController.set("searchContentType","device_group"),Admin.allMembersPickerController.set("recipientName","_generic_string_Device Groups".loc()),this.showMembersPicker()},showAllowUserLoginWindowPicker:function(){Admin.allMembersPickerController.set("searchContentType","loginAllowUser"),Admin.allMembersPickerController.set("recipientName","_generic_string_Users".loc());var e=Admin.getPath("membersPage.membersPicker");e.append(),this.addMemberPane=e},showDenyUserLoginWindowPicker:function(){Admin.allMembersPickerController.set("searchContentType","loginDenyUser"),Admin.allMembersPickerController.set("recipientName","_generic_string_Users".loc());var e=Admin.getPath("membersPage.membersPicker");e.append(),this.addMemberPane=e},showAllowUserGroupLoginWindowPicker:function(){Admin.allMembersPickerController.set("searchContentType","loginAllowUserGroup"),Admin.allMembersPickerController.set("recipientName","_generic_string_User Groups".loc());var e=Admin.getPath("membersPage.membersPicker");e.append(),this.addMemberPane=e},showDenyUserGroupLoginWindowPicker:function(){Admin.allMembersPickerController.set("searchContentType","loginDenyUserGroup"),Admin.allMembersPickerController.set("recipientName","_generic_string_User Groups".loc());var e=Admin
.getPath("membersPage.membersPicker");e.append(),this.addMemberPane=e},printerQueryTimer:SC.Timer.schedule({action:function(){Admin.store.dataSource.addRpcs([["printer","find_all"]],NO)},interval:5e3,repeats:YES,isPaused:YES}),showPrinterPicker:function(){Admin.allSystemItemsPickerController.set("searchContentType","printer"),Admin.allSystemItemsPickerController.set("recipientName","_generic_string_Printers".loc()),Admin.systemItemsController.set("arrayKey","printers"),this.printerQueryTimer.set("isPaused",NO),this.showSystemItemsPicker()},showSystemApplicationPicker:function(){Admin.allSystemItemsPickerController.set("searchContentType","system_application"),Admin.allSystemItemsPickerController.set("recipientName","_generic_string_Applications".loc());var e=Admin.actualProfileSettingController.firstObject();e&&e.set("shouldFakeSlider",YES),Admin.systemItemsController.set("arrayKey","applications"),this.showSystemItemsPicker()},showWidgetPicker:function(){Admin.allSystemItemsPickerController.set("searchContentType","widget"),Admin.allSystemItemsPickerController.set("recipientName","_generic_string_Widgets".loc()),Admin.systemItemsController.set("arrayKey","widgets"),this.showSystemItemsPicker()},showAuthenticatedMountPointPicker:function(){var e=Admin.getPath("addMountPointPage.addMountPointPane");this.addMountPointPane=e,this.authenticatedMount=YES,e.append()},showMountPointPicker:function(){var e=Admin.getPath("addMountPointPage.addMountPointPane");this.authenticatedMount=NO,this.addMountPointPane=e,e.append()},createLoginItemMountPoint:function(e){var t=e.getPath("owner.location.value"
),n=e.getPath("owner.protocolButton.value"),r=e.getPath("owner.name.value"),i=n+"://"+t.trim();r&&(i+="/"+r.trim());var s=Admin.actualProfileSettingController.firstObject();s&&s.addNetworkMount(i,"url",this.authenticatedMount),this.addMountPointPane.remove()},removeSystemItemsPicker:function(){var e=Admin.actualProfileSettingController.firstObject();e&&e.set("shouldFakeSlider",NO),this.printerQueryTimer.set("isPaused",YES),this.addMemberPane.remove(),Admin.systemItemsController.set("arrayKey","")},actuallyAddMembersFromMembersPicker:function(e){Admin.sendAction("actuallyAddMember",this,{addThis:e.getPath("owner.content"),toThis:Admin.itemSelectionController.getPath("content.firstObject")})},actuallyAddVisibleMembersFromMembersPicker:function(){var e=Admin.membersPickerControllerResultsFilteringItemSelection.get("arrangedObjects");e.forEach(function(e){Admin.sendAction("actuallyAddMember",this,{addThis:e,toThis:Admin.itemSelectionController.getPath("content.firstObject")})})},actuallyRemoveMembersFromMembersPicker:function(e){Admin.sendAction("actuallyRemoveMembers",this,{removeThese:[e.getPath("owner.content")],fromThis:Admin.itemSelectionController.getPath("content.firstObject")})},removeMembersPicker:function(){this.addMemberPane.remove(),Admin.allMembersPickerController.set("searchContentType",""),Admin.membersPickerController.set("searchString","")},addSystemItemsFromPicker:function(e){Admin.sendAction("actuallyAddMember",this,{addThis:e.getPath("owner.content"),toThis:Admin.settingTypesSelectionController.getPath("content.firstObject.settingInstances.firstObject")})},removeSystemItemsFromPicker
:function(e){Admin.sendAction("actuallyRemoveMembers",this,{removeThese:[e.getPath("owner.content")],fromThis:Admin.settingTypesSelectionController.getPath("content.firstObject.settingInstances.firstObject")})},addVisibleSystemItemsFromMembersPicker:function(){var e=Admin.systemItemsPickerController.get("results");e.forEach(function(e){Admin.sendAction("actuallyAddMember",this,{addThis:e,toThis:Admin.settingTypesSelectionController.getPath("content.firstObject.settingInstances.firstObject")})})},showSaveChangesConfirmation:function(e,t){var n=!!Admin.membersController.get("length");t&&(Admin.PENDING_SAVE_FUNCTION=t.shift(),Admin.PENDING_SAVE_FUNCTION_ARGS=t);var r=e,i=Admin.mainPage.mainPane.get("firstResponder");i&&i.respondsTo("commitEditing")&&i.commitEditing();if(!Admin.itemSelectionController.get("saveButtonWillCauseConfirmation")&&!t){Admin.sendAction("actuallySaveChanges"),Admin.PENDING_SAVE_FUNCTION&&r.invokeLast(function(){Admin.PENDING_SAVE_FUNCTION.apply(r,Admin.PENDING_SAVE_FUNCTION_ARGS),Admin.PENDING_SAVE_FUNCTION=null});return}SC.AlertPane.warn("_Show Save Changes Confirmation Message".loc(),Admin.itemSelectionController.get("isLibraryItem")?"_show_save_changes_confirmation_description_for_library_item".loc():n&&Admin.itemSelectionController.get("isManaged")?"_Show Save Changes Confirmation Description".loc():"",n||!Admin.itemSelectionController.get("isProfile")?"":"_generic_string_This configuration profile has no recipents, it will not be distributed".loc(),"_show_save_changes_confirmation_save_button".loc(),"_generic_string_Cancel".loc(),t?"_show_save_changes_confirmation_dont_save"
.loc():null,{alertPaneDidDismiss:function(e,t){var n=t==="button1",i=t==="button3";n?Admin.sendAction("actuallySaveChanges"):i&&Admin.sendAction("undoChanges"),n||i?Admin.PENDING_SAVE_FUNCTION&&r.invokeLast(function(){Admin.PENDING_SAVE_FUNCTION.apply(r,Admin.PENDING_SAVE_FUNCTION_ARGS),Admin.PENDING_SAVE_FUNCTION=null}):Admin.PENDING_SAVE_FUNCTION=null}})},actuallySaveChanges:function(){try{Admin.get("itemSelectionNestedStore").commitChanges()}catch(e){if(e!==SC.Store.CHAIN_CONFLICT_ERROR)throw e;SC.AlertPane.warn("_save_changes_conflict_message".loc(),"_save_changes_conflict_description".loc(),null,"_save_changes_conflict_overwrite".loc(),"_save_changes_conflict_cancel".loc(),{alertPaneDidDismiss:function(e,t){var n=t==="button1";n&&(Admin.get("itemSelectionNestedStore").commitChanges(YES),Admin.store.commitRecords(),Admin.get("profileForEditingNestedStore").reset())}})}Admin.store.commitRecords(),Admin.get("profileForEditingNestedStore").reset()},undoChanges:function(){Admin.get("itemSelectionNestedStore").discardChanges(),Admin.get("profileForEditingNestedStore").reset(),Admin.knobSetTypesUsedController.notifyPropertyChange("content")},searchiTunes:function(){Admin.makeFirstResponder(Admin.SEARCH_ITUNES)},appInfo:function(){Admin.makeFirstResponder(Admin.APP_INFO)},editProfile:function(e){var t=e.getPath("owner.owner.content");if(t.get("isNewProfileTemplate"))return Admin.sendAction("newProfile");Admin.profileForEditingController.set("content",t),Admin.makeFirstResponder(Admin.EDIT_PROFILE)},editProfileSelectingSettingType:function(e,t){if(Admin.profileController.get("profileMarkedForDeletion"
))return YES;var n=Admin.settingTypesController.get("all").toArray().filterProperty("knobSetClass",t.getPath("firstObject.knobSetClass"))[0];this.invokeLast(function(){Admin.settingTypesController.selectObject(n)}),Admin.sendAction("editProfile",e)},showDeleteItemConfirmation:function(){SC.AlertPane.warn("_Show Delete Item Confirmation Message".loc(),"_Show Delete Item Confirmation Description".loc(),null,"_generic_string_Delete".loc(),"_generic_string_Don't Delete".loc(),{alertPaneDidDismiss:function(e,t){var n=t=="button1";n&&Admin.sendAction("actuallyDeleteItem")}})},showDeleteProfileConfirmationFromSummaryView:function(e){this.showDeleteProfileConfirmation(e.getPath("owner.owner.content"))},showDeleteProfileConfirmationFromEditProfileView:function(){this.showDeleteProfileConfirmation(Admin.itemSelectionController.getPath("content.firstObject"),YES)},showDeleteProfileConfirmation:function(e,t){var n=e.get("isALaCarte"),r=e.get("displayName"),i=Admin.itemListController.getPath("selection.firstObject.isDirectoryItem"),s='_delete_profile_alert_pane_message_All payloads will be removed from "<profile_name>". "<profile_name>" will then be removed from all devices where it is currently applied. This action cannot be undone.'.loc(r);n&&(i?s="_delete_profile_alert_pane_message_manual_profile_for_directory_item".loc(r):s="_delete_profile_alert_pane_message_manual_profile_for_device".loc(r)),SC.AlertPane.warn({message:"_delete_profile_alert_pane_header_Remove All Settings?".loc(),description:s,buttons:[{title:"_delete_settings_button_text_Remove All Settings".loc(),action:function(
){t&&Admin.makeFirstResponder(Admin.ItemDetailResponder),Admin.sendAction("actuallyDeleteProfile",null,e)}},{title:"_generic_string_Cancel".loc()}]})},showNoPayloadsAlert:function(){var e=Admin.itemSelectionController.getPath("content.firstObject"),t=e.get("displayName");SC.AlertPane.warn({message:"no_payloads_alert_header".loc(),description:"no_payloads_alert_description".loc(t),buttons:[{title:"_continue_without_saving".loc(),action:function(){Admin.makeFirstResponder(Admin.ItemDetailResponder),Admin.sendAction("actuallyDeleteProfile",null,e)}},{title:"_generic_string_Cancel".loc()}]})},actuallyDeleteItem:function(){Admin.sendAction("undoChanges");var e=Admin.itemSelectionController.getPath("content.firstObject");if(!(e.instanceOf(Admin.Profile)||e.instanceOf(Admin.Device)||e.instanceOf(Admin.DeviceGroup)||e.instanceOf(Admin.AutoJoinProfile)))throw SC.$error("Should not be able to delete this item!");e.instanceOf(Admin.Profile)?console.warn("Might need to do something here..."):e.instanceOf(Admin.AutoJoinProfile)?Admin.autoJoinProfilesTreeItem.get("treeItemChildren").removeObject(e):Admin.itemListController.removeObject(e),e.destroy(),Admin.store.commitRecords()},actuallyDeleteProfile:function(e,t){Admin.profileController.set("profileMarkedForDeletion",YES);var n=Admin.get("itemSelectionNestedStore").find(t);n.destroy()},selectedItemWasDestroyed:function(){if(!Admin.get("itemSelectionNestedStore").get("hasChanges"))return;Admin.sendAction("undoChanges"),SC.AlertPane.error("_selected_item_was_destroyed_unsaved_changes_lost_message".loc(),"_selected_item_was_destroyed_unsaved_changes_lost_description"
.loc())},showVppContentPicker:function(){Admin.makeFirstResponder(Admin.AssignAssetsResponder)},showDirectoryItemPickerPage:function(){Admin.makeFirstResponder(Admin.DirectoryItemPickerResponder)},unAssignSelectedDirectoryItems:function(){var e=Admin.VppContentDetailController.get("selectedDirectoryItemTab"),t,n=Admin.VppContentDetailController.get("content"),r,i;e==="groups"?(t=Admin.FilteredAssignedGroupsForVppContentController.get("selection"),r=SC.clone(n.get("assignedUserGroups")),t.forEach(function(e){r.removeObject(e)}),n.set("assignedUserGroups",r)):(t=Admin.FilteredAssignedUsersForVppContentController.get("selection"),i=SC.clone(n.get("assignedUsers")),t.forEach(function(e){i.removeObject(e)}),n.set("assignedUsers",i))},toggleAllSelectionAssignedDirectoryItems:function(){var e=Admin.VppContentDetailController.get("selectedDirectoryItemTab"),t=e==="groups"?Admin.FilteredAssignedGroupsForVppContentController:Admin.FilteredAssignedUsersForVppContentController,n=t.get("content"),r=t.get("selection");n.get("length")===r.get("length")?t.selectObjects():t.selectObjects(n)},removeSelectedAppsForItemSelection:function(){var e=Admin.AssignedAppsTableViewController.get("selection"),t=Admin.itemSelectionFromNestedStoreController.get("content"),n;e&&e.get("length")>0&&t&&(n=SC.clone(t.get("assignedApplications")),e.forEach(function(e){n.removeObject(e.get("id"))}),t.set("assignedApplications",n),Admin.AssignedAppsTableViewController.set("selection",null))},removeSelectedBooksForItemSelection:function(){var e=Admin.AssignedBooksTableViewController.get("selection"),t=Admin.itemSelectionFromNestedStoreController
.get("content"),n;e&&e.get("length")>0&&t&&(n=SC.clone(t.get("assignedBooks")),e.forEach(function(e){e.get("licenseType")==="enterprise"&&n.removeObject(e.get("id"))}),t.set("assignedBooks",n),Admin.AssignedBooksTableViewController.set("selection",null))},toggleAllSelectionAssignedVppContent:function(){var e=Admin.AssignedAppsTableViewController,t=Admin.detailPage.detailView.tabs.get("nowShowing");t==="Admin.booksPage.books"&&(e=Admin.AssignedBooksTableViewController),e.toggleSelectAll()},sendVppInvitationToDevice:function(e){var t=Admin.itemSelectionController.get("id"),n=e.getPath("owner.content").get("id"),r={user_id:t,action:"sendInvitation",device_id:n};Admin.store.dataSource.addRpcs([["user","perform_vpp_action",r]],NO)},showVppEmailInputDialog:function(){Admin.VppInvitationPane.append()},dismissVppEmailInputDialog:function(){Admin.VppInvitationPane.remove()},showEditAppNameInputDialog:function(){var e=Admin.UnifiedAppsContentTableViewController.getPath("selection.firstObject.name");Admin.UpdateB2BAppNamePane.getPath("contentView.appNameInputView").set("value",e),Admin.UpdateB2BAppNamePane.append()},dismissEditAppNameInputDialog:function(){Admin.UpdateB2BAppNamePane.remove()},saveSelectedAppName:function(){Admin.sendAction("dismissEditAppNameInputDialog");var e=Admin.UnifiedAppsContentTableViewController.getPath("selection.firstObject"),t=Admin.UpdateB2BAppNamePane.getPath("contentView.appNameInputView").get("value").trim();t&&(e.set("name",t),e.commitRecord())},sendVppInvitationToUser:function(e){var t=Admin.itemSelectionController.get("id"),n={user_id:t,action:"sendInvitation"
},r=e.get("isActionFromEmailInputPane");r&&(n.vpp_email_address=e.get("emailAddress")),Admin.store.dataSource.addRpcs([["user","perform_vpp_action",n]],NO),Admin.sendAction("dismissVppEmailInputDialog")},revokeVppAccess:function(){var e=Admin.itemSelectionController.get("id"),t={user_id:e,action:"revoke"};Admin.store.dataSource.addRpcs([["user","perform_vpp_action",t]],NO)},showVppEmailInviteUserGroupAlert:function(e){var t=Admin.itemSelectionController.get("userGroupVppEmailInviteMemberType"),n=Admin.itemSelectionController.get("usersWithEmail"),r=Admin.itemSelectionController.get("vppEmailInvitationsSent"),i;if(t==="uninvited"){var s=n-r;i=s>1?"_user_group_vpp_email_alert_uninvited".loc(s):"_user_group_vpp_email_alert_uninvited_single_user".loc()}else i=n>1?"_user_group_vpp_email_alert_unenrolled".loc(n):"_user_group_vpp_email_alert_unenrolled_single_user".loc();SC.AlertPane.warn({message:"_user_group_vpp_device_invite_alert_Send Invitation".loc(),description:i,buttons:[{title:"_generic_string_Send".loc(),action:function(){Admin.sendAction("sendVppEmailInvitationsToUserGroup",t)}},{title:"_generic_string_Cancel".loc()}]})},sendVppEmailInvitationsToUserGroup:function(e){var t=Admin.itemSelectionController.get("id"),n={user_group_id:t,action:"sendEmailInvitations",user_type:e};Admin.store.dataSource.addRpcs([["user_group","perform_vpp_action",n]],NO)},showVppDeviceInviteUserGroupAlert:function(e){var t=Admin.itemSelectionController.get("userGroupVppEmailInviteMemberType"),n=Admin.itemSelectionController.get("unenrolledUsersWithVppDeviceCount"),r=Admin.itemSelectionController
.get("vppDeviceInvitationsSent"),i;if(t==="uninvited"){var s=n-r;i=s>1?"_user_group_vpp_device_alert_uninvited".loc(s):"_user_group_vpp_device_alert_uninvited_single_user".loc()}else i=n>1?"_user_group_vpp_device_alert_unenrolled".loc(n):"_user_group_vpp_device_alert_unenrolled_single_user".loc();SC.AlertPane.warn({message:"_user_group_vpp_device_invite_alert_Send Invitation".loc(),description:i,buttons:[{title:"_generic_string_Send".loc(),action:function(){Admin.sendAction("sendVppDeviceInvitationsToUserGroup",t)}},{title:"_generic_string_Cancel".loc()}]})},sendVppDeviceInvitationsToUserGroup:function(e){var t=Admin.itemSelectionController.get("id"),n={user_group_id:t,action:"sendDeviceInvitations",user_type:e};Admin.store.dataSource.addRpcs([["user_group","perform_vpp_action",n]],NO)},removeEnrolledMembersFromUserGroup:function(){var e=Admin.itemSelectionController.get("id"),t={user_group_id:e,action:"revoke"};Admin.store.dataSource.addRpcs([["user_group","perform_vpp_action",t]],NO)}}),Admin.EDIT_PROFILE=SC.Responder.create({nextResponder:Admin.ItemDetailResponder,didBecomeFirstResponder:function(){Admin.editProfilePage.editProfilePane.append(),Admin.editProfilePage.editProfilePane.adjust("top",Admin.editProfilePage.editProfilePane.get("layout").top-1),Admin.editProfilePage.editProfilePane.adjust("top",Admin.editProfilePage.editProfilePane.get("layout").top+1)},willLoseFirstResponder:function(){Admin.editProfilePage.editProfilePane.remove(),Admin.profileForEditingController.set("content",null)},cancelChangesFromProfileEditor:function(){Admin.get("profileForEditingNestedStore"
).discardChanges(),Admin.settingTypesController.get("arrangedObjects").setEach("validationErrorCount",0),Admin.makeFirstResponder(Admin.ItemDetailResponder)},showSaveChangesConfirmationFromProfileEditor:function(e,t){t&&(Admin.PENDING_SAVE_FUNCTION=t.shift(),Admin.PENDING_SAVE_FUNCTION_ARGS=t);var n=e,r=Admin.mainPage.mainPane.get("firstResponder");r&&r.respondsTo("commitEditing")&&r.commitEditing(),r=Admin.editProfilePage.editProfilePane.get("firstResponder"),r&&r.respondsTo("commitEditing")&&r.commitEditing();var i=Admin.settingTypesController.get("arrangedObjects"),s=0,o=NO;i.forEach(function(e){if(!(e instanceof Admin.SettingType))return;e.set("validationErrorCount",0);var t=e.get("settingInstances"),n=t.toArray(),r=n.get("length"),i,u;for(u=0;u<r;u++){i=n.objectAt(u);if(i.get("isKnobSet")){if(!i.get("isFromServermgr")){var a=i.runFullValidation();e.set("validationErrorCount",e.get("validationErrorCount")+a),s+=a}!o&&!SC.instanceOf(i,Admin.GeneralKnobSet)&&(o=YES)}}});var u=Admin.itemListController.getPath("selection.firstObject"),a=u.get("shortName")==="everyone",f;if(!o&&!a){f=Admin.itemSelectionController.get("owner"),f?Admin.sendAction("showDeleteProfileConfirmationFromEditProfileView"):Admin.sendAction("showNoPayloadsAlert");return}if(s>0){SC.AlertPane.error(s===1?"_generic_string_This profile has 1 error".loc():"_generic_string_This profile has %@1 errors".loc(s),s===1?"_generic_string_Please correct the error before continuing.".loc():"_generic_string_Please correct the errors before continuing.".loc(),null,"_generic_string_OK".loc(),null,t?"_show_save_changes_confirmation_dont_save"
.loc():null,{alertPaneDidDismiss:function(e,t){var r=t==="button3";r&&Admin.sendAction("cancelChangesFromProfileEditor"),r?Admin.PENDING_SAVE_FUNCTION&&n.invokeLast(function(){Admin.PENDING_SAVE_FUNCTION.apply(n,Admin.PENDING_SAVE_FUNCTION_ARGS),Admin.PENDING_SAVE_FUNCTION=null}):Admin.PENDING_SAVE_FUNCTION=null}});return}Admin.sendAction("actuallySaveChangesFromProfileEditor"),Admin.PENDING_SAVE_FUNCTION&&n.invokeLast(function(){Admin.PENDING_SAVE_FUNCTION.apply(n,Admin.PENDING_SAVE_FUNCTION_ARGS),Admin.PENDING_SAVE_FUNCTION=null});return},actuallySaveChangesFromProfileEditor:function(){var e=Admin.itemListController.getPath("selection.firstObject"),t=Admin.itemSelectionController.getPath("content.firstObject"),n=Admin.get("profileForEditingNestedStore").find(e),r=Admin.get("profileForEditingNestedStore").find(t);if(r.isProfile)if(n.isDirectoryItem||n.isDevice||n.isDeviceGroup)r.set("owner",n);else{if(!n.isKnobSet)throw SC.$error('Unexpected "addThisFromProfileForEditingNestedStore" type at Admin.EDIT_PROFILE.actuallySaveChangesFromProfileEditor');n.get("profile")||n.set("profile",r)}else{if(!r.isKnobSet)throw SC.$error('Unexpected "toThisFromProfileForEditingNestedStore" type at Admin.EDIT_PROFILE.actuallySaveChangesFromProfileEditor');if(!n.isProfile)throw SC.$error('Unexpected "addThisFromProfileForEditingNestedStore" type at Admin.EDIT_PROFILE.actuallySaveChangesFromProfileEditor');r.get("profile")||r.set("profile",n)}Admin.get("profileForEditingNestedStore").commitChanges(YES),Admin.makeFirstResponder(Admin.ItemDetailResponder),Admin.knobSetTypesUsedController.notifyPropertyChange
("content")},profileForEditingWasDestroyed:function(){Admin.sendAction("cancelChangesFromProfileEditor"),SC.AlertPane.error("_selected_item_was_destroyed_unsaved_changes_lost_message".loc(),"_selected_item_was_destroyed_unsaved_changes_lost_description".loc())}}),Admin.NewTaskResponder=SC.Responder.create({nextResponder:Admin.ItemDetailResponder,scene:"",firstPIN:"",secondPIN:"",newDeviceName:"",didBecomeFirstResponder:function(){Admin.newTaskPage.newTaskPane.append(),this.allDevices.set("storeKeys",[]),this.set("scene","Admin.newTaskScenesPage.loading")},willLoseFirstResponder:function(){Admin.newTaskPage.newTaskPane.remove(),this.set("scene",""),this.set("firstPIN",""),this.set("secondPIN",""),this.set("newDeviceName","")},newTask:function(e,t){var n=Admin.itemSelectionController.get("id"),r=e.get("selectedItem"),i=r.get("taskType"),s;this.set("taskType",i),this.set("taskTypeTitle",r.get("title"));if(Admin.itemSelectionController.get("isDevice"))i==="RequestMirroring"&&Admin.AirplayDestinationsController.get("content").refresh(),this.invokeLast(function(){Admin.itemSelectionController.get("isMac")?(this.set("allMacDevices",[Admin.itemSelectionController.getPath("content.firstObject")]),this.set("allIOSDevices",[])):(this.set("allMacDevices",[]),this.set("allIOSDevices",[Admin.itemSelectionController.getPath("content.firstObject")])),Admin.sendAction("deviceIdsReady",[Admin.itemSelectionController.get("storeKey")])});else{var o={task_type:this.get("taskType")};if(Admin.itemSelectionController.get("isDeviceGroup"))s="device_group",o.device_group_id=n;else if(Admin.itemSelectionController
.get("isUserGroup"))s="user_group",o.user_group_id=n;else if(Admin.itemSelectionController.get("isUser"))s="user",o.user_id=n;else if(!s)throw SC.$error("could not determine methodType");this.set("devicesForTask",Admin.store.find(SC.Query.remote("Admin.Device",{rpcs:[[s,"get_all_devices_for_task",o]]}))),this.devicesForTask.addObserver("status",this,"allDevicesDidChange"),["DeviceLock","EraseDevice","ClearPasscode"].contains(i)&&(this.set("allMacDevices",Admin.store.find(SC.Query.remote("Admin.Device",{rpcs:[[s,"get_all_mac_devices",n]]}))),this.allMacDevices.addObserver("status",this,"allDevicesDidChange")),i==="DeviceLock"&&(this.set("allIOSDevices",Admin.store.find(SC.Query.remote("Admin.Device",{rpcs:[[s,"get_all_mac_devices",n]]}))),this.allIOSDevices.addObserver("status",this,"allDevicesDidChange"))}},allDevices:SC.RecordArray.create({store:Admin.store}),allDevicesDidChange:function(e){var t=[],n=this.get("taskType");e.removeObserver("status",this,"allDevicesDidChange");if(n==="DeviceLock"&&!(this.allIOSDevices.get("status")&SC.Record.READY))return;if(["DeviceLock","EraseDevice","ClearPasscode"].contains(n)&&!(this.allMacDevices.get("status")&SC.Record.READY))return;this.devicesForTask.get("status")&SC.Record.READY&&(this.devicesForTask.get("length")?(t=t.concat(this.devicesForTask.get("storeKeys")),Admin.sendAction("deviceIdsReady",t)):this.set("scene","Admin.newTaskScenesPage.noDevices"))},deviceIdsReady:function(e){this.allDevices.set("storeKeys",e),this.set("scene","Admin.newTaskScenesPage.overview"),this.invokeLater(function(){if(!Admin.newTaskPage.newTaskPane.contentView
.scene.contentView.macLockWipe)return;Admin.newTaskPage.newTaskPane.contentView.scene.contentView.macLockWipe.macLockWipeFirstPin.beginEditing()},250)},performTask:function(){var e=this.get("taskType");if(this.firstPIN!==this.secondPIN){SC.AlertPane.warn("_new_task_passcodes_did_not_match_warning".loc(),"",null,"_new_task_ok".loc());return}if(this.firstPIN&&!/^[0-9][0-9][0-9][0-9][0-9][0-9]$/.test(this.firstPIN)){SC.AlertPane.warn("_new_task_passcode_was_not_six_digit_number".loc(),"",null,"_new_task_ok".loc());return}Admin.sendAction("actuallyPerformTask")},actuallyPerformTask:function(){this.set("scene","Admin.newTaskScenesPage.creating");var e={},t=this.get("taskType");this.secondPIN&&(e.PIN=this.secondPIN);if(t==="RequestMirroring"){var n=Admin.AirplayDestinationsController.getPath("selection.firstObject");e.DestinationName=n.get("name"),e.DestinationDeviceID=n.get("deviceID");var r=n.get("airplayPassword");r&&(e.Password=r)}t==="SetDeviceName"&&(e.DeviceName=this.get("newDeviceName"));var i=Admin.store.find(SC.Query.remote("Admin.LibraryItemTask",{rpcs:[["library_item_task","start_task",{target_class:Admin.itemSelectionController.getPath("content.firstObject.constructor").toString().split(".")[1],target_id:Admin.itemSelectionController.get("id"),params:e,task_type:t}]],blocksUnload:NO}));i.addObserver("status",this,"newTaskRecordArrayDidChange")},newTaskRecordArrayDidChange:function(e){e.removeObserver("status",this,"newTaskRecordArrayDidChange");var t=e.get("firstObject");if(!t){Admin.sendAction("cancel");return}console.log(t+""),t.addObserver("status",this,"newTaskDidChange"
)},newTaskDidChange:function(e){if(!e.get("id"))return;e.removeObserver("status",this,"newTaskDidChange");var t=e.get("completed")?1:0;Admin.sidebarRootActivity.treeItemChildren[t].get("itemArray").indexOf(e)===-1&&Admin.sidebarRootActivity.treeItemChildren[t].get("itemArray").unshiftObject(e),Admin.detailPage.detailView.tabs.set("nowShowing","Admin.tasksPage.targetTasks"),Admin.makeFirstResponder(Admin.ItemDetailResponder)},cancel:function(){Admin.makeFirstResponder(Admin.ItemDetailResponder)}}),Admin.PushAppsResponder=SC.Responder.create({nextResponder:Admin.ItemDetailResponder,didBecomeFirstResponder:function(){var e=Admin.PushAppsPickerPage.get("pushAppsPickerSheet");this.set("pushAppsPickerPane",e),e.append()},willLoseFirstResponder:function(){this.get("pushAppsPickerPane").remove()},hidePushAppsPicker:function(){Admin.pushAppsPickerTableViewController.deselectAllContent(),Admin.makeFirstResponder(Admin.ItemDetailResponder)},selectAllAppsForPush:function(){Admin.pushAppsPickerTableViewController.selectAllContent(),Admin.PushAppsPickerPage.pushAppsPickerSheet.getPath("contentView.contentListView").reload()},pushAppsForCurrentSelection:function(){var e=Admin.itemSelectionController.get("id"),t=SC.A(Admin.pushAppsPickerTableViewController.get("checkboxCheckedApplications")),n=Admin.itemSelectionController.get("type"),r={target_id:e,target_class:n,apps:t};Admin.store.dataSource.addRpcs([["unified_application","push_applications_for_library_item",r]],NO),Admin.makeFirstResponder(Admin.ItemDetailResponder)}}),Admin.PushBooksResponder=SC.Responder.create({nextResponder:Admin.ItemDetailResponder
,didBecomeFirstResponder:function(){var e=Admin.PushBooksPickerPage.get("pushBooksPickerSheet");this.set("pushBooksPickerPane",e),e.append()},willLoseFirstResponder:function(){this.get("pushBooksPickerPane").remove()},hidePushBooksPicker:function(){Admin.pushBooksPickerTableViewController.deselectAllContent(),Admin.makeFirstResponder(Admin.ItemDetailResponder)},selectAllBooksForPush:function(){Admin.pushBooksPickerTableViewController.selectAllContent(),Admin.PushBooksPickerPage.pushBooksPickerSheet.getPath("contentView.contentListView").reload()},pushBooksForCurrentSelection:function(){var e=Admin.itemSelectionController.get("id"),t=SC.A(Admin.pushBooksPickerTableViewController.get("checkboxCheckedApplications")),n=Admin.itemSelectionController.get("type"),r={target_id:e,target_class:n,books:t};Admin.store.dataSource.addRpcs([["unified_book","push_books_for_library_item",r]],NO),Admin.makeFirstResponder(Admin.ItemDetailResponder)}}),Admin.PushOSXEnterpriseAppsResponder=SC.Responder.create({nextResponder:Admin.ItemDetailResponder,didBecomeFirstResponder:function(){var e=Admin.PushOSXEnterpriseAppsPage.get("pushAppsPickerSheet");this.set("pushAppsPickerPane",e),e.getPath("contentView.contentListView").reload(),e.append()},willLoseFirstResponder:function(){this.get("pushAppsPickerPane").remove()},hidePushAppsPicker:function(){Admin.PushOSXEnterpriseAppsTableViewController.deselectAllContent(),Admin.makeFirstResponder(Admin.ItemDetailResponder)},selectAllAppsForPush:function(){Admin.PushOSXEnterpriseAppsTableViewController.selectAllContent(),Admin.PushOSXEnterpriseAppsPage.pushAppsPickerSheet
.getPath("contentView.contentListView").reload()},pushAppsForCurrentSelection:function(){var e=Admin.itemSelectionController.get("id"),t=SC.A(Admin.PushOSXEnterpriseAppsTableViewController.get("checkboxCheckedApplications")),n=Admin.itemSelectionController.get("type"),r={target_id:e,target_class:n,apps:t};Admin.store.dataSource.addRpcs([["unified_application","push_applications_for_library_item",r]],NO),Admin.makeFirstResponder(Admin.ItemDetailResponder)}}),Admin.aboutPage=SC.Page.create({about:SC.View.design({childViews:"scrollView".w(),classNames:"admin-about-page".w(),scrollView:SC.ScrollView.design({contentView:SC.ListView.design({isSelectable:NO,contentBinding:"Admin.aboutController.arrangedObjects",delegate:Admin.aboutController,contentValueKey:"name",rowHeight:45,contentIconKey:"smallIcon",hasContentIcon:YES,contentExampleViewKey:"contentExampleView",vppStatusBinding:"Admin.itemSelectionController.vppStatus",vppStatusObserver:function(){this.rowHeightDidChangeForIndexes(SC.IndexSet.create().add(0,this.getPath("content.length")))}.observes("vppStatus")})})})}),Admin.addDevicePage=SC.Page.create({addDevicePane:SC.SheetPane.design({layout:{width:0+parseFloat("_add_device_pane_width".loc()),height:200,centerX:0},contentView:SC.View.design(CW.TouchApproximation,{childViews:["addDeviceLabel","helperText","nameLabel","deviceTypeLabelView","deviceTypeView","name","identifierButton","macAddressLabel","serialNumber","airplayPasswordLabel","passwordTextField","appleTVHelpDescription","cancel","add"],addDeviceLabel:SC.LabelView.design({layout:{top:20,left:20,right:20,height:20},fontWeight
:SC.BOLD_WEIGHT,isDecorative:YES,value:"_add_device_label_view_value".loc()}),helperText:SC.LabelView.design({layout:{top:42,left:20,right:20,height:20},classNames:"admin-description-label-view".w(),isDecorative:YES,value:"_generic_string_Create a placeholder record for a device.".loc()}),deviceTypeLabelView:SC.LabelView.design({layout:{top:67,width:parseFloat("_add_device_label_width".loc()),height:20},value:"_generic_string_Device Type:".loc(),textAlign:SC.ALIGN_RIGHT}),deviceTypeView:SC.SelectView.design({layout:{top:65,left:parseFloat("_add_device_label_width".loc())+10-2,right:18,height:27},items:[{name:"_device_type_iOS/OS X".loc(),value:"ios_osx"},{name:"_device_type_Apple TV".loc(),value:"apple_tv"}],itemTitleKey:"name",itemValueKey:"value"}),nameLabel:SC.LabelView.design({layout:{top:97,width:parseFloat("_add_device_label_width".loc()),height:20},value:"_add_device_name_label".loc(),textAlign:SC.ALIGN_RIGHT}),name:SC.TextFieldView.design({layout:{top:97,left:parseFloat("_add_device_label_width".loc())+10,right:20,height:20},hint:"_hint_required".loc(),applyImmediately:YES,isVisibleObserver:function(){this.get("isVisibleInWindow")&&this.$input()[0].focus()}.observes("isVisibleInWindow")}),identifierButton:SC.SelectView.design({layout:{top:124,left:20,width:parseFloat("_add_device_label_width".loc())-40,height:27},items:function(){var e=[{name:"_add_device_identifier_serial_number".loc(),value:"serialNumber"},{name:"_add_device_identifier_udid".loc(),value:"udid"},{name:"_add_device_identifier_imei".loc(),value:"imei"},{name:"_add_device_identifier_meid".loc(),value:"meid"
}];return this.get("deviceType")==="apple_tv"&&(e=[{name:"".loc(),value:"deviceID"}]),e}.property("deviceType").cacheable(),isVisible:function(){return this.get("deviceType")!=="apple_tv"}.property("deviceType").cacheable(),itemTitleKey:"name",itemValueKey:"value",deviceTypeBinding:SC.Binding.oneWay(".owner.deviceTypeView.value")}),deviceTypeObserver:function(){var e=this.getPath("deviceTypeView.value"),t=this.getPath("identifierButton.value"),n=this.get("identifierButton");e==="apple_tv"?(n.set("value","deviceID"),this.serialNumber.set("value",""),this.passwordTextField.set("value",""),this.get("owner").adjust("height",225+parseFloat("_add_device_apple_tv_help_description_height".loc()))):t==="deviceID"&&(n.set("value","serialNumber"),this.serialNumber.set("value",""),this.get("owner").adjust("height",200))}.observes("deviceTypeView.value"),macAddressLabel:SC.LabelView.design({layout:{top:126,width:parseFloat("_add_device_label_width".loc()),height:20},value:"_add_device_Bonjour Device ID:".loc(),textAlign:SC.ALIGN_RIGHT,isVisible:function(){return this.get("deviceType")==="apple_tv"}.property("deviceType").cacheable(),deviceTypeBinding:SC.Binding.oneWay(".owner.deviceTypeView.value")}),serialNumber:SC.TextFieldView.design({layout:{top:124,left:parseFloat("_add_device_label_width".loc())+10,right:20,height:20},hint:"_hint_required".loc(),validator:function(){var e;return this.get("deviceType")==="apple_tv"&&(e=Admin.MACAddressValidator),e}.property("deviceType").cacheable(),deviceTypeBinding:SC.Binding.oneWay(".owner.deviceTypeView.value"),applyImmediately:YES}),airplayPasswordLabel
:SC.LabelView.design({layout:{top:154,width:parseFloat("_add_device_label_width".loc()),height:20},value:"_add_device_Airplay Password:".loc(),textAlign:SC.ALIGN_RIGHT,isVisible:function(){return this.get("deviceType")==="apple_tv"}.property("deviceType").cacheable(),deviceTypeBinding:SC.Binding.oneWay(".owner.deviceTypeView.value")}),passwordTextField:SC.TextFieldView.design({isPassword:YES,layout:{top:152,left:parseFloat("_add_device_label_width".loc())+10,right:20,height:20},hint:"_generic_string_optional".loc(),applyImmediately:YES,isVisible:function(){return this.get("deviceType")==="apple_tv"}.property("deviceType").cacheable(),deviceTypeBinding:SC.Binding.oneWay(".owner.deviceTypeView.value")}),appleTVHelpDescription:SC.LabelView.design({layout:{top:182,left:20,right:20,height:parseFloat("_add_device_apple_tv_help_description_height".loc())},value:"_generic_string_The Bonjour Device ID can be found by navigating to Settings > General > About on your Apple TV and pressing up on your remote until it is displayed. The AirPlay password is used in the configuration of AirPlay Mirroring settings when this device is added as an allowed AirPlay destination.".loc(),classNames:"admin-description-label-view".w(),isVisible:function(){return this.get("deviceType")==="apple_tv"}.property("deviceType").cacheable(),deviceTypeBinding:SC.Binding.oneWay(".owner.deviceTypeView.value")}),add:SC.ButtonView.design({layout:{bottom:15,right:20,width:100,height:27},isDefault:YES,title:"_generic_string_Add".loc(),isEnabled:function(){var e=this.get("validator"),t=this.getPath("owner.serialNumber"
),n=YES;return e&&t&&(n=e.validate(null,t)),n&&this.get("hasName")&&this.get("hasSerialNumber")&&this.get("hasSerialNumber").length>0}.property("hasSerialNumber","hasName","deviceType"),validatorBinding:".owner.serialNumber.validatorObject",hasSerialNumberBinding:".owner.serialNumber.value",hasNameBinding:".owner.name.value",deviceTypeBinding:SC.Binding.oneWay(".owner.deviceTypeView.value"),target:"Admin",action:"actuallyCreateNewDevice"}),cancel:SC.ButtonView.design({layout:{bottom:15,right:140,height:27,width:100},title:"_add_device_page_cancel_button_title".loc(),target:SC.outlet("owner.owner"),action:"remove"})})})}),Admin.addMountPointPage=SC.Page.create({addMountPointPane:SC.SheetPane.design({layout:{width:480,height:195,centerX:0},contentView:SC.View.design(CW.TouchApproximation,{childViews:"addMountPointLabel helperText protocolLabel protocolButton locationLabel location nameLabel name  cancel add".w(),addMountPointLabel:SC.LabelView.design({layout:{top:20,left:20,right:20,height:20},fontWeight:SC.BOLD_WEIGHT,isDecorative:YES,value:"_generic_string_Add Mount Point".loc()}),helperText:SC.LabelView.design({layout:{top:42,left:20,right:20,height:20},classNames:"admin-description-label-view".w(),isDecorative:YES,value:"_generic_string_Add a network accessible volume to mount at login.".loc()}),protocolLabel:SC.LabelView.design({layout:{top:69,left:0,width:80,height:20},value:"_generic_string_Protocol:".loc(),textAlign:SC.ALIGN_RIGHT}),protocolButton:SC.SelectButtonView.design({layout:{top:66,left:90,width:130,height:27},objects:[{name:"_generic_string_AFP".loc(),value:"afp"
},{name:"_generic_string_NFS".loc(),value:"nfs"},{name:"_generic_string_SMB".loc(),value:"smb"}],nameKey:"name",valueKey:"value"}),nameLabel:SC.LabelView.design({layout:{top:119,left:0,width:80,height:20},value:"_generic_string_Volume:".loc(),textAlign:SC.ALIGN_RIGHT}),name:SC.TextFieldView.design({layout:{top:117,left:90,right:20,height:20},hint:"_generic_string_optional".loc(),applyImmediately:YES}),locationLabel:SC.LabelView.design({layout:{top:94,left:0,width:80,height:20},value:"_generic_string_Hostname:".loc(),textAlign:SC.ALIGN_RIGHT}),location:SC.TextFieldView.design({layout:{top:92,left:90,right:20,height:20},hint:"_hint_required".loc(),applyImmediately:YES}),add:SC.ButtonView.design({layout:{bottom:15,right:20,width:100,height:27},isDefault:YES,title:"_generic_string_Add".loc(),isEnabledBinding:".owner.location.value",target:"Admin",action:"createLoginItemMountPoint"}),cancel:SC.ButtonView.design({layout:{bottom:15,right:140,height:27,width:100},title:"_add_device_page_cancel_button_title".loc(),target:SC.outlet("owner.owner"),action:"remove"})})})}),Admin.appsLibraryPage=SC.Page.create({appLibraryView:SC.View.design({childViews:"noAppsView filterBar applicationTable toolbarView".w(),isVppServiceEnabledBinding:SC.Binding.oneWay("Admin.SettingsController.isVppServiceEnabled"),hasAppsBinding:SC.Binding.oneWay("Admin.UnifiedAppsContentFilterManager.hasContent"),noAppsView:Admin.GenesisView.design({titleValue:"_generic_string_Apps".loc(),descriptionValue:function(){var e="_generic_string_profile_manager_apps_feature_description".loc(),t=this.get("deviceManagementEnabled"
);return t===NO&&(e="_generic_string_profile_manager_apps_feature_description_no_device_management".loc()),e}.property("deviceManagementEnabled").cacheable(),showAppUploadBinding:".deviceManagementEnabled",imageValue:"genesis-icon-apps-2x",isVisibleBinding:SC.Binding.oneWay(".owner.hasApps").not(),deviceManagementEnabledBinding:SC.Binding.oneWay("Admin.SettingsController.deviceManagementEnabled")}),filterBar:Admin.VppContentFilterBarView.design({isVisibleBinding:SC.Binding.oneWay(".owner.hasApps"),selectedLicenseBinding:"Admin.UnifiedAppsContentFilterManager.licenseFilterValue",selectedKindBinding:"Admin.UnifiedAppsContentFilterManager.kindFilterValue",categoryFilterMenuBinding:SC.Binding.oneWay("Admin.UnifiedAppsContentFilterManager.categoryFilterMenu"),categoryFilterTitleBinding:SC.Binding.oneWay("Admin.UnifiedAppsContentFilterManager.categoryFilterTitle"),searchStringBinding:"Admin.UnifiedAppsContentFilterManager.searchString",searchHint:"_search_hint_Search Apps".loc()}),applicationTable:SCTable.TableView.design({classNames:"sctable-table-view large-row-height".w(),isVisibleBinding:SC.Binding.oneWay(".owner.hasApps"),layout:{top:29,left:0,bottom:45,minWidth:825},rowHeight:45,headerHeight:17,columnsBinding:SC.Binding.oneWay("Admin.UnifiedAppsContentTableViewColumnsController.arrangedObjects"),columnSelectionBinding:SC.Binding.oneWay("Admin.UnifiedAppsContentTableViewColumnsController.selection"),contentBinding:SC.Binding.oneWay("Admin.UnifiedAppsContentTableViewController.arrangedObjects"),selectionBinding:"Admin.UnifiedAppsContentTableViewController.selection",showAlternatingRows
:YES,canReorderColumns:NO,sort:{valueKey:"name",direction:SCTable.SORT_DIRECTION_ASCENDING}}),toolbarView:SC.View.design({classNames:"admin-content-library-toolbar-view".w(),isVisibleBinding:SC.Binding.oneWay(".owner.hasApps"),layout:{bottom:0,height:45},childViews:"addEnterpriseAppButtonView enterpriseAppUploadView removeAppButtonView appSummaryInfo getMoreView".w(),addEnterpriseAppButtonView:SC.ButtonView.design({layout:{left:25,height:24,width:28,top:10.5},icon:"admin-content-library-toolbar-add-button",themeName:"blank",isEnabledBinding:SC.Binding.oneWay("Admin.SettingsController.deviceManagementEnabled")}),enterpriseAppUploadView:Admin.UploadView.design({layout:{left:25,height:24,width:28,top:10.5},fileTypeIcon:"pm-upload-app-icon",isVisibleBinding:SC.Binding.oneWay("Admin.SettingsController.deviceManagementEnabled"),supportedFilenameExtensions:Admin.EnterpriseAppFilenameExtensions,lastUploadedFileDidChange:function(){Admin.sendAction("parseApp")}.observes("lastUploadedFile")}),removeAppButtonView:SC.ButtonView.design({layout:{left:65,height:24,width:28,top:10.5},icon:"admin-content-library-toolbar-remove-button",themeName:"blank",target:"Admin",isEnabledBinding:"Admin.UnifiedAppsContentTableViewController.isSelectionEnterprise",isEnabledBindingDefault:SC.Binding.oneWay().bool(),action:"confirmDeleteAppsFromAppLibrary"}),appSummaryInfo:Admin.UnifiedAssetSummaryInfoView.design({assetType:"app",countBinding:SC.Binding.oneWay("Admin.UnifiedAppsContentFilterManager.vppContentFilteredSearchResultsLength"),sizeInKBBinding:SC.Binding.oneWay("Admin.UnifiedAppsContentFilterManager.vppContentFilteredSearchResultsSizeInKB"
)}),getMoreView:SC.ButtonView.design({classNames:"admin-get-more-button".w(),layout:{right:25,width:0+parseFloat("_vpp_get_more_apps_button_width".loc()),height:20,centerY:0},title:"_generic_string_Get More Apps".loc(),themeName:"blank",target:"Admin",action:"goToVPPPortal"})})})}),Admin.appsPage=SC.Page.create({apps:SC.View.design(Admin.appsViewMixin,{childViews:"appsInfoView unsupportedOverlayView noItemView".w(),applicationLengthBinding:SC.Binding.oneWay("Admin.UnifiedAppsForItemSelectionFilterManager*restrictSearchWithinContentIds.length"),appsInfoView:SC.View.design({childViews:"filterBarView applicationListView toolbarView".w(),filterBarView:Admin.VppContentFilterBarView.design({layout:{height:29,left:0,top:0},isVisibleBinding:SC.Binding.oneWay(".owner.hasUnifiedApps"),selectedLicenseBinding:"Admin.UnifiedAppsForItemSelectionFilterManager.licenseFilterValue",selectedKindBinding:"Admin.UnifiedAppsForItemSelectionFilterManager.kindFilterValue",categoryFilterMenuBinding:SC.Binding.oneWay("Admin.UnifiedAppsForItemSelectionFilterManager.categoryFilterMenu"),categoryFilterTitleBinding:SC.Binding.oneWay("Admin.UnifiedAppsForItemSelectionFilterManager.categoryFilterTitle"),searchStringBinding:"Admin.UnifiedAppsForItemSelectionFilterManager.searchString",searchHint:"_search_hint_Search Apps".loc()}),applicationListView:SCTable.TableView.design({classNames:"sctable-table-view large-row-height".w(),layout:{top:29,left:0,bottom:45},rowHeight:45,headerHeight:17,columnsBinding:SC.Binding.oneWay("Admin.UnifiedAppsForItemSelectionTableViewColumnsController.arrangedObjects"),contentBinding
:SC.Binding.oneWay("Admin.AssignedAppsTableViewController.arrangedObjects"),selectionBinding:"Admin.AssignedAppsTableViewController.selection",showAlternatingRows:YES,canReorderColumns:NO,sort:{valueKey:"name",direction:SCTable.SORT_DIRECTION_ASCENDING}}),toolbarView:SC.View.design({classNames:"admin-content-library-toolbar-view".w(),childViews:"appSummaryInfoView".w(),layout:{bottom:0,height:45},appSummaryInfoView:Admin.UnifiedAssetSummaryInfoView.design({assetType:"app",countBinding:SC.Binding.oneWay("Admin.UnifiedAppsForItemSelectionFilterManager.vppContentFilteredSearchResultsLength"),sizeInKBBinding:SC.Binding.oneWay("Admin.UnifiedAppsForItemSelectionFilterManager.vppContentFilteredSearchResultsSizeInKB")})})})}),assignedToPopupPane:SC.PickerPane.create({layout:{width:150,height:100},contentView:SC.ListView.design({contentBinding:"Admin.AssignedItemsForItemSelectionController.content",contentValueKey:"name",isSelectable:NO,rowHeight:20,exampleView:Admin.VppContentAssignedToListItemView.design({contentValueKey:"displayName",hasContentIcon:YES,contentIconKey:"smallIcon"})})}),parseAppPane:SC.PanelPane.create({layout:{centerX:0,centerY:0,width:100,height:100},contentView:SC.View.design({childViews:"spinner".w(),spinner:Admin.SpinnerView.design({layout:{centerX:0,centerY:0,width:32,height:32}})})})}),Admin.AUAPWarningMinHeight=30,Admin.AssignAssetsPickerSheet=SC.SheetPane.extend({showLicenseWarning:null,viewIcon:null,headerValue:null,descriptionValue:null,selectedLicense:null,selectedKind:null,categoryFilterMenu:null,categoryFilterTitle:null,searchString:null,searchHint:null
,columns:null,content:null,selection:null,licenseWarningLabelValue:null,selectedVppContentWithoutEnoughLicenses:null,vppServiceWarningLabelViewValue:null,assignAssetsAction:null,selectAllAction:null,licenseWarningLabelViewHeightBinding:".contentView.licenseWarningLabelView.calculatedHeight",isVppContentAssignableBinding:"Admin.itemSelectionController.isVppContentAssignable",isUserGroupBinding:"Admin.itemSelectionController.isUserGroup",showVppServiceWarning:function(e,t){if(t!==undefined)throw SC.$error("showVppServiceWarning is ready only for %@".fmt(this.constructor));return!!this.get("isUserGroup")&&!this.get("isVppContentAssignable")}.property("isUserGroup","isVppContentAssignable").cacheable(),layoutObserver:function(e,t){var n={width:640,height:440,centerX:0},r=this.get("licenseWarningLabelViewHeight");this.get("showLicenseWarning")&&r?n.height+=r>Admin.AUAPWarningMinHeight?r:Admin.AUAPWarningMinHeight:this.get("showVppServiceWarning")&&(n.height+=Admin.AUAPWarningMinHeight),this.set("layout",n)}.observes("showLicenseWarning","licenseWarningLabelViewHeight","showVppServiceWarning"),layout:{width:640,height:440,centerX:0},contentView:SC.View.extend({childViews:["iconView","headerView","descriptionView","filterBarView","contentListView","licenseWarningIconView","licenseWarningLabelView","vppServiceWarningIconView","vppServiceWarningLabelView","selectAllButtonView","cancelButtonView","okButtonView"],iconView:SC.ImageView.design({layout:{width:60,height:60,left:25,top:15},useCanvas:NO,valueBinding:".owner.owner.viewIcon"}),headerView:Admin.BoldLabelViewAbsolute.extend({layout
:{height:20,left:100,top:20},valueBinding:".owner.owner.headerValue"}),descriptionView:SC.LabelView.extend({layout:{height:30,left:100,top:40,right:50},valueBinding:".owner.owner.descriptionValue"}),filterBarView:Admin.VppContentFilterBarView.design({layout:{height:27,left:20,top:80,right:20},classNames:"admin-content-library-filter-bar admin-filter-bar-all-borders".w(),selectedLicenseBinding:".owner.owner.selectedLicense",selectedKindBinding:".owner.owner.selectedKind",categoryFilterMenuBinding:".owner.owner.categoryFilterMenu",categoryFilterTitleBinding:".owner.owner.categoryFilterTitle",searchStringBinding:".owner.owner.searchString",searchHintBinding:".owner.owner.searchHint"}),contentListView:SCTable.TableView.design({classNames:"sctable-table-view large-row-height admin-vpp-content-picker-list".w(),layout:{top:107,left:20,height:288,right:20},rowHeight:45,headerHeight:17,columnsBinding:".owner.owner.columns",contentBinding:".owner.owner.content",selectionBinding:".owner.owner.selection",showAlternatingRows:YES,canReorderColumns:NO,sort:{valueKey:"name",direction:SCTable.SORT_DIRECTION_ASCENDING}}),licenseWarningIconView:Admin.ImageView.design({isVisibleBinding:".owner.owner.showLicenseWarning",classNames:["admin-vpp-license-exceeded-warning"],layout:{top:405,left:20,width:25,height:25},value:"sc-icon-alert-48"}),licenseWarningLabelView:SC.LabelView.design(SC.AutoResize,{isVisibleBinding:".owner.owner.showLicenseWarning",classNames:"admin-vpp-content-license-warning".w(),isVppContentAssignableBinding:".owner.owner.isVppContentAssignable",layout:{top:405,left:60,width:560
,minHeight:Admin.AUAPWarningMinHeight,maxWidth:560},shouldResizeWidth:NO,shouldResizeHeight:YES,valueBinding:".owner.owner.licenseWarningLabelValue"}),vppServiceWarningIconView:Admin.ImageView.design({isVisibleBinding:".owner.owner.showVppServiceWarning",classNames:["admin-vpp-service-warning"],layout:{top:405,left:20,width:16,height:16},value:"sc-icon-alert-48"}),vppServiceWarningLabelView:SC.LabelView.design({isVisibleBinding:".owner.owner.showVppServiceWarning",classNames:"admin-vpp-content-license-warning".w(),isVppContentAssignableBinding:".owner.owner.isVppContentAssignable",layout:{top:405,left:45,width:560,height:Admin.AUAPWarningMinHeight},valueBinding:".owner.owner.vppServiceWarningLabelViewValue"}),selectAllButtonView:SC.ButtonView.design({layout:{left:30,bottom:10,width:100,height:27},title:"_generic_string_Select All".loc(),target:"Admin",actionBinding:".owner.owner.selectAllAction"}),cancelButtonView:SC.ButtonView.design(SC.AutoResize,{layout:{right:0+parseFloat("_layout_pane_cancel_button_offset_right".loc()),bottom:10,minWidth:70,height:27},title:"_generic_string_Cancel".loc(),target:"Admin",action:"hideVppContentPicker"}),okButtonView:SC.ButtonView.design(SC.AutoResize,{layout:{right:30,bottom:10,minWidth:70,height:27},title:"_generic_string_OK".loc(),target:"Admin",actionBinding:".owner.owner.assignAssetsAction"})})}),Admin.AssignUnifiedAppsPage=SC.Page.create({unifiedAppsPickerSheet:Admin.AssignAssetsPickerSheet.extend({showLicenseWarningBinding:"Admin.appsPickerTableViewController.hasSelectedVppContentWithoutEnoughLicenses",sidebarSelectionContentTypeBinding
:"Admin.sidebarSelectionController.contentType",viewIcon:"appstore_icon_60_2x",headerValue:function(e,t){if(t!==undefined)throw SC.$error("value is ready only for %@".fmt(this.constructor));var n="_generic_string_Choose apps from your library".loc(),r=this.get("sidebarSelectionContentType");return["device","device_group"].contains(r)&&(n="_generic_string_Choose in-house iOS enterprise apps from your library".loc()),n}.property("sidebarSelectionContentType").cacheable(),descriptionValue:function(e,t){if(t!==undefined)throw SC.$error("value is ready only for %@".fmt(this.constructor));var n="_assign_unified_apps_description".loc(),r=this.get("sidebarSelectionContentType"),i=this.get("deviceManagementEnabled");return i||(n="_assign_unified_apps_description_no_device_management".loc()),["device","device_group"].contains(r)&&(n="_assign_inhouse_enterprise_apps_description".loc()),n}.property("sidebarSelectionContentType","deviceManagementEnabled").cacheable(),deviceManagementEnabledBinding:SC.Binding.oneWay("Admin.SettingsController.deviceManagementEnabled"),selectedLicenseBinding:"Admin.UnifiedAppsAssignmentFilterManager.licenseFilterValue",selectedKindBinding:"Admin.UnifiedAppsAssignmentFilterManager.kindFilterValue",categoryFilterMenuBinding:SC.Binding.oneWay("Admin.UnifiedAppsAssignmentFilterManager.categoryFilterMenu"),categoryFilterTitleBinding:SC.Binding.oneWay("Admin.UnifiedAppsAssignmentFilterManager.categoryFilterTitle"),searchStringBinding:"Admin.UnifiedAppsAssignmentFilterManager.searchString",searchHint:"_search_hint_Search Apps".loc(),columnsBinding:SC.Binding.oneWay
("Admin.UnifiedAppsAssignmentTableViewColumnsController.arrangedObjects"),contentBinding:SC.Binding.oneWay("Admin.appsPickerTableViewController.arrangedObjects"),selectionBinding:"Admin.appsPickerTableViewController.selection",selectedVppContentWithoutEnoughLicensesBinding:SC.Binding.oneWay("Admin.appsPickerTableViewController.selectedVppContentWithoutEnoughLicenses"),licenseWarningLabelValue:function(){var e=Admin.appsPickerTableViewController.get("selectedVppContentWithoutEnoughLicenses"),t=e.get("length"),n;if(t>1)n="generic_string_authorized_users_exceeds_available_licenses_for_multiple_apps".loc(t);else{var r=e.getPath("firstObject.name");n="generic_string_authorized_users_exceeds_available_licenses_for_single_app".loc("'"+r+"'")}return n}.property("selectedVppContentWithoutEnoughLicenses").cacheable(),vppServiceWarningLabelViewValue:function(){var e=Admin.itemSelectionController;return e.get("vppServiceEnabled")?"_processing_vpp_on_user_group_to_assign_vpp_apps".loc():"_enabled_vpp_service_on_user_group_to_assign_vpp_apps".loc()}.property("isVppContentAssignable").cacheable(),assignAssetsAction:"assignUnifiedAppsToCurrentSelection",selectAllAction:"selectAllUnifiedAppsForCurrentSelection"})}),Admin.AssignUnifiedBooksPage=SC.Page.create({unifiedBooksPickerSheet:Admin.AssignAssetsPickerSheet.create({showLicenseWarningBinding:"Admin.UnifiedBooksPickerTableViewController.hasSelectedVppContentWithoutEnoughLicenses",sidebarSelectionContentTypeBinding:"Admin.sidebarSelectionController.contentType",viewIcon:"ibooks_icon_60_2x",headerValue:function(e,t){if(t!==undefined)throw SC
.$error("value is ready only for %@".fmt(this.constructor));var n="_generic_string_Choose books from your library".loc(),r=this.get("sidebarSelectionContentType");return["device","device_group"].contains(r)&&(n="_generic_string_Choose in-house enterprise books from your library".loc()),n}.property("sidebarSelectionContentType").cacheable(),descriptionValue:function(e,t){if(t!==undefined)throw SC.$error("value is ready only for %@".fmt(this.constructor));var n="_assign_unified_books_description".loc(),r=this.get("sidebarSelectionContentType");return["device","device_group"].contains(r)&&(n="_assign_inhouse_enterprise_books_description".loc()),n}.property("sidebarSelectionContentType").cacheable(),selectedLicenseBinding:"Admin.UnifiedBooksAssignmentFilterManager.licenseFilterValue",selectedKindBinding:"Admin.UnifiedBooksAssignmentFilterManager.kindFilterValue",categoryFilterMenuBinding:SC.Binding.oneWay("Admin.UnifiedBooksAssignmentFilterManager.categoryFilterMenu"),categoryFilterTitleBinding:SC.Binding.oneWay("Admin.UnifiedBooksAssignmentFilterManager.categoryFilterTitle"),searchStringBinding:"Admin.UnifiedBooksAssignmentFilterManager.searchString",searchHint:"_search_hint_Search Books".loc(),columnsBinding:SC.Binding.oneWay("Admin.UnifiedBooksAssignmentTableViewColumnsController.arrangedObjects"),contentBinding:SC.Binding.oneWay("Admin.UnifiedBooksPickerTableViewController.arrangedObjects"),selectionBinding:"Admin.UnifiedBooksPickerTableViewController.selection",selectedVppContentWithoutEnoughLicensesBinding:SC.Binding.oneWay("Admin.UnifiedBooksPickerTableViewController.selectedVppContentWithoutEnoughLicenses"
),licenseWarningLabelValue:function(){var e=Admin.UnifiedBooksPickerTableViewController.get("selectedVppContentWithoutEnoughLicenses"),t=e.get("length"),n;if(t>1)n="generic_string_authorized_users_exceeds_available_licenses_for_multiple_books".loc(t);else{var r=e.getPath("firstObject.name");n="generic_string_authorized_users_exceeds_available_licenses_for_single_book".loc("'"+r+"'")}return n}.property("selectedVppContentWithoutEnoughLicenses").cacheable(),vppServiceWarningLabelViewValue:function(){var e=Admin.itemSelectionController;return e.get("vppServiceEnabled")?"_processing_vpp_on_user_group_to_assign_vpp_books".loc():"_enabled_vpp_service_on_user_group_to_assign_vpp_books".loc()}.property("isVppContentAssignable").cacheable(),assignAssetsAction:"assignUnifiedBooksToCurrentSelection",selectAllAction:"selectAllUnifiedBooksForCurrentSelection"})}),Admin.booksLibraryPage=SC.Page.create({booksLibraryView:SC.View.design({isVppServiceEnabledBinding:SC.Binding.oneWay("Admin.SettingsController.isVppServiceEnabled"),childViews:"noBooksView filterBar bookTable toolbarView".w(),hasBooksBinding:SC.Binding.oneWay("Admin.UnifiedBooksContentFilterManager.hasContent"),noBooksView:Admin.GenesisView.design({titleValue:"_generic_string_Books".loc(),descriptionValue:function(){var e="_generic_string_profile_manager_books_feature_description".loc(),t=this.get("deviceManagementEnabled");return t===NO&&(e="_generic_string_profile_manager_books_feature_description_no_device_management".loc()),e}.property("deviceManagementEnabled").cacheable(),showBookUploadBinding:".deviceManagementEnabled",imageValue
:"genesis-icon-books-2x",isVisibleBinding:SC.Binding.oneWay(".owner.hasBooks").not(),deviceManagementEnabledBinding:SC.Binding.oneWay("Admin.SettingsController.deviceManagementEnabled")}),filterBar:Admin.VppContentFilterBarView.design({includeKindFilter:NO,isVisibleBinding:SC.Binding.oneWay(".owner.hasBooks"),categoryFilterMenuBinding:SC.Binding.oneWay("Admin.UnifiedBooksContentFilterManager.categoryFilterMenu"),categoryFilterTitleBinding:SC.Binding.oneWay("Admin.UnifiedBooksContentFilterManager.categoryFilterTitle"),searchStringBinding:"Admin.UnifiedBooksContentFilterManager.searchString",searchHint:"_search_hint_Search Books".loc()}),bookTable:SCTable.TableView.design({classNames:"sctable-table-view large-row-height".w(),isVisibleBinding:SC.Binding.oneWay(".owner.hasBooks"),layout:{top:29,left:0,bottom:45,minWidth:845},rowHeight:45,headerHeight:17,columnsBinding:SC.Binding.oneWay("Admin.UnifiedBooksContentTableViewColumnsController.arrangedObjects"),contentBinding:SC.Binding.oneWay("Admin.UnifiedBooksContentTableViewController.arrangedObjects"),selectionBinding:"Admin.UnifiedBooksContentTableViewController.selection",showAlternatingRows:YES,canReorderColumns:NO,sort:{valueKey:"name",direction:SCTable.SORT_DIRECTION_ASCENDING}}),toolbarView:SC.View.design({classNames:"admin-content-library-toolbar-view".w(),isVisibleBinding:SC.Binding.oneWay(".owner.hasBooks"),layout:{bottom:0,height:45},childViews:"addEBookButtonView eBookUploadView removeBookButtonView bookSummaryInfo getMoreView".w(),addEBookButtonView:SC.ButtonView.design({layout:{left:25,height:24,width:28,top:10.5},icon
:"admin-content-library-toolbar-add-button",themeName:"blank",isEnabledBinding:SC.Binding.oneWay("Admin.SettingsController.deviceManagementEnabled")}),eBookUploadView:Admin.UploadView.design({layout:{left:25,height:24,width:28,top:10.5},fileTypeIcon:"pm-upload-book-icon",isVisibleBinding:SC.Binding.oneWay("Admin.SettingsController.deviceManagementEnabled"),supportedFilenameExtensions:Admin.EnterpriseBookFilenameExtensions,lastUploadedFileDidChange:function(){Admin.sendAction("parseBook")}.observes("lastUploadedFile")}),removeBookButtonView:SC.ButtonView.design({layout:{left:65,height:24,width:28,top:10.5},icon:"admin-content-library-toolbar-remove-button",themeName:"blank",target:"Admin",isEnabledBinding:"Admin.UnifiedBooksContentTableViewController.isSelectionEnterprise",isEnabledBindingDefault:SC.Binding.oneWay().bool(),action:"confirmDeleteBooksFromBookLibrary"}),bookSummaryInfo:Admin.UnifiedAssetSummaryInfoView.design({assetType:"book",countBinding:SC.Binding.oneWay("Admin.UnifiedBooksContentFilterManager.vppContentFilteredSearchResultsLength"),sizeInKBBinding:SC.Binding.oneWay("Admin.UnifiedBooksContentFilterManager.vppContentFilteredSearchResultsSizeInKB")}),getMoreView:SC.ButtonView.design({classNames:"admin-get-more-button".w(),layout:{right:25,width:0+parseFloat("_vpp_get_more_books_button_width".loc()),height:20,centerY:0},title:"_generic_string_Get More Books".loc(),themeName:"blank",target:"Admin",action:"goToVPPPortal"})})})}),Admin.booksPage=SC.Page.create({books:SC.View.design({childViews:"assignedBooksView unsupportedOverlayView noItemView".w(),booksLengthBinding
:SC.Binding.oneWay("Admin.UnifiedBooksForItemSelectionFilterManager*restrictSearchWithinContentIds.length"),assignedBooksView:SC.View.design({childViews:"filterBarView booksListView toolbarView".w(),filterBarView:Admin.VppContentFilterBarView.design({includeKindFilter:NO,layout:{height:29,left:0,top:0},isVisibleBinding:SC.Binding.oneWay(".owner.hasUnifiedBooks"),selectedLicenseBinding:"Admin.UnifiedBooksForItemSelectionFilterManager.licenseFilterValue",selectedKindBinding:"Admin.UnifiedBooksForItemSelectionFilterManager.kindFilterValue",categoryFilterMenuBinding:SC.Binding.oneWay("Admin.UnifiedBooksForItemSelectionFilterManager.categoryFilterMenu"),categoryFilterTitleBinding:SC.Binding.oneWay("Admin.UnifiedBooksForItemSelectionFilterManager.categoryFilterTitle"),searchStringBinding:"Admin.UnifiedBooksForItemSelectionFilterManager.searchString",searchHint:"_search_hint_Search Books".loc()}),booksListView:SCTable.TableView.design({classNames:"sctable-table-view large-row-height".w(),layout:{top:29,left:0,bottom:45},rowHeight:45,headerHeight:17,columnsBinding:SC.Binding.oneWay("Admin.UnifiedBooksForItemSelectionTableViewColumnsController.arrangedObjects"),contentBinding:SC.Binding.oneWay("Admin.AssignedBooksTableViewController.arrangedObjects"),selectionBinding:"Admin.AssignedBooksTableViewController.selection",showAlternatingRows:YES,canReorderColumns:NO,sort:{valueKey:"name",direction:SCTable.SORT_DIRECTION_ASCENDING}}),toolbarView:SC.View.design({classNames:"admin-content-library-toolbar-view".w(),childViews:"bookSummaryInfoView".w(),layout:{bottom:0,height:45},bookSummaryInfoView
:Admin.UnifiedAssetSummaryInfoView.design({assetType:"book",countBinding:SC.Binding.oneWay("Admin.UnifiedBooksForItemSelectionFilterManager.vppContentFilteredSearchResultsLength"),sizeInKBBinding:SC.Binding.oneWay("Admin.UnifiedBooksForItemSelectionFilterManager.vppContentFilteredSearchResultsSizeInKB")})})}),unsupportedOverlayView:SC.View.design({isVisible:function(){return this.get("hasCompleteData")&&this.get("isDevice")&&!this.get("doesSupportEnterpriseApps")}.property("isDevice","doesSupportEnterpriseApps","hasCompleteData"),isDeviceBinding:"Admin.itemSelectionController.isDevice",hasCompleteDataBinding:SC.Binding.oneWay("Admin.itemSelectionController.hasCompleteData"),doesSupportEnterpriseAppsBinding:"Admin.itemSelectionController.doesSupportEnterpriseApps",layout:{left:0,right:0,top:0,bottom:.5},classNames:"admin-no-item-view".w(),childViews:"unsupportedOverlayBox".w(),backgroundColor:"#fff",unsupportedOverlayBox:SC.View.design(SC.Border,{classNames:"admin-no-item-box-view".w(),layout:{centerX:0,centerY:0,height:78,width:272},borderStyle:"#ddd",childViews:"unsupportedOverlayLabel".w(),unsupportedOverlayLabel:SC.LabelView.design({layout:{centerX:0,centerY:3,height:55,width:220},isEnabled:NO,textAlign:SC.ALIGN_CENTER,fontWeight:SC.BOLD_WEIGHT,controlSize:SC.LARGE_CONTROL_SIZE,value:function(){return!this.get("isMac")&&parseFloat(this.get("softwareVersion"))>=8?"_generic_string_Re-enroll this device to enable enterprise book distribution".loc():"_generic_string_Upgrade to iOS 8 and re-enroll this device to enable enterprise book distribution".loc()}.property("isMac","softwareVersion"
),isMacBinding:"Admin.itemSelectionController.isMac",softwareVersionBinding:"Admin.itemSelectionController.softwareVersion"})})}),noItemView:Admin.NoItemView.design({isVisible:function(){return this.get("booksLength")===0&&!this.get("unsupported")}.property("booksLength"),booksLengthBinding:".owner.booksLength",unsupportedBinding:".owner.unsupportedOverlayView.isVisible",sidebarSelectionContentTypeBinding:"Admin.sidebarSelectionController.contentType",contentType:function(e,t){if(t!==undefined)throw SC.$error("contentType is ready only for %@".fmt(this.constructor));var n="books",r=this.get("sidebarSelectionContentType");return["device","device_group"].contains(r)&&(n="inhouse_ebooks"),n}.property("sidebarSelectionContentType").cacheable(),searchString:"",isTruncationIndicator:NO})}),assignedToPopupPane:SC.PickerPane.create({layout:{width:150,height:150},contentView:SC.ListView.design({contentBinding:"Admin.AssignedItemsForUnifiedBooksItemSelectionController.content",contentValueKey:"name",isSelectable:NO,rowHeight:20,exampleView:Admin.VppContentAssignedToListItemView.design({contentValueKey:"displayName",hasContentIcon:YES,contentIconKey:"smallIcon"})})})}),Admin.toolbarPage=SC.Page.design({deviceToolbar:SC.View.design(CW.TouchApproximation,Admin.DetailPageToolbarMixin,{childViews:["selectAllVppContentButtonView","assignVppContentButtonView","removeAssetButtonView","performTaskButtonView","save","undo"],performTaskButtonView:SC.PopupButtonView.design({isAppsTabSelectedBinding:".owner.isAppsTabSelected",isBooksTabSelectedBinding:".owner.isBooksTabSelected",isVppServiceEnabledBinding
:SC.Binding.oneWay("Admin.SettingsController.isVppServiceEnabled"),layout:function(){var e={left:20,height:23,bottom:11,width:28};if(this.get("isAppsTabSelected")||this.get("isBooksTabSelected"))e.left=134;return e}.property("isAppsTabSelected","isBooksTabSelected"),titleMinWidth:0,title:"",icon:"admin-gear-button",noStyle:YES,renderStyle:"renderImage",controlStyle:"",themeName:"blank",activationLockBypassCodeBinding:SC.Binding.oneWay("Admin.itemSelectionController.activationLockBypassCode"),isPlaceholderDeviceBinding:SC.Binding.oneWay("Admin.itemSelectionController.isPlaceholderDevice"),isVisible:function(e,t){if(t!==undefined)throw SC.$error("isVisible is ready only for %@".fmt(this.constructor));var n=YES;return this.get("isPlaceholderDevice")&&!this.get("activationLockBypassCode")&&(n=NO),n}.property("activationLockBypassCode","isPlaceholderDevice").cacheable(),menu:SC.MenuPane.create({target:"Admin",action:"showPerformTaskConfirmation",items:function(){var e=[],t=this.get("isSupervised"),n=this.get("isMac"),r=this.get("showAirplayMirroringCommands"),i=this.get("isiOS8OrLater");return this.get("isAppleTV")?(e.push({title:"_task_type_device_info".loc(),taskType:"UpdateInformation"}),e):this.get("isPlaceholderDevice")?(this.get("activationLockBypassCode")&&e.push({title:"_task_type_clear_activation_lock".loc(),taskType:"RemoveActivationLock"}),e):(e.push({title:"_task_type_lock".loc(),taskType:"DeviceLock"}),e.push({title:"_task_type_wipe".loc(),taskType:"EraseDevice"}),(t&&i||this.get("isOSX1094OrLater"))&&e.push({title:"_task_type_rename".loc(),taskType:"SetDeviceName"})
,e.push({title:"_task_type_device_info".loc(),taskType:"UpdateInformation"}),r&&e.push({title:"_task_type_request_mirroring".loc(),taskType:"RequestMirroring"}),r&&t&&e.push({title:"_task_type_stop_mirroring".loc(),taskType:"StopMirroring"}),this.get("isMac")||(e.push({title:"_task_type_clear_passcode".loc(),taskType:"ClearPasscode"}),t&&(i&&e.push({title:"_task_type_clear_restrictions_passcode".loc(),taskType:"ClearRestrictionsPassword"}),e.push({title:"_task_type_allow_activation_lock".loc(),taskType:"AllowActivationLock"}))),this.get("activationLockBypassCode")&&e.push({title:"_task_type_clear_activation_lock".loc(),taskType:"RemoveActivationLock"}),this.get("isOSX1010OrLater")&&e.push({title:"_library_item_action_Push OS X in-house enterprise apps".loc(),isEnabled:YES,target:"Admin",action:"showOSXEnterpriseAppPicker"}),e)}.property("isMac","isAppleTV","isPlaceholderDevice","isSupervised","showAirplayMirroringCommands","softwareVersion","isOSX1010OrLater","isiOS8OrLater","isOSX1094OrLater"),isPlaceholderDeviceBinding:SC.Binding.oneWay("Admin.itemSelectionController.isPlaceholderDevice"),activationLockBypassCodeBinding:SC.Binding.oneWay("Admin.itemSelectionController.activationLockBypassCode"),isSupervisedBinding:SC.Binding.oneWay("Admin.itemSelectionController.isSupervised"),softwareVersionBinding:SC.Binding.oneWay("Admin.itemSelectionController.softwareVersion"),isiOS8OrLaterBinding:SC.Binding.oneWay("Admin.itemSelectionController.isiOS8OrLater"),isiOS7OrLaterBinding:SC.Binding.oneWay("Admin.itemSelectionController.isiOS7OrLater"),isOSX1010OrLaterBinding:SC.Binding.oneWay
("Admin.itemSelectionController.isOSX1010OrLater"),isOSX1094OrLaterBinding:SC.Binding.oneWay("Admin.itemSelectionController.isOSX1094OrLater"),isMacBinding:"Admin.itemSelectionController.isMac",isAppleTVBinding:"Admin.itemSelectionController.isAppleTV",showAirplayMirroringCommands:function(e,t){if(t!==undefined)throw SC.$error("showAirplayMirroringCommands is ready only for %@".fmt(this.constructor));return this.get("isOSX1010OrLater")||this.get("isiOS7OrLater")}.property("isiOS7OrLater","isOSX1010OrLater").cacheable(),adjustWidthObserver:function(){this.get("isPlaceholderDevice")?this.adjust("width",parseFloat("_layout_toolbar_perform_task_button_menu_width_for_placeholder".loc())):this.get("isSupervised")||this.get("showAirplayMirroringCommands")||this.get("isMac")?this.adjust("width",parseFloat("_layout_toolbar_perform_task_button_menu_width".loc())):this.adjust("width",parseFloat("_layout_toolbar_perform_task_button_menu_width_for_placeholder".loc()))}.observes("isPlaceholderDevice","isSupervised","showAirplayMirroringCommands","isMac"),layout:{width:parseFloat("_layout_toolbar_perform_task_button_menu_width".loc())}})})}),deviceGroupToolbar:SC.View.design(CW.TouchApproximation,Admin.DetailPageToolbarMixin,{childViews:["selectAllVppContentButtonView","assignVppContentButtonView","removeAssetButtonView","addAndPerformToolbarItems","save","undo"],addAndPerformToolbarItems:SC.View.design({isAppsTabSelectedBinding:".owner.isAppsTabSelected",isBooksTabSelectedBinding:".owner.isBooksTabSelected",isVppServiceEnabledBinding:SC.Binding.oneWay("Admin.SettingsController.isVppServiceEnabled"
),layout:function(){var e={left:20,height:23,bottom:11};if(this.get("isAppsTabSelected")||this.get("isBooksTabSelected"))e.left=134;return e}.property("isAppsTabSelected","isBooksTabSelected"),childViews:["addDeviceOrGroupButtonView","performTaskButtonView"],addDeviceOrGroupButtonView:SC.PopupButtonView.design({layout:{left:0,height:23,width:28},isVisible:function(){return!this.get("isAppsTabSelected")&&!this.get("isBooksTabSelected")}.property("isAppsTabSelected","isBooksTabSelected"),titleMinWidth:0,title:"",icon:"admin-add-button",noStyle:YES,renderStyle:"renderImage",controlStyle:"",themeName:"blank",menu:SC.MenuPane.create({items:[{title:"_add_recipients_add_devices".loc(),isEnabled:YES,target:"Admin",action:"showDevicePicker"},{title:"_add_recipients_add_device_groups".loc(),isEnabled:YES,target:"Admin",action:"showDeviceGroupPicker"}],layout:{width:160}})}),performTaskButtonView:SC.PopupButtonView.design({isVisible:function(){return!this.get("noODMode")}.property("noODMode"),noODModeBinding:"Admin.noODMode",isAppsTabSelectedBinding:SC.Binding.oneWay(".owner.isAppsTabSelected"),isBooksTabSelectedBinding:SC.Binding.oneWay(".owner.isBooksTabSelected"),layout:function(e,t){if(t!==undefined)throw SC.$error("layout is ready only for %@".fmt(this.constructor));var n={left:40,height:23,width:28};if(this.get("isAppsTabSelected")||this.get("isBooksTabSelected"))n.left=0;return n}.property("isAppsTabSelected","isBooksTabSelected").cacheable(),titleMinWidth:0,title:"",icon:"admin-gear-button",noStyle:YES,renderStyle:"renderImage",controlStyle:"",themeName:"blank",menu:SC.MenuPane
.create({target:"Admin",action:"showPerformTaskConfirmation",items:[{title:"_task_type_lock".loc(),taskType:"DeviceLock"},{title:"_task_type_wipe".loc(),taskType:"EraseDevice"},{title:"_task_type_rename".loc(),taskType:"SetDeviceName"},{title:"_task_type_device_info".loc(),taskType:"UpdateInformation"},{title:"_task_type_clear_passcode".loc(),taskType:"ClearPasscode"},{title:"_task_type_clear_restrictions_passcode".loc(),taskType:"ClearRestrictionsPassword"},{title:"_task_type_allow_activation_lock".loc(),taskType:"AllowActivationLock"},{title:"_task_type_clear_activation_lock".loc(),taskType:"RemoveActivationLock"},{title:"_library_item_action_Push OS X in-house enterprise apps".loc(),isEnabled:YES,target:"Admin",action:"showOSXEnterpriseAppPicker"}],layout:{width:parseFloat("_layout_toolbar_perform_task_button_menu_width".loc())}})})})}),userToolbar:SC.View.design(CW.TouchApproximation,Admin.DetailPageToolbarMixin,{childViews:"selectAllVppContentButtonView assignVppContentButtonView removeAssetButtonView addDeviceOrProfileButtonView performTaskButtonView save undo".w(),addDeviceOrProfileButtonView:SC.PopupButtonView.design({layout:{bottom:11,left:20,height:23,width:28},renderStyle:"renderImage",themeName:"blank",icon:"admin-add-button",isVisible:function(){return this.get("deviceManagementEnabled")&&!this.get("isVppContentTabSelected")}.property("isVppContentTabSelected","deviceManagementEnabled").cacheable(),deviceManagementEnabledBinding:SC.Binding.oneWay("Admin.SettingsController.deviceManagementEnabled"),isVppContentTabSelectedBinding:SC.Binding.oneWay(".owner.isVppContentTabSelected"
),menu:SC.MenuPane.create({items:[{title:"_add_recipients_add_devices".loc(),isEnabled:YES,target:"Admin",action:"showDevicePicker"}],layout:{width:parseFloat("_user_toolbar_add_recipients_add_devices_width".loc())}})}),performTaskButtonView:SC.PopupButtonView.design({isVisible:function(){return!this.get("noODMode")}.property("noODMode"),noODModeBinding:"Admin.noODMode",isAppsTabSelectedBinding:".owner.isAppsTabSelected",isBooksTabSelectedBinding:".owner.isBooksTabSelected",isVppServiceEnabledBinding:SC.Binding.oneWay("Admin.SettingsController.isVppServiceEnabled"),layout:function(){var e={left:60,height:23,bottom:11,width:28};if(this.get("isAppsTabSelected")||this.get("isBooksTabSelected"))e.left=134;return e}.property("isAppsTabSelected","isBooksTabSelected"),titleMinWidth:0,title:"",icon:"admin-gear-button",noStyle:YES,renderStyle:"renderImage",controlStyle:"",themeName:"blank",menu:function(e,t){var n=this.get("isVppServiceEnabled"),r=[{title:"_task_type_lock".loc(),taskType:"DeviceLock"},{title:"_task_type_wipe".loc(),taskType:"EraseDevice"},{title:"_task_type_device_info".loc(),taskType:"UpdateInformation"},{title:"_task_type_clear_passcode".loc(),taskType:"ClearPasscode"},{title:"_task_type_clear_restrictions_passcode".loc(),taskType:"ClearRestrictionsPassword"},{title:"_task_type_allow_activation_lock".loc(),taskType:"AllowActivationLock"},{title:"_task_type_clear_activation_lock".loc(),taskType:"RemoveActivationLock"}];return n&&r.pushObjects([{title:"_generic_string_Push VPP Apps".loc(),isEnabled:YES,target:"Admin",action:"showPushAppPicker"},{title:"_generic_string_Push VPP Books"
.loc(),isEnabled:YES,target:"Admin",action:"showPushBookPicker"}]),r.pushObjects([{title:"_library_item_action_Push OS X in-house enterprise apps".loc(),isEnabled:YES,target:"Admin",action:"showOSXEnterpriseAppPicker"}]),SC.MenuPane.create({target:"Admin",action:"showPerformTaskConfirmation",items:r,layout:{width:parseFloat("_layout_toolbar_perform_task_button_menu_width".loc())}})}.property("isVppServiceEnabled").cacheable()})}),userGroupToolbar:SC.View.design(CW.TouchApproximation,Admin.DetailPageToolbarMixin,{childViews:"selectAllVppContentButtonView assignVppContentButtonView removeAssetButtonView performTaskButtonView save undo".w(),performTaskButtonView:SC.PopupButtonView.design({isVisible:function(){return!this.get("noODMode")}.property("noODMode"),isAppsTabSelectedBinding:".owner.isAppsTabSelected",isBooksTabSelectedBinding:".owner.isBooksTabSelected",isVppServiceEnabledBinding:SC.Binding.oneWay("Admin.SettingsController.isVppServiceEnabled"),noODModeBinding:"Admin.noODMode",layout:function(){var e={left:20,height:23,bottom:11,width:28};if(this.get("isAppsTabSelected")||this.get("isBooksTabSelected"))e.left=134;return e}.property("isAppsTabSelected","isBooksTabSelected"),titleMinWidth:0,title:"",icon:"admin-gear-button",noStyle:YES,renderStyle:"renderImage",controlStyle:"",themeName:"blank",menu:function(){var e=this.get("isVppServiceEnabled"),t=[{title:"_task_type_lock".loc(),taskType:"DeviceLock"},{title:"_task_type_wipe".loc(),taskType:"EraseDevice"},{title:"_task_type_device_info".loc(),taskType:"UpdateInformation"},{title:"_task_type_clear_passcode".loc(),taskType
:"ClearPasscode"},{title:"_task_type_clear_restrictions_passcode".loc(),taskType:"ClearRestrictionsPassword"},{title:"_task_type_allow_activation_lock".loc(),taskType:"AllowActivationLock"},{title:"_task_type_clear_activation_lock".loc(),taskType:"RemoveActivationLock"}];return e&&t.pushObjects([{title:"_generic_string_Push VPP Apps".loc(),isEnabled:YES,target:"Admin",action:"showPushAppPicker"},{title:"_generic_string_Push VPP Books".loc(),isEnabled:YES,target:"Admin",action:"showPushBookPicker"}]),t.pushObjects([{title:"_library_item_action_Push OS X in-house enterprise apps".loc(),isEnabled:YES,target:"Admin",action:"showOSXEnterpriseAppPicker"}]),SC.MenuPane.create({target:"Admin",action:"showPerformTaskConfirmation",items:t,layout:{width:parseFloat("_layout_toolbar_perform_task_button_menu_width".loc())}})}.property("noODMode","isVppServiceEnabled").cacheable()})}),autoJoinProfileToolbar:SC.View.design({childViews:"download save".w(),download:SC.ButtonView.design({layout:{centerY:1,right:140,height:27,width:100},title:"_download_auto_join_profile".loc(),target:"Admin",action:"exportAutoJoinProfileToFile"}),save:Admin.SaveButtonView.design({isEnabledBinding:SC.Binding.bool("Admin.itemSelectionNestedStore.hasChanges")})}),activeTaskToolbar:SC.View.design({childViews:"cancelAllButton".w(),cancelAllButton:SC.ButtonView.design({layout:{centerY:1,right:20,height:27,width:parseFloat("_layout_cancel_task_button".loc())},title:"_task_cancel_task".loc(),target:"Admin",action:"cancelAllTargetTasksWhichAreInProgressFromContainerTask",isVisible:function(){var e=this.get("taskType"),
t=YES;if(e==="DEPUpdateProfile"||this.get("isCompleted"))t=NO;return t}.property("isCompleted","taskType"),isCompletedBinding:"Admin.itemSelectionController.isCompleted",taskTypeBinding:"Admin.itemSelectionController.taskType"})}),noToolbar:SC.View.design({})}),Admin.PAYLOAD_TYPE_SCROLL_WIDTH=0+parseFloat("_admin_payload_type_scroll_width".loc()),Admin.settingsPage=SC.Page.create({settings:SC.View.design({classNames:["admin-settings-page-settings-view"],childViews:"payloadTypeScrollView scrollView noSettingsView".w(),payloadTypeScrollView:SC.ScrollView.design({layout:{width:Admin.PAYLOAD_TYPE_SCROLL_WIDTH-1,top:0,left:0,bottom:0},contentView:SC.ListView.design({classNames:["admin-background-color-white","admin-setting-types-list-view"],contentBinding:"Admin.settingTypesController.arrangedObjects",selectionBinding:"Admin.settingTypesController.selection",hasContentIcon:YES,contentIconKey:"largeIcon",contentValueKey:"displayName",contentSecondaryValueKey:"secondaryInformation",contentUnreadCountKey:"validationErrorCount",contentExampleViewKey:"exampleView",rowHeight:52})}),scrollView:SC.ScrollView.design({layout:{left:Admin.PAYLOAD_TYPE_SCROLL_WIDTH},classNames:["admin-background-color-white"],hasHorizontalScroller:NO,contentView:SC.CollectionView.design({useStaticLayout:YES,isSelectable:NO,classNames:["admin-background-color-white","profiles","settings"],contentBinding:"Admin.profileSettingController.arrangedObjects",isEnabled:YES,contentValueKey:"name",contentExampleViewKey:"contentExampleView"})}),noSettingsView:SC.View.design(SC.Border,{layout:{width:386,height:193,centerX
:Admin.PAYLOAD_TYPE_SCROLL_WIDTH/2,top:50},classNames:"admin-no-settings-box-view",isVisible:function(){return!this.get("actualProfileSettingControllerLength")&&this.get("itemSelectionIsLoaded")}.property("actualProfileSettingControllerLength","itemSelectionIsLoaded"),actualProfileSettingControllerLengthBinding:"Admin.actualProfileSettingController.length",itemSelectionIsLoadedBinding:"Admin.itemSelectionController.isLoaded",childViews:"configureMessageView configureDescriptionView configureButtonView".w(),configureMessageView:SC.LabelView.design({fontWeight:SC.BOLD_WEIGHT,textAlign:SC.ALIGN_CENTER,classNames:"admin-no-settings-box-bold-label".w(),layout:{left:35,top:25,height:20,right:35},value:function(){return"_no_settings_configure_message".loc(this.get("settingTypesSelectionDisplayName"))}.property("settingTypesSelectionDisplayName"),settingTypesSelectionDisplayNameBinding:"Admin.settingTypesSelectionController.displayName"}),configureDescriptionView:SC.LabelView.design({layout:{left:35,top:50,right:35},textAlign:SC.ALIGN_CENTER,classNames:"admin-no-settings-box-sub-label".w(),valueBinding:"Admin.settingTypesSelectionController.settingTypeDescription"}),configureButtonView:SC.ButtonView.design({controlSize:SC.SMALL_CONTROL_SIZE,title:"_no_settings_configure_button".loc(),layout:{width:parseFloat("_layout_no_settings_configure_button".loc()),height:26,centerX:0,bottom:25},target:"Admin",action:"newKnobSet"})})})}),Admin.editProfilePage=SC.Page.create({editProfilePane:SC.PanelPane.create({layout:{top:25,left:85,right:85,bottom:25},contentView:SC.View.design({childViews:"headerBar tabs toolbar"
.w(),headerBar:SC.View.design({classNames:"admin-header-bar".w(),layout:{top:0,left:0,right:0,height:80},childViews:Admin.get("adminDevMode")?"mainLabelView secondaryInformationView iconView updatedAtView".w():"mainLabelView secondaryInformationView iconView".w(),mainLabelView:SC.LabelView.design({classNames:"admin-main-label-view".w(),layout:{top:16,left:90,height:30,width:720},contentBinding:"Admin.profileForEditingController",contentValueKey:"displayNameFromNestedStore",isEditable:YES,click:function(){return this.beginEditing()},touchStart:function(){return this.beginEditing()},fontWeight:SC.BOLD_WEIGHT}),secondaryInformationView:SC.LabelView.design({classNames:"admin-secondary-information-view".w(),layout:{bottom:12,left:90,height:20,right:20},contentBinding:"Admin.profileForEditingController",contentValueKey:"secondaryInformation"}),updatedAtView:SC.LabelView.design({classNames:"admin-secondary-information-view".w(),layout:{bottom:12,left:90,height:20,right:20},textAlign:SC.ALIGN_RIGHT,contentBinding:"Admin.profileForEditingController",contentValueKey:"updatedAtFormattedStringWithSeconds"}),iconView:SC.ImageView.design({layout:{centerY:0,left:10,width:64,height:64},largeIconBinding:"Admin.profileForEditingController.largeIcon",value:function(){return this.get("largeIcon")||"no-icon"}.property("largeIcon")})}),tabs:SC.TabView.design(SC.Border,{borderStyle:SC.BORDER_TOP,classNames:"admin-tab-view".w(),tabHeight:0,tabLocation:SC.TOP_TOOLBAR_LOCATION,nowShowing:function(){return"Admin.settingsPage.settings"}.property(),itemTitleKey:"title",itemValueKey:"value",itemWidthKey:"width"
,items:function(){var e=[];return e.push({title:"_tabs_settings_tab".loc(),value:"Admin.settingsPage.settings",width:100}),e}.property(),layout:{top:80,left:0,right:0,bottom:45},createChildViews:function(){var e=[],t,n,r,i=this.get("tabLocation"),s=this.get("tabHeight");return r=i===SC.TOP_LOCATION?{top:s/2+1,left:0,right:0,bottom:0}:i===SC.TOP_TOOLBAR_LOCATION?{top:s+1-1,left:0,right:0,bottom:0}:{top:0,left:0,right:0,bottom:s-1},n=this.containerView.extend(SC.Border,{layout:r,borderStyle:SC.BORDER_BLACK}),t=this.containerView=this.createChildView(n),e.push(t),r=i===SC.TOP_LOCATION||i===SC.TOP_TOOLBAR_LOCATION?{height:s,left:0,right:0,top:0}:{height:s,left:0,right:0,bottom:0},this.segmentedView=this.get("segmentedView").extend({layout:r,_sc_tab_segmented_valueDidChange:function(){var e=this.get("parentView");e&&e.set("nowShowing",this.get("value")),this.set("layerNeedsUpdate",YES),this.invokeOnce(this.updateLayerIfNeeded)}.observes("value"),init:function(){var e=this.get("parentView");return e&&SC._TAB_ITEM_KEYS.forEach(function(t){this[t]=e.get(t)},this),arguments.callee.base.apply(this,arguments)}}),t=this.segmentedView=this.createChildView(this.segmentedView),e.push(t),this.set("childViews",e),this}}),toolbar:SC.View.design(SC.Border,{borderStyle:SC.BORDER_TOP,layout:{bottom:0,left:0,right:0,height:45},childViews:"save cancel".w(),save:Admin.SaveButtonView.design({isEnabledBinding:SC.Binding.bool("Admin.profileForEditingNestedStore.hasChanges"),title:"_generic_string_OK".loc(),action:"showSaveChangesConfirmationFromProfileEditor"}),cancel:SC.ButtonView.design({layout:{centerY
:1,right:140,height:27,width:100},title:"_generic_string_Cancel".loc(),target:"Admin",action:"cancelChangesFromProfileEditor"})})})})}),Admin.DIRECTORY_ITEM_LIST_MAX_RESULTS=200,Admin.mainPage=SC.Page.design({mainPane:SC.MainPane.design({layout:function(){return window.navigator&&window.navigator.platform&&["iPhone","iPod","iPad","iPhone Simulator"].indexOf(window.navigator.platform)!==-1?{width:window.innerWidth,height:window.innerHeight}:{minHeight:220,minWidth:1024}}.property("deviceOrientation").cacheable(),deviceOrientationBinding:SC.Binding.oneWay("SC.device.orientation"),childViews:"odSyncInProgressView toolbarView mainView importPlaceholderDevicesUploadView iframeSingleton temporaryIPadVerticalModeBlocker temporaryIPhoneIPodBlocker".w(),odSyncInProgressView:Admin.ODSyncInProgressView.design({isVisibleBinding:SC.Binding.oneWay("Admin.isWaitingForInitialODSync")}),temporaryIPadVerticalModeBlocker:SC.View.design({isVisibleBinding:"Admin.verticalMode",childViews:"iPadBlockerView".w(),classNames:["admin-background-color-white","admin-no-item-view","admin-temporary-ipad-vertical-mode-blocker"],iPadBlockerView:SC.View.design({childViews:"ipadBlockerBoxView".w(),layout:{left:0,right:0,top:0,bottom:.5},ipadBlockerBoxView:SC.View.design(SC.Border,{classNames:"admin-no-item-box-view".w(),layout:{centerX:0,centerY:0,height:78,width:272},borderStyle:"#ddd",childViews:"ipadBlockerLabelView".w(),ipadBlockerLabelView:SC.LabelView.design({layout:{centerX:0,centerY:0,height:36,width:200},isEnabled:NO,textAlign:SC.ALIGN_CENTER,fontWeight:SC.BOLD_WEIGHT,controlSize:SC.LARGE_CONTROL_SIZE
,value:"_temporary_ipad_vertical_mode_blocker_label".loc()})})})}),computeFrameWithParentFrame:function(){return{x:0,y:0,width:window.innerWidth,height:window.innerHeight}},temporaryIPhoneIPodBlocker:SC.View.design({isVisible:function(){return window.navigator&&window.navigator.platform&&["iPhone","iPod","iPhone Simulator"].indexOf(window.navigator.platform)!==-1}.property().cacheable(),childViews:"iPhoneiPodBlockerView".w(),classNames:["admin-background-color-white","admin-no-item-view","admin-temporary-ipad-vertical-mode-blocker"],layout:{left:0,right:0,top:0,bottom:0},iPhoneiPodBlockerView:SC.View.design({childViews:"iPhoneiPodBlockerBoxView".w(),layout:{left:0,right:0,top:0,bottom:0},iPhoneiPodBlockerBoxView:SC.View.design(SC.Border,{classNames:"admin-no-item-box-view".w(),layout:{centerY:0,centerX:0,height:78,width:272},borderStyle:"#ddd",childViews:"iPhoneiPodBlockerLabelView".w(),iPhoneiPodBlockerLabelView:SC.LabelView.design({layout:{centerX:0,centerY:0,height:36,width:200},isEnabled:NO,textAlign:SC.ALIGN_CENTER,fontWeight:SC.BOLD_WEIGHT,controlSize:SC.LARGE_CONTROL_SIZE,value:"_temporary_iphone_ipod_blocker_label".loc()})})})}),frameDidChange:function(){Admin.set("verticalMode",this.get("frame").width<960)}.observes("frame"),iframeSingleton:SC.View.design({layout:{top:0,left:0,width:0,height:0},status:SC.Record.EMPTY,render:function(e,t){if(!t)throw SC.$error("this should never happen");var n=e.begin("iframe");n.attr("id","iframeSingleton"),n.attr("name","iframeSingleton"),n.addStyle({border:"none",width:"0px",height:"0px"}),n.end()},didCreateLayer:function(){SC.Event
.add(this.$("iframe"),"load",this,this.iframeDidLoad),this.set("status",SC.Record.READY)},willDestroyLayer:function(){throw console.warn("wDL"),SC.Event.remove(this.$("iframe"),"load",this,this.iframeDidLoad),this.set("staus",SC.Record.EMPTY),arguments.callee.base.apply(this,arguments),SC.$error("this causes the iframe to behave strangely")},statusDidChange:function(){this.get("status")&SC.Record.BUSY&&!this.uploadPaneShown?(Admin.getPath("uploadPage.uploadPane").append(),this.uploadPaneShown=YES):this.uploadPaneShown&&(Admin.getPath("uploadPage.uploadPane").remove(),this.uploadPaneShown=NO)}.observes("status"),iframeDidLoad:function(){if(this.$("iframe").contents()[0].body.innerHTML){SC.RunLoop.begin();var e=SC.json.decode(this.$("iframe").contents()[0].body.innerHTML);Admin.store.dataSource.numberOfRequests++,Admin.store.dataSource.didReceiveResponse(SC.Object.create({status:200,response:e}),{store:Admin.store}),this.set("status",SC.Record.READY);var t=Admin.store.find(Admin.File,e.result.file.created[0].id);this.get("lastUsedUploadView").set("lastUploadedFile",t),this.set("lastUploadedFile",t),SC.RunLoop.end()}}}),toolbarView:Admin.TitleBarView.design({isVisibleBinding:SC.Binding.oneWay("Admin.isWaitingForInitialODSync").not()}),mainView:SC.SplitView.design({layout:{top:43,bottom:0,left:0,right:0},isWaitingForInitialODSyncBinding:SC.Binding.oneWay("Admin.isWaitingForInitialODSync"),isVerticalModeBinding:SC.Binding.oneWay("Admin.verticalMode"),isVisible:function(){return!this.get("isWaitingForInitialODSync")&&!this.get("verticalMode")}.property("isWaitingForInitialODSync","isVerticalMode"
),defaultThickness:0+parseFloat("_admin_sidebar_default_and_min_thickness".loc()),dividerThickness:1,topLeftThicknessBinding:"Admin.sidebarController.topLeftThickness",init:function(){arguments.callee.base.apply(this,arguments)},splitViewCanCollapse:function(e,t){return t===this.get("bottomRightView")?NO:Admin.get("verticalMode")},topLeftMinThickness:0+parseFloat("_admin_sidebar_default_and_min_thickness".loc()),topLeftMaxThickness:400,topLeftView:SC.View.design({childViews:"scrollView toolbarView".w(),layout:{top:0,bottom:0,left:0,width:200},scrollView:SC.ScrollView.design({layout:{bottom:45},hasHorizontalScroller:NO,classNames:"sidebar".w(),contentView:SC.ListView.design({classNames:"sidebar".w(),contentBinding:"Admin.sidebarController.arrangedObjects",selectionBinding:"Admin.sidebarController.selection",contentValueKey:"displayNameFromNestedStore",hasContentIcon:YES,contentExampleViewKey:"exampleView",contentGroupExampleViewKey:"exampleView",contentIconKey:"smallIcon",contentUnreadCountKey:"badgeCount",actOnSelect:YES,isEnabled:YES,rowHeight:29,canEdit:NO,canDeleteContentBinding:"Admin.itemSelectionController.canDelete",isDropTarget:YES,isEditable:YES,delegate:Admin.sidebarController})}),toolbarView:SC.View.design(SC.Border,CW.TouchApproximation,{layout:{bottom:0,left:0,right:0,height:45},classNames:["admin-background-color-toolbar"],borderStyle:SC.BORDER_TOP,childViews:"addProfilePopupButtonView gearButtonView".w(),addProfilePopupButtonView:SC.PopupButtonView.design({layout:{left:20,height:23,bottom:11,width:28},titleMinWidth:0,title:"test",icon:"admin-add-button",noStyle
:YES,renderStyle:"renderImage",controlStyle:"",themeName:"blank",isVisibleBinding:SC.Binding.not("Admin.noODMode"),menu:SC.MenuPane.create({items:function(){var e=[];return this.get("noODMode")||e.push({title:"_new_auto_join_profile".loc(),isEnabled:YES,target:"Admin",action:"newAutoJoinProfile"}),e}.property("noODMode"),noODModeBinding:"Admin.noODMode",layout:{width:0+parseFloat("_new_auto_join_profile_width".loc())}})}),gearButtonView:SC.ButtonView.design({layout:{left:60,height:23,bottom:11,width:28},titleMinWidth:0,title:"",icon:"admin-remove-button",noStyle:YES,renderStyle:"renderImage",controlStyle:"",themeName:"blank",isVisibleBinding:SC.Binding.not("Admin.noODMode"),isEnabled:NO,isEnabledBinding:"Admin.sidebarSelectionController.canDelete",isEnabledBindingDefault:SC.Binding.oneWay().bool(),target:"Admin",action:"showDeleteItemConfirmation"})})}),bottomRightView:SC.ContainerView.design({layout:{left:200,top:0,bottom:0,right:0},nowShowing:function(){var e="noItemView";return this.get("unifiedAppSelectionForDetailView")?e="Admin.unifiedAppDetailPage.unifiedAppDetailView":this.get("itemSelectionIsProfile")?e="Admin.detailPage.detailView":this.get("sidebarSelectionContentType")==="application"?e="Admin.detailPage.detailView":this.get("sidebarSelectionContentType")==="apps"?e="Admin.appsLibraryPage.appLibraryView":this.get("sidebarSelectionContentType")==="books"?e="Admin.booksLibraryPage.booksLibraryView":this.get("itemListContainsTruncationIndicator")?e="noItemView":this.get("itemListStatus")&SC.Record.READY&&this.get("itemListLength")&&(e="itemListView"),e}.property("itemSelectionIsProfile"
,"itemListLength","itemListContainsTruncationIndicator","itemListStatus","sidebarSelectionContentType","unifiedAppSelectionForDetailView"),itemSelectionIsProfileBinding:"Admin.itemSelectionController.isProfileOrAutoJoinProfile",sidebarSelectionContentTypeBinding:"Admin.sidebarSelectionController.contentType",itemListContainsTruncationIndicatorBinding:"Admin.itemListController.containsTruncationIndicator",itemListStatusBinding:"Admin.itemListController.status",itemListLengthBinding:"Admin.itemListController.length",unifiedAppSelectionForDetailViewBinding:"Admin.VppContentDetailController.content",_ancestorContainerViewContentDidChange:function(){this.contentViewDidChange()}.observes("nowShowing")})}),importPlaceholderDevicesUploadView:Admin.UploadView.design({layout:{bottom:0,left:0,height:0,width:0},supportedFilenameExtensions:"csv".w()})}),noItemView:SC.View.design({childViews:"noItemOrTruncationIndicatorView genesisView toolbarView".w(),classNames:["admin-background-color-white","admin-no-item-view"],isTruncationIndicatorBinding:"Admin.itemListController.containsTruncationIndicator",sidebarSelectionContentTypeBinding:"Admin.sidebarSelectionController.contentType",showGenesisView:function(e,t){if(t!==undefined)throw SC.$error("showGenesisView is ready only for %@".fmt(this.constructor));var n=this.get("sidebarSelectionContentType");return["device","device_group"].contains(n)&&!this.get("isTruncationIndicator")}.property("isTruncationIndicator","sidebarSelectionContentType").cacheable(),genesisView:Admin.GenesisView.design({titleValue:"",descriptionValue:"",sidebarSelectionContentTypeBinding
:".owner.sidebarSelectionContentType",sidebarSelectionContentTypeObserver:function(){var e=this.get("sidebarSelectionContentType");e==="device"?(this.set("titleValue","_generic_string_Devices".loc()),this.set("descriptionValue","_generic_string_profile_manager_device_genesis_description".loc()),this.set("imageValue","genesis-icon-device-2x"),this.set("actionButtonTitle","_button_label_Enroll Device".loc()),this.set("actionButtonAction","goToPortal"),this.set("showLearnMoreButton",YES)):e==="device_group"?(this.set("titleValue","_generic_string_Device Groups".loc()),this.set("descriptionValue","_generic_string_profile_manager_device_group_genesis_description".loc()),this.set("imageValue","genesis-icon-device-group-2x"),this.set("actionButtonTitle","_button_label_Add Device Group".loc()),this.set("actionButtonAction","newDeviceGroup"),this.set("showLearnMoreButton",NO)):(this.set("titleValue",""),this.set("descriptionValue",""),this.set("imageValue",""),this.set("actionButtonTitle",""),this.set("actionButtonAction",""),this.set("showLearnMoreButton",NO))}.observes("sidebarSelectionContentType"),showUpload:NO,isVisibleBinding:SC.Binding.oneWay(".owner.showGenesisView")}),noItemOrTruncationIndicatorView:Admin.NoItemView.design({layout:{left:0,right:0,top:0,bottom:.5},isVisibleBinding:SC.Binding.oneWay(".owner.showGenesisView").not(),contentTypeBinding:"Admin.sidebarSelectionController.contentType",isTruncationIndicatorBinding:"Admin.itemListController.containsTruncationIndicator",statusBinding:"Admin.itemListController.status",searchStringBinding:"Admin.filteredItemsController.searchString"
}),toolbarView:SC.View.design(SC.Border,Admin.ItemListToolbarMimxin,{layout:{bottom:0,left:0,right:0,height:45},classNames:["admin-background-color-toolbar"],borderStyle:SC.BORDER_TOP,childViews:"addDeviceOrImportPlaceholderDevicesPopupButtonView newDeviceGroupButtonView deleteCosmeticButtonView refreshODView refreshDEPDevicesView".w(),newDeviceGroupButtonView:SC.ButtonView.design({layout:{bottom:11,left:20,height:23,width:28},titleMinWidth:0,title:"",icon:"admin-add-button",noStyle:YES,renderStyle:"renderImage",controlStyle:"",themeName:"blank",target:"Admin",action:"newDeviceGroup",isVisible:function(){return this.get("sidebarSelectionContentType")==="device_group"}.property("sidebarSelectionContentType"),sidebarSelectionContentTypeBinding:"Admin.sidebarSelectionController.contentType"}),deleteCosmeticButtonView:SC.ButtonView.design({layout:{left:60,height:23,bottom:11,width:28},titleMinWidth:0,title:"",icon:"admin-remove-button",noStyle:YES,renderStyle:"renderImage",controlStyle:"",themeName:"blank",isVisible:function(){var e=this.get("sidebarSelectionContentType")==="device_group"||this.get("sidebarSelectionContentType")==="device";return e}.property("sidebarSelectionContentType"),sidebarSelectionContentTypeBinding:"Admin.sidebarSelectionController.contentType",isEnabled:NO})})}),itemListView:SC.SplitView.design({defaultThickness:284,dividerThickness:1,splitViewCanCollapse:NO,topLeftMinThickness:200,bottomRightMinThickness:540,topLeftView:SC.View.design({childViews:"scrollView toolbarView".w(),scrollView:SC.ScrollView.design({verticalScrollOffsetBinding:"Admin.sidebarSelectionController.itemListVerticalScrollOffset"
,layout:{bottom:45},hasHorizontalScroller:NO,classNames:["admin-background-color-white"],collapseAtThickness:100,contentView:SC.ListView.design({classNames:"main-item-list".w(),rowHeight:52,contentBinding:"Admin.itemListController.arrangedObjects",selectionBinding:"Admin.itemListController.selection",contentValueKey:"displayName",hasContentIcon:YES,contentIconKey:"mediumIcon",actOnSelect:YES,canDeleteContent:YES,contentExampleViewKey:"itemListExampleView",hasContentRightIcon:YES,contentRightIconKey:"rightIcon"})}).classNames("item-list"),toolbarView:SC.View.design(SC.Border,CW.TouchApproximation,Admin.ItemListToolbarMimxin,{layout:{bottom:0,left:0,right:0,height:45},classNames:["admin-background-color-toolbar"],borderStyle:SC.BORDER_TOP,childViews:"addDeviceOrImportPlaceholderDevicesPopupButtonView newDeviceGroupButtonView deleteButtonView refreshODView refreshDEPDevicesView".w(),newDeviceGroupButtonView:SC.ButtonView.design({layout:{bottom:11,left:20,height:23,width:28},titleMinWidth:0,title:"",icon:"admin-add-button",noStyle:YES,renderStyle:"renderImage",controlStyle:"",themeName:"blank",target:"Admin",action:"newDeviceGroup",isVisible:function(){return this.get("sidebarSelectionContentType")==="device_group"}.property("sidebarSelectionContentType"),sidebarSelectionContentTypeBinding:"Admin.sidebarSelectionController.contentType"}),deleteButtonView:SC.ButtonView.design({layout:{left:60,height:23,bottom:11,width:28},titleMinWidth:0,title:"",icon:"admin-remove-button",noStyle:YES,renderStyle:"renderImage",controlStyle:"",themeName:"blank",isVisible:function(){var e=this.get("sidebarSelectionContentType"
)==="device_group"||this.get("sidebarSelectionContentType")==="device";return e}.property("sidebarSelectionContentType"),sidebarSelectionContentTypeBinding:"Admin.sidebarSelectionController.contentType",isEnabled:NO,isEnabledBinding:"Admin.itemSelectionController.canDelete",isEnabledBindingDefault:SC.Binding.oneWay().bool(),target:"Admin",action:function(e,t){if(t!==undefined)throw SC.$error("action is ready only for %@".fmt(this.constructor));var n=this.get("sidebarSelectionContentType");return n==="device"?"showDeviceDeleteItemConfirmation":"showDeleteItemConfirmation"}.property("sidebarSelectionContentType").cacheable()})})}),bottomRightView:SC.ContainerView.design({nowShowing:function(){return this.get("itemSelectionisRecord")?"Admin.detailPage.detailView":"Admin.detailPage.lackOfDetailView"}.property("itemSelectionisRecord"),itemSelectionisRecordBinding:"Admin.itemSelectionController.isRecord",_ancestorContainerViewContentDidChange:function(){this.contentViewDidChange()}.observes("Admin.mainPage.mainPane.mainView.bottomRightView.contentView")})})}),Admin.MembersView=SC.View.extend({childViews:"scrollView noItemView".w(),scrollView:SC.ScrollView.design({contentView:SC.ListView.design({classNames:["admin-background-color-white"],contentBinding:"Admin.membersController.arrangedObjects",hasContentIcon:YES,contentIconKey:"smallIcon",canDeleteContent:YES,isSelectable:NO,rowHeight:42,exampleView:Admin.MembersListItemView.design({}),isEnabled:YES,contentValueKey:"displayName",target:"Admin",action:"changeRoute"}).classNames("profiles")}),noItemView:Admin.NoItemView.design({isVisible
:function(){return this.get("membersLength")===0}.property("membersLength"),membersLengthBinding:"Admin.membersController.length",contentTypeBinding:".owner.contentType",searchString:"",isTruncationIndicator:NO})}),Admin.membersPage=SC.Page.create({devices:Admin.MembersView.design({contentType:"device"}),members:Admin.MembersView.design({contentType:"members"}),inactiveUserGroupMembers:Admin.NoItemView.create({boxLayout:{centerX:0,centerY:0,height:100,width:272},labelLayout:{centerX:0,centerY:0,height:parseFloat("_inactive_user_group_members_description_height".loc()),width:269},contentType:"inactive_user_group_members",isTruncationIndicator:NO}),membersPicker:SC.SheetPane.create({layout:{width:520,height:280,centerX:0},contentView:SC.View.extend(CW.TouchApproximation,{childViews:"labelView filterName filterSpotlight filterNameCancelButton scrollView noItemView addVisibleButton refreshButton doneButton".w(),labelView:SC.LabelView.design({layout:{top:15,left:20,height:20,right:190},isDecorative:YES,value:function(){return"_add_members_label_view_value".loc(this.recipientName)}.property("recipientName").cacheable(),recipientNameBinding:"Admin.allMembersPickerController.recipientName",fontWeight:SC.BOLD_WEIGHT}),filterName:SC.TextFieldView.design({layout:{top:15,right:20,width:150,height:20},classNames:"admin-members-picker-filter".w(),hint:"_filter_hint".loc(),valueBinding:"Admin.membersPickerController.searchString"}),filterSpotlight:SC.ImageView.design({layout:{top:19,right:152,width:13,height:13},isDecorative:YES,value:"admin-members-picker-filter-spotlight"}),filterNameCancelButton
:SC.ButtonView.design({layout:{width:13,height:14,top:17,right:25},isVisibleBinding:".owner.filterName.value",renderStyle:"renderImage",themeName:"blank",icon:"admin-members-picker-filter-cancel-button",action:function(){this.getPath("owner.filterName").set("value","").commitEditing()}}),scrollView:SC.ScrollView.design(SC.Border,{layout:{bottom:55,left:20,right:20,top:45},contentView:SC.ListView.design({contentBinding:"Admin.membersPickerControllerResultsFilteringItemSelection.arrangedObjects",classNames:["admin-background-color-white"],rowHeight:32,isSelectable:NO,contentExampleViewKey:"membersPickerExampleView"})}),noItemView:Admin.NoItemView.design(SC.Border,{isVisible:function(){return this.get("resultsFilteringItemSelectionStatus")&SC.Record.READY?this.get("resultsFilteringItemSelectionHasNoLength"):YES}.property("resultsFilteringItemSelectionHasNoLength","resultsFilteringItemSelectionStatus"),resultsFilteringItemSelectionHasNoLengthBinding:SC.Binding.not("Admin.membersPickerControllerResultsFilteringItemSelection.length"),resultsFilteringItemSelectionStatusBinding:"Admin.membersPickerControllerResultsFilteringItemSelection.status",layout:{bottom:55,left:20,right:20,top:45},contentTypeBinding:"Admin.allMembersPickerController.searchContentType",statusBinding:"Admin.membersPickerControllerResultsFilteringItemSelection.status",isTruncationIndicator:NO,searchStringBinding:"Admin.membersPickerController.searchString"}),addVisibleButton:SC.ButtonView.design({layout:{bottom:15,left:20,height:27,width:0+parseFloat("_layout_add_all_and_add_visible_button_width".loc())},title:function(
){return this.get("hasSearchString")?"_members_picker_add_results_button".loc():"_members_picker_add_all_button".loc()}.property("hasSearchString"),hasSearchStringBinding:"Admin.membersPickerController.searchString",target:"Admin",action:"actuallyAddVisibleMembersFromMembersPicker"}),refreshButton:SC.ButtonView.design({layout:{bottom:15,left:130,height:27,width:100},title:"_members_picker_refresh_button".loc(),target:"Admin",action:"refreshFromMembersPicker",isVisible:function(){return this.get("searchContentType").indexOf("user")>-1}.property("searchContentType"),searchContentTypeBinding:"Admin.allMembersPickerController.searchContentType"}),doneButton:SC.ButtonView.design({layout:{bottom:15,right:20,height:27,width:81},title:"_generic_string_Done".loc(),target:"Admin",action:"removeMembersPicker"})})})}),Admin.detailPage=SC.Page.design({detailView:SC.View.design({classNames:"admin-detail-view detail".w(),collapseAtThickness:275,contentBinding:"Admin.itemSelectionController",contentLastEditedKey:"lastEditedString",contentIconKey:"largeIcon",itemSelectionTypeBinding:"Admin.itemSelectionController.type",itemSelectionTypeIsTask:function(e,t){if(t!==undefined)throw SC.$error("childViews is ready only for %@".fmt(this.constructor));var n=this.get("itemSelectionType");return["library_item_task","completed_library_item_task"].contains(n)}.property("itemSelectionType").cacheable(),childViews:"headerBar tabs targetTasksTableView toolbarContainer".w(),targetTasksTableView:Admin.TargetTasksTableView.design({layout:{top:80,left:0,right:0,bottom:45},isVisibleBinding:SC.Binding.oneWay(".owner.itemSelectionTypeIsTask"
)}),toolbarContainer:SC.ContainerView.design(SC.Border,{layout:{bottom:0,left:0,right:0,height:45},classNames:["admin-detail-page-toolbar-container"],borderStyle:SC.BORDER_TOP,nowShowingByItemSelectionType:{profile:"Admin.toolbarPage.profileToolbar",profileFromServermgr:"Admin.toolbarPage.profileToolbar",user:"Admin.toolbarPage.userToolbar",user_group:"Admin.toolbarPage.userGroupToolbar",device:"Admin.toolbarPage.deviceToolbar",apple_tv:"Admin.toolbarPage.deviceToolbar",device_group:"Admin.toolbarPage.deviceGroupToolbar",cloud_location:"Admin.toolbarPage.cloudLocationToolbar",library_item_task:"Admin.toolbarPage.activeTaskToolbar",completed_library_item_task:"Admin.toolbarPage.noToolbar",auto_join_profile:"Admin.toolbarPage.autoJoinProfileToolbar",provisioning_profile:"Admin.toolbarPage.noToolbar"},nowShowing:function(e,t){var n=this.get("itemSelectionType");Admin.itemSelectionController.get("isFromServermgr")&&(n+="FromServermgr");if(t!==undefined)throw SC.$error("read only");return this.nowShowingByItemSelectionType[n]}.property("itemSelectionType","isFromServermgr"),itemSelectionTypeBinding:"Admin.itemSelectionController.type",isFromServermgrBinding:"Admin.itemSelectionController.isFromServermgr"}),headerBar:SC.View.design({classNames:"admin-header-bar admin-detail-page-header-bar".w(),layout:{top:0,left:0,right:0,height:80},contentIconKey:"icon",childViews:"mainLabelView secondaryInformationView iconView deviceStateView showPIN".w(),mainLabelView:SC.LabelView.design({classNames:"admin-main-label-view".w(),layout:{top:16,left:90,height:30,right:20},contentBinding:".owner.owner.content"
,contentValueKey:"displayNameFromNestedStore",isEditableBinding:"Admin.itemSelectionController.canEdit",click:function(){return this.beginEditing()},touchStart:function(){return this.beginEditing()},fontWeight:SC.BOLD_WEIGHT}),secondaryInformationView:SC.LabelView.design({classNames:"admin-secondary-information-view".w(),layout:{bottom:12,left:90,height:20,right:20},contentBinding:".owner.owner.content",contentValueKey:"secondaryInformation"}),deviceStateView:SC.View.design({classNames:"admin-device-enrollment-label",layout:function(e,t){if(t!==undefined)throw SC.$error("layout is ready only for %@".fmt(this.constructor));var n=this.get("enrollmentState"),r={centerY:0,height:20,right:7,width:0};return n==="placeholder"?r.width=parseFloat("_device_state_header_placeholder_label_width".loc()):n==="unenrollment_pending"?r.width=parseFloat("_device_state_header_unenrollment_pending_label_width".loc()):n==="wipe_pending"&&(r.width=parseFloat("_device_state_header_wipe_pending_label_width".loc())),r}.property("enrollmentState").cacheable(),itemSelectionTypeBinding:"Admin.itemSelectionController.type",enrollmentStateBinding:"Admin.itemSelectionController.enrollmentState",isVisible:function(e,t){if(t!==undefined)throw SC.$error("isVisible is ready only for %@".fmt(this.constructor));var n=this.get("enrollmentState");return["apple_tv","device"].contains(this.get("itemSelectionType"))&&n&&n!=="enrolled"}.property("itemSelectionType","enrollmentState").cacheable(),childViews:"deviceStateIconView deviceStateLabelView".w(),deviceStateIconView:Admin.ImageView.design({layout:{width:16,height
:16,top:2,left:5},valueBinding:"Admin.itemSelectionController.rightIcon"}),deviceStateLabelView:SC.LabelView.design({enrollmentStateBinding:".owner.enrollmentState",classNames:"admin-device-enrollment-state".w(),layout:{right:5,top:3},value:function(e,t){if(t!==undefined)throw SC.$error("value is ready only for %@".fmt(this.constructor));var n=this.get("enrollmentState"),r="";return n==="placeholder"?r="_device_enrollment_state_placeholder".loc():n==="unenrollment_pending"?r="_device_enrollment_state_unenrollment_pending".loc():n==="wipe_pending"&&(r="_device_enrollment_state_wipe_pending".loc()),r}.property("enrollmentState").cacheable()})}),iconView:Admin.ImageView.design({layout:{centerY:0,left:10,width:64,height:64},id:"test_crazy",largeIconBinding:"Admin.itemSelectionController.largeIcon",value:function(){return this.get("largeIcon")||"no-icon"}.property("largeIcon")}),showPIN:SC.ButtonView.design({layout:{centerY:0,right:30,width:125,height:27},title:"_generic_string_Show Passcode".loc(),target:"Admin",action:"showPasscodeForTask",isVisible:NO,isVisibleBinding:"Admin.itemSelectionController.hasPIN",isVisibleBindingDefault:SC.Binding.bool()})}),tabs:SC.TabView.design({classNames:"admin-tab-view".w(),tabHeight:25,layout:{top:80,left:0,right:0,bottom:45},isVisibleBinding:SC.Binding.oneWay(".owner.itemSelectionTypeIsTask").not(),tabLocation:SC.TOP_TOOLBAR_LOCATION,segmentedView:SC.SegmentedView.extend({shouldHandleOverflow:YES}),nowShowingByItemSelectionType:{user:"Admin.aboutPage.about",user_group:"Admin.aboutPage.about",device:"Admin.aboutPage.about",apple_tv:"Admin.aboutPage.about"
,device_group:"Admin.aboutPage.about",task:"Admin.tasksPage.targetTasks",library_item_task:"Admin.tasksPage.targetTasks",completed_library_item_task:"Admin.tasksPage.targetTasks",auto_join_profile:"Admin.infoAutoJoinPage.infoAutoJoin",application:"Admin.applicationsPage.appStore"},nowShowing:function(e,t){var n=this.get("itemSelectionType"),r=this.get("isMac"),i=this.get("isAppleTV"),s=this.get("isPlaceholderDevice");n==="device"&&i&&(n="apple_tv"),t!==undefined&&t!==null&&(this.nowShowingByItemSelectionType[n]=t);var o=this.nowShowingByItemSelectionType[n];return n==="device"&&["Admin.appsPage.apps","Admin.booksPage.books"].contains(o)&&r&&(o="Admin.aboutPage.about"),n==="user_group"&&["Admin.membersPage.inactiveUserGroupMembers","Admin.membersPage.members"].contains(o)&&(this.get("isUserGroupEveryone")?o="Admin.aboutPage.about":o=this.get("isUserGroupActive")?"Admin.membersPage.members":"Admin.membersPage.inactiveUserGroupMembers"),o}.property("itemSelectionType","isFromServermgr","isMac","isPlaceholderDevice","isAppleTV","isUserGroupActive","isUserGroupEveryone"),itemTitleKey:"title",itemValueKey:"value",itemWidthKey:"width",items:function(){var e=[],t=this.get("isVppServiceEnabled");switch(this.get("itemSelectionType")){case"auto_join_profile":e.push({title:"_auto_join_profile_settings".loc(),value:"Admin.infoAutoJoinPage.infoAutoJoin",width:parseFloat("_admin_detail_tab_width".loc())}),e.push({title:"_auto_join_profile_usage".loc(),value:"Admin.usageAutoJoinPage.usageAutoJoin",width:parseFloat("_admin_detail_tab_width".loc())});break;case"user":e.push({title:"_tabs_about_tab"
.loc(),value:"Admin.aboutPage.about",width:parseFloat("_admin_detail_tab_width".loc())}),e.push({title:"_tabs_settings_tab".loc(),value:"Admin.profilesPage.settingsView",width:parseFloat("_admin_detail_tab_width".loc())}),e.push({title:"_tabs_apps_tab".loc(),value:"Admin.appsPage.apps",width:parseFloat("_admin_detail_tab_width".loc())}),e.push({title:"_tabs_books_tab".loc(),value:"Admin.booksPage.books",width:parseFloat("_admin_detail_tab_width".loc())}),this.get("noODMode")||(e.push({title:"_tabs_devices_tab".loc(),value:"Admin.membersPage.devices",width:parseFloat("_admin_detail_tab_width".loc())}),e.push({title:"_tabs_activity_tab".loc(),value:"Admin.tasksPage.tasksForLibraryItem",width:parseFloat("_admin_detail_tab_width".loc())}));break;case"user_group":e.push({title:"_tabs_about_tab".loc(),value:"Admin.aboutPage.about",width:parseFloat("_admin_detail_tab_width".loc())}),e.push({title:"_tabs_settings_tab".loc(),value:"Admin.profilesPage.settingsView",width:parseFloat("_admin_detail_tab_width".loc())}),e.push({title:"_tabs_apps_tab".loc(),value:"Admin.appsPage.apps",width:parseFloat("_admin_detail_tab_width".loc())}),e.push({title:"_tabs_books_tab".loc(),value:"Admin.booksPage.books",width:parseFloat("_admin_detail_tab_width".loc())}),this.get("isUserGroupEveryone")||(this.get("isUserGroupActive")?e.push({title:"_tabs_members_tab".loc(),value:"Admin.membersPage.members",width:parseFloat("_admin_detail_tab_width".loc())}):e.push({title:"_tabs_members_tab".loc(),value:"Admin.membersPage.inactiveUserGroupMembers",width:parseFloat("_admin_detail_tab_width".loc())})),this.get
("noODMode")||e.push({title:"_tabs_activity_tab".loc(),value:"Admin.tasksPage.tasksForLibraryItem",width:parseFloat("_admin_detail_tab_width".loc())});break;case"device":e.push({title:"_tabs_about_tab".loc(),value:"Admin.aboutPage.about",width:parseFloat("_admin_detail_tab_width".loc())}),e.push({title:"_tabs_settings_tab".loc(),value:"Admin.profilesPage.settingsView",width:parseFloat("_admin_detail_tab_width".loc())}),this.get("isMac")||(e.push({title:"_tabs_apps_tab".loc(),value:"Admin.appsPage.apps",width:parseFloat("_admin_detail_tab_width".loc())}),e.push({title:"_tabs_books_tab".loc(),value:"Admin.booksPage.books",width:parseFloat("_admin_detail_tab_width".loc())})),e.push({title:"_tabs_activity_tab".loc(),value:"Admin.tasksPage.tasksForLibraryItem",width:parseFloat("_admin_detail_tab_width".loc())});break;case"apple_tv":e.push({title:"_tabs_about_tab".loc(),value:"Admin.aboutPage.about",width:parseFloat("_admin_detail_tab_width".loc())});break;case"device_group":e.push({title:"_tabs_about_tab".loc(),value:"Admin.aboutPage.about",width:parseFloat("_admin_detail_tab_width".loc())}),e.push({title:"_tabs_settings_tab".loc(),value:"Admin.profilesPage.settingsView",width:parseFloat("_admin_detail_tab_width".loc())}),e.push({title:"_tabs_apps_tab".loc(),value:"Admin.appsPage.apps",width:parseFloat("_admin_detail_tab_width".loc())}),e.push({title:"_tabs_books_tab".loc(),value:"Admin.booksPage.books",width:parseFloat("_admin_detail_tab_width".loc())}),e.push({title:"_tabs_members_tab".loc(),value:"Admin.membersPage.members",width:parseFloat("_admin_detail_tab_width".loc())}),e
.push({title:"_tabs_activity_tab".loc(),value:"Admin.tasksPage.tasksForLibraryItem",width:parseFloat("_admin_detail_tab_width".loc())});break;case"task":case"library_item_task":case"completed_library_item_task":e.push({title:"_tabs_devices_tab".loc(),value:"Admin.tasksPage.targetTasks",width:parseFloat("_admin_detail_tab_width".loc())});break;default:e.push({title:"_tabs_loading_tab".loc(),value:null,width:parseFloat("_admin_detail_tab_width".loc())})}return e}.property("itemSelectionType","noODMode","isFromServermgr","isMac","isPlaceholderDevice","isAppleTV","isUserGroupActive","isUserGroupEveryone"),noODModeBinding:"Admin.noODMode",doesSupportEnterpriseAppsBinding:"Admin.itemSelectionController.doesSupportEnterpriseApps",itemSelectionTypeBinding:"Admin.itemSelectionController.type",isPlaceholderDeviceBinding:"Admin.itemSelectionController.isPlaceholderDevice",isMacBinding:"Admin.itemSelectionController.isMac",isAppleTVBinding:"Admin.itemSelectionController.isAppleTV",isFromServermgrBinding:"Admin.itemSelectionController.isFromServermgr",isVppServiceEnabledBinding:SC.Binding.oneWay("Admin.SettingsController.isVppServiceEnabled"),isUserGroupActiveBinding:SC.Binding.oneWay("Admin.itemSelectionController.isActive"),isUserGroupEveryoneBinding:SC.Binding.oneWay("Admin.itemSelectionController.isEveryone")})}),lackOfDetailView:SC.View.design({})}),Admin.infoAutoJoinPage=SC.Page.create({infoAutoJoin:SC.View.design({childViews:"scrollView".w(),scrollView:SC.ScrollView.design({layout:{top:0,left:0,right:0,bottom:0},contentView:SC.View.design({classNames:"admin-info-view admin-background-color-white"
.w(),childViews:"securityTitle securityParagraph securityCheckbox".w(),securityTitle:SC.LabelView.design({fontWeight:SC.BOLD_WEIGHT,layout:{top:40,centerX:0,width:Admin.KNOB_WIDTH,height:20},value:"_info_auto_join_security_title".loc()}),securityParagraph:SC.LabelView.design({classNames:"admin-description-label-view".w(),layout:{top:60,centerX:0,width:Admin.KNOB_WIDTH,height:40},value:"_info_auto_join_security_paragraph".loc()}),securityCheckbox:SC.CheckboxView.design({layout:{top:100,centerX:0,width:Admin.KNOB_WIDTH,height:20},title:"_info_auto_join_restrict_use_checkbox".loc(),valueBinding:"Admin.itemSelectionController.isNotWildcardFromNestedStore"})})})})}),Admin.newTaskScenesPage=SC.Page.create({loading:Admin.SpinnerView.create({}),overview:SC.View.design({useStaticLayout:YES,childViews:"macLockWipe iOSLock macClearPasscode renameDeviceView airplayDestinationsView devicesView actionButtonsView".w(),macLockWipe:SC.View.design({classNames:["admin-margin-top-15"],totalHeight:130,useStaticLayout:YES,childViews:"macLockWipeHelper macLockWipeFirstPin macLockWipeSecondHelper macLockWipeSecondPin".w(),isVisible:function(){var e=this.get("numberOfMacs"),t=this.get("taskType");return e&&["DeviceLock","EraseDevice"].indexOf(t)>-1}.property("numberOfMacs","taskType"),numberOfMacsBinding:"Admin.NewTaskResponder*allMacDevices.length",taskTypeBinding:"Admin.NewTaskResponder.taskType",macLockWipeHelper:SC.LabelView.design({useStaticLayout:YES,layout:{height:40},value:function(){var e=this.get("numberOfMacs");return e===1?"_new_task_enter_a_passcode_for_1_mac_os_x_device".loc():"_new_task_enter_a_passcode_for_n_mac_os_x_devices"
.loc(e)}.property("numberOfMacs"),numberOfMacsBinding:"Admin.NewTaskResponder*allMacDevices.length"}),macLockWipeFirstPin:SC.TextFieldView.design({useStaticLayout:YES,layout:{height:20},isPassword:YES,applyImmediately:YES,valueBinding:"Admin.NewTaskResponder.firstPIN"}),macLockWipeSecondHelper:SC.LabelView.design({useStaticLayout:YES,classNames:["admin-margin-top-15"],layout:{height:20},value:"_new_task_reenter_the_passcode".loc()}),macLockWipeSecondPin:SC.TextFieldView.design({useStaticLayout:YES,layout:{height:20},isPassword:YES,applyImmediately:YES,valueBinding:"Admin.NewTaskResponder.secondPIN"})}),iOSLock:SC.View.design({classNames:["admin-margin-top-15"],useStaticLayout:YES,totalHeight:45,childViews:"iOSLockHelper".w(),isVisible:function(){var e=this.get("numberOfIOSDevices"),t=this.get("taskType");return e&&this.get("taskType")==="DeviceLock"}.property("numberOfIOSDevices","taskType"),numberOfIOSDevicesBinding:"Admin.NewTaskResponder*allIOSDevices.length",taskTypeBinding:"Admin.NewTaskResponder.taskType",iOSLockHelper:SC.LabelView.design({useStaticLayout:YES,layout:{height:30},value:function(){var e=this.get("numberOfIOSDevices");return e===1?"_new_task_the_1_ios_device_can_be_unlocked".loc():"_new_task_the_n_ios_devices_can_be_unlocked".loc(e)}.property("numberOfIOSDevices"),numberOfIOSDevicesBinding:"Admin.NewTaskResponder*allIOSDevices.length"})}),macClearPasscode:SC.View.design({classNames:["admin-margin-top-15"],useStaticLayout:YES,totalHeight:35,childViews:"macClearPasscodeHelper".w(),isVisible:function(){var e=this.get("numberOfMacs"),t=this.get("taskType");return e&&
t==="ClearPasscode"}.property("numberOfMacs","taskType"),numberOfMacsBinding:"Admin.NewTaskResponder*allMacDevices.length",taskTypeBinding:"Admin.NewTaskResponder.taskType",macClearPasscodeHelper:SC.LabelView.design({useStaticLayout:YES,layout:{height:20},value:"_new_task_this_command_only_applies_to_ios_devices".loc()})}),renameDeviceView:SC.View.design({classNames:["admin-margin-top-15"],useStaticLayout:YES,totalHeight:55,childViews:"deviceNameLabelView deviceNameView".w(),isVisible:function(){return this.get("taskType")==="SetDeviceName"}.property("taskType"),taskTypeBinding:"Admin.NewTaskResponder.taskType",deviceNameLabelView:SC.LabelView.design({useStaticLayout:YES,layout:{height:20},value:"_new_task_enter_new_device_name".loc()}),deviceNameView:SC.TextFieldView.design({useStaticLayout:YES,layout:{height:20},applyImmediately:YES,valueBinding:"Admin.NewTaskResponder.newDeviceName"})}),airplayDestinationsView:SC.View.design({useStaticLayout:YES,childViews:["pickAirplayDestinationLabelView","airplayDestinationsListView"],totalHeight:172,isVisible:function(){return this.get("taskType")==="RequestMirroring"}.property("taskType"),taskTypeBinding:"Admin.NewTaskResponder.taskType",pickAirplayDestinationLabelView:SC.LabelView.design({useStaticLayout:YES,classNames:["admin-margin-top-15"],layout:{height:20},value:"_new_task_select_airplay_destination".loc()}),airplayDestinationsListView:SC.ScrollView.design(SC.Border,{classNames:["admin-margin-top-7"],useStaticLayout:YES,layout:{height:130},contentView:SC.ListView.design({classNames:["admin-background-color-white"],contentBinding
:"Admin.AirplayDestinationsController.arrangedObjects",selectionBinding:"Admin.AirplayDestinationsController.selection",hasContentIcon:YES,contentIconKey:"smallIcon",contentValueKey:"displayName",rowHeight:23})})}),devicesView:SC.ScrollView.design(SC.Border,{classNames:["admin-margin-top-15"],isVisibleBinding:SC.Binding.not(".owner.airplayDestinationsView.isVisible"),useStaticLayout:YES,totalHeight:145,layout:{height:130},contentView:SC.ListView.design({classNames:["admin-background-color-white"],contentBinding:"Admin.NewTaskResponder*allDevices",hasContentIcon:YES,contentIconKey:"smallIcon",contentValueKey:"displayName",rowHeight:23})}),actionButtonsView:SC.View.design({useStaticLayout:YES,classNames:["admin-margin-top-15"],layout:{height:42},childViews:["performTask","cancel"],performTaskButtonWidthBinding:SC.Binding.oneWay(".performTask.calculatedWidth"),performTask:SC.ButtonView.design(SC.AutoResize,{layout:{bottom:15,width:120,height:27,right:0},isDefault:YES,title:function(){var e=this.get("taskTypeTitle");return e}.property("taskTypeTitle"),taskTypeTitleBinding:"Admin.NewTaskResponder.taskTypeTitle",isMacLockOrWipe:function(){var e=this.get("numberOfMacs"),t=this.get("taskType");return e&&["DeviceLock","EraseDevice"].indexOf(t)>-1}.property("numberOfMacs","taskType"),numberOfMacsBinding:"Admin.NewTaskResponder*allMacDevices.length",taskTypeBinding:"Admin.NewTaskResponder.taskType",isEnabled:function(){var e=YES,t=this.get("taskType");return this.get("isMacLockOrWipe")&&(!this.get("firstPIN")||!this.get("secondPIN"))&&(e=NO),t==="RequestMirroring"&&this.get("airplayDestinationSelection"
).get("length")===0&&(e=NO),t==="SetDeviceName"&&this.get("newDeviceName")===""&&(e=NO),e}.property("firstPIN","secondPIN","numberOfMacs","taskType","airplayDestinationSelection","newDeviceName"),firstPINBinding:"Admin.NewTaskResponder.firstPIN",secondPINBinding:"Admin.NewTaskResponder.secondPIN",newDeviceNameBinding:"Admin.NewTaskResponder.newDeviceName",airplayDestinationSelectionBinding:"Admin.AirplayDestinationsController.selection",target:"Admin",action:"performTask"}),cancel:SC.ButtonView.design({performTaskButtonWidthBinding:SC.Binding.oneWay(".owner.performTaskButtonWidth"),layout:function(e,t){if(t!==undefined)throw SC.$error("layout is ready only for %@".fmt(this.constructor));return{bottom:15,height:27,right:this.get("performTaskButtonWidth")+10+20,width:100}}.property("performTaskButtonWidth").cacheable(),title:"_add_device_page_cancel_button_title".loc(),isEnabled:function(){return this.get("scene")==="Admin.newTaskScenesPage.creating"?NO:YES}.property("scene"),sceneBinding:"Admin.NewTaskResponder.scene",target:"Admin",action:"cancel"})})}),noDevices:SC.View.create({height:20,childViews:"helper ok".w(),helper:SC.LabelView.design({layout:{top:10,left:20,right:20},value:function(){var e=this.get("taskType"),t=this.get("numberOfMacs");return e==="ClearPasscode"&&t?"_new_task_this_command_only_applies_to_ios_devices".loc():"_new_task_you_must_select_one_or_more_devices".loc()}.property("taskType","numberOfMacs"),taskTypeBinding:"Admin.NewTaskResponder.taskType",numberOfMacsBinding:"Admin.NewTaskResponder*allMacDevices.length"}),ok:SC.ButtonView.design({layout:{bottom
:15,right:20,height:27,width:100},title:"_new_task_no_devices_ok_button_view".loc(),target:"Admin",action:"cancel"})}),creating:Admin.SpinnerView.create({})}),Admin.newTaskPage=SC.Page.create({newTaskPane:SC.SheetPane.create({sceneBinding:"Admin.NewTaskResponder.scene",layout:function(){var e=100,t=this.get("scene"),n=t&&SC.objectForPropertyPath(t);return n&&n.get("height")&&(e=n.get("height")+57+67),t==="Admin.newTaskScenesPage.overview"&&(this.get("macLockWipeIsVisible")&&(e+=Admin.newTaskScenesPage.overview.macLockWipe.totalHeight),this.get("iOSLockIsVisible")&&(e+=Admin.newTaskScenesPage.overview.iOSLock.totalHeight),this.get("macClearPasscodeIsVisible")&&(e+=Admin.newTaskScenesPage.overview.macClearPasscode.totalHeight),this.get("renameDeviceViewIsVisible")&&(e+=Admin.newTaskScenesPage.overview.renameDeviceView.totalHeight),this.get("airplayDestinationsViewIsVisible")&&(e+=Admin.newTaskScenesPage.overview.airplayDestinationsView.totalHeight),this.get("devicesViewIsVisible")&&(e+=Admin.newTaskScenesPage.overview.devicesView.totalHeight)),{width:parseFloat("_layout_new_task_sheet_width".loc()),height:e,centerX:0}}.property("scene","macLockWipeIsVisible","iOSLockIsVisible","macClearPasscodeIsVisible"),macLockWipeIsVisibleBinding:"Admin.newTaskScenesPage.overview.macLockWipe.isVisible",iOSLockIsVisibleBinding:"Admin.newTaskScenesPage.overview.iOSLock.isVisible",macClearPasscodeIsVisibleBinding:"Admin.newTaskScenesPage.overview.macClearPasscode.isVisible",airplayDestinationsViewIsVisibleBinding:"Admin.newTaskScenesPage.overview.airplayDestinationsView.isVisible",devicesViewIsVisibleBinding
:"Admin.newTaskScenesPage.overview.devicesView.isVisible",renameDeviceViewIsVisibleBinding:"Admin.newTaskScenesPage.overview.renameDeviceView.isVisible",contentView:SC.View.design({childViews:"icon title topDivider scene".w(),icon:Admin.ImageView.design(Admin.TaskIconMixin,{layout:{top:18,left:20,width:16,height:16},value:function(){return this.getIconForTaskType(this.get("taskType"),"16")}.property("taskType"),taskTypeBinding:"Admin.NewTaskResponder.taskType"}),title:SC.LabelView.design({valueBinding:"Admin.NewTaskResponder.taskTypeTitle",layout:{top:20,height:20,left:40,right:20},fontWeight:SC.BOLD_WEIGHT}),topDivider:Admin.DoubleDividerView.design({layout:{top:47,height:2}}),scene:SC.SceneView.design({layout:{left:20,right:20,top:47,bottom:0},scenes:["Admin.newTaskScenesPage.creating"],nowShowingBinding:"Admin.NewTaskResponder.scene"})})})}),Admin.PushOSXEnterpriseAppsPage=SC.Page.create({pushAppsPickerSheet:Admin.PushVPPPickerSheet.design({title:"_library_item_action_Push OS X in-house enterprise apps".loc(),headerIcon:"appstore_icon_60_2x",description:"_generic_string_The selected apps will be pushed to all eligible devices".loc(),columnsBinding:SC.Binding.oneWay("Admin.PushOSXEnterpriseAppsTableViewColumnsController.arrangedObjects"),contentBinding:SC.Binding.oneWay("Admin.PushOSXEnterpriseAppsTableViewController.arrangedObjects"),selectionBinding:"Admin.PushOSXEnterpriseAppsTableViewController.selection",selectAllAction:"selectAllAppsForPush",cancelAction:"hidePushAppsPicker",okAction:"pushAppsForCurrentSelection",okButtonEnabled:function(){return this.get("hasSelectedApps"
)}.property("isUser","hasVppEnabledDevices","hasSelectedApps").cacheable(),hasSelectedAppsBinding:SC.Binding.notEmpty("Admin.PushOSXEnterpriseAppsTableViewController*checkboxCheckedApplications.[]",NO).bool()})}),Admin.PushAppsPickerPage=SC.Page.create({pushAppsPickerSheet:Admin.PushVPPPickerSheet.design({isUserBinding:"Admin.itemSelectionController.isUser",hasVppEnabledDevicesBinding:"Admin.itemSelectionController.hasVppEnabledDevices",unenrolledUsersWithoutVppDeviceCountBinding:"Admin.itemSelectionController.usersWithoutVppDevice",enrolledUsersWithoutVppDeviceCountBinding:"Admin.itemSelectionController.enrolledUsersWithoutVppDeviceCount",isUserAssociatedBinding:"Admin.itemSelectionController.isUserAssociated",unenrolledUsersWithVppDeviceCountBinding:"Admin.itemSelectionController.unenrolledUsersWithVppDeviceCount",hasSelectedAppsBinding:SC.Binding.notEmpty("Admin.pushAppsPickerTableViewController*checkboxCheckedApplications.[]",NO).bool(),title:"_generic_string_Choose VPP Apps to push".loc(),headerIcon:"appstore_icon_60_2x",description:function(){var e="_generic_string_The selected apps will be pushed to all eligible devices of enrolled users.".loc();return this.get("isUser")&&(e="_generic_string_The selected apps will be pushed to all eligible devices of the enrolled user.".loc()),e}.property("isUser").cacheable(),columnsBinding:SC.Binding.oneWay("Admin.PushAppsPickerTableViewColumnsController.arrangedObjects"),contentBinding:SC.Binding.oneWay("Admin.pushAppsPickerTableViewController.arrangedObjects"),selectionBinding:"Admin.pushAppsPickerTableViewController.selection",notEnrolledWarningText
:function(){var e="";if(this.get("isUser")&&this.get("isUserAssociated")===NO&&this.get("hasVppEnabledDevices"))e="_generic_string_The selected apps are pushed to the user's eligible devices once they enroll in VPP Managed Distribution.".loc();else{var t=this.get("unenrolledUsersWithVppDeviceCount");t===1?e="_generic_string_1 user's eligible devices will receive the selected apps once they enrolled in VPP Managed Distribution.".loc():t>1&&(e="_generic_string_<count> users' eligible devices will receive the selected apps once they enrolled in VPP Managed Distribution.".loc(t))}return e}.property("isUser","isUserAssociated","hasVppEnabledDevices","unenrolledUsersWithVppDeviceCount").cacheable(),noEligibleDevicesWarningText:function(){var e="";if(this.get("isUser")&&this.get("hasVppEnabledDevices")===NO)e="_generic_string_This user does not have an eligible device to receive the selected apps.".loc();else{var t=this.get("unenrolledUsersWithoutVppDeviceCount")+this.get("enrolledUsersWithoutVppDeviceCount");t===1?e="_generic_string_1 user lacks any eligible devices and will not be pushed the selected apps.".loc():t>1&&(e="_generic_string_<count> users lack any eligible devices and the selected apps will not be pushed.".loc(t))}return e}.property("isUser","hasVppEnabledDevices","unenrolledUsersWithoutVppDeviceCount","enrolledUsersWithoutVppDeviceCount").cacheable(),noVppContentWarningText:"_generic_string_No VPP Apps assigned".loc(),isNoVppContentWarningVisibleBinding:SC.Binding.oneWay("Admin.PushAppsPickerManager*vppContentFilteredSearchResults.length").bool().not(),selectAllAction
:"selectAllAppsForPush",cancelAction:"hidePushAppsPicker",okAction:"pushAppsForCurrentSelection",okButtonEnabled:function(){var e=this.get("hasSelectedApps");return this.get("isUser")&&!this.get("hasVppEnabledDevices")&&(e=NO),e}.property("isUser","hasVppEnabledDevices","hasSelectedApps").cacheable()})}),Admin.PushBooksPickerPage=SC.Page.create({pushBooksPickerSheet:Admin.PushVPPPickerSheet.design({isUserBinding:"Admin.itemSelectionController.isUser",hasVppEnabledDevicesBinding:"Admin.itemSelectionController.hasVppEnabledDevices",unenrolledUsersWithoutVppDeviceCountBinding:"Admin.itemSelectionController.usersWithoutVppDevice",enrolledUsersWithoutVppDeviceCountBinding:"Admin.itemSelectionController.enrolledUsersWithoutVppDeviceCount",isUserAssociatedBinding:"Admin.itemSelectionController.isUserAssociated",unenrolledUsersWithVppDeviceCountBinding:"Admin.itemSelectionController.unenrolledUsersWithVppDeviceCount",hasSelectedBooksBinding:SC.Binding.notEmpty("Admin.pushBooksPickerTableViewController*checkboxCheckedApplications.[]",NO).bool(),title:"_generic_string_Choose VPP Books to push".loc(),headerIcon:"ibooks_icon_60_2x",description:function(){var e="_generic_string_The selected books will be pushed to all eligible devices of enrolled users.".loc();return this.get("isUser")&&(e="_generic_string_The selected books will be pushed to all eligible devices of the enrolled user.".loc()),e}.property("isUser").cacheable(),columnsBinding:SC.Binding.oneWay("Admin.PushBooksPickerTableViewColumnsController.arrangedObjects"),contentBinding:SC.Binding.oneWay("Admin.pushBooksPickerTableViewController.arrangedObjects"
),selectionBinding:"Admin.pushBooksPickerTableViewController.selection",notEnrolledWarningText:function(){var e="";if(this.get("isUser")&&this.get("isUserAssociated")===NO&&this.get("hasVppEnabledDevices"))e="_generic_string_The selected books are pushed to the user's eligible devices once they enroll in VPP Managed Distribution.".loc();else{var t=this.get("unenrolledUsersWithVppDeviceCount");t===1?e="_generic_string_1 user's eligible devices will receive the selected books once they enrolled in VPP Managed Distribution.".loc():t>1&&(e="_generic_string_<count> users' eligible devices will receive the selected books once they enrolled in VPP Managed Distribution.".loc(t))}return e}.property("isUser","isUserAssociated","hasVppEnabledDevices","unenrolledUsersWithVppDeviceCount").cacheable(),noEligibleDevicesWarningText:function(){var e="";if(this.get("isUser")&&this.get("hasVppEnabledDevices")===NO)e="_generic_string_This user does not have an eligible device to receive the selected books.".loc();else{var t=this.get("unenrolledUsersWithoutVppDeviceCount")+this.get("enrolledUsersWithoutVppDeviceCount");t===1?e="_generic_string_1 user lacks any eligible devices and will not be pushed the selected books.".loc():t>1&&(e="_generic_string_<count> users lack any eligible devices and the selected books will not be pushed.".loc(t))}return e}.property("isUser","hasVppEnabledDevices","unenrolledUsersWithoutVppDeviceCount","enrolledUsersWithoutVppDeviceCount").cacheable(),noVppContentWarningText:"_generic_string_No VPP Books assigned".loc(),isNoVppContentWarningVisibleBinding:SC.Binding.oneWay
("Admin.PushBooksPickerManager*vppContentFilteredSearchResults.length").bool().not(),selectAllAction:"selectAllBooksForPush",cancelAction:"hidePushBooksPicker",okAction:"pushBooksForCurrentSelection",okButtonEnabled:function(){var e=this.get("hasSelectedBooks");return this.get("isUser")&&!this.get("hasVppEnabledDevices")&&(e=NO),e}.property("isUser","hasVppEnabledDevices","hasSelectedBooks").cacheable()})}),Admin.profilesPage=SC.Page.design({settingsView:SC.ScrollView.design({classNames:["admin-background-color-white"],contentView:SC.View.design({layout:{width:parseFloat("_layout_admin_profiles_view_box_width".loc()),centerX:0},useStaticLayout:YES,classNames:"admin-profiles-view".w(),contentBinding:SC.Binding.oneWay("Admin.profileController.content"),childViews:["_spacerView20","profileSettingsBox","_spacerView20","enrollmentSettingsBox","_spacerView20","_spacerView20"],_spacerView20:SC.View.design({layout:{height:20},useStaticLayout:YES}),profileSettingsBox:SC.View.design(SC.Border,Admin.SettingsViewBoxMixin,{layout:{"border-radius":"5px",height:110},useStaticLayout:YES,heightDidChange:function(e,t){var n=110,r=this.get("knobSetTypesUsedLength");r===0&&(r=1),n+=Math.floor((r-1)/3)*39,this.adjust("height",n)}.observes("knobSetTypesUsedLength"),knobSetTypesUsedLengthBinding:"Admin.knobSetTypesUsedController.length",childViews:["icon","displayNameView","deleteButton","settingsBackground","settings","whiteBottomBox","editButton","shareButton"],displayNameBinding:SC.Binding.oneWay("Admin.profileController.displayName"),shareButton:SC.ButtonView.design({layout:{bottom:6,right:15+
parseFloat("_layout_download_and_edit_buttons_width".loc()),width:0+parseFloat("_layout_download_and_edit_buttons_width".loc()),height:18},title:"_generic_string_Download".loc(),titleMinWidth:0,controlSize:SC.TINY_CONTROL_SIZE,target:"Admin",action:"exportProfileToFile",isEnabled:function(){return this.get("isNewProfileTemplate")?NO:this.get("hasUnsavedChanges")?NO:this.get("itemSelectionProfile")?this.get("shortName")==="everyone"&&this.get("knobSetTypesUsed").length===1?NO:YES:NO}.property("isNewProfileTemplate","hasUnsavedChanges","itemSelectionProfile","shortName","knobSetTypesUsed"),hasUnsavedChangesBinding:"Admin.itemSelectionNestedStore.hasChanges",isNewProfileTemplateBinding:"Admin.profileController.isNewProfileTemplate",itemSelectionProfileBinding:"Admin.itemSelectionController.profile",shortNameBinding:"Admin.itemSelectionController.shortName",knobSetTypesUsedBinding:"Admin.knobSetTypesUsedController.knobSetTypesUsed"}),editButton:SC.ButtonView.design({layout:{bottom:6,right:10,width:0+parseFloat("_layout_download_and_edit_buttons_width".loc()),height:18},title:"_generic_string_Edit".loc(),titleMinWidth:0,controlSize:SC.TINY_CONTROL_SIZE,target:"Admin",action:"editProfile",isEnabledBinding:SC.Binding.not("Admin.profileController.profileMarkedForDeletion")}),deleteButton:SC.ButtonView.design({layout:{top:3,right:5,width:24,height:24},themeName:"admin-knob-set-remove-button",target:"Admin",action:"showDeleteProfileConfirmationFromSummaryView",isVisible:function(){var e=this.get("shortName")==="everyone";return!this.get("isNewProfileTemplate")&&!e}.property("isNewProfileTemplate"
,"itemSelectionProfile","shortName"),isNewProfileTemplateBinding:"Admin.profileController.isNewProfileTemplate",shortNameBinding:"Admin.itemSelectionController.shortName"}),settings:Admin.GridView.design({classNames:"admin-setting-types-list-view admin-profiles-view-settings".w(),columnWidth:parseFloat("_layout_admin_profiles_view_settings_column_width".loc()),rowHeight:40,isSelectable:YES,actOnSelect:YES,target:"Admin",action:"editProfileSelectingSettingType",layout:{top:30,bottom:31,width:parseFloat("_layout_admin_profiles_view_box_width".loc())-60,left:30},exampleView:SC.View.design({childViews:"icon name".w(),icon:SC.ImageView.design({layout:{centerY:0,left:5,width:32,height:32},valueBinding:SC.Binding.oneWay(".owner.content.largeIcon"),useCanvas:NO}),name:SC.LabelView.design(SC.Control,{layout:function(){return{left:42,centerY:0,height:15*this.get("numLines")}}.property("numLines"),numLinesBinding:SC.Binding.oneWay(".owner.content.numLines"),valueBinding:SC.Binding.oneWay(".owner.content.displayName")})}),contentBinding:SC.Binding.oneWay("Admin.knobSetTypesUsedController.arrangedObjects"),hasContentIcon:YES,contentIconKey:"largeIcon",contentValueKey:"displayName"})}),enrollmentSettingsBox:SC.View.design(SC.Border,Admin.SettingsViewBoxMixin,{layout:{"border-radius":"5px"},useStaticLayout:YES,childViews:["icon","displayNameView","settingsBackground","_spacerView30","enrollmentSettingsView"],_spacerView30:SC.View.design({layout:{height:30,zIndex:-1},useStaticLayout:YES}),isVisible:function(e,t){if(t!==undefined)throw SC.$error("isVisible is ready only for %@".fmt(this.constructor
));return this.get("deviceManagementEnabled")&&(this.get("cloudSettingsAvailable")||this.get("isDirectoryItem"))}.property("deviceManagementEnabled","cloudSettingsAvailable").cacheable(),isDirectoryItemBinding:"Admin.itemSelectionController.isDirectoryItem",deviceManagementEnabledBinding:SC.Binding.oneWay("Admin.SettingsController.deviceManagementEnabled"),cloudSettingsAvailable:function(e,t){if(t!==undefined)throw SC.$error("cloudSettingsAvailable is ready only for %@".fmt(this.constructor));var n=this.get("itemSelectionType"),r=this.get("isDEPDevice"),i=NO;if(this.get("isDEPServiceEnabled")||this.get("isDEPServiceSuspended"))if(n==="device"&&r||n==="device_group")i=YES;return i}.property("itemSelectionType","isDEPDevice","isDEPServiceEnabled","isDEPServiceSuspended").cacheable(),itemSelectionTypeBinding:"Admin.itemSelectionController.type",isDEPDeviceBinding:"Admin.itemSelectionController.isDEPDevice",isDEPServiceEnabledBinding:"Admin.SettingsController.isDEPServiceEnabled",isDEPServiceSuspendedBinding:"Admin.SettingsController.isDEPServiceSuspended",displayName:"_generic_string_Enrollment Settings".loc(),hasActionButtons:NO,contentBinding:"Admin.itemSelectionController",enrollmentSettingsView:SC.View.design({classNames:["admin-background-color-white"],childViews:["alSettingsView","cloudSettingsView"],useStaticLayout:YES,render:function(e){e.addStyle("margin-left",30),e.addStyle("margin-right",30),arguments.callee.base.apply(this,arguments)},alSettingsView:SC.View.design({useStaticLayout:YES,isVisible:function(e,t){if(t!==undefined)throw SC.$error("isVisible is ready only for %@"
.fmt(this.constructor));return!!this.get("isDirectoryItem")}.property("isDirectoryItem").cacheable(),isDirectoryItemBinding:"Admin.itemSelectionController.isDirectoryItem",enrollmentSettingsEditableBinding:"Admin.itemSelectionController.enrollmentSettingsEditable",childViews:["_spacerView15","allowALView","_spacerView10","allowALWithBypassCodeView","_spacerView15"],_spacerView15:SC.View.design({layout:{height:15},useStaticLayout:YES}),_spacerView10:SC.View.design({layout:{height:10},useStaticLayout:YES}),allowALView:SC.CheckboxView.design({layout:{},useStaticLayout:YES,title:"_enrollment_setting_allow_activation_lock".loc(),contentBinding:"Admin.itemSelectionFromNestedStoreController",contentValueKey:"allowActivationLock",isEnabledBinding:".owner.enrollmentSettingsEditable"}),allowALWithBypassCodeView:SC.CheckboxView.design({layout:{left:20},allowALValueBinding:".owner.allowALView.value",useStaticLayout:YES,title:"_enrollment_setting_allow_activation_lock_with_bypass_code".loc(),contentBinding:"Admin.itemSelectionFromNestedStoreController",contentValueKey:"allowActivationLockOnlyWithBypassCode",enrollmentSettingsEditableBinding:".owner.enrollmentSettingsEditable",isEnabled:function(e,t){if(t!==undefined)throw SC.$error("isEnabled is ready only for %@".fmt(this.constructor));return this.get("allowALValue")&&this.get("enrollmentSettingsEditable")}.property("enrollmentSettingsEditable","allowALValue").cacheable()})}),cloudSettingsView:Admin.DEPSettingsView.design({classNames:["admin-margin-bottom-5"],isVisibleBinding:".owner.owner.cloudSettingsAvailable"})})})})})}),Admin.AddAirPlayDestinationPage=
SC.Page.create({addAirPlayDestinationSheet:SC.SheetPane.create({layout:{width:520,height:300,centerX:0},delegate:null,contentView:SC.View.extend({childViews:["headerView","possibleAirplayDestinationListView","noPossibleDestinationsView","cancelButtonView","okButtonView"],headerView:Admin.BoldLabelViewAbsolute.design({layout:{height:20,left:25,top:20},value:"_generic_string_Add AirPlay Destinations".loc()}),possibleAirplayDestinationListView:SC.ScrollView.design(SC.Border,{layout:{top:50,left:25,right:25,height:200},classNames:["admin-background-color-white"],contentView:Admin.ListView.design({contentBinding:"Admin.AirplayDestinationArrayController.availableAirplayDestinations",showAlternatingRows:YES,rowHeight:40,exampleView:SC.View.design({childViews:["checkbox","icon","label"],checkbox:SC.CheckboxView.design({layout:{centerY:0,left:10,width:20,height:20},value:NO}),icon:SC.ImageView.design({layout:{centerY:0,left:40,width:32,height:32},valueBinding:SC.Binding.oneWay(".owner.content.mediumIcon")}),label:SC.LabelView.design({layout:{centerY:0,left:80,height:15},valueBinding:SC.Binding.oneWay(".owner.content.displayName")})})})}),noPossibleDestinationsView:Admin.NoItemView.design(SC.Border,{layout:{top:50,left:25,right:25,height:200},isVisible:function(){var e=this.get("airplayDestinations");return e?e.get("length")===0:YES}.property("airplayDestinations"),contentType:"airplay_destination",isTruncationIndicator:NO,airplayDestinationsBinding:"Admin.AirplayDestinationArrayController.availableAirplayDestinations"}),cancelButtonView:SC.ButtonView.design(SC.AutoResize,{layout:{right
:0+parseFloat("_layout_pane_cancel_button_offset_right".loc()),bottom:10,minWidth:70,height:27},title:"_generic_string_Cancel".loc(),action:function(){var e=this.getPath("owner.owner");e.remove()}}),okButtonView:SC.ButtonView.design(SC.AutoResize,{layout:{right:30,bottom:10,minWidth:70,height:27},title:"_generic_string_OK".loc(),action:function(){var e=this.getPath("owner.owner");if(e.get("delegate")&&e.get("delegate").respondsTo("addAirplayDestinations")){var t=[],n=this.getPath("owner.possibleAirplayDestinationListView.contentView.childViews");for(var r=0;r<n.get("length");r++)n[r].getPath("checkbox.value")&&t.push(n[r].get("content"));e.get("delegate").addAirplayDestinations(t)}e.remove()}}),didBecomeFirstResponder:function(){Admin.store.dataSource.addActiveQuery(Admin.AirplayDestinationArrayController.get("content"),{model:"device",method:"find_all_apple_tvs"})},willLoseFirstResponder:function(e){Admin.store.dataSource.removeActiveQuery(Admin.AirplayDestinationArrayController.get("content")),arguments.callee.base.apply(this,arguments)}})})}),Admin.AirPrintDestinationPage=SC.Page.create({addDestinationPane:SC.SheetPane.create({layout:{width:500,height:145,centerX:0},delegate:null,contentView:SC.View.extend({childViews:["headerView","ipLabel","ip","resourceLabel","resource","cancelButtonView","okButtonView"],headerView:Admin.BoldLabelViewAbsolute.design({layout:{height:20,left:25,top:20},value:"_generic_string_Add Printer".loc()}),ipLabel:SC.LabelView.design({layout:{top:48,width:parseFloat("_layout_airplay_add_sheet_label_width".loc()),height:20},value:"_generic_string_IP Address:"
.loc(),textAlign:SC.ALIGN_RIGHT}),ip:SC.TextFieldView.design({layout:{top:47,left:parseFloat("_layout_airplay_add_sheet_label_width".loc())+10,right:20,height:20},hint:"_hint_required".loc(),applyImmediately:YES,isVisibleObserver:function(){this.get("isVisibleInWindow")&&this.$input()[0].focus()}.observes("isVisibleInWindow")}),resourceLabel:SC.LabelView.design({layout:{top:78,width:parseFloat("_layout_airplay_add_sheet_label_width".loc()),height:20},value:"_generic_string_Resource Path:".loc(),textAlign:SC.ALIGN_RIGHT}),resource:SC.TextFieldView.design({layout:{top:77,left:parseFloat("_layout_airplay_add_sheet_label_width".loc())+10,right:20,height:20},hint:"_hint_required".loc(),applyImmediately:YES}),cancelButtonView:SC.ButtonView.design(SC.AutoResize,{layout:{right:0+parseFloat("_layout_pane_cancel_button_offset_right".loc()),bottom:10,minWidth:80,height:27},title:"_generic_string_Cancel".loc(),action:function(){this.set("ip",""),this.set("resource","");var e=Admin.AirPrintDestinationPage.get("addDestinationPane");e.remove()},ipBinding:".owner.ip.value",resourceBinding:".owner.resource.value"}),okButtonView:SC.ButtonView.design(SC.AutoResize,{layout:{right:20,bottom:10,minWidth:90,height:27},isDefault:YES,isEnabled:function(){var e=this.get("ip"),t=this.get("resource");return e&&e.toString().length>0&&t&&t.toString().length>0}.property("ip","resource"),ipBinding:".owner.ip.value",resourceBinding:".owner.resource.value",title:"_generic_string_OK".loc(),action:function(){var e=Admin.AirPrintDestinationPage.get("addDestinationPane");if(e.get("delegate")&&e.get("delegate").respondsTo
("addAirprintPrinter")){var t=this.get("ip"),n=this.get("resource");e.get("delegate").addAirprintPrinter({IPAddress:t,ResourcePath:n}),this.set("ip",""),this.set("resource","")}e.remove()}})})})}),Admin.InstalledAppPickerPage=SC.Page.create({addInstalledAppsSheet:SC.SheetPane.create({layout:{width:520,height:300,centerX:0},delegate:null,whiteListedApps:null,contentView:SC.View.extend({childViews:["headerView","searchField","possibleApplicationList","cancelButtonView","okButtonView"],headerView:Admin.BoldLabelViewAbsolute.design({layout:{height:25,left:25,top:20},value:"_generic_string_Edit App List".loc()}),searchField:Admin.SearchFieldView.design({layout:{top:15,right:25,width:200}}),possibleApplicationList:SC.ScrollView.design(SC.Border,{layout:{top:50,left:25,right:25,height:210},classNames:["admin-background-color-white"],contentView:Admin.ListView.design({content:function(){var e=SC.clone(this.get("installedApps"),YES)||[],t=e.getEach("value"),n=this.get("whiteListedApps")||[],r=n.getEach("value"),i=[],s=Admin.store.find(SC.Query.local(Admin.UnifiedApplication,"supportsMac = NO")),o=this.get("searchString");return o=o&&o.toLowerCase(),s.forEach(function(n){var r=n.get("unique_identifier");t.contains(r)||(e.push({name:n.get("name"),value:n.get("unique_identifier")}),t.push(r))}),e&&e.forEach(function(e){var t=e.value;r.contains(t)===NO&&i.push(e)}),o&&(i=i.filter(function(e){var t=NO;return t|=e.name?e.name.toLowerCase().indexOf(o)!==-1:NO,t|=e.value?e.value.toLowerCase().indexOf(o)!==-1:NO,t})),i}.property("installedApps","whiteListedApps","searchString").cacheable(),installedAppsBinding
:SC.Binding.oneWay("Admin.profileForEditingController.installedApplications"),searchStringBinding:".owner.owner.owner.searchField.searchString",whiteListedAppsBinding:".owner.owner.owner.owner.whiteListedApps",showAlternatingRows:YES,rowHeight:22,exampleView:SC.View.design({childViews:["checkboxView","labelView"],checkboxView:SC.CheckboxView.design({layout:{top:2,height:20,width:20}}),labelView:SC.LabelView.design({layout:{top:2,height:20,left:25},value:function(){var e=this.get("content"),t=e?e.name:null;return t}.property("content"),contentBinding:".owner.content"})})})}),cancelButtonView:SC.ButtonView.design(SC.AutoResize,{layout:{right:0+parseFloat("_layout_pane_cancel_button_offset_right".loc()),bottom:10,minWidth:70,height:27},title:"_generic_string_Cancel".loc(),action:function(){var e=this.getPath("owner.owner");e.remove()}}),okButtonView:SC.ButtonView.design(SC.AutoResize,{layout:{right:30,bottom:10,minWidth:70,height:27},title:"_generic_string_OK".loc(),action:function(){var e=this.getPath("owner.owner");if(e.get("delegate")&&e.get("delegate").respondsTo("addApplications")){var t=[],n=this.getPath("owner.possibleApplicationList.contentView.childViews");for(var r=0;r<n.get("length");r++)n[r].getPath("checkboxView.value")&&t.push(n[r].get("content"));e.get("delegate").addApplications(t)}e.remove()}})})})}),Admin.InterfaceHotspotPage=SC.Page.create({addMCCAndMNCSheet:SC.SheetPane.create({layout:{width:500,height:145,centerX:0},delegate:null,contentView:SC.View.extend({childViews:["headerView","mccLabel","mcc","mncLabel","mnc","cancelButtonView","okButtonView"],headerView
:Admin.BoldLabelViewAbsolute.design({layout:{height:20,left:25,top:20},value:"_generic_string_Add Mobile Country Code and Mobile Network Configuration".loc()}),mccLabel:SC.LabelView.design({layout:{top:47,width:70,height:20},value:"_generic_string_MCC:".loc(),textAlign:SC.ALIGN_RIGHT}),mcc:SC.TextFieldView.design({layout:{top:47,left:80,right:20,height:20},hint:"_hint_required".loc(),applyImmediately:YES,validator:SC.Validator.PositiveInteger,isVisibleObserver:function(){this.get("isVisibleInWindow")&&this.$input()[0].focus()}.observes("isVisibleInWindow")}),mncLabel:SC.LabelView.design({layout:{top:77,width:70,height:20},value:"_generic_string_MNC:".loc(),textAlign:SC.ALIGN_RIGHT}),mnc:SC.TextFieldView.design({layout:{top:77,left:80,right:20,height:20},validator:SC.Validator.PositiveInteger,hint:"_hint_required".loc(),applyImmediately:YES}),cancelButtonView:SC.ButtonView.design({layout:{right:140,bottom:10,width:100,height:27},title:"_generic_string_Cancel".loc(),action:function(){this.set("mcc",""),this.set("mnc","");var e=Admin.InterfaceHotspotPage.get("addMCCAndMNCSheet");e.remove()},mccBinding:".owner.mcc.value",mncBinding:".owner.mnc.value"}),okButtonView:SC.ButtonView.design({layout:{right:20,bottom:10,width:100,height:27},isDefault:YES,isEnabled:function(){var e=this.get("mcc"),t=this.get("mnc");return e&&e.toString().length<4&&t&&t.toString().length<4}.property("mcc","mnc"),mccBinding:".owner.mcc.value",mncBinding:".owner.mnc.value",title:"_generic_string_OK".loc(),action:function(){var e=Admin.InterfaceHotspotPage.get("addMCCAndMNCSheet");if(e.get("delegate")&&e.get
("delegate").respondsTo("addMCCAndMNC")){var t=this.get("mcc"),n=this.get("mnc");e.get("delegate").addMCCAndMNC(t.toString(),n.toString())}e.remove()}})})})}),Admin.WebContentFilterBookmarkPage=SC.Page.create({addWebContentBookmarkSheet:SC.SheetPane.create({layout:{width:520,height:175,centerX:0},delegate:null,contentView:SC.View.extend({childViews:["headerView","URLLabel","URL","titleLabel","title","bookmarkPathLabel","bookmarkPath","cancelButtonView","okButtonView"],headerView:Admin.BoldLabelViewAbsolute.design({layout:{height:20,left:25,top:20},value:"_web_content_filter_Add Bookmark".loc()}),URLLabel:SC.LabelView.design({layout:{top:47,width:parseFloat("_web_content_filter_add_page_label_width".loc()),height:20},value:"_web_content_filter_URL:".loc(),textAlign:SC.ALIGN_RIGHT}),URL:SC.TextFieldView.design({layout:{top:47,left:parseFloat("_web_content_filter_add_page_label_width".loc())+10,right:20,height:20},hint:"_hint_required".loc(),applyImmediately:YES,isVisibleObserver:function(){this.get("isVisibleInWindow")&&this.$input()[0].focus()}.observes("isVisibleInWindow")}),titleLabel:SC.LabelView.design({layout:{top:77,width:parseFloat("_web_content_filter_add_page_label_width".loc()),height:20},value:"_web_content_filter_Name:".loc(),textAlign:SC.ALIGN_RIGHT}),title:SC.TextFieldView.design({layout:{top:77,left:parseFloat("_web_content_filter_add_page_label_width".loc())+10,right:20,height:20},hint:"_hint_required".loc(),applyImmediately:YES}),bookmarkPathLabel:SC.LabelView.design({layout:{top:107,width:parseFloat("_web_content_filter_add_page_label_width".loc()),height:20
},value:"_web_content_filter_Bookmark Path:".loc(),textAlign:SC.ALIGN_RIGHT}),bookmarkPath:SC.TextFieldView.design({layout:{top:107,left:parseFloat("_web_content_filter_add_page_label_width".loc())+10,right:20,height:20},hint:"_generic_string_optional".loc(),applyImmediately:YES}),cancelButtonView:SC.ButtonView.design({layout:{right:140,bottom:10,width:100,height:27},title:"_generic_string_Cancel".loc(),action:function(){this.set("uRLValue",""),this.set("nameValue",""),this.set("bookmarkPathValue","");var e=Admin.WebContentFilterBookmarkPage.get("addWebContentBookmarkSheet");e.remove()},uRLValueBinding:".owner.URL.value",nameValueBinding:".owner.title.value",bookmarkPathValueBinding:".owner.bookmarkPath.value"}),okButtonView:SC.ButtonView.design({layout:{right:20,bottom:10,width:100,height:27},isDefault:YES,isEnabled:function(){return this.get("uRLValue")&&this.get("nameValue")}.property("uRLValue","nameValue"),uRLValueBinding:".owner.URL.value",nameValueBinding:".owner.title.value",bookmarkPathValueBinding:".owner.bookmarkPath.value",title:"_generic_string_OK".loc(),action:function(){var e=Admin.WebContentFilterBookmarkPage.get("addWebContentBookmarkSheet");if(e.get("delegate")&&e.get("delegate").respondsTo("addBookmark")){var t={Title:this.get("nameValue"),URL:this.get("uRLValue"),BookmarkPath:this.get("bookmarkPathValue")};this.set("nameValue",""),this.set("uRLValue",""),this.set("bookmarkPathValue",""),e.get("delegate").addBookmark(t)}e.remove()}})})})}),typeof SC!="undefined"&&SC&&SC.Module&&SC.Module.scriptDidLoad&&SC.Module.scriptDidLoad("admin"),Admin.smtpSettingsPage=
SC.Page.create({smtpSettingsPane:SC.SheetPane.design({layout:{width:300,height:200},contentView:SC.View.design({childViews:"helper ok cancel".w(),helper:SC.LabelView.design({layout:{top:20,left:20,right:20,height:20},fontWeight:SC.BOLD_WEIGHT,isDecorative:YES,value:"_generic_string_Send Email".loc()}),ok:SC.ButtonView.design({layout:{bottom:15,right:20,width:100,height:27},isDefault:YES,title:"_generic_string_Send".loc(),isEnabled:function(){return NO}.property(),target:"Admin",action:"doNothing"}),cancel:SC.ButtonView.design({layout:{bottom:15,right:140,height:27,width:100},title:"_generic_string_Cancel".loc(),target:SC.outlet("owner.owner"),action:"remove"})})})}),Admin.systemItemsPage=SC.Page.create({systemItemsPicker:SC.SheetPane.create({layout:{top:0,width:520,height:280,centerX:0},contentView:SC.View.extend(CW.TouchApproximation,{childViews:"labelView filterName filterSpotlight filterNameCancelButton scrollView noItemView addVisibleButton doneButton".w(),labelView:SC.LabelView.design({layout:{top:15,left:20,height:20,right:190},isDecorative:YES,value:function(e,t){return"_add_members_label_view_value".loc(this.recipientName)}.property("recipientName").cacheable(),recipientNameBinding:"Admin.allSystemItemsPickerController.recipientName",fontWeight:SC.BOLD_WEIGHT}),filterName:SC.TextFieldView.design({layout:{top:15,right:20,width:150,height:20},classNames:"admin-members-picker-filter".w(),hint:"_filter_hint".loc(),valueBinding:"Admin.systemItemsPickerController.searchString"}),filterSpotlight:SC.ImageView.design({layout:{top:19,right:152,width:13,height:13},isDecorative:
YES,value:"admin-members-picker-filter-spotlight"}),filterNameCancelButton:SC.ButtonView.design({layout:{width:13,height:14,top:17,right:25},isVisibleBinding:".owner.filterName.value",renderStyle:"renderImage",themeName:"blank",icon:"admin-members-picker-filter-cancel-button",action:function(){this.getPath("owner.filterName").set("value","").commitEditing()}}),noItemView:Admin.NoItemView.design(SC.Border,{isVisible:function(){return this.get("resultsFilteringItemSelectionStatus")&SC.Record.READY?this.get("resultsFilteringItemSelectionHasNoLength"):YES}.property("resultsFilteringItemSelectionHasNoLength","resultsFilteringItemSelectionStatus"),resultsFilteringItemSelectionHasNoLengthBinding:SC.Binding.not("Admin.systemItemsPickerController.results.length"),resultsFilteringItemSelectionStatusBinding:"Admin.systemItemsPickerController.results.status",layout:{bottom:55,left:20,right:20,top:45},contentTypeBinding:"Admin.allSystemItemsPickerController.searchContentType",statusBinding:"Admin.systemItemsPickerController.results.status",isTruncationIndicator:NO,searchStringBinding:"Admin.systemItemsPickerController.searchString"}),scrollView:SC.ScrollView.design(SC.Border,{layout:{bottom:60,left:20,right:20,top:45},contentView:SC.ListView.design({contentBinding:"Admin.systemItemsPickerController.results",classNames:["admin-background-color-white"],rowHeight:32,isSelectable:NO,useFastPath:YES,exampleView:Admin.MembersPickerExampleView.extend({forSystemItems:YES,addAction:"addSystemItemsFromPicker",removeAction:"removeSystemItemsFromPicker"})})}),addVisibleButton:SC.ButtonView.design({layout
:{bottom:20,left:20,height:27,width:0+parseFloat("_layout_add_all_and_add_visible_button_width".loc())},title:function(e,t){return this.get("hasSearchString")?"_members_picker_add_results_button".loc():"_members_picker_add_all_button".loc()}.property("hasSearchString"),hasSearchStringBinding:"Admin.systemItemsPickerController.searchString",target:"Admin",action:"addVisibleSystemItemsFromMembersPicker"}),doneButton:SC.ButtonView.design({layout:{bottom:20,right:20,height:27,width:0+parseFloat("_system_items_picker_done_button_width".loc())},title:"_generic_string_Done".loc(),target:"Admin",action:"removeSystemItemsPicker"})})})}),Admin.SortItemView=SC.ButtonView.extend({themeName:"none",titleBinding:".value",target:"Admin",action:"sortTasks"}),Admin.TasksView=SC.View.extend({childViews:["scrollView","noItemView"],scrollView:SC.ScrollView.design({isVisible:function(){return this.get("targetTasksLength")>0}.property("targetTasksLength"),targetTasksLengthBinding:".owner*content.length",contentView:SC.ListView.design({classNames:["task-device-list-view","admin-background-color-white"],contentBinding:".owner.owner.owner.content",hasContentIcon:YES,contentIconKey:"mediumIcon",canDeleteContent:YES,rowHeight:30,exampleView:Admin.TaskListItemView,isEnabled:YES,isSelectable:YES,target:"Admin",action:"changeRoute"})}),noItemView:Admin.NoItemView.design({isVisible:function(){return this.get("targetTasksLength")===0}.property("targetTasksLength"),targetTasksLengthBinding:".owner*content.length",contentType:"activity",searchString:"",isTruncationIndicator:NO})}),Admin.tasksPage=SC.Page.design
({tasksForLibraryItem:Admin.TasksView.design({contentBinding:SC.Binding.oneWay("Admin.itemSelectionController.tasksForLibraryItem")}),targetTasks:Admin.TasksView.design({contentBinding:SC.Binding.oneWay("Admin.itemSelectionController.targetTasks")})}),Admin.uploadPage=SC.Page.create({uploadPane:SC.PanelPane.create({filename:"",fileTypeIcon:"pm-upload-generic-document-icon",layout:{centerX:0,centerY:0,height:85,width:400},contentView:SC.View.design({childViews:"headerView filetypeIconView filenameView progressView".w(),headerView:Admin.BoldLabelView.design({classNames:"pm-upload-header",layout:{height:20},textAlign:SC.ALIGN_CENTER,value:"_appName".loc()}),filetypeIconView:Admin.ImageView.design({layout:{width:32,height:32,top:35,left:25},valueBinding:".owner.owner.fileTypeIcon"}),filenameView:SC.LabelView.design({layout:{left:67,top:35,height:20},value:function(){return"_uploading_filename".loc(this.get("filename")&&this.get("filename").split("\\").pop())}.property("filename"),filenameBinding:".owner.owner.filename",measuredSizeObserver:function(){var e=this.get("measuredSize");this.setPath("owner.owner.labelWidth",e.width)}.observes("measuredSize")}),progressView:SC.ProgressView.design({isIndeterminate:YES,isRunning:YES,classNames:"pm-progress-bar",layout:{left:67,top:55,right:25,height:10}})})})}),Admin.usageAutoJoinPage=SC.Page.create({usageAutoJoin:SC.View.design({childViews:"description scrollView".w(),classNames:["admin-background-color-white"],description:SC.LabelView.design({layout:{top:5,left:20,right:20,height:20},value:"_usage_auto_join_description".loc()}),scrollView
:SC.ScrollView.design(SC.Border,{borderStyle:SC.BORDER_TOP,layout:{top:25,left:0,right:0,bottom:0},classNames:["admin-background-color-white"],contentView:SC.ListView.design({contentBinding:SC.Binding.oneWay("Admin.itemSelectionController.usageLogThatCanBeBoundTo"),rowHeight:30,exampleView:SC.View.design({childViews:"smallIcon displayName owrOwnTimestamp".w(),smallIcon:SC.ImageView.design({layout:{centerY:0,left:5,width:16,height:16},isDecorative:YES,value:function(e,t){if(t!==undefined)throw SC.$error("read only!");var n=this.get("product");return SC.none(n)?"macintosh".toLowerCase().replace(",","_")+"-16":Admin.validDevices.indexOf(n)>=0?n.toLowerCase().replace(",","_")+"-16":(n=n.split(/\d/)[0],Admin.validDevices.indexOf(n)>=0?n.toLowerCase().replace(",","_")+"-16":"macintosh".toLowerCase().replace(",","_")+"-16")}.property("product"),productBinding:".owner.content.ProductName"}),displayName:SC.LabelView.design({layout:{centerY:0,left:26,width:150,height:17},isDecorative:YES,valueBinding:".owner.content.DeviceName"}),owrOwnTimestamp:SC.LabelView.design({layout:{centerY:0,left:180,width:190,height:20},isDecorative:YES,value:function(e,t){if(t!==undefined)throw SC.$error("read only!");return this.get("ourOwnTimestamp")&&SC.DateTime.parse(this.get("ourOwnTimestamp"),SC.DateTime.recordFormat).toTimezone(Admin.TIMEZONE).toFormattedString("_task_updated_at_formatted_string".loc())}.property("ourOwnTimestamp"),ourOwnTimestampBinding:".owner.content.created_at"})})})})})}),Admin.UserGroupsPickerPage=SC.Page.create({groupsPickerSheet:SC.SheetPane.create({layout:{width:660,height:Admin
.DirectoryItemPickerContentViewHeight,centerX:0},contentView:Admin.DirectoryItemPickerContentView.design({listContentBinding:"Admin.UserGroupsPickerTableViewController.arrangedObjects",searchStringBinding:"Admin.FilteredVppUserGroupsController.searchString",searchHint:"_search_hint_Search Groups".loc(),contentType:"vpp_user_group",isTruncationIndicatorBinding:"Admin.UserGroupsPickerTableViewController.containsTruncationIndicator",usersLengthBinding:"Admin.UserGroupsPickerTableViewController.length",noItemViewVisible:function(e,t){return this.get("isTruncationIndicator")||this.get("usersLength")===0}.property("isTruncationIndicator","usersLength").cacheable()})})}),Admin.UsersPickerPage=SC.Page.create({usersPickerSheet:SC.SheetPane.create({layout:{width:660,height:Admin.DirectoryItemPickerContentViewHeight,centerX:0},contentView:Admin.DirectoryItemPickerContentView.design({headerIcon:"admin-icon-user-64",headerLabelText:"_generic_string_Choose users".loc(),headerDescriptionText:"_assign_users_to_app_description".loc(),listContentBinding:"Admin.UsersPickerTableViewController.arrangedObjects",cancelAction:"hideDirectoryItemPicker",saveAction:"assignVppContentToUsers",tableViewColumns:[SC.Object.create(SCTable.Column,{name:"",valueKey:"checkbox",width:.1,canResize:NO}),SC.Object.create(SCTable.Column,{name:"_generic_string_User".loc(),valueKey:"displayName",width:.9,canResize:NO})],searchStringBinding:"Admin.FilteredUsersController.searchString",searchHint:"_search_hint_Search Users".loc(),contentType:"user",isTruncationIndicatorBinding:"Admin.UsersPickerTableViewController.containsTruncationIndicator"
,usersLengthBinding:"Admin.UsersPickerTableViewController.length",noItemViewVisible:function(e,t){return this.get("isTruncationIndicator")||this.get("usersLength")===0}.property("isTruncationIndicator","usersLength").cacheable()})})}),Admin.unifiedAppDetailPage=SC.Page.design({unifiedAppDetailView:SC.ContainerView.design({infoFetchStatusBinding:SC.Binding.oneWay("Admin.VppContentDetailController.additionalDataFromItunesStoreFetched"),itunesInfoAvailableBinding:SC.Binding.oneWay("Admin.VppContentDetailController.itunesInfoAvailable"),nowShowing:function(){var e="loadingView";return this.get("infoFetchStatus")&&(e=this.get("itunesInfoAvailable")?"appDetailView":"iTunesInfoUnavailableView"),e}.property("infoFetchStatus","itunesInfoAvailable")}),loadingView:SC.LabelView.design({layout:{centerX:0,centerY:0,width:300,height:20},value:"_generic_string_Loading Application Information...".loc(),infoFetchStatusBinding:SC.Binding.oneWay("Admin.VppContentDetailController.additionalDataFromItunesStoreFetched"),isVisible:function(e,t){return!this.get("infoFetchStatus")}.property("infoFetchStatus")}),iTunesInfoUnavailableView:SC.View.design({itunesInfoAvailableBinding:SC.Binding.oneWay("Admin.VppContentDetailController.itunesInfoAvailable"),isVisible:function(e,t){return!this.get("itunesInfoAvailable")}.property("itunesInfoAvailable"),classNames:["admin-background-color-white"],childViews:["backToAppLibraryView","iTunesInfoUnavailableLabelView"],backToAppLibraryView:SC.ButtonView.design({classNames:"vpp-content-detail-go-back".w(),layout:{left:50,top:10,width:130,height:20},themeName:"blank"
,target:"Admin",action:"goBackFromAppDetailView",title:"_generic_string_Go back".loc()}),iTunesInfoUnavailableLabelView:Admin.BoxedLabelView.design({layout:{top:40},label:"_application_detail_unavailable_from_itunes_store".loc(),labelLayout:{centerX:0,centerY:0,height:36,width:270},boxLayout:{centerX:0,centerY:0,height:96,width:272}})}),appDetailView:SC.ScrollView.design({classNames:["admin-background-color-white"],contentView:SC.View.design({layout:function(){var e=this.get("descriptionViewHeight")||0;return{top:0,left:0,right:0,height:700+e}}.property("descriptionViewHeight").cacheable(),descriptionViewHeightBinding:".rightContainer.descriptionViewHeight",childViews:["backToAppLibraryView","gradientBackgroundView","artWorkView","leftDetailView","rightContainer"],backToAppLibraryView:SC.ButtonView.design({classNames:"vpp-content-detail-go-back".w(),layout:{left:50,top:10,width:130,height:20},themeName:"blank",target:"Admin",action:"goBackFromAppDetailView",title:"_generic_string_Go back".loc()}),gradientBackgroundView:SC.View.design({classNames:"app-detail-gradient-bg".w(),layout:{top:115,left:0,height:100}}),artWorkView:SC.ImageView.design({classNames:"admin-vpp-app-icon".w(),layout:{top:35,left:35,width:160,height:160},useCanvas:NO,valueBinding:SC.Binding.oneWay("Admin.VppContentDetailController.artworkUrl")}),leftDetailView:SC.View.design({layout:{top:215,left:35,width:0+parseFloat("_layout_vpp_content_left_detail_view_width".loc())},useStaticLayout:YES,childViews:["designedForView","_spacerView","viewInAppStore","developerWebsite","vppWebsite","category","updated","version"
,"size"],designedForView:SC.LabelView.design({classNames:"admin-vpp-content-detail-designedfor".w(),useStaticLayout:YES,isVisibleBinding:"Admin.VppContentDetailController.designedForiPhoneAndiPad",value:"_generic_string_This app is designed for both iPhone and iPad".loc()}),_spacerView:SC.View.design({useStaticLayout:YES,layout:{height:20}}),viewInAppStore:SC.ButtonView.design({classNames:"admin-vpp-content-store-buttons".w(),useStaticLayout:YES,themeName:"blank",title:"_generic_string_View in App Store".loc(),target:"Admin",action:"viewVppContentInAppStore"}),developerWebsite:SC.ButtonView.design({classNames:"admin-vpp-content-store-buttons".w(),useStaticLayout:YES,themeName:"blank",title:"_generic_string_Developer Website".loc(),target:"Admin",action:"viewVppContentDeveloperWebsite"}),vppWebsite:SC.ButtonView.design({classNames:"admin-vpp-content-store-buttons".w(),useStaticLayout:YES,themeName:"blank",title:"_generic_string_VPP Website".loc(),target:"Admin",action:"goToVPPPortal"}),category:SC.LabelView.design({useStaticLayout:YES,classNames:"admin-vpp-content-detail-info".w(),categoryValueBinding:SC.Binding.oneWay("Admin.VppContentDetailController.category"),value:function(e,t){return"_generic_string_Category: %@".loc(this.get("categoryValue"))}.property("categoryValue")}),updated:SC.LabelView.design({useStaticLayout:YES,classNames:"admin-vpp-content-detail-info".w(),updatedValueBinding:SC.Binding.oneWay("Admin.VppContentDetailController.updated"),value:function(e,t){return"_generic_string_Updated: %@".loc(this.get("updatedValue"))}.property("updatedValue")}),version:SC.
LabelView.design({useStaticLayout:YES,classNames:"admin-vpp-content-detail-info".w(),versionValueBinding:SC.Binding.oneWay("Admin.VppContentDetailController.version"),value:function(e,t){return"_generic_string_Version: %@".loc(this.get("versionValue"))}.property("versionValue")}),size:SC.LabelView.design({useStaticLayout:YES,classNames:"admin-vpp-content-detail-info".w(),sizeDisplayValueBinding:SC.Binding.oneWay("Admin.VppContentDetailController.sizeDisplayValue"),value:function(e,t){return"_generic_string_Size: %@".loc(this.get("sizeDisplayValue"))}.property("sizeDisplayValue")})}),rightContainer:SC.View.design({layout:function(){var e=this.get("descriptionViewHeight")||0;return{left:55+parseFloat("_layout_vpp_content_left_detail_view_width".loc()),height:700+e}}.property("descriptionViewHeight").cacheable(),childViews:["appNameView","sellerNameView","descriptionTitleView","descriptionView","assignmentView","licenseCountView"],appNameView:SC.LabelView.design({classNames:"app-detail-app-name".w(),layout:{top:35,width:400,height:40},valueBinding:SC.Binding.oneWay("Admin.VppContentDetailController.name")}),sellerNameView:SC.LabelView.design({classNames:"app-detail-seller-name".w(),layout:{top:75,width:400,height:25},valueBinding:SC.Binding.oneWay("Admin.VppContentDetailController.sellerName")}),descriptionTitleView:SC.LabelView.design({classNames:"app-detail-description-title".w(),layout:{top:130,width:150,height:30},value:"_generic_string_Description".loc()}),descriptionViewHeightBinding:SC.Binding.oneWay(".descriptionView.descriptionViewHeight"),descriptionView:SC.View.design
({layout:{top:170,minWidth:580,right:50},descriptionViewHeight:125,childViews:"descriptionTextView moreButtonView lessButtonView".w(),isCompleteInfoVisible:NO,showCompleteInfo:function(){this.set("isCompleteInfoVisible",!0)},hideCompleteInfo:function(){this.set("isCompleteInfoVisible",!1)},descriptionTextView:SC.LabelView.design(SC.AutoResize,{classNames:"app-detail-description".w(),layout:function(e,t){if(t!==undefined)throw SC.$error("layout is ready only for %@".fmt(this.constructor));var n=this.get("measuredSize"),r=this.get("isCompleteInfoVisible"),i=r?n.height:105;return i&&this.setPath("owner.descriptionViewHeight",i+20),{minWidth:580,height:i}}.property("isCompleteInfoVisible","measuredSize").cacheable(),isCompleteInfoVisibleBinding:".owner.isCompleteInfoVisible",shouldResizeWidth:NO,shouldResizeHeight:NO,valueBinding:SC.Binding.oneWay("Admin.VppContentDetailController.description")}),moreButtonView:SC.ButtonView.design({classNames:"admin-vpp-detail-more-less".w(),descriptionViewHeightBinding:SC.Binding.oneWay(".owner.descriptionViewHeight"),layout:function(e,t){if(t!==undefined)throw SC.$error("layout is ready only for %@".fmt(this.constructor));var n=this.get("descriptionViewHeight")||0;return{top:n-20,width:130,height:20,right:0}}.property("descriptionViewHeight").cacheable(),title:"_view_more_info_...More".loc(),themeName:"blank",isVisibleBinding:SC.Binding.oneWay(".owner.isCompleteInfoVisible").not(),target:SC.outlet("owner"),action:"showCompleteInfo"}),lessButtonView:SC.ButtonView.design({classNames:"admin-vpp-detail-more-less".w(),descriptionViewHeightBinding:
SC.Binding.oneWay(".owner.descriptionViewHeight"),layout:function(e,t){if(t!==undefined)throw SC.$error("layout is ready only for %@".fmt(this.constructor));var n=this.get("descriptionViewHeight")||0;return{top:n-20,width:130,height:20,right:0}}.property("descriptionViewHeight").cacheable(),title:"_view_more_info_...Less".loc(),themeName:"blank",isVisibleBinding:SC.Binding.oneWay(".owner.isCompleteInfoVisible"),target:SC.outlet("owner"),action:"hideCompleteInfo"})}),assignmentView:SC.View.design({childViews:"assignmentTitleView assignmentToolbarView groupsTableView usersTableView".w(),descriptionViewHeightBinding:".owner.descriptionViewHeight",layout:function(e,t){if(t!==undefined)throw SC.$error("layout is ready only for %@".fmt(this.constructor));var n=this.get("descriptionViewHeight")||0;return{top:170+n+15,minWidth:580,right:50}}.property("descriptionViewHeight").cacheable(),assignmentTitleView:SC.LabelView.design({classNames:"app-detail-description-title".w(),layout:{top:0,left:0,width:150,height:30},value:"_generic_string_Assignment".loc()}),groupsUsersSelectedValueBinding:"Admin.VppContentDetailController.selectedDirectoryItemTab",assignmentToolbarView:SC.View.design({classNames:"admin-vpp-detail-page-toolbar".w(),childViews:"editButtonView groupsUsersSegementView groupsSearchFieldView usersSearchFieldView".w(),layout:{top:40,left:0,height:25},editButtonView:SC.ButtonView.design({layout:{centerY:0,left:5,width:50,height:19},controlSize:SC.TINY_CONTROL_SIZE,title:"_generic_string_Edit".loc(),target:"Admin",action:"showDirectoryItemPickerPage"}),selectAllButtonView:SC.ButtonView
.design({layout:{left:5,height:20,width:33},icon:"admin-select-all-button",themeName:"blank",target:"Admin",action:"toggleAllSelectionAssignedDirectoryItems"}),assignButtonView:SC.ButtonView.design({layout:{left:43,height:20,width:16},icon:"admin-add-vpp-content-button",themeName:"blank",target:"Admin",action:"showDirectoryItemPickerPage"}),removeButtonView:SC.ButtonView.design({layout:{left:64,height:20,width:16},icon:"admin-remove-vpp-content-button",themeName:"blank",target:"Admin",action:"unAssignSelectedDirectoryItems"}),groupsUsersSegementView:SC.SegmentedView.design({controlSize:SC.TINY_CONTROL_SIZE,layout:{centerY:0,centerX:0,height:19,width:200},itemTitleKey:"title",itemValueKey:"value",items:[{title:"_generic_string_Groups".loc(),value:"groups"},{title:"_generic_string_Users".loc(),value:"users"}],valueBinding:".owner.owner.groupsUsersSelectedValue"}),groupsSearchFieldView:SC.View.design({groupsUsersSelectedValueBinding:".owner.owner.groupsUsersSelectedValue",isVisible:function(e,t){return this.get("groupsUsersSelectedValue")==="groups"}.property("groupsUsersSelectedValue"),layout:{right:5,width:200},childViews:"searchFieldImage searchField searchFieldCancelButton".w(),searchFieldImage:SC.ImageView.design({layout:{right:1,top:2,width:190,height:20},value:"admin-filterbar-search-box-2x"}),searchFieldDisabledImage:SC.ImageView.design({layout:{right:1,centerY:0,width:190,height:24},value:"admin-toolbar-search-box-disabled"}),searchField:SC.TextFieldView.design({classNames:"admin-toolbar-search-field admin-filterbar-search-field".w(),themeName:"blank",applyImmediately:
YES,layout:{width:159,height:16,top:3,right:11},hint:"_search_hint_Search Groups".loc(),valueBinding:"Admin.VppContentAssignedGroupsFilter.searchString"}),searchFieldCancelButton:SC.ButtonView.design({layout:{width:15,height:15,top:4,right:5},isVisibleBinding:".owner.searchField.value",renderStyle:"renderImage",themeName:"blank",icon:"admin-filterbar-search-field-cancel-button-2x",action:function(){this.getPath("owner.searchField").set("value","").commitEditing()}})}),usersSearchFieldView:SC.View.design({groupsUsersSelectedValueBinding:".owner.owner.groupsUsersSelectedValue",isVisible:function(e,t){return this.get("groupsUsersSelectedValue")==="users"}.property("groupsUsersSelectedValue"),layout:{right:5,width:200},childViews:"searchFieldImage searchField searchFieldCancelButton".w(),searchFieldImage:SC.ImageView.design({layout:{right:1,top:2,width:190,height:20},value:"admin-filterbar-search-box-2x"}),searchFieldDisabledImage:SC.ImageView.design({layout:{right:1,centerY:0,width:190,height:24},value:"admin-toolbar-search-box-disabled"}),searchField:SC.TextFieldView.design({classNames:"admin-toolbar-search-field admin-filterbar-search-field".w(),themeName:"blank",applyImmediately:YES,layout:{width:159,height:16,top:3,right:11},hint:"_search_hint_Search Users".loc(),valueBinding:"Admin.VppContentAssignedUsersFilter.searchString"}),searchFieldCancelButton:SC.ButtonView.design({layout:{width:15,height:15,top:4,right:5},isVisibleBinding:".owner.searchField.value",renderStyle:"renderImage",themeName:"blank",icon:"admin-filterbar-search-field-cancel-button-2x",action:function(){this
.getPath("owner.searchField").set("value","").commitEditing()}})})}),groupsTableView:SCTable.TableView.design({classNames:"sctable-table-view small-row-height admin-vpp-detail-page-list".w(),groupsUsersSelectedValueBinding:".owner.groupsUsersSelectedValue",isVisible:function(e,t){return this.get("groupsUsersSelectedValue")==="groups"}.property("groupsUsersSelectedValue"),layout:{top:65,left:0,bottom:45},headerHeight:17,rowHeight:20,columns:[SC.Object.create(SCTable.Column,{name:"_generic_string_User Group".loc(),valueKey:"displayName",width:.5,canResize:NO}),SC.Object.create(SCTable.Column,{name:"_generic_string_Users".loc(),valueKey:"totalUsers",width:.25,canResize:NO})],contentBinding:"Admin.FilteredAssignedGroupsForVppContentController.arrangedObjects",selectionBinding:"Admin.FilteredAssignedGroupsForVppContentController.selection",showAlternatingRows:YES,canReorderColumns:NO}),usersTableView:SCTable.TableView.design({classNames:"sctable-table-view small-row-height admin-vpp-detail-page-list".w(),groupsUsersSelectedValueBinding:".owner.groupsUsersSelectedValue",isVisible:function(e,t){return this.get("groupsUsersSelectedValue")==="users"}.property("groupsUsersSelectedValue"),layout:{top:65,left:0,bottom:45},headerHeight:17,rowHeight:20,columns:[SC.Object.create(SCTable.Column,{name:"_generic_string_User".loc(),valueKey:"displayName",width:"100%",canResize:NO})],contentBinding:"Admin.FilteredAssignedUsersForVppContentController.arrangedObjects",selectionBinding:"Admin.FilteredAssignedUsersForVppContentController.selection",showAlternatingRows:YES,canReorderColumns:NO})}),licenseCountView
:SC.View.design({classNames:"app-detail-license-info".w(),childViews:"totalLicenseView availableLicenseView".w(),totalLicenseViewWidthBinding:SC.Binding.oneWay(".totalLicenseView.measuredWidth"),availableLicenseViewWidthBinding:SC.Binding.oneWay(".availableLicenseView.measuredWidth"),layout:function(e,t){if(t!==undefined)throw SC.$error("layout is ready only for %@".fmt(this.constructor));return{top:35,right:30,height:50,width:this.get("totalLicenseViewWidth")+this.get("availableLicenseViewWidth")}}.property("totalLicenseViewWidth","availableLicenseViewWidth").cacheable(),totalLicenseView:Admin.VppLicenseCountWithLabelView.design({licenseCountBinding:SC.Binding.oneWay("Admin.VppContentDetailController.purchasedLicenses"),label:"_generic_string_Purchased".loc()}),availableLicenseView:Admin.VppLicenseCountWithLabelView.design({layout:function(e,t){if(t!==undefined)throw SC.$error("layout is ready only for %@".fmt(this.constructor));return{right:0,width:this.get("measuredWidth")}}.property("measuredWidth").cacheable(),licenseCountBinding:SC.Binding.oneWay("Admin.VppContentDetailController.availableLicensesDisplayValue"),label:"_generic_string_Available_Licenses".loc()})})})})})}),Admin.GET_UPDATED_POLLING_RATE_INITIALLY=1,Admin.GET_UPDATED_POLLING_RATE_MAX=20,Admin.GET_UPDATED_POLLING_DECAY_FACTOR=1.5,Admin.GET_UPDATED_POLLING_RATE=Admin.GET_UPDATED_POLLING_RATE_INITIALLY,Admin.GET_UPDATED_POLLING_TIMEOUT=null,Admin.settingsDidChangeObject=SC.Object.create({settingsDidChange:function(){if(!Admin.getPath("settingsArray.length"))return;Admin.get("settingsArray").removeObserver("length"
,Admin.settingsDidChangeObject,"settingsDidChange"),Admin.set("settings",Admin.getPath("settingsArray.firstObject")),Admin.SettingsController.set("content",Admin.getPath("settingsArray.firstObject")),Admin.VERIFIED_LOGGED_IN_RAN||this.invokeLater(function(){Admin.verifiedLoggedInMain()})},meDidChange:function(){if(!Admin.getPath("meArray.length"))return;Admin.get("meArray").removeObserver("length",Admin.settingsDidChangeObject,"meDidChange"),Admin.set("me",Admin.getPath("meArray.firstObject")),Admin.get("me").get("name"),Admin.get("me").addObserver("seenAdmin",this,"meSeenAdminDidChange")},meSeenAdminDidChange:function(){if(Admin.getPath("me.seenAdmin")!==YES&&Admin.getPath("me.seenAdmin")!==NO)return;Admin.get("me").removeObserver("seenAdmin",this,"meSeenAdminDidChange")}}),Admin.main=function(){self!==top&&(top.location=self.location);if(window.location.pathname.match(/[A-Z]/)){window.location.pathname="/profilemanager/",Admin.NETWORK_NOT_AVAILABLE_SHOWING=YES;return}var t=parseFloat(SC.browser.version);if(SC.browser.isSafari&&t<531.21||SC.browser.isMozilla&&t<2||SC.browser.isOpera&&t<9.8||SC.browser.isIe&&t<9){SC.AlertPane.error("_browser_outdated_message".loc(),"_browser_outdated_description".loc(),null,"_browser_outdated_cancel".loc(),null);return}},SC.Event.add(window,"load",function(){SC.RunLoop.begin(),Admin.windowOnloadEventFired=!0,Admin.set("settingsArray",Admin.store.find(SC.Query.local("Admin.Settings",{rpcs:[["settings","get_settings"]],blocksUnload:NO}))),Admin.get("settingsArray").addObserver("status",Admin.settingsDidChangeObject,"settingsDidChange"),Admin.set
("meArray",Admin.store.find(SC.Query.remote("Admin.User",{rpcs:[["user","find_me"]],blocksUnload:NO}))),Admin.get("meArray").addObserver("length",Admin.settingsDidChangeObject,"meDidChange"),SC.RunLoop.end()}),Admin.VERIFIED_LOGGED_IN_RAN=NO,Admin.verifiedLoggedInMain=function(){Admin.VERIFIED_LOGGED_IN_RAN=YES,Admin.set("verticalMode",window.innerWidth<960),Admin.getPath("mainPage.mainPane").append(),Admin.loadInitialData(),Admin.makeFirstResponder(Admin.ItemDetailResponder),Admin.isReady=YES,Admin.routes.route(),Admin.set("UPLOAD_VIEW_CSRF_TOKEN",Admin.CSRF_TOKEN),Admin.periodicGetUpdated()},Admin.loadVppData=function(){Admin.store.dataSource.addRpcs([["unified_application","find_all"]],NO),Admin.store.dataSource.addRpcs([["unified_book","find_all"]],NO),Admin.store.dataSource.addRpcs([["preference_pane","find_all",{locale:"_locale".loc()}]],NO),Admin.AllUnifiedAppsController.set("content",Admin.store.find(SC.Query.local(Admin.UnifiedApplication))),Admin.AllUnifiedBooksController.set("content",Admin.store.find(SC.Query.local(Admin.UnifiedBook)))},Admin.loadInitialData=function(){Admin.loadVppData()},Admin.periodicGetUpdated=function(){SC.run(function(){Admin.store.dataSource.makeRequest(null,null,YES)})};